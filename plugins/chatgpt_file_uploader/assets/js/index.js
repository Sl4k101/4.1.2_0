var f8=Object.defineProperty;var d8=(t,n,a)=>n in t?f8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;var Ct=(t,n,a)=>(d8(t,typeof n!="symbol"?n+"":n,a),a),wh=(t,n,a)=>{if(!n.has(t))throw TypeError("Cannot "+a)};var ie=(t,n,a)=>(wh(t,n,"read from private field"),a?a.call(t):n.get(t)),Le=(t,n,a)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,a)},Qe=(t,n,a,c)=>(wh(t,n,"write to private field"),c?c.call(t,a):n.set(t,a),a),Pa=(t,n,a,c)=>({set _(u){Qe(t,n,u,a)},get _(){return ie(t,n,c)}}),Ue=(t,n,a)=>(wh(t,n,"access private method"),a);function p8(t,n){for(var a=0;a<n.length;a++){const c=n[a];if(typeof c!="string"&&!Array.isArray(c)){for(const u in c)if(u!=="default"&&!(u in t)){const m=Object.getOwnPropertyDescriptor(c,u);m&&Object.defineProperty(t,u,m.get?m:{enumerable:!0,get:()=>c[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function m8(t){var n=t.default;if(typeof n=="function"){var a=function(){return n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(c){var u=Object.getOwnPropertyDescriptor(t,c);Object.defineProperty(a,c,u.get?u:{enumerable:!0,get:function(){return t[c]}})}),a}var i2={exports:{}},Dr={},xt={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),x8=Symbol.for("react.portal"),b8=Symbol.for("react.fragment"),y8=Symbol.for("react.strict_mode"),v8=Symbol.for("react.profiler"),w8=Symbol.for("react.provider"),A8=Symbol.for("react.context"),S8=Symbol.for("react.forward_ref"),k8=Symbol.for("react.suspense"),E8=Symbol.for("react.memo"),C8=Symbol.for("react.lazy"),kg=Symbol.iterator;function T8(t){return t===null||typeof t!="object"?null:(t=kg&&t[kg]||t["@@iterator"],typeof t=="function"?t:null)}var s2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o2=Object.assign,c2={};function Co(t,n,a){this.props=t,this.context=n,this.refs=c2,this.updater=a||s2}Co.prototype.isReactComponent={};Co.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")};Co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l2(){}l2.prototype=Co.prototype;function V1(t,n,a){this.props=t,this.context=n,this.refs=c2,this.updater=a||s2}var j1=V1.prototype=new l2;j1.constructor=V1;o2(j1,Co.prototype);j1.isPureReactComponent=!0;var Eg=Array.isArray,u2=Object.prototype.hasOwnProperty,K1={current:null},h2={key:!0,ref:!0,__self:!0,__source:!0};function f2(t,n,a){var c,u={},m=null,h=null;if(n!=null)for(c in n.ref!==void 0&&(h=n.ref),n.key!==void 0&&(m=""+n.key),n)u2.call(n,c)&&!h2.hasOwnProperty(c)&&(u[c]=n[c]);var o=arguments.length-2;if(o===1)u.children=a;else if(1<o){for(var s=Array(o),i=0;i<o;i++)s[i]=arguments[i+2];u.children=s}if(t&&t.defaultProps)for(c in o=t.defaultProps,o)u[c]===void 0&&(u[c]=o[c]);return{$$typeof:il,type:t,key:m,ref:h,props:u,_owner:K1.current}}function F8(t,n){return{$$typeof:il,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function Y1(t){return typeof t=="object"&&t!==null&&t.$$typeof===il}function I8(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return n[a]})}var Cg=/\/+/g;function Ah(t,n){return typeof t=="object"&&t!==null&&t.key!=null?I8(""+t.key):n.toString(36)}function t0(t,n,a,c,u){var m=typeof t;(m==="undefined"||m==="boolean")&&(t=null);var h=!1;if(t===null)h=!0;else switch(m){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case il:case x8:h=!0}}if(h)return h=t,u=u(h),t=c===""?"."+Ah(h,0):c,Eg(u)?(a="",t!=null&&(a=t.replace(Cg,"$&/")+"/"),t0(u,n,a,"",function(i){return i})):u!=null&&(Y1(u)&&(u=F8(u,a+(!u.key||h&&h.key===u.key?"":(""+u.key).replace(Cg,"$&/")+"/")+t)),n.push(u)),1;if(h=0,c=c===""?".":c+":",Eg(t))for(var o=0;o<t.length;o++){m=t[o];var s=c+Ah(m,o);h+=t0(m,n,a,s,u)}else if(s=T8(t),typeof s=="function")for(t=s.call(t),o=0;!(m=t.next()).done;)m=m.value,s=c+Ah(m,o++),h+=t0(m,n,a,s,u);else if(m==="object")throw n=String(t),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return h}function Sl(t,n,a){if(t==null)return t;var c=[],u=0;return t0(t,c,"","",function(m){return n.call(a,m,u++)}),c}function O8(t){if(t._status===-1){var n=t._result;n=n(),n.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=n)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},n0={transition:null},P8={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:n0,ReactCurrentOwner:K1};Gt.Children={map:Sl,forEach:function(t,n,a){Sl(t,function(){n.apply(this,arguments)},a)},count:function(t){var n=0;return Sl(t,function(){n++}),n},toArray:function(t){return Sl(t,function(n){return n})||[]},only:function(t){if(!Y1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gt.Component=Co;Gt.Fragment=b8;Gt.Profiler=v8;Gt.PureComponent=V1;Gt.StrictMode=y8;Gt.Suspense=k8;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P8;Gt.cloneElement=function(t,n,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var c=o2({},t.props),u=t.key,m=t.ref,h=t._owner;if(n!=null){if(n.ref!==void 0&&(m=n.ref,h=K1.current),n.key!==void 0&&(u=""+n.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(s in n)u2.call(n,s)&&!h2.hasOwnProperty(s)&&(c[s]=n[s]===void 0&&o!==void 0?o[s]:n[s])}var s=arguments.length-2;if(s===1)c.children=a;else if(1<s){o=Array(s);for(var i=0;i<s;i++)o[i]=arguments[i+2];c.children=o}return{$$typeof:il,type:t.type,key:u,ref:m,props:c,_owner:h}};Gt.createContext=function(t){return t={$$typeof:A8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w8,_context:t},t.Consumer=t};Gt.createElement=f2;Gt.createFactory=function(t){var n=f2.bind(null,t);return n.type=t,n};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(t){return{$$typeof:S8,render:t}};Gt.isValidElement=Y1;Gt.lazy=function(t){return{$$typeof:C8,_payload:{_status:-1,_result:t},_init:O8}};Gt.memo=function(t,n){return{$$typeof:E8,type:t,compare:n===void 0?null:n}};Gt.startTransition=function(t){var n=n0.transition;n0.transition={};try{t()}finally{n0.transition=n}};Gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Gt.useCallback=function(t,n){return mr.current.useCallback(t,n)};Gt.useContext=function(t){return mr.current.useContext(t)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};Gt.useEffect=function(t,n){return mr.current.useEffect(t,n)};Gt.useId=function(){return mr.current.useId()};Gt.useImperativeHandle=function(t,n,a){return mr.current.useImperativeHandle(t,n,a)};Gt.useInsertionEffect=function(t,n){return mr.current.useInsertionEffect(t,n)};Gt.useLayoutEffect=function(t,n){return mr.current.useLayoutEffect(t,n)};Gt.useMemo=function(t,n){return mr.current.useMemo(t,n)};Gt.useReducer=function(t,n,a){return mr.current.useReducer(t,n,a)};Gt.useRef=function(t){return mr.current.useRef(t)};Gt.useState=function(t){return mr.current.useState(t)};Gt.useSyncExternalStore=function(t,n,a){return mr.current.useSyncExternalStore(t,n,a)};Gt.useTransition=function(){return mr.current.useTransition()};Gt.version="18.2.0";(function(t){t.exports=Gt})(xt);const za=g8(xt.exports),Tg=p8({__proto__:null,default:za},[xt.exports]);var d2={exports:{}},p2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(H,N){var U=H.length;H.push(N);e:for(;0<U;){var Y=U-1>>>1,_=H[Y];if(0<u(_,N))H[Y]=N,H[U]=_,U=Y;else break e}}function a(H){return H.length===0?null:H[0]}function c(H){if(H.length===0)return null;var N=H[0],U=H.pop();if(U!==N){H[0]=U;e:for(var Y=0,_=H.length,V=_>>>1;Y<V;){var Z=2*(Y+1)-1,q=H[Z],re=Z+1,oe=H[re];if(0>u(q,U))re<_&&0>u(oe,q)?(H[Y]=oe,H[re]=U,Y=re):(H[Y]=q,H[Z]=U,Y=Z);else if(re<_&&0>u(oe,U))H[Y]=oe,H[re]=U,Y=re;else break e}}return N}function u(H,N){var U=H.sortIndex-N.sortIndex;return U!==0?U:H.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var h=Date,o=h.now();t.unstable_now=function(){return h.now()-o}}var s=[],i=[],l=1,d=null,e=3,r=!1,p=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(H){for(var N=a(i);N!==null;){if(N.callback===null)c(i);else if(N.startTime<=H)c(i),N.sortIndex=N.expirationTime,n(s,N);else break;N=a(i)}}function w(H){if(x=!1,g(H),!p)if(a(s)!==null)p=!0,W(f);else{var N=a(i);N!==null&&J(w,N.startTime-H)}}function f(H,N){p=!1,x&&(x=!1,v(O),O=-1),r=!0;var U=e;try{for(g(N),d=a(s);d!==null&&(!(d.expirationTime>N)||H&&!F());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,e=d.priorityLevel;var _=Y(d.expirationTime<=N);N=t.unstable_now(),typeof _=="function"?d.callback=_:d===a(s)&&c(s),g(N)}else c(s);d=a(s)}if(d!==null)var V=!0;else{var Z=a(i);Z!==null&&J(w,Z.startTime-N),V=!1}return V}finally{d=null,e=U,r=!1}}var E=!1,A=null,O=-1,T=5,D=-1;function F(){return!(t.unstable_now()-D<T)}function C(){if(A!==null){var H=t.unstable_now();D=H;var N=!0;try{N=A(!0,H)}finally{N?B():(E=!1,A=null)}}else E=!1}var B;if(typeof b=="function")B=function(){b(C)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,I=M.port2;M.port1.onmessage=C,B=function(){I.postMessage(null)}}else B=function(){y(C,0)};function W(H){A=H,E||(E=!0,B())}function J(H,N){O=y(function(){H(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){p||r||(p=!0,W(f))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return e},t.unstable_getFirstCallbackNode=function(){return a(s)},t.unstable_next=function(H){switch(e){case 1:case 2:case 3:var N=3;break;default:N=e}var U=e;e=N;try{return H()}finally{e=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,N){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var U=e;e=H;try{return N()}finally{e=U}},t.unstable_scheduleCallback=function(H,N,U){var Y=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,H){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=U+_,H={id:l++,callback:N,priorityLevel:H,startTime:U,expirationTime:_,sortIndex:-1},U>Y?(H.sortIndex=U,n(i,H),a(s)===null&&H===a(i)&&(x?(v(O),O=-1):x=!0,J(w,U-Y))):(H.sortIndex=_,n(s,H),p||r||(p=!0,W(f))),H},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(H){var N=e;return function(){var U=e;e=N;try{return H.apply(this,arguments)}finally{e=U}}}})(p2);(function(t){t.exports=p2})(d2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=xt.exports,Rr=d2.exports;function At(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m2=new Set,Mc={};function ds(t,n){mo(t,n),mo(t+"Capture",n)}function mo(t,n){for(Mc[t]=n,t=0;t<n.length;t++)m2.add(n[t])}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gf=Object.prototype.hasOwnProperty,R8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fg={},Ig={};function M8(t){return gf.call(Ig,t)?!0:gf.call(Fg,t)?!1:R8.test(t)?Ig[t]=!0:(Fg[t]=!0,!1)}function D8(t,n,a,c){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L8(t,n,a,c){if(n===null||typeof n>"u"||D8(t,n,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function xr(t,n,a,c,u,m,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=t,this.type=n,this.sanitizeURL=m,this.removeEmptyString=h}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];jn[n]=new xr(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var J1=/[\-:]([a-z])/g;function Z1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(J1,Z1);jn[n]=new xr(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(J1,Z1);jn[n]=new xr(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(J1,Z1);jn[n]=new xr(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new xr(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q1(t,n,a,c){var u=jn.hasOwnProperty(n)?jn[n]:null;(u!==null?u.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L8(n,a,u,c)&&(a=null),c||u===null?M8(n)&&(a===null?t.removeAttribute(n):t.setAttribute(n,""+a)):u.mustUseProperty?t[u.propertyName]=a===null?u.type===3?!1:"":a:(n=u.attributeName,c=u.attributeNamespace,a===null?t.removeAttribute(n):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,c?t.setAttributeNS(c,n,a):t.setAttribute(n,a))))}var ei=g2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),q1=Symbol.for("react.strict_mode"),mf=Symbol.for("react.profiler"),x2=Symbol.for("react.provider"),b2=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),bf=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),y2=Symbol.for("react.offscreen"),Og=Symbol.iterator;function $o(t){return t===null||typeof t!="object"?null:(t=Og&&t[Og]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,Sh;function Vo(t){if(Sh===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Sh=n&&n[1]||""}return`
`+Sh+t}var kh=!1;function Eh(t,n){if(!t||kh)return"";kh=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var c=i}Reflect.construct(t,[],n)}else{try{n.call()}catch(i){c=i}t.call(n.prototype)}else{try{throw Error()}catch(i){c=i}t()}}catch(i){if(i&&c&&typeof i.stack=="string"){for(var u=i.stack.split(`
`),m=c.stack.split(`
`),h=u.length-1,o=m.length-1;1<=h&&0<=o&&u[h]!==m[o];)o--;for(;1<=h&&0<=o;h--,o--)if(u[h]!==m[o]){if(h!==1||o!==1)do if(h--,o--,0>o||u[h]!==m[o]){var s=`
`+u[h].replace(" at new "," at ");return t.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",t.displayName)),s}while(1<=h&&0<=o);break}}}finally{kh=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Vo(t):""}function N8(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=Eh(t.type,!1),t;case 11:return t=Eh(t.type.render,!1),t;case 1:return t=Eh(t.type,!0),t;default:return""}}function yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case Ws:return"Portal";case mf:return"Profiler";case q1:return"StrictMode";case xf:return"Suspense";case bf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b2:return(t.displayName||"Context")+".Consumer";case x2:return(t._context.displayName||"Context")+".Provider";case ep:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tp:return n=t.displayName||null,n!==null?n:yf(t.type)||"Memo";case si:n=t._payload,t=t._init;try{return yf(t(n))}catch{}}return null}function B8(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(n);case 8:return n===q1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v2(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $8(t){var n=v2(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),c=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,m=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){c=""+h,m.call(this,h)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(h){c=""+h},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function El(t){t._valueTracker||(t._valueTracker=$8(t))}function w2(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return t&&(c=v2(t)?t.checked?"true":"false":t.value),t=c,t!==a?(n.setValue(t),!0):!1}function J0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vf(t,n){var a=n.checked;return pn({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:t._wrapperState.initialChecked})}function Pg(t,n){var a=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;a=Ii(n.value!=null?n.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function A2(t,n){n=n.checked,n!=null&&Q1(t,"checked",n,!1)}function wf(t,n){A2(t,n);var a=Ii(n.value),c=n.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Af(t,n.type,a):n.hasOwnProperty("defaultValue")&&Af(t,n.type,Ii(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Rg(t,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,a||n===t.value||(t.value=n),t.defaultValue=n}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Af(t,n,a){(n!=="number"||J0(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var jo=Array.isArray;function io(t,n,a,c){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ii(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,c&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Sf(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(At(91));return pn({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mg(t,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(At(92));if(jo(a)){if(1<a.length)throw Error(At(93));a=a[0]}n=a}n==null&&(n=""),a=n}t._wrapperState={initialValue:Ii(a)}}function S2(t,n){var a=Ii(n.value),c=Ii(n.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),n.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function Dg(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function k2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kf(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?k2(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cl,E2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,c,u){MSApp.execUnsafeLocalFunction(function(){return t(n,a,c,u)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Cl=Cl||document.createElement("div"),Cl.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Cl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Dc(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U8=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(t){U8.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),gc[n]=gc[t]})});function C2(t,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||gc.hasOwnProperty(t)&&gc[t]?(""+n).trim():n+"px"}function T2(t,n){t=t.style;for(var a in n)if(n.hasOwnProperty(a)){var c=a.indexOf("--")===0,u=C2(a,n[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,u):t[a]=u}}var _8=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ef(t,n){if(n){if(_8[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(At(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(At(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(At(61))}if(n.style!=null&&typeof n.style!="object")throw Error(At(62))}}function Cf(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ff=null,so=null,oo=null;function Lg(t){if(t=cl(t)){if(typeof Ff!="function")throw Error(At(280));var n=t.stateNode;n&&(n=Uu(n),Ff(t.stateNode,t.type,n))}}function F2(t){so?oo?oo.push(t):oo=[t]:so=t}function I2(){if(so){var t=so,n=oo;if(oo=so=null,Lg(t),n)for(t=0;t<n.length;t++)Lg(n[t])}}function O2(t,n){return t(n)}function P2(){}var Ch=!1;function R2(t,n,a){if(Ch)return t(n,a);Ch=!0;try{return O2(t,n,a)}finally{Ch=!1,(so!==null||oo!==null)&&(P2(),I2())}}function Lc(t,n){var a=t.stateNode;if(a===null)return null;var c=Uu(a);if(c===null)return null;a=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(At(231,n,typeof a));return a}var If=!1;if(ja)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){If=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{If=!1}function H8(t,n,a,c,u,m,h,o,s){var i=Array.prototype.slice.call(arguments,3);try{n.apply(a,i)}catch(l){this.onError(l)}}var mc=!1,Z0=null,Q0=!1,Of=null,z8={onError:function(t){mc=!0,Z0=t}};function X8(t,n,a,c,u,m,h,o,s){mc=!1,Z0=null,H8.apply(z8,arguments)}function W8(t,n,a,c,u,m,h,o,s){if(X8.apply(this,arguments),mc){if(mc){var i=Z0;mc=!1,Z0=null}else throw Error(At(198));Q0||(Q0=!0,Of=i)}}function ps(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function M2(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Ng(t){if(ps(t)!==t)throw Error(At(188))}function G8(t){var n=t.alternate;if(!n){if(n=ps(t),n===null)throw Error(At(188));return n!==t?null:t}for(var a=t,c=n;;){var u=a.return;if(u===null)break;var m=u.alternate;if(m===null){if(c=u.return,c!==null){a=c;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===a)return Ng(u),t;if(m===c)return Ng(u),n;m=m.sibling}throw Error(At(188))}if(a.return!==c.return)a=u,c=m;else{for(var h=!1,o=u.child;o;){if(o===a){h=!0,a=u,c=m;break}if(o===c){h=!0,c=u,a=m;break}o=o.sibling}if(!h){for(o=m.child;o;){if(o===a){h=!0,a=m,c=u;break}if(o===c){h=!0,c=m,a=u;break}o=o.sibling}if(!h)throw Error(At(189))}}if(a.alternate!==c)throw Error(At(190))}if(a.tag!==3)throw Error(At(188));return a.stateNode.current===a?t:n}function D2(t){return t=G8(t),t!==null?L2(t):null}function L2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=L2(t);if(n!==null)return n;t=t.sibling}return null}var N2=Rr.unstable_scheduleCallback,Bg=Rr.unstable_cancelCallback,V8=Rr.unstable_shouldYield,j8=Rr.unstable_requestPaint,An=Rr.unstable_now,K8=Rr.unstable_getCurrentPriorityLevel,rp=Rr.unstable_ImmediatePriority,B2=Rr.unstable_UserBlockingPriority,q0=Rr.unstable_NormalPriority,Y8=Rr.unstable_LowPriority,$2=Rr.unstable_IdlePriority,Lu=null,Ea=null;function J8(t){if(Ea&&typeof Ea.onCommitFiberRoot=="function")try{Ea.onCommitFiberRoot(Lu,t,void 0,(t.current.flags&128)===128)}catch{}}var pa=Math.clz32?Math.clz32:q8,Z8=Math.log,Q8=Math.LN2;function q8(t){return t>>>=0,t===0?32:31-(Z8(t)/Q8|0)|0}var Tl=64,Fl=4194304;function Ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,n){var a=t.pendingLanes;if(a===0)return 0;var c=0,u=t.suspendedLanes,m=t.pingedLanes,h=a&268435455;if(h!==0){var o=h&~u;o!==0?c=Ko(o):(m&=h,m!==0&&(c=Ko(m)))}else h=a&~u,h!==0?c=Ko(h):m!==0&&(c=Ko(m));if(c===0)return 0;if(n!==0&&n!==c&&(n&u)===0&&(u=c&-c,m=n&-n,u>=m||u===16&&(m&4194240)!==0))return n;if((c&4)!==0&&(c|=a&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=c;0<n;)a=31-pa(n),u=1<<a,c|=t[a],n&=~u;return c}function e5(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t5(t,n){for(var a=t.suspendedLanes,c=t.pingedLanes,u=t.expirationTimes,m=t.pendingLanes;0<m;){var h=31-pa(m),o=1<<h,s=u[h];s===-1?((o&a)===0||(o&c)!==0)&&(u[h]=e5(o,n)):s<=n&&(t.expiredLanes|=o),m&=~o}}function Pf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U2(){var t=Tl;return Tl<<=1,(Tl&4194240)===0&&(Tl=64),t}function Th(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function sl(t,n,a){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-pa(n),t[n]=a}function n5(t,n){var a=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var u=31-pa(a),m=1<<u;n[u]=0,c[u]=-1,t[u]=-1,a&=~m}}function ap(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var c=31-pa(a),u=1<<c;u&n|t[c]&n&&(t[c]|=n),a&=~u}}var en=0;function _2(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var H2,ip,z2,X2,W2,Rf=!1,Il=[],vi=null,wi=null,Ai=null,Nc=new Map,Bc=new Map,ci=[],r5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $g(t,n){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Nc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(n.pointerId)}}function _o(t,n,a,c,u,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[u]},n!==null&&(n=cl(n),n!==null&&ip(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function a5(t,n,a,c,u){switch(n){case"focusin":return vi=_o(vi,t,n,a,c,u),!0;case"dragenter":return wi=_o(wi,t,n,a,c,u),!0;case"mouseover":return Ai=_o(Ai,t,n,a,c,u),!0;case"pointerover":var m=u.pointerId;return Nc.set(m,_o(Nc.get(m)||null,t,n,a,c,u)),!0;case"gotpointercapture":return m=u.pointerId,Bc.set(m,_o(Bc.get(m)||null,t,n,a,c,u)),!0}return!1}function G2(t){var n=Vi(t.target);if(n!==null){var a=ps(n);if(a!==null){if(n=a.tag,n===13){if(n=M2(a),n!==null){t.blockedOn=n,W2(t.priority,function(){z2(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function r0(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Mf(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Tf=c,a.target.dispatchEvent(c),Tf=null}else return n=cl(a),n!==null&&ip(n),t.blockedOn=a,!1;n.shift()}return!0}function Ug(t,n,a){r0(t)&&a.delete(n)}function i5(){Rf=!1,vi!==null&&r0(vi)&&(vi=null),wi!==null&&r0(wi)&&(wi=null),Ai!==null&&r0(Ai)&&(Ai=null),Nc.forEach(Ug),Bc.forEach(Ug)}function Ho(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,i5)))}function $c(t){function n(u){return Ho(u,t)}if(0<Il.length){Ho(Il[0],t);for(var a=1;a<Il.length;a++){var c=Il[a];c.blockedOn===t&&(c.blockedOn=null)}}for(vi!==null&&Ho(vi,t),wi!==null&&Ho(wi,t),Ai!==null&&Ho(Ai,t),Nc.forEach(n),Bc.forEach(n),a=0;a<ci.length;a++)c=ci[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<ci.length&&(a=ci[0],a.blockedOn===null);)G2(a),a.blockedOn===null&&ci.shift()}var co=ei.ReactCurrentBatchConfig,tu=!0;function s5(t,n,a,c){var u=en,m=co.transition;co.transition=null;try{en=1,sp(t,n,a,c)}finally{en=u,co.transition=m}}function o5(t,n,a,c){var u=en,m=co.transition;co.transition=null;try{en=4,sp(t,n,a,c)}finally{en=u,co.transition=m}}function sp(t,n,a,c){if(tu){var u=Mf(t,n,a,c);if(u===null)Bh(t,n,c,nu,a),$g(t,c);else if(a5(u,t,n,a,c))c.stopPropagation();else if($g(t,c),n&4&&-1<r5.indexOf(t)){for(;u!==null;){var m=cl(u);if(m!==null&&H2(m),m=Mf(t,n,a,c),m===null&&Bh(t,n,c,nu,a),m===u)break;u=m}u!==null&&c.stopPropagation()}else Bh(t,n,c,null,a)}}var nu=null;function Mf(t,n,a,c){if(nu=null,t=np(c),t=Vi(t),t!==null)if(n=ps(t),n===null)t=null;else if(a=n.tag,a===13){if(t=M2(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return nu=t,null}function V2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K8()){case rp:return 1;case B2:return 4;case q0:case Y8:return 16;case $2:return 536870912;default:return 16}default:return 16}}var pi=null,op=null,a0=null;function j2(){if(a0)return a0;var t,n=op,a=n.length,c,u="value"in pi?pi.value:pi.textContent,m=u.length;for(t=0;t<a&&n[t]===u[t];t++);var h=a-t;for(c=1;c<=h&&n[a-c]===u[m-c];c++);return a0=u.slice(t,1<c?1-c:void 0)}function i0(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ol(){return!0}function _g(){return!1}function Lr(t){function n(a,c,u,m,h){this._reactName=a,this._targetInst=u,this.type=c,this.nativeEvent=m,this.target=h,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(a=t[o],this[o]=a?a(m):m[o]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ol:_g,this.isPropagationStopped=_g,this}return pn(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),n}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=Lr(To),ol=pn({},To,{view:0,detail:0}),c5=Lr(ol),Fh,Ih,zo,Nu=pn({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(Fh=t.screenX-zo.screenX,Ih=t.screenY-zo.screenY):Ih=Fh=0,zo=t),Fh)},movementY:function(t){return"movementY"in t?t.movementY:Ih}}),Hg=Lr(Nu),l5=pn({},Nu,{dataTransfer:0}),u5=Lr(l5),h5=pn({},ol,{relatedTarget:0}),Oh=Lr(h5),f5=pn({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),d5=Lr(f5),p5=pn({},To,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g5=Lr(p5),m5=pn({},To,{data:0}),zg=Lr(m5),x5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v5(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=y5[t])?!!n[t]:!1}function lp(){return v5}var w5=pn({},ol,{key:function(t){if(t.key){var n=x5[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=i0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lp,charCode:function(t){return t.type==="keypress"?i0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?i0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A5=Lr(w5),S5=pn({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xg=Lr(S5),k5=pn({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lp}),E5=Lr(k5),C5=pn({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),T5=Lr(C5),F5=pn({},Nu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),I5=Lr(F5),O5=[9,13,27,32],up=ja&&"CompositionEvent"in window,xc=null;ja&&"documentMode"in document&&(xc=document.documentMode);var P5=ja&&"TextEvent"in window&&!xc,K2=ja&&(!up||xc&&8<xc&&11>=xc),Wg=String.fromCharCode(32),Gg=!1;function Y2(t,n){switch(t){case"keyup":return O5.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vs=!1;function R5(t,n){switch(t){case"compositionend":return J2(n);case"keypress":return n.which!==32?null:(Gg=!0,Wg);case"textInput":return t=n.data,t===Wg&&Gg?null:t;default:return null}}function M5(t,n){if(Vs)return t==="compositionend"||!up&&Y2(t,n)?(t=j2(),a0=op=pi=null,Vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return K2&&n.locale!=="ko"?null:n.data;default:return null}}var D5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!D5[t.type]:n==="textarea"}function Z2(t,n,a,c){F2(c),n=ru(n,"onChange"),0<n.length&&(a=new cp("onChange","change",null,a,c),t.push({event:a,listeners:n}))}var bc=null,Uc=null;function L5(t){cb(t,0)}function Bu(t){var n=Ys(t);if(w2(n))return t}function N5(t,n){if(t==="change")return n}var Q2=!1;if(ja){var Ph;if(ja){var Rh="oninput"in document;if(!Rh){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Rh=typeof jg.oninput=="function"}Ph=Rh}else Ph=!1;Q2=Ph&&(!document.documentMode||9<document.documentMode)}function Kg(){bc&&(bc.detachEvent("onpropertychange",q2),Uc=bc=null)}function q2(t){if(t.propertyName==="value"&&Bu(Uc)){var n=[];Z2(n,Uc,t,np(t)),R2(L5,n)}}function B5(t,n,a){t==="focusin"?(Kg(),bc=n,Uc=a,bc.attachEvent("onpropertychange",q2)):t==="focusout"&&Kg()}function $5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(Uc)}function U5(t,n){if(t==="click")return Bu(n)}function _5(t,n){if(t==="input"||t==="change")return Bu(n)}function H5(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var xa=typeof Object.is=="function"?Object.is:H5;function _c(t,n){if(xa(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var u=a[c];if(!gf.call(n,u)||!xa(t[u],n[u]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,n){var a=Yg(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=n&&c>=n)return{node:a,offset:n-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yg(a)}}function eb(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?eb(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function tb(){for(var t=window,n=J0();n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=J0(t.document)}return n}function hp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function z5(t){var n=tb(),a=t.focusedElem,c=t.selectionRange;if(n!==a&&a&&a.ownerDocument&&eb(a.ownerDocument.documentElement,a)){if(c!==null&&hp(a)){if(n=c.start,t=c.end,t===void 0&&(t=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(t,a.value.length);else if(t=(n=a.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var u=a.textContent.length,m=Math.min(c.start,u);c=c.end===void 0?m:Math.min(c.end,u),!t.extend&&m>c&&(u=c,c=m,m=u),u=Jg(a,m);var h=Jg(a,c);u&&h&&(t.rangeCount!==1||t.anchorNode!==u.node||t.anchorOffset!==u.offset||t.focusNode!==h.node||t.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),t.removeAllRanges(),m>c?(t.addRange(n),t.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),t.addRange(n)))}}for(n=[],t=a;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)t=n[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X5=ja&&"documentMode"in document&&11>=document.documentMode,js=null,Df=null,yc=null,Lf=!1;function Zg(t,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lf||js==null||js!==J0(c)||(c=js,"selectionStart"in c&&hp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yc&&_c(yc,c)||(yc=c,c=ru(Df,"onSelect"),0<c.length&&(n=new cp("onSelect","select",null,n,a),t.push({event:n,listeners:c}),n.target=js)))}function Pl(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ks={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},Mh={},nb={};ja&&(nb=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function $u(t){if(Mh[t])return Mh[t];if(!Ks[t])return t;var n=Ks[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in nb)return Mh[t]=n[a];return t}var rb=$u("animationend"),ab=$u("animationiteration"),ib=$u("animationstart"),sb=$u("transitionend"),ob=new Map,Qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,n){ob.set(t,n),ds(n,[t])}for(var Dh=0;Dh<Qg.length;Dh++){var Lh=Qg[Dh],W5=Lh.toLowerCase(),G5=Lh[0].toUpperCase()+Lh.slice(1);Di(W5,"on"+G5)}Di(rb,"onAnimationEnd");Di(ab,"onAnimationIteration");Di(ib,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(sb,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function qg(t,n,a){var c=t.type||"unknown-event";t.currentTarget=a,W8(c,n,void 0,t),t.currentTarget=null}function cb(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],u=c.event;c=c.listeners;e:{var m=void 0;if(n)for(var h=c.length-1;0<=h;h--){var o=c[h],s=o.instance,i=o.currentTarget;if(o=o.listener,s!==m&&u.isPropagationStopped())break e;qg(u,o,i),m=s}else for(h=0;h<c.length;h++){if(o=c[h],s=o.instance,i=o.currentTarget,o=o.listener,s!==m&&u.isPropagationStopped())break e;qg(u,o,i),m=s}}}if(Q0)throw t=Of,Q0=!1,Of=null,t}function cn(t,n){var a=n[_f];a===void 0&&(a=n[_f]=new Set);var c=t+"__bubble";a.has(c)||(lb(n,t,2,!1),a.add(c))}function Nh(t,n,a){var c=0;n&&(c|=4),lb(a,t,c,n)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Hc(t){if(!t[Rl]){t[Rl]=!0,m2.forEach(function(a){a!=="selectionchange"&&(V5.has(a)||Nh(a,!1,t),Nh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rl]||(n[Rl]=!0,Nh("selectionchange",!1,n))}}function lb(t,n,a,c){switch(V2(n)){case 1:var u=s5;break;case 4:u=o5;break;default:u=sp}a=u.bind(null,n,a,t),u=void 0,!If||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),c?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Bh(t,n,a,c,u){var m=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var h=c.tag;if(h===3||h===4){var o=c.stateNode.containerInfo;if(o===u||o.nodeType===8&&o.parentNode===u)break;if(h===4)for(h=c.return;h!==null;){var s=h.tag;if((s===3||s===4)&&(s=h.stateNode.containerInfo,s===u||s.nodeType===8&&s.parentNode===u))return;h=h.return}for(;o!==null;){if(h=Vi(o),h===null)return;if(s=h.tag,s===5||s===6){c=m=h;continue e}o=o.parentNode}}c=c.return}R2(function(){var i=m,l=np(a),d=[];e:{var e=ob.get(t);if(e!==void 0){var r=cp,p=t;switch(t){case"keypress":if(i0(a)===0)break e;case"keydown":case"keyup":r=A5;break;case"focusin":p="focus",r=Oh;break;case"focusout":p="blur",r=Oh;break;case"beforeblur":case"afterblur":r=Oh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=u5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=E5;break;case rb:case ab:case ib:r=d5;break;case sb:r=T5;break;case"scroll":r=c5;break;case"wheel":r=I5;break;case"copy":case"cut":case"paste":r=g5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=Xg}var x=(n&4)!==0,y=!x&&t==="scroll",v=x?e!==null?e+"Capture":null:e;x=[];for(var b=i,g;b!==null;){g=b;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,v!==null&&(w=Lc(b,v),w!=null&&x.push(zc(b,w,g)))),y)break;b=b.return}0<x.length&&(e=new r(e,p,null,a,l),d.push({event:e,listeners:x}))}}if((n&7)===0){e:{if(e=t==="mouseover"||t==="pointerover",r=t==="mouseout"||t==="pointerout",e&&a!==Tf&&(p=a.relatedTarget||a.fromElement)&&(Vi(p)||p[Ka]))break e;if((r||e)&&(e=l.window===l?l:(e=l.ownerDocument)?e.defaultView||e.parentWindow:window,r?(p=a.relatedTarget||a.toElement,r=i,p=p?Vi(p):null,p!==null&&(y=ps(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(r=null,p=i),r!==p)){if(x=Hg,w="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=Xg,w="onPointerLeave",v="onPointerEnter",b="pointer"),y=r==null?e:Ys(r),g=p==null?e:Ys(p),e=new x(w,b+"leave",r,a,l),e.target=y,e.relatedTarget=g,w=null,Vi(l)===i&&(x=new x(v,b+"enter",p,a,l),x.target=g,x.relatedTarget=y,w=x),y=w,r&&p)t:{for(x=r,v=p,b=0,g=x;g;g=Es(g))b++;for(g=0,w=v;w;w=Es(w))g++;for(;0<b-g;)x=Es(x),b--;for(;0<g-b;)v=Es(v),g--;for(;b--;){if(x===v||v!==null&&x===v.alternate)break t;x=Es(x),v=Es(v)}x=null}else x=null;r!==null&&em(d,e,r,x,!1),p!==null&&y!==null&&em(d,y,p,x,!0)}}e:{if(e=i?Ys(i):window,r=e.nodeName&&e.nodeName.toLowerCase(),r==="select"||r==="input"&&e.type==="file")var f=N5;else if(Vg(e))if(Q2)f=_5;else{f=$5;var E=B5}else(r=e.nodeName)&&r.toLowerCase()==="input"&&(e.type==="checkbox"||e.type==="radio")&&(f=U5);if(f&&(f=f(t,i))){Z2(d,f,a,l);break e}E&&E(t,e,i),t==="focusout"&&(E=e._wrapperState)&&E.controlled&&e.type==="number"&&Af(e,"number",e.value)}switch(E=i?Ys(i):window,t){case"focusin":(Vg(E)||E.contentEditable==="true")&&(js=E,Df=i,yc=null);break;case"focusout":yc=Df=js=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Zg(d,a,l);break;case"selectionchange":if(X5)break;case"keydown":case"keyup":Zg(d,a,l)}var A;if(up)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Vs?Y2(t,a)&&(O="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(O="onCompositionStart");O&&(K2&&a.locale!=="ko"&&(Vs||O!=="onCompositionStart"?O==="onCompositionEnd"&&Vs&&(A=j2()):(pi=l,op="value"in pi?pi.value:pi.textContent,Vs=!0)),E=ru(i,O),0<E.length&&(O=new zg(O,t,null,a,l),d.push({event:O,listeners:E}),A?O.data=A:(A=J2(a),A!==null&&(O.data=A)))),(A=P5?R5(t,a):M5(t,a))&&(i=ru(i,"onBeforeInput"),0<i.length&&(l=new zg("onBeforeInput","beforeinput",null,a,l),d.push({event:l,listeners:i}),l.data=A))}cb(d,n)})}function zc(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ru(t,n){for(var a=n+"Capture",c=[];t!==null;){var u=t,m=u.stateNode;u.tag===5&&m!==null&&(u=m,m=Lc(t,a),m!=null&&c.unshift(zc(t,m,u)),m=Lc(t,n),m!=null&&c.push(zc(t,m,u))),t=t.return}return c}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function em(t,n,a,c,u){for(var m=n._reactName,h=[];a!==null&&a!==c;){var o=a,s=o.alternate,i=o.stateNode;if(s!==null&&s===c)break;o.tag===5&&i!==null&&(o=i,u?(s=Lc(a,m),s!=null&&h.unshift(zc(a,s,o))):u||(s=Lc(a,m),s!=null&&h.push(zc(a,s,o)))),a=a.return}h.length!==0&&t.push({event:n,listeners:h})}var j5=/\r\n?/g,K5=/\u0000|\uFFFD/g;function tm(t){return(typeof t=="string"?t:""+t).replace(j5,`
`).replace(K5,"")}function Ml(t,n,a){if(n=tm(n),tm(t)!==n&&a)throw Error(At(425))}function au(){}var Nf=null,Bf=null;function $f(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uf=typeof setTimeout=="function"?setTimeout:void 0,Y5=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,J5=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(t){return nm.resolve(null).then(t).catch(Z5)}:Uf;function Z5(t){setTimeout(function(){throw t})}function $h(t,n){var a=n,c=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(c===0){t.removeChild(u),$c(n);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=u}while(a);$c(n)}function Si(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function rm(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Sa="__reactFiber$"+Fo,Xc="__reactProps$"+Fo,Ka="__reactContainer$"+Fo,_f="__reactEvents$"+Fo,Q5="__reactListeners$"+Fo,q5="__reactHandles$"+Fo;function Vi(t){var n=t[Sa];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ka]||a[Sa]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=rm(t);t!==null;){if(a=t[Sa])return a;t=rm(t)}return n}t=a,a=t.parentNode}return null}function cl(t){return t=t[Sa]||t[Ka],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(At(33))}function Uu(t){return t[Xc]||null}var Hf=[],Js=-1;function Li(t){return{current:t}}function ln(t){0>Js||(t.current=Hf[Js],Hf[Js]=null,Js--)}function sn(t,n){Js++,Hf[Js]=t.current,t.current=n}var Oi={},rr=Li(Oi),Ar=Li(!1),as=Oi;function xo(t,n){var a=t.type.contextTypes;if(!a)return Oi;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var u={},m;for(m in a)u[m]=n[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=u),u}function Sr(t){return t=t.childContextTypes,t!=null}function iu(){ln(Ar),ln(rr)}function am(t,n,a){if(rr.current!==Oi)throw Error(At(168));sn(rr,n),sn(Ar,a)}function ub(t,n,a){var c=t.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var u in c)if(!(u in n))throw Error(At(108,B8(t)||"Unknown",u));return pn({},a,c)}function su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,as=rr.current,sn(rr,t),sn(Ar,Ar.current),!0}function im(t,n,a){var c=t.stateNode;if(!c)throw Error(At(169));a?(t=ub(t,n,as),c.__reactInternalMemoizedMergedChildContext=t,ln(Ar),ln(rr),sn(rr,t)):ln(Ar),sn(Ar,a)}var Na=null,_u=!1,Uh=!1;function hb(t){Na===null?Na=[t]:Na.push(t)}function e4(t){_u=!0,hb(t)}function Ni(){if(!Uh&&Na!==null){Uh=!0;var t=0,n=en;try{var a=Na;for(en=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}Na=null,_u=!1}catch(u){throw Na!==null&&(Na=Na.slice(t+1)),N2(rp,Ni),u}finally{en=n,Uh=!1}}return null}var Zs=[],Qs=0,ou=null,cu=0,Vr=[],jr=0,is=null,Ua=1,_a="";function Hi(t,n){Zs[Qs++]=cu,Zs[Qs++]=ou,ou=t,cu=n}function fb(t,n,a){Vr[jr++]=Ua,Vr[jr++]=_a,Vr[jr++]=is,is=t;var c=Ua;t=_a;var u=32-pa(c)-1;c&=~(1<<u),a+=1;var m=32-pa(n)+u;if(30<m){var h=u-u%5;m=(c&(1<<h)-1).toString(32),c>>=h,u-=h,Ua=1<<32-pa(n)+u|a<<u|c,_a=m+t}else Ua=1<<m|a<<u|c,_a=t}function fp(t){t.return!==null&&(Hi(t,1),fb(t,1,0))}function dp(t){for(;t===ou;)ou=Zs[--Qs],Zs[Qs]=null,cu=Zs[--Qs],Zs[Qs]=null;for(;t===is;)is=Vr[--jr],Vr[jr]=null,_a=Vr[--jr],Vr[jr]=null,Ua=Vr[--jr],Vr[jr]=null}var Pr=null,Ir=null,hn=!1,ua=null;function db(t,n){var a=Kr(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=t,n=t.deletions,n===null?(t.deletions=[a],t.flags|=16):n.push(a)}function sm(t,n){switch(t.tag){case 5:var a=t.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Pr=t,Ir=Si(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Pr=t,Ir=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=is!==null?{id:Ua,overflow:_a}:null,t.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=Kr(18,null,null,0),a.stateNode=n,a.return=t,t.child=a,Pr=t,Ir=null,!0):!1;default:return!1}}function zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xf(t){if(hn){var n=Ir;if(n){var a=n;if(!sm(t,n)){if(zf(t))throw Error(At(418));n=Si(a.nextSibling);var c=Pr;n&&sm(t,n)?db(c,a):(t.flags=t.flags&-4097|2,hn=!1,Pr=t)}}else{if(zf(t))throw Error(At(418));t.flags=t.flags&-4097|2,hn=!1,Pr=t}}}function om(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function Dl(t){if(t!==Pr)return!1;if(!hn)return om(t),hn=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!$f(t.type,t.memoizedProps)),n&&(n=Ir)){if(zf(t))throw pb(),Error(At(418));for(;n;)db(t,n),n=Si(n.nextSibling)}if(om(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(At(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(n===0){Ir=Si(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}t=t.nextSibling}Ir=null}}else Ir=Pr?Si(t.stateNode.nextSibling):null;return!0}function pb(){for(var t=Ir;t;)t=Si(t.nextSibling)}function bo(){Ir=Pr=null,hn=!1}function pp(t){ua===null?ua=[t]:ua.push(t)}var t4=ei.ReactCurrentBatchConfig;function ca(t,n){if(t&&t.defaultProps){n=pn({},n),t=t.defaultProps;for(var a in t)n[a]===void 0&&(n[a]=t[a]);return n}return n}var lu=Li(null),uu=null,qs=null,gp=null;function mp(){gp=qs=uu=null}function xp(t){var n=lu.current;ln(lu),t._currentValue=n}function Wf(t,n,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===a)break;t=t.return}}function lo(t,n){uu=t,gp=qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(wr=!0),t.firstContext=null)}function Jr(t){var n=t._currentValue;if(gp!==t)if(t={context:t,memoizedValue:n,next:null},qs===null){if(uu===null)throw Error(At(308));qs=t,uu.dependencies={lanes:0,firstContext:t}}else qs=qs.next=t;return n}var ji=null;function bp(t){ji===null?ji=[t]:ji.push(t)}function gb(t,n,a,c){var u=n.interleaved;return u===null?(a.next=a,bp(n)):(a.next=u.next,u.next=a),n.interleaved=a,Ya(t,c)}function Ya(t,n){t.lanes|=n;var a=t.alternate;for(a!==null&&(a.lanes|=n),a=t,t=t.return;t!==null;)t.childLanes|=n,a=t.alternate,a!==null&&(a.childLanes|=n),a=t,t=t.return;return a.tag===3?a.stateNode:null}var oi=!1;function yp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mb(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xa(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function ki(t,n,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Yt&2)!==0){var u=c.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),c.pending=n,Ya(t,a)}return u=c.interleaved,u===null?(n.next=n,bp(c)):(n.next=u.next,u.next=n),c.interleaved=n,Ya(t,a)}function s0(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var c=n.lanes;c&=t.pendingLanes,a|=c,n.lanes=a,ap(t,a)}}function cm(t,n){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var u=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var h={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?u=m=h:m=m.next=h,a=a.next}while(a!==null);m===null?u=m=n:m=m.next=n}else u=m=n;a={baseState:c.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}function hu(t,n,a,c){var u=t.updateQueue;oi=!1;var m=u.firstBaseUpdate,h=u.lastBaseUpdate,o=u.shared.pending;if(o!==null){u.shared.pending=null;var s=o,i=s.next;s.next=null,h===null?m=i:h.next=i,h=s;var l=t.alternate;l!==null&&(l=l.updateQueue,o=l.lastBaseUpdate,o!==h&&(o===null?l.firstBaseUpdate=i:o.next=i,l.lastBaseUpdate=s))}if(m!==null){var d=u.baseState;h=0,l=i=s=null,o=m;do{var e=o.lane,r=o.eventTime;if((c&e)===e){l!==null&&(l=l.next={eventTime:r,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,x=o;switch(e=n,r=a,x.tag){case 1:if(p=x.payload,typeof p=="function"){d=p.call(r,d,e);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,e=typeof p=="function"?p.call(r,d,e):p,e==null)break e;d=pn({},d,e);break e;case 2:oi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,e=u.effects,e===null?u.effects=[o]:e.push(o))}else r={eventTime:r,lane:e,tag:o.tag,payload:o.payload,callback:o.callback,next:null},l===null?(i=l=r,s=d):l=l.next=r,h|=e;if(o=o.next,o===null){if(o=u.shared.pending,o===null)break;e=o,o=e.next,e.next=null,u.lastBaseUpdate=e,u.shared.pending=null}}while(1);if(l===null&&(s=d),u.baseState=s,u.firstBaseUpdate=i,u.lastBaseUpdate=l,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else m===null&&(u.shared.lanes=0);os|=h,t.lanes=h,t.memoizedState=d}}function lm(t,n,a){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var c=t[n],u=c.callback;if(u!==null){if(c.callback=null,c=a,typeof u!="function")throw Error(At(191,u));u.call(c)}}}var xb=new g2.Component().refs;function Gf(t,n,a,c){n=t.memoizedState,a=a(c,n),a=a==null?n:pn({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hu={isMounted:function(t){return(t=t._reactInternals)?ps(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var c=dr(),u=Ci(t),m=Xa(c,u);m.payload=n,a!=null&&(m.callback=a),n=ki(t,m,u),n!==null&&(ga(n,t,u,c),s0(n,t,u))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var c=dr(),u=Ci(t),m=Xa(c,u);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=ki(t,m,u),n!==null&&(ga(n,t,u,c),s0(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=dr(),c=Ci(t),u=Xa(a,c);u.tag=2,n!=null&&(u.callback=n),n=ki(t,u,c),n!==null&&(ga(n,t,c,a),s0(n,t,c))}};function um(t,n,a,c,u,m,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,h):n.prototype&&n.prototype.isPureReactComponent?!_c(a,c)||!_c(u,m):!0}function bb(t,n,a){var c=!1,u=Oi,m=n.contextType;return typeof m=="object"&&m!==null?m=Jr(m):(u=Sr(n)?as:rr.current,c=n.contextTypes,m=(c=c!=null)?xo(t,u):Oi),n=new n(a,m),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Hu,t.stateNode=n,n._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=m),n}function hm(t,n,a,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==t&&Hu.enqueueReplaceState(n,n.state,null)}function Vf(t,n,a,c){var u=t.stateNode;u.props=a,u.state=t.memoizedState,u.refs=xb,yp(t);var m=n.contextType;typeof m=="object"&&m!==null?u.context=Jr(m):(m=Sr(n)?as:rr.current,u.context=xo(t,m)),u.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(Gf(t,n,m,a),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Hu.enqueueReplaceState(u,u.state,null),hu(t,a,u,c),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,n,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(At(309));var c=a.stateNode}if(!c)throw Error(At(147,t));var u=c,m=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(h){var o=u.refs;o===xb&&(o=u.refs={}),h===null?delete o[m]:o[m]=h},n._stringRef=m,n)}if(typeof t!="string")throw Error(At(284));if(!a._owner)throw Error(At(290,t))}return t}function Ll(t,n){throw t=Object.prototype.toString.call(n),Error(At(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function fm(t){var n=t._init;return n(t._payload)}function yb(t){function n(v,b){if(t){var g=v.deletions;g===null?(v.deletions=[b],v.flags|=16):g.push(b)}}function a(v,b){if(!t)return null;for(;b!==null;)n(v,b),b=b.sibling;return null}function c(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function u(v,b){return v=Ti(v,b),v.index=0,v.sibling=null,v}function m(v,b,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<b?(v.flags|=2,b):g):(v.flags|=2,b)):(v.flags|=1048576,b)}function h(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,g,w){return b===null||b.tag!==6?(b=Vh(g,v.mode,w),b.return=v,b):(b=u(b,g),b.return=v,b)}function s(v,b,g,w){var f=g.type;return f===Gs?l(v,b,g.props.children,w,g.key):b!==null&&(b.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===si&&fm(f)===b.type)?(w=u(b,g.props),w.ref=Xo(v,b,g),w.return=v,w):(w=f0(g.type,g.key,g.props,null,v.mode,w),w.ref=Xo(v,b,g),w.return=v,w)}function i(v,b,g,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=jh(g,v.mode,w),b.return=v,b):(b=u(b,g.children||[]),b.return=v,b)}function l(v,b,g,w,f){return b===null||b.tag!==7?(b=Qi(g,v.mode,w,f),b.return=v,b):(b=u(b,g),b.return=v,b)}function d(v,b,g){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Vh(""+b,v.mode,g),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kl:return g=f0(b.type,b.key,b.props,null,v.mode,g),g.ref=Xo(v,null,b),g.return=v,g;case Ws:return b=jh(b,v.mode,g),b.return=v,b;case si:var w=b._init;return d(v,w(b._payload),g)}if(jo(b)||$o(b))return b=Qi(b,v.mode,g,null),b.return=v,b;Ll(v,b)}return null}function e(v,b,g,w){var f=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return f!==null?null:o(v,b,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case kl:return g.key===f?s(v,b,g,w):null;case Ws:return g.key===f?i(v,b,g,w):null;case si:return f=g._init,e(v,b,f(g._payload),w)}if(jo(g)||$o(g))return f!==null?null:l(v,b,g,w,null);Ll(v,g)}return null}function r(v,b,g,w,f){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(g)||null,o(b,v,""+w,f);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:return v=v.get(w.key===null?g:w.key)||null,s(b,v,w,f);case Ws:return v=v.get(w.key===null?g:w.key)||null,i(b,v,w,f);case si:var E=w._init;return r(v,b,g,E(w._payload),f)}if(jo(w)||$o(w))return v=v.get(g)||null,l(b,v,w,f,null);Ll(b,w)}return null}function p(v,b,g,w){for(var f=null,E=null,A=b,O=b=0,T=null;A!==null&&O<g.length;O++){A.index>O?(T=A,A=null):T=A.sibling;var D=e(v,A,g[O],w);if(D===null){A===null&&(A=T);break}t&&A&&D.alternate===null&&n(v,A),b=m(D,b,O),E===null?f=D:E.sibling=D,E=D,A=T}if(O===g.length)return a(v,A),hn&&Hi(v,O),f;if(A===null){for(;O<g.length;O++)A=d(v,g[O],w),A!==null&&(b=m(A,b,O),E===null?f=A:E.sibling=A,E=A);return hn&&Hi(v,O),f}for(A=c(v,A);O<g.length;O++)T=r(A,v,O,g[O],w),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?O:T.key),b=m(T,b,O),E===null?f=T:E.sibling=T,E=T);return t&&A.forEach(function(F){return n(v,F)}),hn&&Hi(v,O),f}function x(v,b,g,w){var f=$o(g);if(typeof f!="function")throw Error(At(150));if(g=f.call(g),g==null)throw Error(At(151));for(var E=f=null,A=b,O=b=0,T=null,D=g.next();A!==null&&!D.done;O++,D=g.next()){A.index>O?(T=A,A=null):T=A.sibling;var F=e(v,A,D.value,w);if(F===null){A===null&&(A=T);break}t&&A&&F.alternate===null&&n(v,A),b=m(F,b,O),E===null?f=F:E.sibling=F,E=F,A=T}if(D.done)return a(v,A),hn&&Hi(v,O),f;if(A===null){for(;!D.done;O++,D=g.next())D=d(v,D.value,w),D!==null&&(b=m(D,b,O),E===null?f=D:E.sibling=D,E=D);return hn&&Hi(v,O),f}for(A=c(v,A);!D.done;O++,D=g.next())D=r(A,v,O,D.value,w),D!==null&&(t&&D.alternate!==null&&A.delete(D.key===null?O:D.key),b=m(D,b,O),E===null?f=D:E.sibling=D,E=D);return t&&A.forEach(function(C){return n(v,C)}),hn&&Hi(v,O),f}function y(v,b,g,w){if(typeof g=="object"&&g!==null&&g.type===Gs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case kl:e:{for(var f=g.key,E=b;E!==null;){if(E.key===f){if(f=g.type,f===Gs){if(E.tag===7){a(v,E.sibling),b=u(E,g.props.children),b.return=v,v=b;break e}}else if(E.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===si&&fm(f)===E.type){a(v,E.sibling),b=u(E,g.props),b.ref=Xo(v,E,g),b.return=v,v=b;break e}a(v,E);break}else n(v,E);E=E.sibling}g.type===Gs?(b=Qi(g.props.children,v.mode,w,g.key),b.return=v,v=b):(w=f0(g.type,g.key,g.props,null,v.mode,w),w.ref=Xo(v,b,g),w.return=v,v=w)}return h(v);case Ws:e:{for(E=g.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){a(v,b.sibling),b=u(b,g.children||[]),b.return=v,v=b;break e}else{a(v,b);break}else n(v,b);b=b.sibling}b=jh(g,v.mode,w),b.return=v,v=b}return h(v);case si:return E=g._init,y(v,b,E(g._payload),w)}if(jo(g))return p(v,b,g,w);if($o(g))return x(v,b,g,w);Ll(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,b!==null&&b.tag===6?(a(v,b.sibling),b=u(b,g),b.return=v,v=b):(a(v,b),b=Vh(g,v.mode,w),b.return=v,v=b),h(v)):a(v,b)}return y}var yo=yb(!0),vb=yb(!1),ll={},Ca=Li(ll),Wc=Li(ll),Gc=Li(ll);function Ki(t){if(t===ll)throw Error(At(174));return t}function vp(t,n){switch(sn(Gc,n),sn(Wc,t),sn(Ca,ll),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:kf(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=kf(n,t)}ln(Ca),sn(Ca,n)}function vo(){ln(Ca),ln(Wc),ln(Gc)}function wb(t){Ki(Gc.current);var n=Ki(Ca.current),a=kf(n,t.type);n!==a&&(sn(Wc,t),sn(Ca,a))}function wp(t){Wc.current===t&&(ln(Ca),ln(Wc))}var fn=Li(0);function fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _h=[];function Ap(){for(var t=0;t<_h.length;t++)_h[t]._workInProgressVersionPrimary=null;_h.length=0}var o0=ei.ReactCurrentDispatcher,Hh=ei.ReactCurrentBatchConfig,ss=0,dn=null,Fn=null,Dn=null,du=!1,vc=!1,Vc=0,n4=0;function Kn(){throw Error(At(321))}function Sp(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!xa(t[a],n[a]))return!1;return!0}function kp(t,n,a,c,u,m){if(ss=m,dn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,o0.current=t===null||t.memoizedState===null?s4:o4,t=a(c,u),vc){m=0;do{if(vc=!1,Vc=0,25<=m)throw Error(At(301));m+=1,Dn=Fn=null,n.updateQueue=null,o0.current=c4,t=a(c,u)}while(vc)}if(o0.current=pu,n=Fn!==null&&Fn.next!==null,ss=0,Dn=Fn=dn=null,du=!1,n)throw Error(At(300));return t}function Ep(){var t=Vc!==0;return Vc=0,t}function Aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?dn.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function Zr(){if(Fn===null){var t=dn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var n=Dn===null?dn.memoizedState:Dn.next;if(n!==null)Dn=n,Fn=t;else{if(t===null)throw Error(At(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Dn===null?dn.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function jc(t,n){return typeof n=="function"?n(t):n}function zh(t){var n=Zr(),a=n.queue;if(a===null)throw Error(At(311));a.lastRenderedReducer=t;var c=Fn,u=c.baseQueue,m=a.pending;if(m!==null){if(u!==null){var h=u.next;u.next=m.next,m.next=h}c.baseQueue=u=m,a.pending=null}if(u!==null){m=u.next,c=c.baseState;var o=h=null,s=null,i=m;do{var l=i.lane;if((ss&l)===l)s!==null&&(s=s.next={lane:0,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null}),c=i.hasEagerState?i.eagerState:t(c,i.action);else{var d={lane:l,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null};s===null?(o=s=d,h=c):s=s.next=d,dn.lanes|=l,os|=l}i=i.next}while(i!==null&&i!==m);s===null?h=c:s.next=o,xa(c,n.memoizedState)||(wr=!0),n.memoizedState=c,n.baseState=h,n.baseQueue=s,a.lastRenderedState=c}if(t=a.interleaved,t!==null){u=t;do m=u.lane,dn.lanes|=m,os|=m,u=u.next;while(u!==t)}else u===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function Xh(t){var n=Zr(),a=n.queue;if(a===null)throw Error(At(311));a.lastRenderedReducer=t;var c=a.dispatch,u=a.pending,m=n.memoizedState;if(u!==null){a.pending=null;var h=u=u.next;do m=t(m,h.action),h=h.next;while(h!==u);xa(m,n.memoizedState)||(wr=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,c]}function Ab(){}function Sb(t,n){var a=dn,c=Zr(),u=n(),m=!xa(c.memoizedState,u);if(m&&(c.memoizedState=u,wr=!0),c=c.queue,Cp(Cb.bind(null,a,c,t),[t]),c.getSnapshot!==n||m||Dn!==null&&Dn.memoizedState.tag&1){if(a.flags|=2048,Kc(9,Eb.bind(null,a,c,u,n),void 0,null),Ln===null)throw Error(At(349));(ss&30)!==0||kb(a,n,u)}return u}function kb(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=dn.updateQueue,n===null?(n={lastEffect:null,stores:null},dn.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Eb(t,n,a,c){n.value=a,n.getSnapshot=c,Tb(n)&&Fb(t)}function Cb(t,n,a){return a(function(){Tb(n)&&Fb(t)})}function Tb(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!xa(t,a)}catch{return!0}}function Fb(t){var n=Ya(t,1);n!==null&&ga(n,t,1,-1)}function dm(t){var n=Aa();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:t},n.queue=t,t=t.dispatch=i4.bind(null,dn,t),[n.memoizedState,t]}function Kc(t,n,a,c){return t={tag:t,create:n,destroy:a,deps:c,next:null},n=dn.updateQueue,n===null?(n={lastEffect:null,stores:null},dn.updateQueue=n,n.lastEffect=t.next=t):(a=n.lastEffect,a===null?n.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,n.lastEffect=t)),t}function Ib(){return Zr().memoizedState}function c0(t,n,a,c){var u=Aa();dn.flags|=t,u.memoizedState=Kc(1|n,a,void 0,c===void 0?null:c)}function zu(t,n,a,c){var u=Zr();c=c===void 0?null:c;var m=void 0;if(Fn!==null){var h=Fn.memoizedState;if(m=h.destroy,c!==null&&Sp(c,h.deps)){u.memoizedState=Kc(n,a,m,c);return}}dn.flags|=t,u.memoizedState=Kc(1|n,a,m,c)}function pm(t,n){return c0(8390656,8,t,n)}function Cp(t,n){return zu(2048,8,t,n)}function Ob(t,n){return zu(4,2,t,n)}function Pb(t,n){return zu(4,4,t,n)}function Rb(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mb(t,n,a){return a=a!=null?a.concat([t]):null,zu(4,4,Rb.bind(null,n,t),a)}function Tp(){}function Db(t,n){var a=Zr();n=n===void 0?null:n;var c=a.memoizedState;return c!==null&&n!==null&&Sp(n,c[1])?c[0]:(a.memoizedState=[t,n],t)}function Lb(t,n){var a=Zr();n=n===void 0?null:n;var c=a.memoizedState;return c!==null&&n!==null&&Sp(n,c[1])?c[0]:(t=t(),a.memoizedState=[t,n],t)}function Nb(t,n,a){return(ss&21)===0?(t.baseState&&(t.baseState=!1,wr=!0),t.memoizedState=a):(xa(a,n)||(a=U2(),dn.lanes|=a,os|=a,t.baseState=!0),n)}function r4(t,n){var a=en;en=a!==0&&4>a?a:4,t(!0);var c=Hh.transition;Hh.transition={};try{t(!1),n()}finally{en=a,Hh.transition=c}}function Bb(){return Zr().memoizedState}function a4(t,n,a){var c=Ci(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},$b(t))Ub(n,a);else if(a=gb(t,n,a,c),a!==null){var u=dr();ga(a,t,c,u),_b(a,n,c)}}function i4(t,n,a){var c=Ci(t),u={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if($b(t))Ub(n,u);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var h=n.lastRenderedState,o=m(h,a);if(u.hasEagerState=!0,u.eagerState=o,xa(o,h)){var s=n.interleaved;s===null?(u.next=u,bp(n)):(u.next=s.next,s.next=u),n.interleaved=u;return}}catch{}finally{}a=gb(t,n,u,c),a!==null&&(u=dr(),ga(a,t,c,u),_b(a,n,c))}}function $b(t){var n=t.alternate;return t===dn||n!==null&&n===dn}function Ub(t,n){vc=du=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function _b(t,n,a){if((a&4194240)!==0){var c=n.lanes;c&=t.pendingLanes,a|=c,n.lanes=a,ap(t,a)}}var pu={readContext:Jr,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},s4={readContext:Jr,useCallback:function(t,n){return Aa().memoizedState=[t,n===void 0?null:n],t},useContext:Jr,useEffect:pm,useImperativeHandle:function(t,n,a){return a=a!=null?a.concat([t]):null,c0(4194308,4,Rb.bind(null,n,t),a)},useLayoutEffect:function(t,n){return c0(4194308,4,t,n)},useInsertionEffect:function(t,n){return c0(4,2,t,n)},useMemo:function(t,n){var a=Aa();return n=n===void 0?null:n,t=t(),a.memoizedState=[t,n],t},useReducer:function(t,n,a){var c=Aa();return n=a!==void 0?a(n):n,c.memoizedState=c.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},c.queue=t,t=t.dispatch=a4.bind(null,dn,t),[c.memoizedState,t]},useRef:function(t){var n=Aa();return t={current:t},n.memoizedState=t},useState:dm,useDebugValue:Tp,useDeferredValue:function(t){return Aa().memoizedState=t},useTransition:function(){var t=dm(!1),n=t[0];return t=r4.bind(null,t[1]),Aa().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,a){var c=dn,u=Aa();if(hn){if(a===void 0)throw Error(At(407));a=a()}else{if(a=n(),Ln===null)throw Error(At(349));(ss&30)!==0||kb(c,n,a)}u.memoizedState=a;var m={value:a,getSnapshot:n};return u.queue=m,pm(Cb.bind(null,c,m,t),[t]),c.flags|=2048,Kc(9,Eb.bind(null,c,m,a,n),void 0,null),a},useId:function(){var t=Aa(),n=Ln.identifierPrefix;if(hn){var a=_a,c=Ua;a=(c&~(1<<32-pa(c)-1)).toString(32)+a,n=":"+n+"R"+a,a=Vc++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=n4++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},o4={readContext:Jr,useCallback:Db,useContext:Jr,useEffect:Cp,useImperativeHandle:Mb,useInsertionEffect:Ob,useLayoutEffect:Pb,useMemo:Lb,useReducer:zh,useRef:Ib,useState:function(){return zh(jc)},useDebugValue:Tp,useDeferredValue:function(t){var n=Zr();return Nb(n,Fn.memoizedState,t)},useTransition:function(){var t=zh(jc)[0],n=Zr().memoizedState;return[t,n]},useMutableSource:Ab,useSyncExternalStore:Sb,useId:Bb,unstable_isNewReconciler:!1},c4={readContext:Jr,useCallback:Db,useContext:Jr,useEffect:Cp,useImperativeHandle:Mb,useInsertionEffect:Ob,useLayoutEffect:Pb,useMemo:Lb,useReducer:Xh,useRef:Ib,useState:function(){return Xh(jc)},useDebugValue:Tp,useDeferredValue:function(t){var n=Zr();return Fn===null?n.memoizedState=t:Nb(n,Fn.memoizedState,t)},useTransition:function(){var t=Xh(jc)[0],n=Zr().memoizedState;return[t,n]},useMutableSource:Ab,useSyncExternalStore:Sb,useId:Bb,unstable_isNewReconciler:!1};function wo(t,n){try{var a="",c=n;do a+=N8(c),c=c.return;while(c);var u=a}catch(m){u=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:n,stack:u,digest:null}}function Wh(t,n,a){return{value:t,source:null,stack:a!=null?a:null,digest:n!=null?n:null}}function jf(t,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var l4=typeof WeakMap=="function"?WeakMap:Map;function Hb(t,n,a){a=Xa(-1,a),a.tag=3,a.payload={element:null};var c=n.value;return a.callback=function(){mu||(mu=!0,rd=c),jf(t,n)},a}function zb(t,n,a){a=Xa(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var u=n.value;a.payload=function(){return c(u)},a.callback=function(){jf(t,n)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){jf(t,n),typeof c!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),a}function gm(t,n,a){var c=t.pingCache;if(c===null){c=t.pingCache=new l4;var u=new Set;c.set(n,u)}else u=c.get(n),u===void 0&&(u=new Set,c.set(n,u));u.has(a)||(u.add(a),t=S4.bind(null,t,n,a),n.then(t,t))}function mm(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function xm(t,n,a,c,u){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=Xa(-1,1),n.tag=2,ki(a,n,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}var u4=ei.ReactCurrentOwner,wr=!1;function lr(t,n,a,c){n.child=t===null?vb(n,null,a,c):yo(n,t.child,a,c)}function bm(t,n,a,c,u){a=a.render;var m=n.ref;return lo(n,u),c=kp(t,n,a,c,m,u),a=Ep(),t!==null&&!wr?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,Ja(t,n,u)):(hn&&a&&fp(n),n.flags|=1,lr(t,n,c,u),n.child)}function ym(t,n,a,c,u){if(t===null){var m=a.type;return typeof m=="function"&&!Lp(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=m,Xb(t,n,m,c,u)):(t=f0(a.type,null,c,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,(t.lanes&u)===0){var h=m.memoizedProps;if(a=a.compare,a=a!==null?a:_c,a(h,c)&&t.ref===n.ref)return Ja(t,n,u)}return n.flags|=1,t=Ti(m,c),t.ref=n.ref,t.return=n,n.child=t}function Xb(t,n,a,c,u){if(t!==null){var m=t.memoizedProps;if(_c(m,c)&&t.ref===n.ref)if(wr=!1,n.pendingProps=c=m,(t.lanes&u)!==0)(t.flags&131072)!==0&&(wr=!0);else return n.lanes=t.lanes,Ja(t,n,u)}return Kf(t,n,a,c,u)}function Wb(t,n,a){var c=n.pendingProps,u=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(to,Cr),Cr|=a;else{if((a&1073741824)===0)return t=m!==null?m.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,sn(to,Cr),Cr|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,sn(to,Cr),Cr|=c}else m!==null?(c=m.baseLanes|a,n.memoizedState=null):c=a,sn(to,Cr),Cr|=c;return lr(t,n,u,a),n.child}function Gb(t,n){var a=n.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function Kf(t,n,a,c,u){var m=Sr(a)?as:rr.current;return m=xo(n,m),lo(n,u),a=kp(t,n,a,c,m,u),c=Ep(),t!==null&&!wr?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,Ja(t,n,u)):(hn&&c&&fp(n),n.flags|=1,lr(t,n,a,u),n.child)}function vm(t,n,a,c,u){if(Sr(a)){var m=!0;su(n)}else m=!1;if(lo(n,u),n.stateNode===null)l0(t,n),bb(n,a,c),Vf(n,a,c,u),c=!0;else if(t===null){var h=n.stateNode,o=n.memoizedProps;h.props=o;var s=h.context,i=a.contextType;typeof i=="object"&&i!==null?i=Jr(i):(i=Sr(a)?as:rr.current,i=xo(n,i));var l=a.getDerivedStateFromProps,d=typeof l=="function"||typeof h.getSnapshotBeforeUpdate=="function";d||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(o!==c||s!==i)&&hm(n,h,c,i),oi=!1;var e=n.memoizedState;h.state=e,hu(n,c,h,u),s=n.memoizedState,o!==c||e!==s||Ar.current||oi?(typeof l=="function"&&(Gf(n,a,l,c),s=n.memoizedState),(o=oi||um(n,a,o,c,e,s,i))?(d||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=s),h.props=c,h.state=s,h.context=i,c=o):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{h=n.stateNode,mb(t,n),o=n.memoizedProps,i=n.type===n.elementType?o:ca(n.type,o),h.props=i,d=n.pendingProps,e=h.context,s=a.contextType,typeof s=="object"&&s!==null?s=Jr(s):(s=Sr(a)?as:rr.current,s=xo(n,s));var r=a.getDerivedStateFromProps;(l=typeof r=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(o!==d||e!==s)&&hm(n,h,c,s),oi=!1,e=n.memoizedState,h.state=e,hu(n,c,h,u);var p=n.memoizedState;o!==d||e!==p||Ar.current||oi?(typeof r=="function"&&(Gf(n,a,r,c),p=n.memoizedState),(i=oi||um(n,a,i,c,e,p,s)||!1)?(l||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,p,s),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,p,s)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||o===t.memoizedProps&&e===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&e===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=p),h.props=c,h.state=p,h.context=s,c=i):(typeof h.componentDidUpdate!="function"||o===t.memoizedProps&&e===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&e===t.memoizedState||(n.flags|=1024),c=!1)}return Yf(t,n,a,c,m,u)}function Yf(t,n,a,c,u,m){Gb(t,n);var h=(n.flags&128)!==0;if(!c&&!h)return u&&im(n,a,!1),Ja(t,n,m);c=n.stateNode,u4.current=n;var o=h&&typeof a.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,t!==null&&h?(n.child=yo(n,t.child,null,m),n.child=yo(n,null,o,m)):lr(t,n,o,m),n.memoizedState=c.state,u&&im(n,a,!0),n.child}function Vb(t){var n=t.stateNode;n.pendingContext?am(t,n.pendingContext,n.pendingContext!==n.context):n.context&&am(t,n.context,!1),vp(t,n.containerInfo)}function wm(t,n,a,c,u){return bo(),pp(u),n.flags|=256,lr(t,n,a,c),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function Zf(t){return{baseLanes:t,cachePool:null,transitions:null}}function jb(t,n,a){var c=n.pendingProps,u=fn.current,m=!1,h=(n.flags&128)!==0,o;if((o=h)||(o=t!==null&&t.memoizedState===null?!1:(u&2)!==0),o?(m=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(u|=1),sn(fn,u&1),t===null)return Xf(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(h=c.children,t=c.fallback,m?(c=n.mode,m=n.child,h={mode:"hidden",children:h},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=h):m=Gu(h,c,0,null),t=Qi(t,c,a,null),m.return=n,t.return=n,m.sibling=t,n.child=m,n.child.memoizedState=Zf(a),n.memoizedState=Jf,t):Fp(n,h));if(u=t.memoizedState,u!==null&&(o=u.dehydrated,o!==null))return h4(t,n,h,c,o,u,a);if(m){m=c.fallback,h=n.mode,u=t.child,o=u.sibling;var s={mode:"hidden",children:c.children};return(h&1)===0&&n.child!==u?(c=n.child,c.childLanes=0,c.pendingProps=s,n.deletions=null):(c=Ti(u,s),c.subtreeFlags=u.subtreeFlags&14680064),o!==null?m=Ti(o,m):(m=Qi(m,h,a,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,h=t.child.memoizedState,h=h===null?Zf(a):{baseLanes:h.baseLanes|a,cachePool:null,transitions:h.transitions},m.memoizedState=h,m.childLanes=t.childLanes&~a,n.memoizedState=Jf,c}return m=t.child,t=m.sibling,c=Ti(m,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=a),c.return=n,c.sibling=null,t!==null&&(a=n.deletions,a===null?(n.deletions=[t],n.flags|=16):a.push(t)),n.child=c,n.memoizedState=null,c}function Fp(t,n){return n=Gu({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Nl(t,n,a,c){return c!==null&&pp(c),yo(n,t.child,null,a),t=Fp(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function h4(t,n,a,c,u,m,h){if(a)return n.flags&256?(n.flags&=-257,c=Wh(Error(At(422))),Nl(t,n,h,c)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(m=c.fallback,u=n.mode,c=Gu({mode:"visible",children:c.children},u,0,null),m=Qi(m,u,h,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,(n.mode&1)!==0&&yo(n,t.child,null,h),n.child.memoizedState=Zf(h),n.memoizedState=Jf,m);if((n.mode&1)===0)return Nl(t,n,h,null);if(u.data==="$!"){if(c=u.nextSibling&&u.nextSibling.dataset,c)var o=c.dgst;return c=o,m=Error(At(419)),c=Wh(m,c,void 0),Nl(t,n,h,c)}if(o=(h&t.childLanes)!==0,wr||o){if(c=Ln,c!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(c.suspendedLanes|h))!==0?0:u,u!==0&&u!==m.retryLane&&(m.retryLane=u,Ya(t,u),ga(c,t,u,-1))}return Dp(),c=Wh(Error(At(421))),Nl(t,n,h,c)}return u.data==="$?"?(n.flags|=128,n.child=t.child,n=k4.bind(null,t),u._reactRetry=n,null):(t=m.treeContext,Ir=Si(u.nextSibling),Pr=n,hn=!0,ua=null,t!==null&&(Vr[jr++]=Ua,Vr[jr++]=_a,Vr[jr++]=is,Ua=t.id,_a=t.overflow,is=n),n=Fp(n,c.children),n.flags|=4096,n)}function Am(t,n,a){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),Wf(t.return,n,a)}function Gh(t,n,a,c,u){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:u}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=u)}function Kb(t,n,a){var c=n.pendingProps,u=c.revealOrder,m=c.tail;if(lr(t,n,c.children,a),c=fn.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Am(t,a,n);else if(t.tag===19)Am(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(sn(fn,c),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&fu(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),Gh(n,!1,u,a,m);break;case"backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&fu(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Gh(n,!0,a,null,m);break;case"together":Gh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function l0(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Ja(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),os|=n.lanes,(a&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(At(153));if(n.child!==null){for(t=n.child,a=Ti(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ti(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function f4(t,n,a){switch(n.tag){case 3:Vb(n),bo();break;case 5:wb(n);break;case 1:Sr(n.type)&&su(n);break;case 4:vp(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,u=n.memoizedProps.value;sn(lu,c._currentValue),c._currentValue=u;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(sn(fn,fn.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?jb(t,n,a):(sn(fn,fn.current&1),t=Ja(t,n,a),t!==null?t.sibling:null);sn(fn,fn.current&1);break;case 19:if(c=(a&n.childLanes)!==0,(t.flags&128)!==0){if(c)return Kb(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),sn(fn,fn.current),c)break;return null;case 22:case 23:return n.lanes=0,Wb(t,n,a)}return Ja(t,n,a)}var Yb,Qf,Jb,Zb;Yb=function(t,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Qf=function(){};Jb=function(t,n,a,c){var u=t.memoizedProps;if(u!==c){t=n.stateNode,Ki(Ca.current);var m=null;switch(a){case"input":u=vf(t,u),c=vf(t,c),m=[];break;case"select":u=pn({},u,{value:void 0}),c=pn({},c,{value:void 0}),m=[];break;case"textarea":u=Sf(t,u),c=Sf(t,c),m=[];break;default:typeof u.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=au)}Ef(a,c);var h;a=null;for(i in u)if(!c.hasOwnProperty(i)&&u.hasOwnProperty(i)&&u[i]!=null)if(i==="style"){var o=u[i];for(h in o)o.hasOwnProperty(h)&&(a||(a={}),a[h]="")}else i!=="dangerouslySetInnerHTML"&&i!=="children"&&i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mc.hasOwnProperty(i)?m||(m=[]):(m=m||[]).push(i,null));for(i in c){var s=c[i];if(o=u!=null?u[i]:void 0,c.hasOwnProperty(i)&&s!==o&&(s!=null||o!=null))if(i==="style")if(o){for(h in o)!o.hasOwnProperty(h)||s&&s.hasOwnProperty(h)||(a||(a={}),a[h]="");for(h in s)s.hasOwnProperty(h)&&o[h]!==s[h]&&(a||(a={}),a[h]=s[h])}else a||(m||(m=[]),m.push(i,a)),a=s;else i==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,o=o?o.__html:void 0,s!=null&&o!==s&&(m=m||[]).push(i,s)):i==="children"?typeof s!="string"&&typeof s!="number"||(m=m||[]).push(i,""+s):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&(Mc.hasOwnProperty(i)?(s!=null&&i==="onScroll"&&cn("scroll",t),m||o===s||(m=[])):(m=m||[]).push(i,s))}a&&(m=m||[]).push("style",a);var i=m;(n.updateQueue=i)&&(n.flags|=4)}};Zb=function(t,n,a,c){a!==c&&(n.flags|=4)};function Wo(t,n){if(!hn)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Yn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,c|=u.subtreeFlags&14680064,c|=u.flags&14680064,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,c|=u.subtreeFlags,c|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=c,t.childLanes=a,n}function d4(t,n,a){var c=n.pendingProps;switch(dp(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(n),null;case 1:return Sr(n.type)&&iu(),Yn(n),null;case 3:return c=n.stateNode,vo(),ln(Ar),ln(rr),Ap(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Dl(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ua!==null&&(sd(ua),ua=null))),Qf(t,n),Yn(n),null;case 5:wp(n);var u=Ki(Gc.current);if(a=n.type,t!==null&&n.stateNode!=null)Jb(t,n,a,c,u),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(At(166));return Yn(n),null}if(t=Ki(Ca.current),Dl(n)){c=n.stateNode,a=n.type;var m=n.memoizedProps;switch(c[Sa]=n,c[Xc]=m,t=(n.mode&1)!==0,a){case"dialog":cn("cancel",c),cn("close",c);break;case"iframe":case"object":case"embed":cn("load",c);break;case"video":case"audio":for(u=0;u<Yo.length;u++)cn(Yo[u],c);break;case"source":cn("error",c);break;case"img":case"image":case"link":cn("error",c),cn("load",c);break;case"details":cn("toggle",c);break;case"input":Pg(c,m),cn("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},cn("invalid",c);break;case"textarea":Mg(c,m),cn("invalid",c)}Ef(a,m),u=null;for(var h in m)if(m.hasOwnProperty(h)){var o=m[h];h==="children"?typeof o=="string"?c.textContent!==o&&(m.suppressHydrationWarning!==!0&&Ml(c.textContent,o,t),u=["children",o]):typeof o=="number"&&c.textContent!==""+o&&(m.suppressHydrationWarning!==!0&&Ml(c.textContent,o,t),u=["children",""+o]):Mc.hasOwnProperty(h)&&o!=null&&h==="onScroll"&&cn("scroll",c)}switch(a){case"input":El(c),Rg(c,m,!0);break;case"textarea":El(c),Dg(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=au)}c=u,n.updateQueue=c,c!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k2(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=h.createElement(a,{is:c.is}):(t=h.createElement(a),a==="select"&&(h=t,c.multiple?h.multiple=!0:c.size&&(h.size=c.size))):t=h.createElementNS(t,a),t[Sa]=n,t[Xc]=c,Yb(t,n,!1,!1),n.stateNode=t;e:{switch(h=Cf(a,c),a){case"dialog":cn("cancel",t),cn("close",t),u=c;break;case"iframe":case"object":case"embed":cn("load",t),u=c;break;case"video":case"audio":for(u=0;u<Yo.length;u++)cn(Yo[u],t);u=c;break;case"source":cn("error",t),u=c;break;case"img":case"image":case"link":cn("error",t),cn("load",t),u=c;break;case"details":cn("toggle",t),u=c;break;case"input":Pg(t,c),u=vf(t,c),cn("invalid",t);break;case"option":u=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},u=pn({},c,{value:void 0}),cn("invalid",t);break;case"textarea":Mg(t,c),u=Sf(t,c),cn("invalid",t);break;default:u=c}Ef(a,u),o=u;for(m in o)if(o.hasOwnProperty(m)){var s=o[m];m==="style"?T2(t,s):m==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&E2(t,s)):m==="children"?typeof s=="string"?(a!=="textarea"||s!=="")&&Dc(t,s):typeof s=="number"&&Dc(t,""+s):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Mc.hasOwnProperty(m)?s!=null&&m==="onScroll"&&cn("scroll",t):s!=null&&Q1(t,m,s,h))}switch(a){case"input":El(t),Rg(t,c,!1);break;case"textarea":El(t),Dg(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Ii(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?io(t,!!c.multiple,m,!1):c.defaultValue!=null&&io(t,!!c.multiple,c.defaultValue,!0);break;default:typeof u.onClick=="function"&&(t.onclick=au)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Yn(n),null;case 6:if(t&&n.stateNode!=null)Zb(t,n,t.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(At(166));if(a=Ki(Gc.current),Ki(Ca.current),Dl(n)){if(c=n.stateNode,a=n.memoizedProps,c[Sa]=n,(m=c.nodeValue!==a)&&(t=Pr,t!==null))switch(t.tag){case 3:Ml(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ml(c.nodeValue,a,(t.mode&1)!==0)}m&&(n.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Sa]=n,n.stateNode=c}return Yn(n),null;case 13:if(ln(fn),c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hn&&Ir!==null&&(n.mode&1)!==0&&(n.flags&128)===0)pb(),bo(),n.flags|=98560,m=!1;else if(m=Dl(n),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(At(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(At(317));m[Sa]=n}else bo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yn(n),m=!1}else ua!==null&&(sd(ua),ua=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(fn.current&1)!==0?On===0&&(On=3):Dp())),n.updateQueue!==null&&(n.flags|=4),Yn(n),null);case 4:return vo(),Qf(t,n),t===null&&Hc(n.stateNode.containerInfo),Yn(n),null;case 10:return xp(n.type._context),Yn(n),null;case 17:return Sr(n.type)&&iu(),Yn(n),null;case 19:if(ln(fn),m=n.memoizedState,m===null)return Yn(n),null;if(c=(n.flags&128)!==0,h=m.rendering,h===null)if(c)Wo(m,!1);else{if(On!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=fu(t),h!==null){for(n.flags|=128,Wo(m,!1),c=h.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=a,a=n.child;a!==null;)m=a,t=c,m.flags&=14680066,h=m.alternate,h===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=h.childLanes,m.lanes=h.lanes,m.child=h.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=h.memoizedProps,m.memoizedState=h.memoizedState,m.updateQueue=h.updateQueue,m.type=h.type,t=h.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return sn(fn,fn.current&1|2),n.child}t=t.sibling}m.tail!==null&&An()>Ao&&(n.flags|=128,c=!0,Wo(m,!1),n.lanes=4194304)}else{if(!c)if(t=fu(h),t!==null){if(n.flags|=128,c=!0,a=t.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Wo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!h.alternate&&!hn)return Yn(n),null}else 2*An()-m.renderingStartTime>Ao&&a!==1073741824&&(n.flags|=128,c=!0,Wo(m,!1),n.lanes=4194304);m.isBackwards?(h.sibling=n.child,n.child=h):(a=m.last,a!==null?a.sibling=h:n.child=h,m.last=h)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=An(),n.sibling=null,a=fn.current,sn(fn,c?a&1|2:a&1),n):(Yn(n),null);case 22:case 23:return Mp(),c=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(Cr&1073741824)!==0&&(Yn(n),n.subtreeFlags&6&&(n.flags|=8192)):Yn(n),null;case 24:return null;case 25:return null}throw Error(At(156,n.tag))}function p4(t,n){switch(dp(n),n.tag){case 1:return Sr(n.type)&&iu(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vo(),ln(Ar),ln(rr),Ap(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return wp(n),null;case 13:if(ln(fn),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(At(340));bo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ln(fn),null;case 4:return vo(),null;case 10:return xp(n.type._context),null;case 22:case 23:return Mp(),null;case 24:return null;default:return null}}var Bl=!1,Qn=!1,g4=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function eo(t,n){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){xn(t,n,c)}else a.current=null}function qf(t,n,a){try{a()}catch(c){xn(t,n,c)}}var Sm=!1;function m4(t,n){if(Nf=tu,t=tb(),hp(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var u=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var h=0,o=-1,s=-1,i=0,l=0,d=t,e=null;t:for(;;){for(var r;d!==a||u!==0&&d.nodeType!==3||(o=h+u),d!==m||c!==0&&d.nodeType!==3||(s=h+c),d.nodeType===3&&(h+=d.nodeValue.length),(r=d.firstChild)!==null;)e=d,d=r;for(;;){if(d===t)break t;if(e===a&&++i===u&&(o=h),e===m&&++l===c&&(s=h),(r=d.nextSibling)!==null)break;d=e,e=d.parentNode}d=r}a=o===-1||s===-1?null:{start:o,end:s}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bf={focusedElem:t,selectionRange:a},tu=!1,Rt=n;Rt!==null;)if(n=Rt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Rt=t;else for(;Rt!==null;){n=Rt;try{var p=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,y=p.memoizedState,v=n.stateNode,b=v.getSnapshotBeforeUpdate(n.elementType===n.type?x:ca(n.type,x),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var g=n.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(At(163))}}catch(w){xn(n,n.return,w)}if(t=n.sibling,t!==null){t.return=n.return,Rt=t;break}Rt=n.return}return p=Sm,Sm=!1,p}function wc(t,n,a){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var u=c=c.next;do{if((u.tag&t)===t){var m=u.destroy;u.destroy=void 0,m!==void 0&&qf(n,a,m)}u=u.next}while(u!==c)}}function Xu(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==n)}}function ed(t){var n=t.ref;if(n!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof n=="function"?n(t):n.current=t}}function Qb(t){var n=t.alternate;n!==null&&(t.alternate=null,Qb(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Sa],delete n[Xc],delete n[_f],delete n[Q5],delete n[q5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qb(t){return t.tag===5||t.tag===3||t.tag===4}function km(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,n,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=au));else if(c!==4&&(t=t.child,t!==null))for(td(t,n,a),t=t.sibling;t!==null;)td(t,n,a),t=t.sibling}function nd(t,n,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(nd(t,n,a),t=t.sibling;t!==null;)nd(t,n,a),t=t.sibling}var Hn=null,la=!1;function ri(t,n,a){for(a=a.child;a!==null;)ey(t,n,a),a=a.sibling}function ey(t,n,a){if(Ea&&typeof Ea.onCommitFiberUnmount=="function")try{Ea.onCommitFiberUnmount(Lu,a)}catch{}switch(a.tag){case 5:Qn||eo(a,n);case 6:var c=Hn,u=la;Hn=null,ri(t,n,a),Hn=c,la=u,Hn!==null&&(la?(t=Hn,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Hn.removeChild(a.stateNode));break;case 18:Hn!==null&&(la?(t=Hn,a=a.stateNode,t.nodeType===8?$h(t.parentNode,a):t.nodeType===1&&$h(t,a),$c(t)):$h(Hn,a.stateNode));break;case 4:c=Hn,u=la,Hn=a.stateNode.containerInfo,la=!0,ri(t,n,a),Hn=c,la=u;break;case 0:case 11:case 14:case 15:if(!Qn&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){u=c=c.next;do{var m=u,h=m.destroy;m=m.tag,h!==void 0&&((m&2)!==0||(m&4)!==0)&&qf(a,n,h),u=u.next}while(u!==c)}ri(t,n,a);break;case 1:if(!Qn&&(eo(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(o){xn(a,n,o)}ri(t,n,a);break;case 21:ri(t,n,a);break;case 22:a.mode&1?(Qn=(c=Qn)||a.memoizedState!==null,ri(t,n,a),Qn=c):ri(t,n,a);break;default:ri(t,n,a)}}function Em(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new g4),n.forEach(function(c){var u=E4.bind(null,t,c);a.has(c)||(a.add(c),c.then(u,u))})}}function na(t,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var u=a[c];try{var m=t,h=n,o=h;e:for(;o!==null;){switch(o.tag){case 5:Hn=o.stateNode,la=!1;break e;case 3:Hn=o.stateNode.containerInfo,la=!0;break e;case 4:Hn=o.stateNode.containerInfo,la=!0;break e}o=o.return}if(Hn===null)throw Error(At(160));ey(m,h,u),Hn=null,la=!1;var s=u.alternate;s!==null&&(s.return=null),u.return=null}catch(i){xn(u,n,i)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ty(n,t),n=n.sibling}function ty(t,n){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(na(n,t),ya(t),c&4){try{wc(3,t,t.return),Xu(3,t)}catch(x){xn(t,t.return,x)}try{wc(5,t,t.return)}catch(x){xn(t,t.return,x)}}break;case 1:na(n,t),ya(t),c&512&&a!==null&&eo(a,a.return);break;case 5:if(na(n,t),ya(t),c&512&&a!==null&&eo(a,a.return),t.flags&32){var u=t.stateNode;try{Dc(u,"")}catch(x){xn(t,t.return,x)}}if(c&4&&(u=t.stateNode,u!=null)){var m=t.memoizedProps,h=a!==null?a.memoizedProps:m,o=t.type,s=t.updateQueue;if(t.updateQueue=null,s!==null)try{o==="input"&&m.type==="radio"&&m.name!=null&&A2(u,m),Cf(o,h);var i=Cf(o,m);for(h=0;h<s.length;h+=2){var l=s[h],d=s[h+1];l==="style"?T2(u,d):l==="dangerouslySetInnerHTML"?E2(u,d):l==="children"?Dc(u,d):Q1(u,l,d,i)}switch(o){case"input":wf(u,m);break;case"textarea":S2(u,m);break;case"select":var e=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!m.multiple;var r=m.value;r!=null?io(u,!!m.multiple,r,!1):e!==!!m.multiple&&(m.defaultValue!=null?io(u,!!m.multiple,m.defaultValue,!0):io(u,!!m.multiple,m.multiple?[]:"",!1))}u[Xc]=m}catch(x){xn(t,t.return,x)}}break;case 6:if(na(n,t),ya(t),c&4){if(t.stateNode===null)throw Error(At(162));u=t.stateNode,m=t.memoizedProps;try{u.nodeValue=m}catch(x){xn(t,t.return,x)}}break;case 3:if(na(n,t),ya(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{$c(n.containerInfo)}catch(x){xn(t,t.return,x)}break;case 4:na(n,t),ya(t);break;case 13:na(n,t),ya(t),u=t.child,u.flags&8192&&(m=u.memoizedState!==null,u.stateNode.isHidden=m,!m||u.alternate!==null&&u.alternate.memoizedState!==null||(Pp=An())),c&4&&Em(t);break;case 22:if(l=a!==null&&a.memoizedState!==null,t.mode&1?(Qn=(i=Qn)||l,na(n,t),Qn=i):na(n,t),ya(t),c&8192){if(i=t.memoizedState!==null,(t.stateNode.isHidden=i)&&!l&&(t.mode&1)!==0)for(Rt=t,l=t.child;l!==null;){for(d=Rt=l;Rt!==null;){switch(e=Rt,r=e.child,e.tag){case 0:case 11:case 14:case 15:wc(4,e,e.return);break;case 1:eo(e,e.return);var p=e.stateNode;if(typeof p.componentWillUnmount=="function"){c=e,a=e.return;try{n=c,p.props=n.memoizedProps,p.state=n.memoizedState,p.componentWillUnmount()}catch(x){xn(c,a,x)}}break;case 5:eo(e,e.return);break;case 22:if(e.memoizedState!==null){Tm(d);continue}}r!==null?(r.return=e,Rt=r):Tm(d)}l=l.sibling}e:for(l=null,d=t;;){if(d.tag===5){if(l===null){l=d;try{u=d.stateNode,i?(m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(o=d.stateNode,s=d.memoizedProps.style,h=s!=null&&s.hasOwnProperty("display")?s.display:null,o.style.display=C2("display",h))}catch(x){xn(t,t.return,x)}}}else if(d.tag===6){if(l===null)try{d.stateNode.nodeValue=i?"":d.memoizedProps}catch(x){xn(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:na(n,t),ya(t),c&4&&Em(t);break;case 21:break;default:na(n,t),ya(t)}}function ya(t){var n=t.flags;if(n&2){try{e:{for(var a=t.return;a!==null;){if(qb(a)){var c=a;break e}a=a.return}throw Error(At(160))}switch(c.tag){case 5:var u=c.stateNode;c.flags&32&&(Dc(u,""),c.flags&=-33);var m=km(t);nd(t,m,u);break;case 3:case 4:var h=c.stateNode.containerInfo,o=km(t);td(t,o,h);break;default:throw Error(At(161))}}catch(s){xn(t,t.return,s)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function x4(t,n,a){Rt=t,ny(t)}function ny(t,n,a){for(var c=(t.mode&1)!==0;Rt!==null;){var u=Rt,m=u.child;if(u.tag===22&&c){var h=u.memoizedState!==null||Bl;if(!h){var o=u.alternate,s=o!==null&&o.memoizedState!==null||Qn;o=Bl;var i=Qn;if(Bl=h,(Qn=s)&&!i)for(Rt=u;Rt!==null;)h=Rt,s=h.child,h.tag===22&&h.memoizedState!==null?Fm(u):s!==null?(s.return=h,Rt=s):Fm(u);for(;m!==null;)Rt=m,ny(m),m=m.sibling;Rt=u,Bl=o,Qn=i}Cm(t)}else(u.subtreeFlags&8772)!==0&&m!==null?(m.return=u,Rt=m):Cm(t)}}function Cm(t){for(;Rt!==null;){var n=Rt;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Qn||Xu(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Qn)if(a===null)c.componentDidMount();else{var u=n.elementType===n.type?a.memoizedProps:ca(n.type,a.memoizedProps);c.componentDidUpdate(u,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&lm(n,m,c);break;case 3:var h=n.updateQueue;if(h!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}lm(n,h,a)}break;case 5:var o=n.stateNode;if(a===null&&n.flags&4){a=o;var s=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break;case"img":s.src&&(a.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var i=n.alternate;if(i!==null){var l=i.memoizedState;if(l!==null){var d=l.dehydrated;d!==null&&$c(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(At(163))}Qn||n.flags&512&&ed(n)}catch(e){xn(n,n.return,e)}}if(n===t){Rt=null;break}if(a=n.sibling,a!==null){a.return=n.return,Rt=a;break}Rt=n.return}}function Tm(t){for(;Rt!==null;){var n=Rt;if(n===t){Rt=null;break}var a=n.sibling;if(a!==null){a.return=n.return,Rt=a;break}Rt=n.return}}function Fm(t){for(;Rt!==null;){var n=Rt;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Xu(4,n)}catch(s){xn(n,a,s)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var u=n.return;try{c.componentDidMount()}catch(s){xn(n,u,s)}}var m=n.return;try{ed(n)}catch(s){xn(n,m,s)}break;case 5:var h=n.return;try{ed(n)}catch(s){xn(n,h,s)}}}catch(s){xn(n,n.return,s)}if(n===t){Rt=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Rt=o;break}Rt=n.return}}var b4=Math.ceil,gu=ei.ReactCurrentDispatcher,Ip=ei.ReactCurrentOwner,Yr=ei.ReactCurrentBatchConfig,Yt=0,Ln=null,Cn=null,Wn=0,Cr=0,to=Li(0),On=0,Yc=null,os=0,Wu=0,Op=0,Ac=null,vr=null,Pp=0,Ao=1/0,La=null,mu=!1,rd=null,Ei=null,$l=!1,gi=null,xu=0,Sc=0,ad=null,u0=-1,h0=0;function dr(){return(Yt&6)!==0?An():u0!==-1?u0:u0=An()}function Ci(t){return(t.mode&1)===0?1:(Yt&2)!==0&&Wn!==0?Wn&-Wn:t4.transition!==null?(h0===0&&(h0=U2()),h0):(t=en,t!==0||(t=window.event,t=t===void 0?16:V2(t.type)),t)}function ga(t,n,a,c){if(50<Sc)throw Sc=0,ad=null,Error(At(185));sl(t,a,c),((Yt&2)===0||t!==Ln)&&(t===Ln&&((Yt&2)===0&&(Wu|=a),On===4&&li(t,Wn)),kr(t,c),a===1&&Yt===0&&(n.mode&1)===0&&(Ao=An()+500,_u&&Ni()))}function kr(t,n){var a=t.callbackNode;t5(t,n);var c=eu(t,t===Ln?Wn:0);if(c===0)a!==null&&Bg(a),t.callbackNode=null,t.callbackPriority=0;else if(n=c&-c,t.callbackPriority!==n){if(a!=null&&Bg(a),n===1)t.tag===0?e4(Im.bind(null,t)):hb(Im.bind(null,t)),J5(function(){(Yt&6)===0&&Ni()}),a=null;else{switch(_2(c)){case 1:a=rp;break;case 4:a=B2;break;case 16:a=q0;break;case 536870912:a=$2;break;default:a=q0}a=uy(a,ry.bind(null,t))}t.callbackPriority=n,t.callbackNode=a}}function ry(t,n){if(u0=-1,h0=0,(Yt&6)!==0)throw Error(At(327));var a=t.callbackNode;if(uo()&&t.callbackNode!==a)return null;var c=eu(t,t===Ln?Wn:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||n)n=bu(t,c);else{n=c;var u=Yt;Yt|=2;var m=iy();(Ln!==t||Wn!==n)&&(La=null,Ao=An()+500,Zi(t,n));do try{w4();break}catch(o){ay(t,o)}while(1);mp(),gu.current=m,Yt=u,Cn!==null?n=0:(Ln=null,Wn=0,n=On)}if(n!==0){if(n===2&&(u=Pf(t),u!==0&&(c=u,n=id(t,u))),n===1)throw a=Yc,Zi(t,0),li(t,c),kr(t,An()),a;if(n===6)li(t,c);else{if(u=t.current.alternate,(c&30)===0&&!y4(u)&&(n=bu(t,c),n===2&&(m=Pf(t),m!==0&&(c=m,n=id(t,m))),n===1))throw a=Yc,Zi(t,0),li(t,c),kr(t,An()),a;switch(t.finishedWork=u,t.finishedLanes=c,n){case 0:case 1:throw Error(At(345));case 2:zi(t,vr,La);break;case 3:if(li(t,c),(c&130023424)===c&&(n=Pp+500-An(),10<n)){if(eu(t,0)!==0)break;if(u=t.suspendedLanes,(u&c)!==c){dr(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=Uf(zi.bind(null,t,vr,La),n);break}zi(t,vr,La);break;case 4:if(li(t,c),(c&4194240)===c)break;for(n=t.eventTimes,u=-1;0<c;){var h=31-pa(c);m=1<<h,h=n[h],h>u&&(u=h),c&=~m}if(c=u,c=An()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*b4(c/1960))-c,10<c){t.timeoutHandle=Uf(zi.bind(null,t,vr,La),c);break}zi(t,vr,La);break;case 5:zi(t,vr,La);break;default:throw Error(At(329))}}}return kr(t,An()),t.callbackNode===a?ry.bind(null,t):null}function id(t,n){var a=Ac;return t.current.memoizedState.isDehydrated&&(Zi(t,n).flags|=256),t=bu(t,n),t!==2&&(n=vr,vr=a,n!==null&&sd(n)),t}function sd(t){vr===null?vr=t:vr.push.apply(vr,t)}function y4(t){for(var n=t;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var u=a[c],m=u.getSnapshot;u=u.value;try{if(!xa(m(),u))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function li(t,n){for(n&=~Op,n&=~Wu,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var a=31-pa(n),c=1<<a;t[a]=-1,n&=~c}}function Im(t){if((Yt&6)!==0)throw Error(At(327));uo();var n=eu(t,0);if((n&1)===0)return kr(t,An()),null;var a=bu(t,n);if(t.tag!==0&&a===2){var c=Pf(t);c!==0&&(n=c,a=id(t,c))}if(a===1)throw a=Yc,Zi(t,0),li(t,n),kr(t,An()),a;if(a===6)throw Error(At(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,zi(t,vr,La),kr(t,An()),null}function Rp(t,n){var a=Yt;Yt|=1;try{return t(n)}finally{Yt=a,Yt===0&&(Ao=An()+500,_u&&Ni())}}function cs(t){gi!==null&&gi.tag===0&&(Yt&6)===0&&uo();var n=Yt;Yt|=1;var a=Yr.transition,c=en;try{if(Yr.transition=null,en=1,t)return t()}finally{en=c,Yr.transition=a,Yt=n,(Yt&6)===0&&Ni()}}function Mp(){Cr=to.current,ln(to)}function Zi(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,Y5(a)),Cn!==null)for(a=Cn.return;a!==null;){var c=a;switch(dp(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&iu();break;case 3:vo(),ln(Ar),ln(rr),Ap();break;case 5:wp(c);break;case 4:vo();break;case 13:ln(fn);break;case 19:ln(fn);break;case 10:xp(c.type._context);break;case 22:case 23:Mp()}a=a.return}if(Ln=t,Cn=t=Ti(t.current,null),Wn=Cr=n,On=0,Yc=null,Op=Wu=os=0,vr=Ac=null,ji!==null){for(n=0;n<ji.length;n++)if(a=ji[n],c=a.interleaved,c!==null){a.interleaved=null;var u=c.next,m=a.pending;if(m!==null){var h=m.next;m.next=u,c.next=h}a.pending=c}ji=null}return t}function ay(t,n){do{var a=Cn;try{if(mp(),o0.current=pu,du){for(var c=dn.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}du=!1}if(ss=0,Dn=Fn=dn=null,vc=!1,Vc=0,Ip.current=null,a===null||a.return===null){On=1,Yc=n,Cn=null;break}e:{var m=t,h=a.return,o=a,s=n;if(n=Wn,o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var i=s,l=o,d=l.tag;if((l.mode&1)===0&&(d===0||d===11||d===15)){var e=l.alternate;e?(l.updateQueue=e.updateQueue,l.memoizedState=e.memoizedState,l.lanes=e.lanes):(l.updateQueue=null,l.memoizedState=null)}var r=mm(h);if(r!==null){r.flags&=-257,xm(r,h,o,m,n),r.mode&1&&gm(m,i,n),n=r,s=i;var p=n.updateQueue;if(p===null){var x=new Set;x.add(s),n.updateQueue=x}else p.add(s);break e}else{if((n&1)===0){gm(m,i,n),Dp();break e}s=Error(At(426))}}else if(hn&&o.mode&1){var y=mm(h);if(y!==null){(y.flags&65536)===0&&(y.flags|=256),xm(y,h,o,m,n),pp(wo(s,o));break e}}m=s=wo(s,o),On!==4&&(On=2),Ac===null?Ac=[m]:Ac.push(m),m=h;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var v=Hb(m,s,n);cm(m,v);break e;case 1:o=s;var b=m.type,g=m.stateNode;if((m.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ei===null||!Ei.has(g)))){m.flags|=65536,n&=-n,m.lanes|=n;var w=zb(m,o,n);cm(m,w);break e}}m=m.return}while(m!==null)}oy(a)}catch(f){n=f,Cn===a&&a!==null&&(Cn=a=a.return);continue}break}while(1)}function iy(){var t=gu.current;return gu.current=pu,t===null?pu:t}function Dp(){(On===0||On===3||On===2)&&(On=4),Ln===null||(os&268435455)===0&&(Wu&268435455)===0||li(Ln,Wn)}function bu(t,n){var a=Yt;Yt|=2;var c=iy();(Ln!==t||Wn!==n)&&(La=null,Zi(t,n));do try{v4();break}catch(u){ay(t,u)}while(1);if(mp(),Yt=a,gu.current=c,Cn!==null)throw Error(At(261));return Ln=null,Wn=0,On}function v4(){for(;Cn!==null;)sy(Cn)}function w4(){for(;Cn!==null&&!V8();)sy(Cn)}function sy(t){var n=ly(t.alternate,t,Cr);t.memoizedProps=t.pendingProps,n===null?oy(t):Cn=n,Ip.current=null}function oy(t){var n=t;do{var a=n.alternate;if(t=n.return,(n.flags&32768)===0){if(a=d4(a,n,Cr),a!==null){Cn=a;return}}else{if(a=p4(a,n),a!==null){a.flags&=32767,Cn=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{On=6,Cn=null;return}}if(n=n.sibling,n!==null){Cn=n;return}Cn=n=t}while(n!==null);On===0&&(On=5)}function zi(t,n,a){var c=en,u=Yr.transition;try{Yr.transition=null,en=1,A4(t,n,a,c)}finally{Yr.transition=u,en=c}return null}function A4(t,n,a,c){do uo();while(gi!==null);if((Yt&6)!==0)throw Error(At(327));a=t.finishedWork;var u=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(At(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(n5(t,m),t===Ln&&(Cn=Ln=null,Wn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||$l||($l=!0,uy(q0,function(){return uo(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Yr.transition,Yr.transition=null;var h=en;en=1;var o=Yt;Yt|=4,Ip.current=null,m4(t,a),ty(a,t),z5(Bf),tu=!!Nf,Bf=Nf=null,t.current=a,x4(a),j8(),Yt=o,en=h,Yr.transition=m}else t.current=a;if($l&&($l=!1,gi=t,xu=u),m=t.pendingLanes,m===0&&(Ei=null),J8(a.stateNode),kr(t,An()),n!==null)for(c=t.onRecoverableError,a=0;a<n.length;a++)u=n[a],c(u.value,{componentStack:u.stack,digest:u.digest});if(mu)throw mu=!1,t=rd,rd=null,t;return(xu&1)!==0&&t.tag!==0&&uo(),m=t.pendingLanes,(m&1)!==0?t===ad?Sc++:(Sc=0,ad=t):Sc=0,Ni(),null}function uo(){if(gi!==null){var t=_2(xu),n=Yr.transition,a=en;try{if(Yr.transition=null,en=16>t?16:t,gi===null)var c=!1;else{if(t=gi,gi=null,xu=0,(Yt&6)!==0)throw Error(At(331));var u=Yt;for(Yt|=4,Rt=t.current;Rt!==null;){var m=Rt,h=m.child;if((Rt.flags&16)!==0){var o=m.deletions;if(o!==null){for(var s=0;s<o.length;s++){var i=o[s];for(Rt=i;Rt!==null;){var l=Rt;switch(l.tag){case 0:case 11:case 15:wc(8,l,m)}var d=l.child;if(d!==null)d.return=l,Rt=d;else for(;Rt!==null;){l=Rt;var e=l.sibling,r=l.return;if(Qb(l),l===i){Rt=null;break}if(e!==null){e.return=r,Rt=e;break}Rt=r}}}var p=m.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Rt=m}}if((m.subtreeFlags&2064)!==0&&h!==null)h.return=m,Rt=h;else e:for(;Rt!==null;){if(m=Rt,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:wc(9,m,m.return)}var v=m.sibling;if(v!==null){v.return=m.return,Rt=v;break e}Rt=m.return}}var b=t.current;for(Rt=b;Rt!==null;){h=Rt;var g=h.child;if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,Rt=g;else e:for(h=b;Rt!==null;){if(o=Rt,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:Xu(9,o)}}catch(f){xn(o,o.return,f)}if(o===h){Rt=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Rt=w;break e}Rt=o.return}}if(Yt=u,Ni(),Ea&&typeof Ea.onPostCommitFiberRoot=="function")try{Ea.onPostCommitFiberRoot(Lu,t)}catch{}c=!0}return c}finally{en=a,Yr.transition=n}}return!1}function Om(t,n,a){n=wo(a,n),n=Hb(t,n,1),t=ki(t,n,1),n=dr(),t!==null&&(sl(t,1,n),kr(t,n))}function xn(t,n,a){if(t.tag===3)Om(t,t,a);else for(;n!==null;){if(n.tag===3){Om(n,t,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ei===null||!Ei.has(c))){t=wo(a,t),t=zb(n,t,1),n=ki(n,t,1),t=dr(),n!==null&&(sl(n,1,t),kr(n,t));break}}n=n.return}}function S4(t,n,a){var c=t.pingCache;c!==null&&c.delete(n),n=dr(),t.pingedLanes|=t.suspendedLanes&a,Ln===t&&(Wn&a)===a&&(On===4||On===3&&(Wn&130023424)===Wn&&500>An()-Pp?Zi(t,0):Op|=a),kr(t,n)}function cy(t,n){n===0&&((t.mode&1)===0?n=1:(n=Fl,Fl<<=1,(Fl&130023424)===0&&(Fl=4194304)));var a=dr();t=Ya(t,n),t!==null&&(sl(t,n,a),kr(t,a))}function k4(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),cy(t,a)}function E4(t,n){var a=0;switch(t.tag){case 13:var c=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(At(314))}c!==null&&c.delete(n),cy(t,a)}var ly;ly=function(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps||Ar.current)wr=!0;else{if((t.lanes&a)===0&&(n.flags&128)===0)return wr=!1,f4(t,n,a);wr=(t.flags&131072)!==0}else wr=!1,hn&&(n.flags&1048576)!==0&&fb(n,cu,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;l0(t,n),t=n.pendingProps;var u=xo(n,rr.current);lo(n,a),u=kp(null,n,c,t,u,a);var m=Ep();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Sr(c)?(m=!0,su(n)):m=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,yp(n),u.updater=Hu,n.stateNode=u,u._reactInternals=n,Vf(n,c,t,a),n=Yf(null,n,c,!0,m,a)):(n.tag=0,hn&&m&&fp(n),lr(null,n,u,a),n=n.child),n;case 16:c=n.elementType;e:{switch(l0(t,n),t=n.pendingProps,u=c._init,c=u(c._payload),n.type=c,u=n.tag=T4(c),t=ca(c,t),u){case 0:n=Kf(null,n,c,t,a);break e;case 1:n=vm(null,n,c,t,a);break e;case 11:n=bm(null,n,c,t,a);break e;case 14:n=ym(null,n,c,ca(c.type,t),a);break e}throw Error(At(306,c,""))}return n;case 0:return c=n.type,u=n.pendingProps,u=n.elementType===c?u:ca(c,u),Kf(t,n,c,u,a);case 1:return c=n.type,u=n.pendingProps,u=n.elementType===c?u:ca(c,u),vm(t,n,c,u,a);case 3:e:{if(Vb(n),t===null)throw Error(At(387));c=n.pendingProps,m=n.memoizedState,u=m.element,mb(t,n),hu(n,c,null,a);var h=n.memoizedState;if(c=h.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){u=wo(Error(At(423)),n),n=wm(t,n,c,a,u);break e}else if(c!==u){u=wo(Error(At(424)),n),n=wm(t,n,c,a,u);break e}else for(Ir=Si(n.stateNode.containerInfo.firstChild),Pr=n,hn=!0,ua=null,a=vb(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bo(),c===u){n=Ja(t,n,a);break e}lr(t,n,c,a)}n=n.child}return n;case 5:return wb(n),t===null&&Xf(n),c=n.type,u=n.pendingProps,m=t!==null?t.memoizedProps:null,h=u.children,$f(c,u)?h=null:m!==null&&$f(c,m)&&(n.flags|=32),Gb(t,n),lr(t,n,h,a),n.child;case 6:return t===null&&Xf(n),null;case 13:return jb(t,n,a);case 4:return vp(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=yo(n,null,c,a):lr(t,n,c,a),n.child;case 11:return c=n.type,u=n.pendingProps,u=n.elementType===c?u:ca(c,u),bm(t,n,c,u,a);case 7:return lr(t,n,n.pendingProps,a),n.child;case 8:return lr(t,n,n.pendingProps.children,a),n.child;case 12:return lr(t,n,n.pendingProps.children,a),n.child;case 10:e:{if(c=n.type._context,u=n.pendingProps,m=n.memoizedProps,h=u.value,sn(lu,c._currentValue),c._currentValue=h,m!==null)if(xa(m.value,h)){if(m.children===u.children&&!Ar.current){n=Ja(t,n,a);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var o=m.dependencies;if(o!==null){h=m.child;for(var s=o.firstContext;s!==null;){if(s.context===c){if(m.tag===1){s=Xa(-1,a&-a),s.tag=2;var i=m.updateQueue;if(i!==null){i=i.shared;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}}m.lanes|=a,s=m.alternate,s!==null&&(s.lanes|=a),Wf(m.return,a,n),o.lanes|=a;break}s=s.next}}else if(m.tag===10)h=m.type===n.type?null:m.child;else if(m.tag===18){if(h=m.return,h===null)throw Error(At(341));h.lanes|=a,o=h.alternate,o!==null&&(o.lanes|=a),Wf(h,a,n),h=m.sibling}else h=m.child;if(h!==null)h.return=m;else for(h=m;h!==null;){if(h===n){h=null;break}if(m=h.sibling,m!==null){m.return=h.return,h=m;break}h=h.return}m=h}lr(t,n,u.children,a),n=n.child}return n;case 9:return u=n.type,c=n.pendingProps.children,lo(n,a),u=Jr(u),c=c(u),n.flags|=1,lr(t,n,c,a),n.child;case 14:return c=n.type,u=ca(c,n.pendingProps),u=ca(c.type,u),ym(t,n,c,u,a);case 15:return Xb(t,n,n.type,n.pendingProps,a);case 17:return c=n.type,u=n.pendingProps,u=n.elementType===c?u:ca(c,u),l0(t,n),n.tag=1,Sr(c)?(t=!0,su(n)):t=!1,lo(n,a),bb(n,c,u),Vf(n,c,u,a),Yf(null,n,c,!0,t,a);case 19:return Kb(t,n,a);case 22:return Wb(t,n,a)}throw Error(At(156,n.tag))};function uy(t,n){return N2(t,n)}function C4(t,n,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,n,a,c){return new C4(t,n,a,c)}function Lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T4(t){if(typeof t=="function")return Lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ep)return 11;if(t===tp)return 14}return 2}function Ti(t,n){var a=t.alternate;return a===null?(a=Kr(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function f0(t,n,a,c,u,m){var h=2;if(c=t,typeof t=="function")Lp(t)&&(h=1);else if(typeof t=="string")h=5;else e:switch(t){case Gs:return Qi(a.children,u,m,n);case q1:h=8,u|=8;break;case mf:return t=Kr(12,a,n,u|2),t.elementType=mf,t.lanes=m,t;case xf:return t=Kr(13,a,n,u),t.elementType=xf,t.lanes=m,t;case bf:return t=Kr(19,a,n,u),t.elementType=bf,t.lanes=m,t;case y2:return Gu(a,u,m,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x2:h=10;break e;case b2:h=9;break e;case ep:h=11;break e;case tp:h=14;break e;case si:h=16,c=null;break e}throw Error(At(130,t==null?t:typeof t,""))}return n=Kr(h,a,n,u),n.elementType=t,n.type=c,n.lanes=m,n}function Qi(t,n,a,c){return t=Kr(7,t,c,n),t.lanes=a,t}function Gu(t,n,a,c){return t=Kr(22,t,c,n),t.elementType=y2,t.lanes=a,t.stateNode={isHidden:!1},t}function Vh(t,n,a){return t=Kr(6,t,null,n),t.lanes=a,t}function jh(t,n,a){return n=Kr(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function F4(t,n,a,c,u){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Th(0),this.expirationTimes=Th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.identifierPrefix=c,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Np(t,n,a,c,u,m,h,o,s){return t=new F4(t,n,a,o,s),n===1?(n=1,m===!0&&(n|=8)):n=0,m=Kr(3,null,null,n),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yp(m),t}function I4(t,n,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:c==null?null:""+c,children:t,containerInfo:n,implementation:a}}function hy(t){if(!t)return Oi;t=t._reactInternals;e:{if(ps(t)!==t||t.tag!==1)throw Error(At(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Sr(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(At(171))}if(t.tag===1){var a=t.type;if(Sr(a))return ub(t,a,n)}return n}function fy(t,n,a,c,u,m,h,o,s){return t=Np(a,c,!0,t,u,m,h,o,s),t.context=hy(null),a=t.current,c=dr(),u=Ci(a),m=Xa(c,u),m.callback=n!=null?n:null,ki(a,m,u),t.current.lanes=u,sl(t,u,c),kr(t,c),t}function Vu(t,n,a,c){var u=n.current,m=dr(),h=Ci(u);return a=hy(a),n.context===null?n.context=a:n.pendingContext=a,n=Xa(m,h),n.payload={element:t},c=c===void 0?null:c,c!==null&&(n.callback=c),t=ki(u,n,h),t!==null&&(ga(t,u,h,m),s0(t,u,h)),h}function yu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pm(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Bp(t,n){Pm(t,n),(t=t.alternate)&&Pm(t,n)}function O4(){return null}var dy=typeof reportError=="function"?reportError:function(t){console.error(t)};function $p(t){this._internalRoot=t}ju.prototype.render=$p.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(At(409));Vu(t,n,null,null)};ju.prototype.unmount=$p.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cs(function(){Vu(null,t,null,null)}),n[Ka]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=X2();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ci.length&&n!==0&&n<ci[a].priority;a++);ci.splice(a,0,t),a===0&&G2(t)}};function Up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function P4(t,n,a,c,u){if(u){if(typeof c=="function"){var m=c;c=function(){var i=yu(h);m.call(i)}}var h=fy(n,c,t,0,null,!1,!1,"",Rm);return t._reactRootContainer=h,t[Ka]=h.current,Hc(t.nodeType===8?t.parentNode:t),cs(),h}for(;u=t.lastChild;)t.removeChild(u);if(typeof c=="function"){var o=c;c=function(){var i=yu(s);o.call(i)}}var s=Np(t,0,!1,null,null,!1,!1,"",Rm);return t._reactRootContainer=s,t[Ka]=s.current,Hc(t.nodeType===8?t.parentNode:t),cs(function(){Vu(n,s,a,c)}),s}function Yu(t,n,a,c,u){var m=a._reactRootContainer;if(m){var h=m;if(typeof u=="function"){var o=u;u=function(){var s=yu(h);o.call(s)}}Vu(n,h,t,u)}else h=P4(a,n,t,u,c);return yu(h)}H2=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var a=Ko(n.pendingLanes);a!==0&&(ap(n,a|1),kr(n,An()),(Yt&6)===0&&(Ao=An()+500,Ni()))}break;case 13:cs(function(){var c=Ya(t,1);if(c!==null){var u=dr();ga(c,t,1,u)}}),Bp(t,1)}};ip=function(t){if(t.tag===13){var n=Ya(t,134217728);if(n!==null){var a=dr();ga(n,t,134217728,a)}Bp(t,134217728)}};z2=function(t){if(t.tag===13){var n=Ci(t),a=Ya(t,n);if(a!==null){var c=dr();ga(a,t,n,c)}Bp(t,n)}};X2=function(){return en};W2=function(t,n){var a=en;try{return en=t,n()}finally{en=a}};Ff=function(t,n,a){switch(n){case"input":if(wf(t,a),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==t&&c.form===t.form){var u=Uu(c);if(!u)throw Error(At(90));w2(c),wf(c,u)}}}break;case"textarea":S2(t,a);break;case"select":n=a.value,n!=null&&io(t,!!a.multiple,n,!1)}};O2=Rp;P2=cs;var R4={usingClientEntryPoint:!1,Events:[cl,Ys,Uu,F2,I2,Rp]},Go={findFiberByHostInstance:Vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M4={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D2(t),t===null?null:t.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Lu=Ul.inject(M4),Ea=Ul}catch{}}Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R4;Dr.createPortal=function(t,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Up(n))throw Error(At(200));return I4(t,n,null,a)};Dr.createRoot=function(t,n){if(!Up(t))throw Error(At(299));var a=!1,c="",u=dy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Np(t,1,!1,null,null,a,!1,c,u),t[Ka]=n.current,Hc(t.nodeType===8?t.parentNode:t),new $p(n)};Dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(At(188)):(t=Object.keys(t).join(","),Error(At(268,t)));return t=D2(n),t=t===null?null:t.stateNode,t};Dr.flushSync=function(t){return cs(t)};Dr.hydrate=function(t,n,a){if(!Ku(n))throw Error(At(200));return Yu(null,t,n,!0,a)};Dr.hydrateRoot=function(t,n,a){if(!Up(t))throw Error(At(405));var c=a!=null&&a.hydratedSources||null,u=!1,m="",h=dy;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(h=a.onRecoverableError)),n=fy(n,null,t,1,a!=null?a:null,u,!1,m,h),t[Ka]=n.current,Hc(t),c)for(t=0;t<c.length;t++)a=c[t],u=a._getVersion,u=u(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,u]:n.mutableSourceEagerHydrationData.push(a,u);return new ju(n)};Dr.render=function(t,n,a){if(!Ku(n))throw Error(At(200));return Yu(null,t,n,!1,a)};Dr.unmountComponentAtNode=function(t){if(!Ku(t))throw Error(At(40));return t._reactRootContainer?(cs(function(){Yu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ka]=null})}),!0):!1};Dr.unstable_batchedUpdates=Rp;Dr.unstable_renderSubtreeIntoContainer=function(t,n,a,c){if(!Ku(a))throw Error(At(200));if(t==null||t._reactInternals===void 0)throw Error(At(38));return Yu(t,n,a,!1,c)};Dr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}n(),t.exports=Dr})(i2);var py,Mm=i2.exports;py=Mm.createRoot,Mm.hydrateRoot;const _l=1e4,Kh=100,D4=1e3,gy="1.5.0",_p="chatGPTFileUploader",L4="https://www.mystickynotes.net/api/contact-me",my="",N4=`${my} The complete document is provided below. After reviewing the document, please respond with "I have finished reviewing the document and I'm ready to assist you with your inquiries."`,B4=`This is the final segment of the document.
Please carefully review all parts of the document that have been provided in this conversation before summarizing or answering any questions about it. Once you have reviewed all sections of the document, please respond with "I have finished reviewing the document and I'm ready to assist you with your inquiries."`,$4=`The document, that I'm about to share, will be divided into several parts. I request that you wait until all parts have been provided before summarizing or answering any questions about it. In the meantime, please respond with "Acknowledged, I will wait for all parts before proceeding."`,U4=`This is one of several parts of the document.
Please wait until all parts have been provided before summarizing or answering any questions about it. For now, please respond with "Acknowledged, I'm waiting for the remaining parts."`,_4=["package-lock.json","pnpm-lock.yaml","yarn.lock"],H4=[".git",".gif",".svg",".ico",".woff",".woff2",".ttf",".eot",".mp4",".mp3",".wav",".ogg",".webm",".zip",".tar.gz",".rar",".7z",".yarnrc",".yml",".yaml",".log"],z4=/image\/(png|jpg|jpeg|bmp|webp)/,X4=[".txt",".js",".py",".html",".cs",".java",".go",".php",".xml",".yml",".yaml",".toml",".ini",".cfg",".conf",".sh",".bat",".css",".json",".csv",".md",".ts",".tsx",".jsx",".pdf",".doc",".docx",".xls",".xlsx",".zip",".png",".jpg",".jpeg",".bmp",".webp"],zr=async(t,n)=>{const a=`${_p}_${t}`;await chrome.storage.local.set({[a]:n})},Xr=t=>new Promise(n=>{const a=`${_p}_${t}`;chrome.storage.local.get([a],c=>{n(c[a])})}),W4=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);function mi(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xy={exports:{}};const G4={},V4=Object.freeze(Object.defineProperty({__proto__:null,default:G4},Symbol.toStringTag,{value:"Module"})),mn=m8(V4);var Dm={},Lm;function j4(){return Lm||(Lm=1,function(){function t(l,d,e){if(e||arguments.length===2)for(var r,p=0,x=d.length;p<x;p++)!r&&p in d||(r||(r=Array.prototype.slice.call(d,0,p)),r[p]=d[p]);return l.concat(r||Array.prototype.slice.call(d))}var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/gi,c=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function u(l){var d=[],e=String(l).trim();return e[0]!=="M"&&e[0]!=="m"||e.replace(a,function(r,p,x){var y=function(g){var w=g.match(c);return w?w.map(Number):[]}(x),v=p.toLowerCase(),b=p;if(v==="m"&&y.length>2&&(d.push(t([b],y.splice(0,2),!0)),v="l",b=b==="m"?"l":"L"),y.length<n[v])return"";for(d.push(t([b],y.splice(0,n[v]),!0));y.length>=n[v]&&y.length&&n[v];)d.push(t([b],y.splice(0,n[v]),!0));return""}),d}function m(l,d){var e=l.x*Math.cos(d)-l.y*Math.sin(d),r=l.y*Math.cos(d)+l.x*Math.sin(d);l.x=e,l.y=r}function h(l,d){l.x*=d,l.y*=d}var o=function(){function l(d){var e;this.commands=[],d&&d instanceof l?(e=this.commands).push.apply(e,d.commands):d&&(this.commands=u(d))}return l.prototype.addPath=function(d){var e;d&&d instanceof l&&(e=this.commands).push.apply(e,d.commands)},l.prototype.moveTo=function(d,e){this.commands.push(["M",d,e])},l.prototype.lineTo=function(d,e){this.commands.push(["L",d,e])},l.prototype.arc=function(d,e,r,p,x,y){this.commands.push(["AC",d,e,r,p,x,!!y])},l.prototype.arcTo=function(d,e,r,p,x){this.commands.push(["AT",d,e,r,p,x])},l.prototype.ellipse=function(d,e,r,p,x,y,v,b){this.commands.push(["E",d,e,r,p,x,y,v,!!b])},l.prototype.closePath=function(){this.commands.push(["Z"])},l.prototype.bezierCurveTo=function(d,e,r,p,x,y){this.commands.push(["C",d,e,r,p,x,y])},l.prototype.quadraticCurveTo=function(d,e,r,p){this.commands.push(["Q",d,e,r,p])},l.prototype.rect=function(d,e,r,p){this.commands.push(["R",d,e,r,p])},l.prototype.roundRect=function(d,e,r,p,x){x===void 0?this.commands.push(["RR",d,e,r,p,0]):this.commands.push(["RR",d,e,r,p,x])},l}();function s(l,d){var e,r,p,x,y,v,b,g,w,f,E,A,O,T,D,F,C,B,M,I,W,J,H,N,U=0,Y=0,_=null,V=null,Z=null,q=null,re=null,oe=null;l.beginPath();for(var ae=0;ae<d.length;++ae){(B=d[ae][0])!=="S"&&B!=="s"&&B!=="C"&&B!=="c"&&(_=null,V=null),B!=="T"&&B!=="t"&&B!=="Q"&&B!=="q"&&(Z=null,q=null);var R=void 0;switch(B){case"m":case"M":R=d[ae],B==="m"?(U+=R[1],Y+=R[2]):(U=R[1],Y=R[2]),B!=="M"&&re||(re={x:U,y:Y}),l.moveTo(U,Y);break;case"l":U+=(R=d[ae])[1],Y+=R[2],l.lineTo(U,Y);break;case"L":U=(R=d[ae])[1],Y=R[2],l.lineTo(U,Y);break;case"H":U=(R=d[ae])[1],l.lineTo(U,Y);break;case"h":U+=(R=d[ae])[1],l.lineTo(U,Y);break;case"V":Y=(R=d[ae])[1],l.lineTo(U,Y);break;case"v":Y+=(R=d[ae])[1],l.lineTo(U,Y);break;case"a":case"A":if(R=d[ae],oe===null)throw new Error("This should never happen");B==="a"?(U+=R[6],Y+=R[7]):(U=R[6],Y=R[7]),T=R[1],D=R[2],b=R[3]*Math.PI/180,p=!!R[4],x=!!R[5],y={x:U,y:Y},m(v={x:(oe.x-y.x)/2,y:(oe.y-y.y)/2},-b),(g=v.x*v.x/(T*T)+v.y*v.y/(D*D))>1&&(T*=g=Math.sqrt(g),D*=g),w=T*T*D*D,f=T*T*v.y*v.y+D*D*v.x*v.x,h(M={x:T*v.y/D,y:-D*v.x/T},x!==p?Math.sqrt((w-f)/f)||0:-Math.sqrt((w-f)/f)||0),r=Math.atan2((v.y-M.y)/D,(v.x-M.x)/T),e=Math.atan2(-(v.y+M.y)/D,-(v.x+M.x)/T),m(M,b),J=M,H=(y.x+oe.x)/2,N=(y.y+oe.y)/2,J.x+=H,J.y+=N,l.save(),l.translate(M.x,M.y),l.rotate(b),l.scale(T,D),l.arc(0,0,1,r,e,!x),l.restore();break;case"C":_=(R=d[ae])[3],V=R[4],U=R[5],Y=R[6],l.bezierCurveTo(R[1],R[2],_,V,U,Y);break;case"c":R=d[ae],l.bezierCurveTo(R[1]+U,R[2]+Y,R[3]+U,R[4]+Y,R[5]+U,R[6]+Y),_=R[3]+U,V=R[4]+Y,U+=R[5],Y+=R[6];break;case"S":R=d[ae],_!==null&&V!==null||(_=U,V=Y),l.bezierCurveTo(2*U-_,2*Y-V,R[1],R[2],R[3],R[4]),_=R[1],V=R[2],U=R[3],Y=R[4];break;case"s":R=d[ae],_!==null&&V!==null||(_=U,V=Y),l.bezierCurveTo(2*U-_,2*Y-V,R[1]+U,R[2]+Y,R[3]+U,R[4]+Y),_=R[1]+U,V=R[2]+Y,U+=R[3],Y+=R[4];break;case"Q":Z=(R=d[ae])[1],q=R[2],U=R[3],Y=R[4],l.quadraticCurveTo(Z,q,U,Y);break;case"q":Z=(R=d[ae])[1]+U,q=R[2]+Y,U+=R[3],Y+=R[4],l.quadraticCurveTo(Z,q,U,Y);break;case"T":Z!==null&&q!==null||(Z=U,q=Y),Z=2*U-Z,q=2*Y-q,U=(R=d[ae])[1],Y=R[2],l.quadraticCurveTo(Z,q,U,Y);break;case"t":Z!==null&&q!==null||(Z=U,q=Y),Z=2*U-Z,q=2*Y-q,U+=(R=d[ae])[1],Y+=R[2],l.quadraticCurveTo(Z,q,U,Y);break;case"z":case"Z":re&&(U=re.x,Y=re.y),re=null,l.closePath();break;case"AC":U=(R=d[ae])[1],Y=R[2],O=R[3],r=R[4],e=R[5],I=R[6],l.arc(U,Y,O,r,e,I);break;case"AT":E=(R=d[ae])[1],A=R[2],U=R[3],Y=R[4],O=R[5],l.arcTo(E,A,U,Y,O);break;case"E":U=(R=d[ae])[1],Y=R[2],T=R[3],D=R[4],b=R[5],r=R[6],e=R[7],I=R[8],l.save(),l.translate(U,Y),l.rotate(b),l.scale(T,D),l.arc(0,0,1,r,e,I),l.restore();break;case"R":U=(R=d[ae])[1],Y=R[2],F=R[3],C=R[4],re={x:U,y:Y},l.rect(U,Y,F,C);break;case"RR":U=(R=d[ae])[1],Y=R[2],F=R[3],C=R[4],W=R[5],re={x:U,y:Y},l.roundRect(U,Y,F,C,W)}oe?(oe.x=U,oe.y=Y):oe={x:U,y:Y}}}function i(l,d,e,r,p){var x=this;if(p===void 0&&(p=0),typeof p=="number"&&(p=[p]),Array.isArray(p)){if(p.length===0||p.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(p.length," radii provided. Between one and four radii are necessary."));if(p.forEach(function(f){if(f<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(x.constructor.name,"': Radius value ").concat(f," is negative."))}),p.length===1&&p[0]===0)return this.rect(l,d,e,r);var y,v,b,g=Math.min(e,r)/2,w=y=v=b=Math.min(g,p[0]);p.length===2&&(y=b=Math.min(g,p[1])),p.length===3&&(y=b=Math.min(g,p[1]),v=Math.min(g,p[2])),p.length===4&&(y=Math.min(g,p[1]),v=Math.min(g,p[2]),b=Math.min(g,p[3])),this.moveTo(l,d+r-b),this.arcTo(l,d,l+w,d,w),this.arcTo(l+e,d,l+e,d+y,y),this.arcTo(l+e,d+r,l+e-v,d+r,v),this.arcTo(l,d+r,l,d+r-b,b),this.moveTo(l,d)}}(function(l){if(l&&l.CanvasRenderingContext2D&&!l.Path2D){var d=l.CanvasRenderingContext2D,e=d.prototype.fill,r=d.prototype.stroke,p=d.prototype.isPointInPath;d.prototype.fill=function(){for(var x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];if(!(x[0]instanceof o))return b=x[0]||"nonzero",e.apply(this,[b]);var v=x[0],b=x[1]||"nonzero";s(this,v.commands),e.apply(this,[b])},d.prototype.stroke=function(x){x&&s(this,x.commands),r.apply(this)},d.prototype.isPointInPath=function(){for(var x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];if(x[0]instanceof o){var v=x[0],b=x[1],g=x[2],w=x[3]||"nonzero";return s(this,v.commands),p.apply(this,[b,g,w])}return p.apply(this,x)},l.Path2D=o}})(window),function(l){if(l&&l.CanvasRenderingContext2D){var d=l.CanvasRenderingContext2D,e=l.Path2D;d&&!d.prototype.roundRect&&(d.prototype.roundRect=i),e&&!e.prototype.roundRect&&(e.prototype.roundRect=i)}}(window)}()),Dm}(function(t,n){(function(c,u){t.exports=c.pdfjsLib=u()})(globalThis,()=>(()=>{var a=[,(h,o,s)=>{var Te;Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.RenderingIntentFlag=o.PromiseCapability=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.MAX_IMAGE_SIZE_TO_CACHE=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.BASELINE_FACTOR=o.AnnotationType=o.AnnotationReplyType=o.AnnotationPrefix=o.AnnotationMode=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.assert=re,o.bytesToString=ee,o.createValidAbsoluteUrl=ae,o.getModificationDate=_e,o.getUuid=ke,o.getVerbosityLevel=_,o.info=V,o.isArrayBuffer=Ee,o.isArrayEqual=Me,o.isNodeJS=void 0,o.normalizeUnicode=Ne,o.objectFromMap=le,o.objectSize=se,o.setVerbosityLevel=Y,o.shadow=R,o.string32=ne,o.stringToBytes=G,o.stringToPDFString=ce,o.stringToUTF8String=ue,o.unreachable=q,o.utf8StringToString=ve,o.warn=Z,s(2),s(84),s(86),s(87),s(89),s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123);const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=i;const l=[1,0,0,1,0,0];o.IDENTITY_MATRIX=l;const d=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=d;const e=1e7;o.MAX_IMAGE_SIZE_TO_CACHE=e;const r=1.35;o.LINE_FACTOR=r;const p=.35;o.LINE_DESCENT_FACTOR=p;const x=p/r;o.BASELINE_FACTOR=x;const y={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=y;const v={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=v;const b="pdfjs_internal_editor_";o.AnnotationEditorPrefix=b;const g={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};o.AnnotationEditorType=g;const w={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};o.AnnotationEditorParamsType=w;const f={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=f;const E={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=E;const A={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=A;const O={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=O;const T={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=T;const D={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=D;const F={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=F;const C={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=C;const B={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=B;const M={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=M;const I={O:"PageOpen",C:"PageClose"};o.PageActionEventType=I;const W={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=W;const J={NONE:0,BINARY:1};o.CMapCompressionType=J;const H={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=H;const N={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=N;let U=W.WARNINGS;function Y(Ae){Number.isInteger(Ae)&&(U=Ae)}function _(){return U}function V(Ae){U>=W.INFOS&&console.log(`Info: ${Ae}`)}function Z(Ae){U>=W.WARNINGS&&console.log(`Warning: ${Ae}`)}function q(Ae){throw new Error(Ae)}function re(Ae,ge){Ae||q(ge)}function oe(Ae){switch(Ae==null?void 0:Ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ae(Ae){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Ae)return null;try{if(Ce&&typeof Ae=="string"){if(Ce.addDefaultProtocol&&Ae.startsWith("www.")){const Ye=Ae.match(/\./g);(Ye==null?void 0:Ye.length)>=2&&(Ae=`http://${Ae}`)}if(Ce.tryConvertEncoding)try{Ae=ue(Ae)}catch{}}const Be=ge?new URL(Ae,ge):new URL(Ae);if(oe(Be))return Be}catch{}return null}function R(Ae,ge,Ce){let Be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(Ae,ge,{value:Ce,enumerable:!Be,configurable:!0,writable:!1}),Ce}const S=function(){function ge(Ce,Be){this.constructor===ge&&q("Cannot initialize BaseException."),this.message=Ce,this.name=Be}return ge.prototype=new Error,ge.constructor=ge,ge}();o.BaseException=S;class L extends S{constructor(ge,Ce){super(ge,"PasswordException"),this.code=Ce}}o.PasswordException=L;class k extends S{constructor(ge,Ce){super(ge,"UnknownErrorException"),this.details=Ce}}o.UnknownErrorException=k;class z extends S{constructor(ge){super(ge,"InvalidPDFException")}}o.InvalidPDFException=z;class P extends S{constructor(ge){super(ge,"MissingPDFException")}}o.MissingPDFException=P;class K extends S{constructor(ge,Ce){super(ge,"UnexpectedResponseException"),this.status=Ce}}o.UnexpectedResponseException=K;class te extends S{constructor(ge){super(ge,"FormatError")}}o.FormatError=te;class X extends S{constructor(ge){super(ge,"AbortException")}}o.AbortException=X;function ee(Ae){(typeof Ae!="object"||(Ae==null?void 0:Ae.length)===void 0)&&q("Invalid argument for bytesToString");const ge=Ae.length,Ce=8192;if(ge<Ce)return String.fromCharCode.apply(null,Ae);const Be=[];for(let Ye=0;Ye<ge;Ye+=Ce){const Je=Math.min(Ye+Ce,ge),Re=Ae.subarray(Ye,Je);Be.push(String.fromCharCode.apply(null,Re))}return Be.join("")}function G(Ae){typeof Ae!="string"&&q("Invalid argument for stringToBytes");const ge=Ae.length,Ce=new Uint8Array(ge);for(let Be=0;Be<ge;++Be)Ce[Be]=Ae.charCodeAt(Be)&255;return Ce}function ne(Ae){return String.fromCharCode(Ae>>24&255,Ae>>16&255,Ae>>8&255,Ae&255)}function se(Ae){return Object.keys(Ae).length}function le(Ae){const ge=Object.create(null);for(const[Ce,Be]of Ae)ge[Ce]=Be;return ge}function he(){const Ae=new Uint8Array(4);return Ae[0]=1,new Uint32Array(Ae.buffer,0,1)[0]===1}function be(){try{return new Function(""),!0}catch{return!1}}class ye{static get isLittleEndian(){return R(this,"isLittleEndian",he())}static get isEvalSupported(){return R(this,"isEvalSupported",be())}static get isOffscreenCanvasSupported(){return R(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?R(this,"platform",{isWin:!1,isMac:!1}):R(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ge,Ce;return R(this,"isCSSRoundSupported",(Ce=(ge=globalThis.CSS)==null?void 0:ge.supports)==null?void 0:Ce.call(ge,"width: round(1.5px, 1px)"))}}o.FeatureTest=ye;const de=[...Array(256).keys()].map(Ae=>Ae.toString(16).padStart(2,"0"));class xe{static makeHexColor(ge,Ce,Be){return`#${de[ge]}${de[Ce]}${de[Be]}`}static scaleMinMax(ge,Ce){let Be;ge[0]?(ge[0]<0&&(Be=Ce[0],Ce[0]=Ce[1],Ce[1]=Be),Ce[0]*=ge[0],Ce[1]*=ge[0],ge[3]<0&&(Be=Ce[2],Ce[2]=Ce[3],Ce[3]=Be),Ce[2]*=ge[3],Ce[3]*=ge[3]):(Be=Ce[0],Ce[0]=Ce[2],Ce[2]=Be,Be=Ce[1],Ce[1]=Ce[3],Ce[3]=Be,ge[1]<0&&(Be=Ce[2],Ce[2]=Ce[3],Ce[3]=Be),Ce[2]*=ge[1],Ce[3]*=ge[1],ge[2]<0&&(Be=Ce[0],Ce[0]=Ce[1],Ce[1]=Be),Ce[0]*=ge[2],Ce[1]*=ge[2]),Ce[0]+=ge[4],Ce[1]+=ge[4],Ce[2]+=ge[5],Ce[3]+=ge[5]}static transform(ge,Ce){return[ge[0]*Ce[0]+ge[2]*Ce[1],ge[1]*Ce[0]+ge[3]*Ce[1],ge[0]*Ce[2]+ge[2]*Ce[3],ge[1]*Ce[2]+ge[3]*Ce[3],ge[0]*Ce[4]+ge[2]*Ce[5]+ge[4],ge[1]*Ce[4]+ge[3]*Ce[5]+ge[5]]}static applyTransform(ge,Ce){const Be=ge[0]*Ce[0]+ge[1]*Ce[2]+Ce[4],Ye=ge[0]*Ce[1]+ge[1]*Ce[3]+Ce[5];return[Be,Ye]}static applyInverseTransform(ge,Ce){const Be=Ce[0]*Ce[3]-Ce[1]*Ce[2],Ye=(ge[0]*Ce[3]-ge[1]*Ce[2]+Ce[2]*Ce[5]-Ce[4]*Ce[3])/Be,Je=(-ge[0]*Ce[1]+ge[1]*Ce[0]+Ce[4]*Ce[1]-Ce[5]*Ce[0])/Be;return[Ye,Je]}static getAxialAlignedBoundingBox(ge,Ce){const Be=this.applyTransform(ge,Ce),Ye=this.applyTransform(ge.slice(2,4),Ce),Je=this.applyTransform([ge[0],ge[3]],Ce),Re=this.applyTransform([ge[2],ge[1]],Ce);return[Math.min(Be[0],Ye[0],Je[0],Re[0]),Math.min(Be[1],Ye[1],Je[1],Re[1]),Math.max(Be[0],Ye[0],Je[0],Re[0]),Math.max(Be[1],Ye[1],Je[1],Re[1])]}static inverseTransform(ge){const Ce=ge[0]*ge[3]-ge[1]*ge[2];return[ge[3]/Ce,-ge[1]/Ce,-ge[2]/Ce,ge[0]/Ce,(ge[2]*ge[5]-ge[4]*ge[3])/Ce,(ge[4]*ge[1]-ge[5]*ge[0])/Ce]}static singularValueDecompose2dScale(ge){const Ce=[ge[0],ge[2],ge[1],ge[3]],Be=ge[0]*Ce[0]+ge[1]*Ce[2],Ye=ge[0]*Ce[1]+ge[1]*Ce[3],Je=ge[2]*Ce[0]+ge[3]*Ce[2],Re=ge[2]*Ce[1]+ge[3]*Ce[3],He=(Be+Re)/2,nt=Math.sqrt((Be+Re)**2-4*(Be*Re-Je*Ye))/2,et=He+nt||1,it=He-nt||1;return[Math.sqrt(et),Math.sqrt(it)]}static normalizeRect(ge){const Ce=ge.slice(0);return ge[0]>ge[2]&&(Ce[0]=ge[2],Ce[2]=ge[0]),ge[1]>ge[3]&&(Ce[1]=ge[3],Ce[3]=ge[1]),Ce}static intersect(ge,Ce){const Be=Math.max(Math.min(ge[0],ge[2]),Math.min(Ce[0],Ce[2])),Ye=Math.min(Math.max(ge[0],ge[2]),Math.max(Ce[0],Ce[2]));if(Be>Ye)return null;const Je=Math.max(Math.min(ge[1],ge[3]),Math.min(Ce[1],Ce[3])),Re=Math.min(Math.max(ge[1],ge[3]),Math.max(Ce[1],Ce[3]));return Je>Re?null:[Be,Je,Ye,Re]}static bezierBoundingBox(ge,Ce,Be,Ye,Je,Re,He,nt){const et=[],it=[[],[]];let qe,lt,rt,Oe,$e,me,Q,pe;for(let De=0;De<2;++De){if(De===0?(lt=6*ge-12*Be+6*Je,qe=-3*ge+9*Be-9*Je+3*He,rt=3*Be-3*ge):(lt=6*Ce-12*Ye+6*Re,qe=-3*Ce+9*Ye-9*Re+3*nt,rt=3*Ye-3*Ce),Math.abs(qe)<1e-12){if(Math.abs(lt)<1e-12)continue;Oe=-rt/lt,0<Oe&&Oe<1&&et.push(Oe);continue}Q=lt*lt-4*rt*qe,pe=Math.sqrt(Q),!(Q<0)&&($e=(-lt+pe)/(2*qe),0<$e&&$e<1&&et.push($e),me=(-lt-pe)/(2*qe),0<me&&me<1&&et.push(me))}let we=et.length,Fe;const Pe=we;for(;we--;)Oe=et[we],Fe=1-Oe,it[0][we]=Fe*Fe*Fe*ge+3*Fe*Fe*Oe*Be+3*Fe*Oe*Oe*Je+Oe*Oe*Oe*He,it[1][we]=Fe*Fe*Fe*Ce+3*Fe*Fe*Oe*Ye+3*Fe*Oe*Oe*Re+Oe*Oe*Oe*nt;return it[0][Pe]=ge,it[1][Pe]=Ce,it[0][Pe+1]=He,it[1][Pe+1]=nt,it[0].length=it[1].length=Pe+2,[Math.min(...it[0]),Math.min(...it[1]),Math.max(...it[0]),Math.max(...it[1])]}}o.Util=xe;const fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ce(Ae){if(Ae[0]>="\xEF"){let Ce;if(Ae[0]==="\xFE"&&Ae[1]==="\xFF"?Ce="utf-16be":Ae[0]==="\xFF"&&Ae[1]==="\xFE"?Ce="utf-16le":Ae[0]==="\xEF"&&Ae[1]==="\xBB"&&Ae[2]==="\xBF"&&(Ce="utf-8"),Ce)try{const Be=new TextDecoder(Ce,{fatal:!0}),Ye=G(Ae);return Be.decode(Ye)}catch(Be){Z(`stringToPDFString: "${Be}".`)}}const ge=[];for(let Ce=0,Be=Ae.length;Ce<Be;Ce++){const Ye=fe[Ae.charCodeAt(Ce)];ge.push(Ye?String.fromCharCode(Ye):Ae.charAt(Ce))}return ge.join("")}function ue(Ae){return decodeURIComponent(escape(Ae))}function ve(Ae){return unescape(encodeURIComponent(Ae))}function Ee(Ae){return typeof Ae=="object"&&(Ae==null?void 0:Ae.byteLength)!==void 0}function Me(Ae,ge){if(Ae.length!==ge.length)return!1;for(let Ce=0,Be=Ae.length;Ce<Be;Ce++)if(Ae[Ce]!==ge[Ce])return!1;return!0}function _e(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Ae.getUTCFullYear().toString(),(Ae.getUTCMonth()+1).toString().padStart(2,"0"),Ae.getUTCDate().toString().padStart(2,"0"),Ae.getUTCHours().toString().padStart(2,"0"),Ae.getUTCMinutes().toString().padStart(2,"0"),Ae.getUTCSeconds().toString().padStart(2,"0")].join("")}class ze{constructor(){Le(this,Te,!1);this.promise=new Promise((ge,Ce)=>{this.resolve=Be=>{Qe(this,Te,!0),ge(Be)},this.reject=Be=>{Qe(this,Te,!0),Ce(Be)}})}get settled(){return ie(this,Te)}}Te=new WeakMap,o.PromiseCapability=ze;let We=null,Ve=null;function Ne(Ae){return We||(We=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ve=new Map([["\uFB05","\u017Ft"]])),Ae.replaceAll(We,(ge,Ce,Be)=>Ce?Ce.normalize("NFKC"):Ve.get(Be))}function ke(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ae=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ae);else for(let ge=0;ge<32;ge++)Ae[ge]=Math.floor(Math.random()*255);return ee(Ae)}const Ie="pdfjs_internal_id_";o.AnnotationPrefix=Ie},(h,o,s)=>{var i=s(3),l=s(4),d=s(69),e=s(70),r="WebAssembly",p=l[r],x=Error("e",{cause:7}).cause!==7,y=function(b,g){var w={};w[b]=e(b,g,x),i({global:!0,constructor:!0,arity:1,forced:x},w)},v=function(b,g){if(p&&p[b]){var w={};w[b]=e(r+"."+b,g,x),i({target:r,stat:!0,constructor:!0,arity:1,forced:x},w)}};y("Error",function(b){return function(w){return d(b,this,arguments)}}),y("EvalError",function(b){return function(w){return d(b,this,arguments)}}),y("RangeError",function(b){return function(w){return d(b,this,arguments)}}),y("ReferenceError",function(b){return function(w){return d(b,this,arguments)}}),y("SyntaxError",function(b){return function(w){return d(b,this,arguments)}}),y("TypeError",function(b){return function(w){return d(b,this,arguments)}}),y("URIError",function(b){return function(w){return d(b,this,arguments)}}),v("CompileError",function(b){return function(w){return d(b,this,arguments)}}),v("LinkError",function(b){return function(w){return d(b,this,arguments)}}),v("RuntimeError",function(b){return function(w){return d(b,this,arguments)}})},(h,o,s)=>{var i=s(4),l=s(5).f,d=s(44),e=s(48),r=s(38),p=s(56),x=s(68);h.exports=function(y,v){var b=y.target,g=y.global,w=y.stat,f,E,A,O,T,D;if(g?E=i:w?E=i[b]||r(b,{}):E=(i[b]||{}).prototype,E)for(A in v){if(T=v[A],y.dontCallGetSet?(D=l(E,A),O=D&&D.value):O=E[A],f=x(g?A:b+(w?".":"#")+A,y.forced),!f&&O!==void 0){if(typeof T==typeof O)continue;p(T,O)}(y.sham||O&&O.sham)&&d(T,"sham",!0),e(E,A,T,y)}}},function(h){var o=function(s){return s&&s.Math===Math&&s};h.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof di=="object"&&di)||function(){return this}()||this||Function("return this")()},(h,o,s)=>{var i=s(6),l=s(8),d=s(10),e=s(11),r=s(12),p=s(18),x=s(39),y=s(42),v=Object.getOwnPropertyDescriptor;o.f=i?v:function(g,w){if(g=r(g),w=p(w),y)try{return v(g,w)}catch{}if(x(g,w))return e(!l(d.f,g,w),g[w])}},(h,o,s)=>{var i=s(7);h.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},h=>{h.exports=function(o){try{return!!o()}catch{return!0}}},(h,o,s)=>{var i=s(9),l=Function.prototype.call;h.exports=i?l.bind(l):function(){return l.apply(l,arguments)}},(h,o,s)=>{var i=s(7);h.exports=!i(function(){var l=function(){}.bind();return typeof l!="function"||l.hasOwnProperty("prototype")})},(h,o)=>{var s={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,l=i&&!s.call({1:2},1);o.f=l?function(e){var r=i(this,e);return!!r&&r.enumerable}:s},h=>{h.exports=function(o,s){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:s}}},(h,o,s)=>{var i=s(13),l=s(16);h.exports=function(d){return i(l(d))}},(h,o,s)=>{var i=s(14),l=s(7),d=s(15),e=Object,r=i("".split);h.exports=l(function(){return!e("z").propertyIsEnumerable(0)})?function(p){return d(p)==="String"?r(p,""):e(p)}:e},(h,o,s)=>{var i=s(9),l=Function.prototype,d=l.call,e=i&&l.bind.bind(d,d);h.exports=i?e:function(r){return function(){return d.apply(r,arguments)}}},(h,o,s)=>{var i=s(14),l=i({}.toString),d=i("".slice);h.exports=function(e){return d(l(e),8,-1)}},(h,o,s)=>{var i=s(17),l=TypeError;h.exports=function(d){if(i(d))throw l("Can't call method on "+d);return d}},h=>{h.exports=function(o){return o==null}},(h,o,s)=>{var i=s(19),l=s(23);h.exports=function(d){var e=i(d,"string");return l(e)?e:e+""}},(h,o,s)=>{var i=s(8),l=s(20),d=s(23),e=s(30),r=s(33),p=s(34),x=TypeError,y=p("toPrimitive");h.exports=function(v,b){if(!l(v)||d(v))return v;var g=e(v,y),w;if(g){if(b===void 0&&(b="default"),w=i(g,v,b),!l(w)||d(w))return w;throw x("Can't convert object to primitive value")}return b===void 0&&(b="number"),r(v,b)}},(h,o,s)=>{var i=s(21),l=s(22),d=l.all;h.exports=l.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:i(e)||e===d}:function(e){return typeof e=="object"?e!==null:i(e)}},(h,o,s)=>{var i=s(22),l=i.all;h.exports=i.IS_HTMLDDA?function(d){return typeof d=="function"||d===l}:function(d){return typeof d=="function"}},h=>{var o=typeof document=="object"&&document.all,s=typeof o>"u"&&o!==void 0;h.exports={all:o,IS_HTMLDDA:s}},(h,o,s)=>{var i=s(24),l=s(21),d=s(25),e=s(26),r=Object;h.exports=e?function(p){return typeof p=="symbol"}:function(p){var x=i("Symbol");return l(x)&&d(x.prototype,r(p))}},(h,o,s)=>{var i=s(4),l=s(21),d=function(e){return l(e)?e:void 0};h.exports=function(e,r){return arguments.length<2?d(i[e]):i[e]&&i[e][r]}},(h,o,s)=>{var i=s(14);h.exports=i({}.isPrototypeOf)},(h,o,s)=>{var i=s(27);h.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(h,o,s)=>{var i=s(28),l=s(7),d=s(4),e=d.String;h.exports=!!Object.getOwnPropertySymbols&&!l(function(){var r=Symbol("symbol detection");return!e(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&i&&i<41})},(h,o,s)=>{var i=s(4),l=s(29),d=i.process,e=i.Deno,r=d&&d.versions||e&&e.version,p=r&&r.v8,x,y;p&&(x=p.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&l&&(x=l.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=l.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),h.exports=y},h=>{h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},(h,o,s)=>{var i=s(31),l=s(17);h.exports=function(d,e){var r=d[e];return l(r)?void 0:i(r)}},(h,o,s)=>{var i=s(21),l=s(32),d=TypeError;h.exports=function(e){if(i(e))return e;throw d(l(e)+" is not a function")}},h=>{var o=String;h.exports=function(s){try{return o(s)}catch{return"Object"}}},(h,o,s)=>{var i=s(8),l=s(21),d=s(20),e=TypeError;h.exports=function(r,p){var x,y;if(p==="string"&&l(x=r.toString)&&!d(y=i(x,r))||l(x=r.valueOf)&&!d(y=i(x,r))||p!=="string"&&l(x=r.toString)&&!d(y=i(x,r)))return y;throw e("Can't convert object to primitive value")}},(h,o,s)=>{var i=s(4),l=s(35),d=s(39),e=s(41),r=s(27),p=s(26),x=i.Symbol,y=l("wks"),v=p?x.for||x:x&&x.withoutSetter||e;h.exports=function(b){return d(y,b)||(y[b]=r&&d(x,b)?x[b]:v("Symbol."+b)),y[b]}},(h,o,s)=>{var i=s(36),l=s(37);(h.exports=function(d,e){return l[d]||(l[d]=e!==void 0?e:{})})("versions",[]).push({version:"3.32.2",mode:i?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},h=>{h.exports=!1},(h,o,s)=>{var i=s(4),l=s(38),d="__core-js_shared__",e=i[d]||l(d,{});h.exports=e},(h,o,s)=>{var i=s(4),l=Object.defineProperty;h.exports=function(d,e){try{l(i,d,{value:e,configurable:!0,writable:!0})}catch{i[d]=e}return e}},(h,o,s)=>{var i=s(14),l=s(40),d=i({}.hasOwnProperty);h.exports=Object.hasOwn||function(r,p){return d(l(r),p)}},(h,o,s)=>{var i=s(16),l=Object;h.exports=function(d){return l(i(d))}},(h,o,s)=>{var i=s(14),l=0,d=Math.random(),e=i(1 .toString);h.exports=function(r){return"Symbol("+(r===void 0?"":r)+")_"+e(++l+d,36)}},(h,o,s)=>{var i=s(6),l=s(7),d=s(43);h.exports=!i&&!l(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!==7})},(h,o,s)=>{var i=s(4),l=s(20),d=i.document,e=l(d)&&l(d.createElement);h.exports=function(r){return e?d.createElement(r):{}}},(h,o,s)=>{var i=s(6),l=s(45),d=s(11);h.exports=i?function(e,r,p){return l.f(e,r,d(1,p))}:function(e,r,p){return e[r]=p,e}},(h,o,s)=>{var i=s(6),l=s(42),d=s(46),e=s(47),r=s(18),p=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v="enumerable",b="configurable",g="writable";o.f=i?d?function(f,E,A){if(e(f),E=r(E),e(A),typeof f=="function"&&E==="prototype"&&"value"in A&&g in A&&!A[g]){var O=y(f,E);O&&O[g]&&(f[E]=A.value,A={configurable:b in A?A[b]:O[b],enumerable:v in A?A[v]:O[v],writable:!1})}return x(f,E,A)}:x:function(f,E,A){if(e(f),E=r(E),e(A),l)try{return x(f,E,A)}catch{}if("get"in A||"set"in A)throw p("Accessors not supported");return"value"in A&&(f[E]=A.value),f}},(h,o,s)=>{var i=s(6),l=s(7);h.exports=i&&l(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},(h,o,s)=>{var i=s(20),l=String,d=TypeError;h.exports=function(e){if(i(e))return e;throw d(l(e)+" is not an object")}},(h,o,s)=>{var i=s(21),l=s(45),d=s(49),e=s(38);h.exports=function(r,p,x,y){y||(y={});var v=y.enumerable,b=y.name!==void 0?y.name:p;if(i(x)&&d(x,b,y),y.global)v?r[p]=x:e(p,x);else{try{y.unsafe?r[p]&&(v=!0):delete r[p]}catch{}v?r[p]=x:l.f(r,p,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return r}},(h,o,s)=>{var i=s(14),l=s(7),d=s(21),e=s(39),r=s(6),p=s(50).CONFIGURABLE,x=s(51),y=s(52),v=y.enforce,b=y.get,g=String,w=Object.defineProperty,f=i("".slice),E=i("".replace),A=i([].join),O=r&&!l(function(){return w(function(){},"length",{value:8}).length!==8}),T=String(String).split("String"),D=h.exports=function(F,C,B){f(g(C),0,7)==="Symbol("&&(C="["+E(g(C),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(C="get "+C),B&&B.setter&&(C="set "+C),(!e(F,"name")||p&&F.name!==C)&&(r?w(F,"name",{value:C,configurable:!0}):F.name=C),O&&B&&e(B,"arity")&&F.length!==B.arity&&w(F,"length",{value:B.arity});try{B&&e(B,"constructor")&&B.constructor?r&&w(F,"prototype",{writable:!1}):F.prototype&&(F.prototype=void 0)}catch{}var M=v(F);return e(M,"source")||(M.source=A(T,typeof C=="string"?C:"")),F};Function.prototype.toString=D(function(){return d(this)&&b(this).source||x(this)},"toString")},(h,o,s)=>{var i=s(6),l=s(39),d=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,r=l(d,"name"),p=r&&function(){}.name==="something",x=r&&(!i||i&&e(d,"name").configurable);h.exports={EXISTS:r,PROPER:p,CONFIGURABLE:x}},(h,o,s)=>{var i=s(14),l=s(21),d=s(37),e=i(Function.toString);l(d.inspectSource)||(d.inspectSource=function(r){return e(r)}),h.exports=d.inspectSource},(h,o,s)=>{var i=s(53),l=s(4),d=s(20),e=s(44),r=s(39),p=s(37),x=s(54),y=s(55),v="Object already initialized",b=l.TypeError,g=l.WeakMap,w,f,E,A=function(F){return E(F)?f(F):w(F,{})},O=function(F){return function(C){var B;if(!d(C)||(B=f(C)).type!==F)throw b("Incompatible receiver, "+F+" required");return B}};if(i||p.state){var T=p.state||(p.state=new g);T.get=T.get,T.has=T.has,T.set=T.set,w=function(F,C){if(T.has(F))throw b(v);return C.facade=F,T.set(F,C),C},f=function(F){return T.get(F)||{}},E=function(F){return T.has(F)}}else{var D=x("state");y[D]=!0,w=function(F,C){if(r(F,D))throw b(v);return C.facade=F,e(F,D,C),C},f=function(F){return r(F,D)?F[D]:{}},E=function(F){return r(F,D)}}h.exports={set:w,get:f,has:E,enforce:A,getterFor:O}},(h,o,s)=>{var i=s(4),l=s(21),d=i.WeakMap;h.exports=l(d)&&/native code/.test(String(d))},(h,o,s)=>{var i=s(35),l=s(41),d=i("keys");h.exports=function(e){return d[e]||(d[e]=l(e))}},h=>{h.exports={}},(h,o,s)=>{var i=s(39),l=s(57),d=s(5),e=s(45);h.exports=function(r,p,x){for(var y=l(p),v=e.f,b=d.f,g=0;g<y.length;g++){var w=y[g];!i(r,w)&&!(x&&i(x,w))&&v(r,w,b(p,w))}}},(h,o,s)=>{var i=s(24),l=s(14),d=s(58),e=s(67),r=s(47),p=l([].concat);h.exports=i("Reflect","ownKeys")||function(y){var v=d.f(r(y)),b=e.f;return b?p(v,b(y)):v}},(h,o,s)=>{var i=s(59),l=s(66),d=l.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(r){return i(r,d)}},(h,o,s)=>{var i=s(14),l=s(39),d=s(12),e=s(60).indexOf,r=s(55),p=i([].push);h.exports=function(x,y){var v=d(x),b=0,g=[],w;for(w in v)!l(r,w)&&l(v,w)&&p(g,w);for(;y.length>b;)l(v,w=y[b++])&&(~e(g,w)||p(g,w));return g}},(h,o,s)=>{var i=s(12),l=s(61),d=s(64),e=function(r){return function(p,x,y){var v=i(p),b=d(v),g=l(y,b),w;if(r&&x!==x){for(;b>g;)if(w=v[g++],w!==w)return!0}else for(;b>g;g++)if((r||g in v)&&v[g]===x)return r||g||0;return!r&&-1}};h.exports={includes:e(!0),indexOf:e(!1)}},(h,o,s)=>{var i=s(62),l=Math.max,d=Math.min;h.exports=function(e,r){var p=i(e);return p<0?l(p+r,0):d(p,r)}},(h,o,s)=>{var i=s(63);h.exports=function(l){var d=+l;return d!==d||d===0?0:i(d)}},h=>{var o=Math.ceil,s=Math.floor;h.exports=Math.trunc||function(l){var d=+l;return(d>0?s:o)(d)}},(h,o,s)=>{var i=s(65);h.exports=function(l){return i(l.length)}},(h,o,s)=>{var i=s(62),l=Math.min;h.exports=function(d){return d>0?l(i(d),9007199254740991):0}},h=>{h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(h,o)=>{o.f=Object.getOwnPropertySymbols},(h,o,s)=>{var i=s(7),l=s(21),d=/#|\.prototype\./,e=function(v,b){var g=p[r(v)];return g===y?!0:g===x?!1:l(b)?i(b):!!b},r=e.normalize=function(v){return String(v).replace(d,".").toLowerCase()},p=e.data={},x=e.NATIVE="N",y=e.POLYFILL="P";h.exports=e},(h,o,s)=>{var i=s(9),l=Function.prototype,d=l.apply,e=l.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(i?e.bind(d):function(){return e.apply(d,arguments)})},(h,o,s)=>{var i=s(24),l=s(39),d=s(44),e=s(25),r=s(71),p=s(56),x=s(74),y=s(75),v=s(76),b=s(80),g=s(81),w=s(6),f=s(36);h.exports=function(E,A,O,T){var D="stackTraceLimit",F=T?2:1,C=E.split("."),B=C[C.length-1],M=i.apply(null,C);if(!!M){var I=M.prototype;if(!f&&l(I,"cause")&&delete I.cause,!O)return M;var W=i("Error"),J=A(function(H,N){var U=v(T?N:H,void 0),Y=T?new M(H):new M;return U!==void 0&&d(Y,"message",U),g(Y,J,Y.stack,2),this&&e(I,this)&&y(Y,this,J),arguments.length>F&&b(Y,arguments[F]),Y});if(J.prototype=I,B!=="Error"?r?r(J,W):p(J,W,{name:!0}):w&&D in M&&(x(J,M,D),x(J,M,"prepareStackTrace")),p(J,M),!f)try{I.name!==B&&d(I,"name",B),I.constructor=J}catch{}return J}}},(h,o,s)=>{var i=s(72),l=s(47),d=s(73);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},p;try{p=i(Object.prototype,"__proto__","set"),p(r,[]),e=r instanceof Array}catch{}return function(y,v){return l(y),d(v),e?p(y,v):y.__proto__=v,y}}():void 0)},(h,o,s)=>{var i=s(14),l=s(31);h.exports=function(d,e,r){try{return i(l(Object.getOwnPropertyDescriptor(d,e)[r]))}catch{}}},(h,o,s)=>{var i=s(21),l=String,d=TypeError;h.exports=function(e){if(typeof e=="object"||i(e))return e;throw d("Can't set "+l(e)+" as a prototype")}},(h,o,s)=>{var i=s(45).f;h.exports=function(l,d,e){e in l||i(l,e,{configurable:!0,get:function(){return d[e]},set:function(r){d[e]=r}})}},(h,o,s)=>{var i=s(21),l=s(20),d=s(71);h.exports=function(e,r,p){var x,y;return d&&i(x=r.constructor)&&x!==p&&l(y=x.prototype)&&y!==p.prototype&&d(e,y),e}},(h,o,s)=>{var i=s(77);h.exports=function(l,d){return l===void 0?arguments.length<2?"":d:i(l)}},(h,o,s)=>{var i=s(78),l=String;h.exports=function(d){if(i(d)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return l(d)}},(h,o,s)=>{var i=s(79),l=s(21),d=s(15),e=s(34),r=e("toStringTag"),p=Object,x=d(function(){return arguments}())==="Arguments",y=function(v,b){try{return v[b]}catch{}};h.exports=i?d:function(v){var b,g,w;return v===void 0?"Undefined":v===null?"Null":typeof(g=y(b=p(v),r))=="string"?g:x?d(b):(w=d(b))==="Object"&&l(b.callee)?"Arguments":w}},(h,o,s)=>{var i=s(34),l=i("toStringTag"),d={};d[l]="z",h.exports=String(d)==="[object z]"},(h,o,s)=>{var i=s(20),l=s(44);h.exports=function(d,e){i(e)&&"cause"in e&&l(d,"cause",e.cause)}},(h,o,s)=>{var i=s(44),l=s(82),d=s(83),e=Error.captureStackTrace;h.exports=function(r,p,x,y){d&&(e?e(r,p):i(r,"stack",l(x,y)))}},(h,o,s)=>{var i=s(14),l=Error,d=i("".replace),e=function(x){return String(l(x).stack)}("zxcasd"),r=/\n\s*at [^:]*:[^\n]*/,p=r.test(e);h.exports=function(x,y){if(p&&typeof x=="string"&&!l.prepareStackTrace)for(;y--;)x=d(x,r,"");return x}},(h,o,s)=>{var i=s(7),l=s(11);h.exports=!i(function(){var d=Error("a");return"stack"in d?(Object.defineProperty(d,"stack",l(1,7)),d.stack!==7):!0})},(h,o,s)=>{var i=s(48),l=s(14),d=s(77),e=s(85),r=URLSearchParams,p=r.prototype,x=l(p.append),y=l(p.delete),v=l(p.forEach),b=l([].push),g=new r("a=1&a=2&b=3");g.delete("a",1),g.delete("b",void 0),g+""!="a=2"&&i(p,"delete",function(w){var f=arguments.length,E=f<2?void 0:arguments[1];if(f&&E===void 0)return y(this,w);var A=[];v(this,function(I,W){b(A,{key:W,value:I})}),e(f,1);for(var O=d(w),T=d(E),D=0,F=0,C=!1,B=A.length,M;D<B;)M=A[D++],C||M.key===O?(C=!0,y(this,M.key)):F++;for(;F<B;)M=A[F++],M.key===O&&M.value===T||x(this,M.key,M.value)},{enumerable:!0,unsafe:!0})},h=>{var o=TypeError;h.exports=function(s,i){if(s<i)throw o("Not enough arguments");return s}},(h,o,s)=>{var i=s(48),l=s(14),d=s(77),e=s(85),r=URLSearchParams,p=r.prototype,x=l(p.getAll),y=l(p.has),v=new r("a=1");(v.has("a",2)||!v.has("a",void 0))&&i(p,"has",function(g){var w=arguments.length,f=w<2?void 0:arguments[1];if(w&&f===void 0)return y(this,g);var E=x(this,g);e(w,1);for(var A=d(f),O=0;O<E.length;)if(E[O++]===A)return!0;return!1},{enumerable:!0,unsafe:!0})},(h,o,s)=>{var i=s(6),l=s(14),d=s(88),e=URLSearchParams.prototype,r=l(e.forEach);i&&!("size"in e)&&d(e,"size",{get:function(){var x=0;return r(this,function(){x++}),x},configurable:!0,enumerable:!0})},(h,o,s)=>{var i=s(49),l=s(45);h.exports=function(d,e,r){return r.get&&i(r.get,e,{getter:!0}),r.set&&i(r.set,e,{setter:!0}),l.f(d,e,r)}},(h,o,s)=>{var i=s(3),l=s(40),d=s(64),e=s(90),r=s(92),p=s(7),x=p(function(){return[].push.call({length:4294967296},1)!==4294967297}),y=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(b){return b instanceof TypeError}},v=x||!y();i({target:"Array",proto:!0,arity:1,forced:v},{push:function(g){var w=l(this),f=d(w),E=arguments.length;r(f+E);for(var A=0;A<E;A++)w[f]=arguments[A],f++;return e(w,f),f}})},(h,o,s)=>{var i=s(6),l=s(91),d=TypeError,e=Object.getOwnPropertyDescriptor,r=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(p){return p instanceof TypeError}}();h.exports=r?function(p,x){if(l(p)&&!e(p,"length").writable)throw d("Cannot set read only .length");return p.length=x}:function(p,x){return p.length=x}},(h,o,s)=>{var i=s(15);h.exports=Array.isArray||function(d){return i(d)==="Array"}},h=>{var o=TypeError,s=9007199254740991;h.exports=function(i){if(i>s)throw o("Maximum allowed index exceeded");return i}},(h,o,s)=>{var i=s(94),l=s(98).findLast,d=i.aTypedArray,e=i.exportTypedArrayMethod;e("findLast",function(p){return l(d(this),p,arguments.length>1?arguments[1]:void 0)})},(h,o,s)=>{var i=s(95),l=s(6),d=s(4),e=s(21),r=s(20),p=s(39),x=s(78),y=s(32),v=s(44),b=s(48),g=s(88),w=s(25),f=s(96),E=s(71),A=s(34),O=s(41),T=s(52),D=T.enforce,F=T.get,C=d.Int8Array,B=C&&C.prototype,M=d.Uint8ClampedArray,I=M&&M.prototype,W=C&&f(C),J=B&&f(B),H=Object.prototype,N=d.TypeError,U=A("toStringTag"),Y=O("TYPED_ARRAY_TAG"),_="TypedArrayConstructor",V=i&&!!E&&x(d.opera)!=="Opera",Z=!1,q,re,oe,ae={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R={BigInt64Array:8,BigUint64Array:8},S=function(ee){if(!r(ee))return!1;var G=x(ee);return G==="DataView"||p(ae,G)||p(R,G)},L=function(X){var ee=f(X);if(!!r(ee)){var G=F(ee);return G&&p(G,_)?G[_]:L(ee)}},k=function(X){if(!r(X))return!1;var ee=x(X);return p(ae,ee)||p(R,ee)},z=function(X){if(k(X))return X;throw N("Target is not a typed array")},P=function(X){if(e(X)&&(!E||w(W,X)))return X;throw N(y(X)+" is not a typed array constructor")},K=function(X,ee,G,ne){if(!!l){if(G)for(var se in ae){var le=d[se];if(le&&p(le.prototype,X))try{delete le.prototype[X]}catch{try{le.prototype[X]=ee}catch{}}}(!J[X]||G)&&b(J,X,G?ee:V&&B[X]||ee,ne)}},te=function(X,ee,G){var ne,se;if(!!l){if(E){if(G){for(ne in ae)if(se=d[ne],se&&p(se,X))try{delete se[X]}catch{}}if(!W[X]||G)try{return b(W,X,G?ee:V&&W[X]||ee)}catch{}else return}for(ne in ae)se=d[ne],se&&(!se[X]||G)&&b(se,X,ee)}};for(q in ae)re=d[q],oe=re&&re.prototype,oe?D(oe)[_]=re:V=!1;for(q in R)re=d[q],oe=re&&re.prototype,oe&&(D(oe)[_]=re);if((!V||!e(W)||W===Function.prototype)&&(W=function(){throw N("Incorrect invocation")},V))for(q in ae)d[q]&&E(d[q],W);if((!V||!J||J===H)&&(J=W.prototype,V))for(q in ae)d[q]&&E(d[q].prototype,J);if(V&&f(I)!==J&&E(I,J),l&&!p(J,U)){Z=!0,g(J,U,{configurable:!0,get:function(){return r(this)?this[Y]:void 0}});for(q in ae)d[q]&&v(d[q],Y,q)}h.exports={NATIVE_ARRAY_BUFFER_VIEWS:V,TYPED_ARRAY_TAG:Z&&Y,aTypedArray:z,aTypedArrayConstructor:P,exportTypedArrayMethod:K,exportTypedArrayStaticMethod:te,getTypedArrayConstructor:L,isView:S,isTypedArray:k,TypedArray:W,TypedArrayPrototype:J}},h=>{h.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(h,o,s)=>{var i=s(39),l=s(21),d=s(40),e=s(54),r=s(97),p=e("IE_PROTO"),x=Object,y=x.prototype;h.exports=r?x.getPrototypeOf:function(v){var b=d(v);if(i(b,p))return b[p];var g=b.constructor;return l(g)&&b instanceof g?g.prototype:b instanceof x?y:null}},(h,o,s)=>{var i=s(7);h.exports=!i(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},(h,o,s)=>{var i=s(99),l=s(13),d=s(40),e=s(64),r=function(p){var x=p===1;return function(y,v,b){for(var g=d(y),w=l(g),f=i(v,b),E=e(w),A,O;E-- >0;)if(A=w[E],O=f(A,E,g),O)switch(p){case 0:return A;case 1:return E}return x?-1:void 0}};h.exports={findLast:r(0),findLastIndex:r(1)}},(h,o,s)=>{var i=s(100),l=s(31),d=s(9),e=i(i.bind);h.exports=function(r,p){return l(r),p===void 0?r:d?e(r,p):function(){return r.apply(p,arguments)}}},(h,o,s)=>{var i=s(15),l=s(14);h.exports=function(d){if(i(d)==="Function")return l(d)}},(h,o,s)=>{var i=s(94),l=s(98).findLastIndex,d=i.aTypedArray,e=i.exportTypedArrayMethod;e("findLastIndex",function(p){return l(d(this),p,arguments.length>1?arguments[1]:void 0)})},(h,o,s)=>{var i=s(4),l=s(8),d=s(94),e=s(64),r=s(103),p=s(40),x=s(7),y=i.RangeError,v=i.Int8Array,b=v&&v.prototype,g=b&&b.set,w=d.aTypedArray,f=d.exportTypedArrayMethod,E=!x(function(){var O=new Uint8ClampedArray(2);return l(g,O,{length:1,0:3},1),O[1]!==3}),A=E&&d.NATIVE_ARRAY_BUFFER_VIEWS&&x(function(){var O=new v(2);return O.set(1),O.set("2",1),O[0]!==0||O[1]!==2});f("set",function(T){w(this);var D=r(arguments.length>1?arguments[1]:void 0,1),F=p(T);if(E)return l(g,this,F,D);var C=this.length,B=e(F),M=0;if(B+D>C)throw y("Wrong length");for(;M<B;)this[D+M]=F[M++]},!E||A)},(h,o,s)=>{var i=s(104),l=RangeError;h.exports=function(d,e){var r=i(d);if(r%e)throw l("Wrong offset");return r}},(h,o,s)=>{var i=s(62),l=RangeError;h.exports=function(d){var e=i(d);if(e<0)throw l("The argument can't be less than 0");return e}},(h,o,s)=>{var i=s(106),l=s(94),d=l.aTypedArray,e=l.exportTypedArrayMethod,r=l.getTypedArrayConstructor;e("toReversed",function(){return i(d(this),r(this))})},(h,o,s)=>{var i=s(64);h.exports=function(l,d){for(var e=i(l),r=new d(e),p=0;p<e;p++)r[p]=l[e-p-1];return r}},(h,o,s)=>{var i=s(94),l=s(14),d=s(31),e=s(108),r=i.aTypedArray,p=i.getTypedArrayConstructor,x=i.exportTypedArrayMethod,y=l(i.TypedArrayPrototype.sort);x("toSorted",function(b){b!==void 0&&d(b);var g=r(this),w=e(p(g),g);return y(w,b)})},(h,o,s)=>{var i=s(64);h.exports=function(l,d){for(var e=0,r=i(d),p=new l(r);r>e;)p[e]=d[e++];return p}},(h,o,s)=>{var i=s(110),l=s(94),d=s(111),e=s(62),r=s(112),p=l.aTypedArray,x=l.getTypedArrayConstructor,y=l.exportTypedArrayMethod,v=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(b){return b===8}}();y("with",function(b,g){var w=p(this),f=e(b),E=d(w)?r(g):+g;return i(w,x(w),f,E)},!v)},(h,o,s)=>{var i=s(64),l=s(62),d=RangeError;h.exports=function(e,r,p,x){var y=i(e),v=l(p),b=v<0?y+v:v;if(b>=y||b<0)throw d("Incorrect index");for(var g=new r(y),w=0;w<y;w++)g[w]=w===b?x:e[w];return g}},(h,o,s)=>{var i=s(78);h.exports=function(l){var d=i(l);return d==="BigInt64Array"||d==="BigUint64Array"}},(h,o,s)=>{var i=s(19),l=TypeError;h.exports=function(d){var e=i(d,"number");if(typeof e=="number")throw l("Can't convert number to bigint");return BigInt(e)}},(h,o,s)=>{var i=s(6),l=s(88),d=s(114),e=ArrayBuffer.prototype;i&&!("detached"in e)&&l(e,"detached",{configurable:!0,get:function(){return d(this)}})},(h,o,s)=>{var i=s(14),l=s(115),d=i(ArrayBuffer.prototype.slice);h.exports=function(e){if(l(e)!==0)return!1;try{return d(e,0,0),!1}catch{return!0}}},(h,o,s)=>{var i=s(72),l=s(15),d=TypeError;h.exports=i(ArrayBuffer.prototype,"byteLength","get")||function(e){if(l(e)!=="ArrayBuffer")throw d("ArrayBuffer expected");return e.byteLength}},(h,o,s)=>{var i=s(3),l=s(117);l&&i({target:"ArrayBuffer",proto:!0},{transfer:function(){return l(this,arguments.length?arguments[0]:void 0,!0)}})},(h,o,s)=>{var i=s(4),l=s(14),d=s(72),e=s(118),r=s(114),p=s(115),x=s(119),y=i.TypeError,v=i.structuredClone,b=i.ArrayBuffer,g=i.DataView,w=Math.min,f=b.prototype,E=g.prototype,A=l(f.slice),O=d(f,"resizable","get"),T=d(f,"maxByteLength","get"),D=l(E.getInt8),F=l(E.setInt8);h.exports=x&&function(C,B,M){var I=p(C),W=B===void 0?I:e(B),J=!O||!O(C);if(r(C))throw y("ArrayBuffer is detached");var H=v(C,{transfer:[C]});if(I===W&&(M||J))return H;if(I>=W&&(!M||J))return A(H,0,W);for(var N=M&&!J&&T?{maxByteLength:T(H)}:void 0,U=new b(W,N),Y=new g(H),_=new g(U),V=w(W,I),Z=0;Z<V;Z++)F(_,Z,D(Y,Z));return U}},(h,o,s)=>{var i=s(62),l=s(65),d=RangeError;h.exports=function(e){if(e===void 0)return 0;var r=i(e),p=l(r);if(r!==p)throw d("Wrong length or index");return p}},(h,o,s)=>{var i=s(4),l=s(7),d=s(28),e=s(120),r=s(121),p=s(122),x=i.structuredClone;h.exports=!!x&&!l(function(){if(r&&d>92||p&&d>94||e&&d>97)return!1;var y=new ArrayBuffer(8),v=x(y,{transfer:[y]});return y.byteLength!==0||v.byteLength!==8})},(h,o,s)=>{var i=s(121),l=s(122);h.exports=!i&&!l&&typeof window=="object"&&typeof document=="object"},h=>{h.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(h,o,s)=>{var i=s(4),l=s(15);h.exports=l(i.process)==="process"},(h,o,s)=>{var i=s(3),l=s(117);l&&i({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return l(this,arguments.length?arguments[0]:void 0,!1)}})},(h,o,s)=>{var z,K,te,X,Os,G,d0,se,le,he,be,de,xe,fe,ce,ue,p0,Ee,Me,od,ze,We;Object.defineProperty(o,"__esModule",{value:!0}),o.RenderTask=o.PDFWorkerUtil=o.PDFWorker=o.PDFPageProxy=o.PDFDocumentProxy=o.PDFDocumentLoadingTask=o.PDFDataRangeTransport=o.LoopbackPort=o.DefaultStandardFontDataFactory=o.DefaultFilterFactory=o.DefaultCanvasFactory=o.DefaultCMapReaderFactory=void 0,Object.defineProperty(o,"SVGGraphics",{enumerable:!0,get:function(){return A.SVGGraphics}}),o.build=void 0,o.getDocument=W,o.version=void 0,s(84),s(86),s(87),s(2),s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123),s(89),s(125),s(136),s(138),s(141),s(143),s(145),s(147),s(149),s(152);var i=s(1),l=s(163),d=s(168),e=s(171),r=s(172),p=s(173),x=s(176),y=s(177),v=s(178),b=s(179),g=s(180),w=s(181),f=s(184),E=s(185),A=s(186),O=s(194);const T=65536,D=100,F=5e3,C=i.isNodeJS?r.NodeCanvasFactory:d.DOMCanvasFactory;o.DefaultCanvasFactory=C;const B=i.isNodeJS?r.NodeCMapReaderFactory:d.DOMCMapReaderFactory;o.DefaultCMapReaderFactory=B;const M=i.isNodeJS?r.NodeFilterFactory:d.DOMFilterFactory;o.DefaultFilterFactory=M;const I=i.isNodeJS?r.NodeStandardFontDataFactory:d.DOMStandardFontDataFactory;o.DefaultStandardFontDataFactory=I;function W(Ne){var bt,Et;if(typeof Ne=="string"||Ne instanceof URL?Ne={url:Ne}:(0,i.isArrayBuffer)(Ne)&&(Ne={data:Ne}),typeof Ne!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Ne.url&&!Ne.data&&!Ne.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ke=new U,{docId:Ie}=ke,Te=Ne.url?H(Ne.url):null,Ae=Ne.data?N(Ne.data):null,ge=Ne.httpHeaders||null,Ce=Ne.withCredentials===!0,Be=(bt=Ne.password)!=null?bt:null,Ye=Ne.range instanceof Y?Ne.range:null,Je=Number.isInteger(Ne.rangeChunkSize)&&Ne.rangeChunkSize>0?Ne.rangeChunkSize:T;let Re=Ne.worker instanceof re?Ne.worker:null;const He=Ne.verbosity,nt=typeof Ne.docBaseUrl=="string"&&!(0,d.isDataScheme)(Ne.docBaseUrl)?Ne.docBaseUrl:null,et=typeof Ne.cMapUrl=="string"?Ne.cMapUrl:null,it=Ne.cMapPacked!==!1,qe=Ne.CMapReaderFactory||B,lt=typeof Ne.standardFontDataUrl=="string"?Ne.standardFontDataUrl:null,rt=Ne.StandardFontDataFactory||I,Oe=Ne.stopAtErrors!==!0,$e=Number.isInteger(Ne.maxImageSize)&&Ne.maxImageSize>-1?Ne.maxImageSize:-1,me=Ne.isEvalSupported!==!1,Q=typeof Ne.isOffscreenCanvasSupported=="boolean"?Ne.isOffscreenCanvasSupported:!i.isNodeJS,pe=Number.isInteger(Ne.canvasMaxAreaInBytes)?Ne.canvasMaxAreaInBytes:-1,we=typeof Ne.disableFontFace=="boolean"?Ne.disableFontFace:i.isNodeJS,Fe=Ne.fontExtraProperties===!0,Pe=Ne.enableXfa===!0,De=Ne.ownerDocument||globalThis.document,Xe=Ne.disableRange===!0,je=Ne.disableStream===!0,Ze=Ne.disableAutoFetch===!0,ot=Ne.pdfBug===!0,Ke=Ye?Ye.length:(Et=Ne.length)!=null?Et:NaN,Ge=typeof Ne.useSystemFonts=="boolean"?Ne.useSystemFonts:!i.isNodeJS&&!we,tt=typeof Ne.useWorkerFetch=="boolean"?Ne.useWorkerFetch:qe===d.DOMCMapReaderFactory&&rt===d.DOMStandardFontDataFactory&&et&&lt&&(0,d.isValidFetchUrl)(et,document.baseURI)&&(0,d.isValidFetchUrl)(lt,document.baseURI),at=Ne.canvasFactory||new C({ownerDocument:De}),st=Ne.filterFactory||new M({docId:Ie,ownerDocument:De}),ft=null;(0,i.setVerbosityLevel)(He);const pt={canvasFactory:at,filterFactory:st};if(tt||(pt.cMapReaderFactory=new qe({baseUrl:et,isCompressed:it}),pt.standardFontDataFactory=new rt({baseUrl:lt})),!Re){const wt={verbosity:He,port:x.GlobalWorkerOptions.workerPort};Re=wt.port?re.fromPort(wt):new re(wt),ke._worker=Re}const ct={docId:Ie,apiVersion:"3.11.174",data:Ae,password:Be,disableAutoFetch:Ze,rangeChunkSize:Je,length:Ke,docBaseUrl:nt,enableXfa:Pe,evaluatorOptions:{maxImageSize:$e,disableFontFace:we,ignoreErrors:Oe,isEvalSupported:me,isOffscreenCanvasSupported:Q,canvasMaxAreaInBytes:pe,fontExtraProperties:Fe,useSystemFonts:Ge,cMapUrl:tt?et:null,standardFontDataUrl:tt?lt:null}},yt={ignoreErrors:Oe,isEvalSupported:me,disableFontFace:we,fontExtraProperties:Fe,enableXfa:Pe,ownerDocument:De,disableAutoFetch:Ze,pdfBug:ot,styleElement:ft};return Re.promise.then(function(){if(ke.destroyed)throw new Error("Loading aborted");const wt=J(Re,ct),Tt=new Promise(function(Mt){let St;Ye?St=new g.PDFDataTransportStream({length:Ke,initialData:Ye.initialData,progressiveDone:Ye.progressiveDone,contentDispositionFilename:Ye.contentDispositionFilename,disableRange:Xe,disableStream:je},Ye):Ae||(St=(vt=>i.isNodeJS?new E.PDFNodeStream(vt):(0,d.isValidFetchUrl)(vt.url)?new w.PDFFetchStream(vt):new f.PDFNetworkStream(vt))({url:Te,length:Ke,httpHeaders:ge,withCredentials:Ce,rangeChunkSize:Je,disableRange:Xe,disableStream:je})),Mt(St)});return Promise.all([wt,Tt]).then(function(Mt){let[St,Pt]=Mt;if(ke.destroyed)throw new Error("Loading aborted");const vt=new y.MessageHandler(Ie,St,Re.port),Lt=new oe(vt,ke,Pt,yt,pt);ke._transport=Lt,vt.send("Ready",null)})}).catch(ke._capability.reject),ke}async function J(Ne,ke){if(Ne.destroyed)throw new Error("Worker was destroyed");const Ie=await Ne.messageHandler.sendWithPromise("GetDocRequest",ke,ke.data?[ke.data.buffer]:null);if(Ne.destroyed)throw new Error("Worker was destroyed");return Ie}function H(Ne){if(Ne instanceof URL)return Ne.href;try{return new URL(Ne,window.location).href}catch{if(i.isNodeJS&&typeof Ne=="string")return Ne}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function N(Ne){if(i.isNodeJS&&typeof Buffer<"u"&&Ne instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Ne instanceof Uint8Array&&Ne.byteLength===Ne.buffer.byteLength)return Ne;if(typeof Ne=="string")return(0,i.stringToBytes)(Ne);if(typeof Ne=="object"&&!isNaN(Ne==null?void 0:Ne.length)||(0,i.isArrayBuffer)(Ne))return new Uint8Array(Ne);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const P=class{constructor(){this._capability=new i.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Pa(P,z)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ke,Ie,Te;this.destroyed=!0;try{(ke=this._worker)!=null&&ke.port&&(this._worker._pendingDestroy=!0),await((Ie=this._transport)==null?void 0:Ie.destroy())}catch(Ae){throw(Te=this._worker)!=null&&Te.port&&delete this._worker._pendingDestroy,Ae}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let U=P;z=new WeakMap,Le(U,z,0),o.PDFDocumentLoadingTask=U;class Y{constructor(ke,Ie){let Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=ke,this.initialData=Ie,this.progressiveDone=Te,this.contentDispositionFilename=Ae,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new i.PromiseCapability}addRangeListener(ke){this._rangeListeners.push(ke)}addProgressListener(ke){this._progressListeners.push(ke)}addProgressiveReadListener(ke){this._progressiveReadListeners.push(ke)}addProgressiveDoneListener(ke){this._progressiveDoneListeners.push(ke)}onDataRange(ke,Ie){for(const Te of this._rangeListeners)Te(ke,Ie)}onDataProgress(ke,Ie){this._readyCapability.promise.then(()=>{for(const Te of this._progressListeners)Te(ke,Ie)})}onDataProgressiveRead(ke){this._readyCapability.promise.then(()=>{for(const Ie of this._progressiveReadListeners)Ie(ke)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ke of this._progressiveDoneListeners)ke()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ke,Ie){(0,i.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}o.PDFDataRangeTransport=Y;class _{constructor(ke,Ie){this._pdfInfo=ke,this._transport=Ie,Object.defineProperty(this,"getJavaScript",{value:()=>((0,d.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Te=>{if(!Te)return Te;const Ae=[];for(const ge in Te)Ae.push(...Te[ge]);return Ae}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ke){return this._transport.getPage(ke)}getPageIndex(ke){return this._transport.getPageIndex(ke)}getDestinations(){return this._transport.getDestinations()}getDestination(ke){return this._transport.getDestination(ke)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(ke||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}o.PDFDocumentProxy=_;class V{constructor(ke,Ie,Te){Le(this,X);Le(this,G);Le(this,K,null);Le(this,te,!1);let Ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=ke,this._pageInfo=Ie,this._transport=Te,this._stats=Ae?new d.StatTimer:null,this._pdfBug=Ae,this.commonObjs=Te.commonObjs,this.objs=new ae,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:ke,rotation:Ie=this.rotate,offsetX:Te=0,offsetY:Ae=0,dontFlip:ge=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new d.PageViewport({viewBox:this.view,scale:ke,rotation:Ie,offsetX:Te,offsetY:Ae,dontFlip:ge})}getAnnotations(){let{intent:ke="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ie=this._transport.getRenderingIntent(ke);return this._transport.getAnnotations(this._pageIndex,Ie.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ke;return((ke=this._transport._htmlForXfa)==null?void 0:ke.children[this._pageIndex])||null}render(ke){var Oe,$e;let{canvasContext:Ie,viewport:Te,intent:Ae="display",annotationMode:ge=i.AnnotationMode.ENABLE,transform:Ce=null,background:Be=null,optionalContentConfigPromise:Ye=null,annotationCanvasMap:Je=null,pageColors:Re=null,printAnnotationStorage:He=null}=ke;(Oe=this._stats)==null||Oe.time("Overall");const nt=this._transport.getRenderingIntent(Ae,ge,He);Qe(this,te,!1),Ue(this,G,d0).call(this),Ye||(Ye=this._transport.getOptionalContentConfig());let et=this._intentStates.get(nt.cacheKey);et||(et=Object.create(null),this._intentStates.set(nt.cacheKey,et)),et.streamReaderCancelTimeout&&(clearTimeout(et.streamReaderCancelTimeout),et.streamReaderCancelTimeout=null);const it=!!(nt.renderingIntent&i.RenderingIntentFlag.PRINT);et.displayReadyCapability||(et.displayReadyCapability=new i.PromiseCapability,et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($e=this._stats)==null||$e.time("Page Request"),this._pumpOperatorList(nt));const qe=me=>{var Q,pe;et.renderTasks.delete(lt),(this._maybeCleanupAfterRender||it)&&Qe(this,te,!0),Ue(this,X,Os).call(this,!it),me?(lt.capability.reject(me),this._abortOperatorList({intentState:et,reason:me instanceof Error?me:new Error(me)})):lt.capability.resolve(),(Q=this._stats)==null||Q.timeEnd("Rendering"),(pe=this._stats)==null||pe.timeEnd("Overall")},lt=new S({callback:qe,params:{canvasContext:Ie,viewport:Te,transform:Ce,background:Be},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Je,operatorList:et.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!it,pdfBug:this._pdfBug,pageColors:Re});(et.renderTasks||(et.renderTasks=new Set)).add(lt);const rt=lt.task;return Promise.all([et.displayReadyCapability.promise,Ye]).then(me=>{var we;let[Q,pe]=me;if(this.destroyed){qe();return}(we=this._stats)==null||we.time("Rendering"),lt.initializeGraphics({transparency:Q,optionalContentConfig:pe}),lt.operatorListChanged()}).catch(qe),rt}getOperatorList(){var Ye;let{intent:ke="display",annotationMode:Ie=i.AnnotationMode.ENABLE,printAnnotationStorage:Te=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Ae(){Ce.operatorList.lastChunk&&(Ce.opListReadCapability.resolve(Ce.operatorList),Ce.renderTasks.delete(Be))}const ge=this._transport.getRenderingIntent(ke,Ie,Te,!0);let Ce=this._intentStates.get(ge.cacheKey);Ce||(Ce=Object.create(null),this._intentStates.set(ge.cacheKey,Ce));let Be;return Ce.opListReadCapability||(Be=Object.create(null),Be.operatorListChanged=Ae,Ce.opListReadCapability=new i.PromiseCapability,(Ce.renderTasks||(Ce.renderTasks=new Set)).add(Be),Ce.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ye=this._stats)==null||Ye.time("Page Request"),this._pumpOperatorList(ge)),Ce.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:ke=!1,disableNormalization:Ie=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Te=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ke===!0,disableNormalization:Ie===!0},{highWaterMark:Te,size(Ae){return Ae.items.length}})}getTextContent(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(Te=>O.XfaText.textContent(Te));const Ie=this.streamTextContent(ke);return new Promise(function(Te,Ae){function ge(){Ce.read().then(function(Ye){let{value:Je,done:Re}=Ye;if(Re){Te(Be);return}Object.assign(Be.styles,Je.styles),Be.items.push(...Je.items),ge()},Ae)}const Ce=Ie.getReader(),Be={items:[],styles:Object.create(null)};ge()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ke=[];for(const Ie of this._intentStates.values())if(this._abortOperatorList({intentState:Ie,reason:new Error("Page was destroyed."),force:!0}),!Ie.opListReadCapability)for(const Te of Ie.renderTasks)ke.push(Te.completed),Te.cancel();return this.objs.clear(),Qe(this,te,!1),Ue(this,G,d0).call(this),Promise.all(ke)}cleanup(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Qe(this,te,!0);const Ie=Ue(this,X,Os).call(this,!1);return ke&&Ie&&this._stats&&(this._stats=new d.StatTimer),Ie}_startRenderPage(ke,Ie){var Ae,ge;const Te=this._intentStates.get(Ie);!Te||((Ae=this._stats)==null||Ae.timeEnd("Page Request"),(ge=Te.displayReadyCapability)==null||ge.resolve(ke))}_renderPageChunk(ke,Ie){for(let Te=0,Ae=ke.length;Te<Ae;Te++)Ie.operatorList.fnArray.push(ke.fnArray[Te]),Ie.operatorList.argsArray.push(ke.argsArray[Te]);Ie.operatorList.lastChunk=ke.lastChunk,Ie.operatorList.separateAnnots=ke.separateAnnots;for(const Te of Ie.renderTasks)Te.operatorListChanged();ke.lastChunk&&Ue(this,X,Os).call(this,!0)}_pumpOperatorList(ke){let{renderingIntent:Ie,cacheKey:Te,annotationStorageSerializable:Ae}=ke;const{map:ge,transfers:Ce}=Ae,Ye=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Ie,cacheKey:Te,annotationStorage:ge},Ce).getReader(),Je=this._intentStates.get(Te);Je.streamReader=Ye;const Re=()=>{Ye.read().then(He=>{let{value:nt,done:et}=He;if(et){Je.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(nt,Je),Re())},He=>{if(Je.streamReader=null,!this._transport.destroyed){if(Je.operatorList){Je.operatorList.lastChunk=!0;for(const nt of Je.renderTasks)nt.operatorListChanged();Ue(this,X,Os).call(this,!0)}if(Je.displayReadyCapability)Je.displayReadyCapability.reject(He);else if(Je.opListReadCapability)Je.opListReadCapability.reject(He);else throw He}})};Re()}_abortOperatorList(ke){let{intentState:Ie,reason:Te,force:Ae=!1}=ke;if(!!Ie.streamReader){if(Ie.streamReaderCancelTimeout&&(clearTimeout(Ie.streamReaderCancelTimeout),Ie.streamReaderCancelTimeout=null),!Ae){if(Ie.renderTasks.size>0)return;if(Te instanceof d.RenderingCancelledException){let ge=D;Te.extraDelay>0&&Te.extraDelay<1e3&&(ge+=Te.extraDelay),Ie.streamReaderCancelTimeout=setTimeout(()=>{Ie.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Ie,reason:Te,force:!0})},ge);return}}if(Ie.streamReader.cancel(new i.AbortException(Te.message)).catch(()=>{}),Ie.streamReader=null,!this._transport.destroyed){for(const[ge,Ce]of this._intentStates)if(Ce===Ie){this._intentStates.delete(ge);break}this.cleanup()}}}get stats(){return this._stats}}K=new WeakMap,te=new WeakMap,X=new WeakSet,Os=function(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Ue(this,G,d0).call(this),!ie(this,te)||this.destroyed)return!1;if(ke)return Qe(this,K,setTimeout(()=>{Qe(this,K,null),Ue(this,X,Os).call(this,!1)},F)),!1;for(const{renderTasks:Ie,operatorList:Te}of this._intentStates.values())if(Ie.size>0||!Te.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Qe(this,te,!1),!0},G=new WeakSet,d0=function(){ie(this,K)&&(clearTimeout(ie(this,K)),Qe(this,K,null))},o.PDFPageProxy=V;class Z{constructor(){Le(this,se,new Set);Le(this,le,Promise.resolve())}postMessage(ke,Ie){const Te={data:structuredClone(ke,null)};ie(this,le).then(()=>{for(const Ae of ie(this,se))Ae.call(this,Te)})}addEventListener(ke,Ie){ie(this,se).add(Ie)}removeEventListener(ke,Ie){ie(this,se).delete(Ie)}terminate(){ie(this,se).clear()}}se=new WeakMap,le=new WeakMap,o.LoopbackPort=Z;const q={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};o.PDFWorkerUtil=q;{if(i.isNodeJS&&typeof mi=="function")q.isWorkerDisabled=!0,q.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Ne=(he=document==null?void 0:document.currentScript)==null?void 0:he.src;Ne&&(q.fallbackWorkerSrc=Ne.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}q.isSameOrigin=function(Ne,ke){let Ie;try{if(Ie=new URL(Ne),!Ie.origin||Ie.origin==="null")return!1}catch{return!1}const Te=new URL(ke,Ie);return Ie.origin===Te.origin},q.createCDNWrapper=function(Ne){const ke=`importScripts("${Ne}");`;return URL.createObjectURL(new Blob([ke]))}}const ye=class{constructor(){var Ae;let{name:ke=null,port:Ie=null,verbosity:Te=(0,i.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=ke,this.destroyed=!1,this.verbosity=Te,this._readyCapability=new i.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Ie){if((Ae=ie(ye,be))!=null&&Ae.has(Ie))throw new Error("Cannot use more than one PDFWorker per port.");(ie(ye,be)||Qe(ye,be,new WeakMap)).set(Ie,this),this._initializeFromPort(Ie);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ke){this._port=ke,this._messageHandler=new y.MessageHandler("main","worker",ke),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!q.isWorkerDisabled&&!ye._mainThreadWorkerMessageHandler){let{workerSrc:ke}=ye;try{q.isSameOrigin(window.location.href,ke)||(ke=q.createCDNWrapper(new URL(ke,window.location).href));const Ie=new Worker(ke),Te=new y.MessageHandler("main","worker",Ie),Ae=()=>{Ie.removeEventListener("error",ge),Te.destroy(),Ie.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ge=()=>{this._webWorker||Ae()};Ie.addEventListener("error",ge),Te.on("test",Be=>{if(Ie.removeEventListener("error",ge),this.destroyed){Ae();return}Be?(this._messageHandler=Te,this._port=Ie,this._webWorker=Ie,this._readyCapability.resolve(),Te.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Te.destroy(),Ie.terminate())}),Te.on("ready",Be=>{if(Ie.removeEventListener("error",ge),this.destroyed){Ae();return}try{Ce()}catch{this._setupFakeWorker()}});const Ce=()=>{const Be=new Uint8Array;Te.send("test",Be,[Be.buffer])};Ce();return}catch{(0,i.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){q.isWorkerDisabled||((0,i.warn)("Setting up fake worker."),q.isWorkerDisabled=!0),ye._setupFakeWorkerGlobal.then(ke=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Ie=new Z;this._port=Ie;const Te=`fake${q.fakeWorkerId++}`,Ae=new y.MessageHandler(Te+"_worker",Te,Ie);ke.setup(Ae,Ie);const ge=new y.MessageHandler(Te,Te+"_worker",Ie);this._messageHandler=ge,this._readyCapability.resolve(),ge.send("configure",{verbosity:this.verbosity})}).catch(ke=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ke.message}".`))})}destroy(){var ke;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ke=ie(ye,be))==null||ke.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ke){var Te;if(!(ke!=null&&ke.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Ie=(Te=ie(this,be))==null?void 0:Te.get(ke.port);if(Ie){if(Ie._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Ie}return new ye(ke)}static get workerSrc(){if(x.GlobalWorkerOptions.workerSrc)return x.GlobalWorkerOptions.workerSrc;if(q.fallbackWorkerSrc!==null)return i.isNodeJS||(0,d.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),q.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ke;try{return((ke=globalThis.pdfjsWorker)==null?void 0:ke.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const ke=async()=>{const Ie=this._mainThreadWorkerMessageHandler;return Ie||(i.isNodeJS&&typeof mi=="function"?require(this.workerSrc).WorkerMessageHandler:(await(0,d.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler))};return(0,i.shadow)(this,"_setupFakeWorkerGlobal",ke())}};let re=ye;be=new WeakMap,Le(re,be,void 0),o.PDFWorker=re;class oe{constructor(ke,Ie,Te,Ae,ge){Le(this,ue);Le(this,de,new Map);Le(this,xe,new Map);Le(this,fe,new Map);Le(this,ce,null);this.messageHandler=ke,this.loadingTask=Ie,this.commonObjs=new ae,this.fontLoader=new e.FontLoader({ownerDocument:Ae.ownerDocument,styleElement:Ae.styleElement}),this._params=Ae,this.canvasFactory=ge.canvasFactory,this.filterFactory=ge.filterFactory,this.cMapReaderFactory=ge.cMapReaderFactory,this.standardFontDataFactory=ge.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Te,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new i.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,i.shadow)(this,"annotationStorage",new l.AnnotationStorage)}getRenderingIntent(ke){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.AnnotationMode.ENABLE,Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ge=i.RenderingIntentFlag.DISPLAY,Ce=l.SerializableEmpty;switch(ke){case"any":ge=i.RenderingIntentFlag.ANY;break;case"display":break;case"print":ge=i.RenderingIntentFlag.PRINT;break;default:(0,i.warn)(`getRenderingIntent - invalid intent: ${ke}`)}switch(Ie){case i.AnnotationMode.DISABLE:ge+=i.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case i.AnnotationMode.ENABLE:break;case i.AnnotationMode.ENABLE_FORMS:ge+=i.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case i.AnnotationMode.ENABLE_STORAGE:ge+=i.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ce=(ge&i.RenderingIntentFlag.PRINT&&Te instanceof l.PrintAnnotationStorage?Te:this.annotationStorage).serializable;break;default:(0,i.warn)(`getRenderingIntent - invalid annotationMode: ${Ie}`)}return Ae&&(ge+=i.RenderingIntentFlag.OPLIST),{renderingIntent:ge,cacheKey:`${ge}_${Ce.hash}`,annotationStorageSerializable:Ce}}destroy(){var Te;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new i.PromiseCapability,(Te=ie(this,ce))==null||Te.reject(new Error("Worker was destroyed during onPassword callback"));const ke=[];for(const Ae of ie(this,xe).values())ke.push(Ae._destroy());ie(this,xe).clear(),ie(this,fe).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ie=this.messageHandler.sendWithPromise("Terminate",null);return ke.push(Ie),Promise.all(ke).then(()=>{var Ae;this.commonObjs.clear(),this.fontLoader.clear(),ie(this,de).clear(),this.filterFactory.destroy(),(Ae=this._networkStream)==null||Ae.cancelAllRequests(new i.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ke,loadingTask:Ie}=this;ke.on("GetReader",(Te,Ae)=>{(0,i.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ge=>{this._lastProgress={loaded:ge.loaded,total:ge.total}},Ae.onPull=()=>{this._fullReader.read().then(function(ge){let{value:Ce,done:Be}=ge;if(Be){Ae.close();return}(0,i.assert)(Ce instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Ae.enqueue(new Uint8Array(Ce),1,[Ce])}).catch(ge=>{Ae.error(ge)})},Ae.onCancel=ge=>{this._fullReader.cancel(ge),Ae.ready.catch(Ce=>{if(!this.destroyed)throw Ce})}}),ke.on("ReaderHeadersReady",Te=>{const Ae=new i.PromiseCapability,ge=this._fullReader;return ge.headersReady.then(()=>{var Ce;(!ge.isStreamingSupported||!ge.isRangeSupported)&&(this._lastProgress&&((Ce=Ie.onProgress)==null||Ce.call(Ie,this._lastProgress)),ge.onProgress=Be=>{var Ye;(Ye=Ie.onProgress)==null||Ye.call(Ie,{loaded:Be.loaded,total:Be.total})}),Ae.resolve({isStreamingSupported:ge.isStreamingSupported,isRangeSupported:ge.isRangeSupported,contentLength:ge.contentLength})},Ae.reject),Ae.promise}),ke.on("GetRangeReader",(Te,Ae)=>{(0,i.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ge=this._networkStream.getRangeReader(Te.begin,Te.end);if(!ge){Ae.close();return}Ae.onPull=()=>{ge.read().then(function(Ce){let{value:Be,done:Ye}=Ce;if(Ye){Ae.close();return}(0,i.assert)(Be instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Ae.enqueue(new Uint8Array(Be),1,[Be])}).catch(Ce=>{Ae.error(Ce)})},Ae.onCancel=Ce=>{ge.cancel(Ce),Ae.ready.catch(Be=>{if(!this.destroyed)throw Be})}}),ke.on("GetDoc",Te=>{let{pdfInfo:Ae}=Te;this._numPages=Ae.numPages,this._htmlForXfa=Ae.htmlForXfa,delete Ae.htmlForXfa,Ie._capability.resolve(new _(Ae,this))}),ke.on("DocException",function(Te){let Ae;switch(Te.name){case"PasswordException":Ae=new i.PasswordException(Te.message,Te.code);break;case"InvalidPDFException":Ae=new i.InvalidPDFException(Te.message);break;case"MissingPDFException":Ae=new i.MissingPDFException(Te.message);break;case"UnexpectedResponseException":Ae=new i.UnexpectedResponseException(Te.message,Te.status);break;case"UnknownErrorException":Ae=new i.UnknownErrorException(Te.message,Te.details);break;default:(0,i.unreachable)("DocException - expected a valid Error.")}Ie._capability.reject(Ae)}),ke.on("PasswordRequest",Te=>{if(Qe(this,ce,new i.PromiseCapability),Ie.onPassword){const Ae=ge=>{ge instanceof Error?ie(this,ce).reject(ge):ie(this,ce).resolve({password:ge})};try{Ie.onPassword(Ae,Te.code)}catch(ge){ie(this,ce).reject(ge)}}else ie(this,ce).reject(new i.PasswordException(Te.message,Te.code));return ie(this,ce).promise}),ke.on("DataLoaded",Te=>{var Ae;(Ae=Ie.onProgress)==null||Ae.call(Ie,{loaded:Te.length,total:Te.length}),this.downloadInfoCapability.resolve(Te)}),ke.on("StartRenderPage",Te=>{if(this.destroyed)return;ie(this,xe).get(Te.pageIndex)._startRenderPage(Te.transparency,Te.cacheKey)}),ke.on("commonobj",Te=>{var Be;let[Ae,ge,Ce]=Te;if(!this.destroyed&&!this.commonObjs.has(Ae))switch(ge){case"Font":const Ye=this._params;if("error"in Ce){const He=Ce.error;(0,i.warn)(`Error during font loading: ${He}`),this.commonObjs.resolve(Ae,He);break}const Je=Ye.pdfBug&&((Be=globalThis.FontInspector)==null?void 0:Be.enabled)?(He,nt)=>globalThis.FontInspector.fontAdded(He,nt):null,Re=new e.FontFaceObject(Ce,{isEvalSupported:Ye.isEvalSupported,disableFontFace:Ye.disableFontFace,ignoreErrors:Ye.ignoreErrors,inspectFont:Je});this.fontLoader.bind(Re).catch(He=>ke.sendWithPromise("FontFallback",{id:Ae})).finally(()=>{!Ye.fontExtraProperties&&Re.data&&(Re.data=null),this.commonObjs.resolve(Ae,Re)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ae,Ce);break;default:throw new Error(`Got unknown common object type ${ge}`)}}),ke.on("obj",Te=>{var Je;let[Ae,ge,Ce,Be]=Te;if(this.destroyed)return;const Ye=ie(this,xe).get(ge);if(!Ye.objs.has(Ae))switch(Ce){case"Image":if(Ye.objs.resolve(Ae,Be),Be){let Re;if(Be.bitmap){const{width:He,height:nt}=Be;Re=He*nt*4}else Re=((Je=Be.data)==null?void 0:Je.length)||0;Re>i.MAX_IMAGE_SIZE_TO_CACHE&&(Ye._maybeCleanupAfterRender=!0)}break;case"Pattern":Ye.objs.resolve(Ae,Be);break;default:throw new Error(`Got unknown object type ${Ce}`)}}),ke.on("DocProgress",Te=>{var Ae;this.destroyed||(Ae=Ie.onProgress)==null||Ae.call(Ie,{loaded:Te.loaded,total:Te.total})}),ke.on("FetchBuiltInCMap",Te=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Te):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ke.on("FetchStandardFontData",Te=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Te):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Te,Ae;this.annotationStorage.size<=0&&(0,i.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ke,transfers:Ie}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ke,filename:(Ae=(Te=this._fullReader)==null?void 0:Te.filename)!=null?Ae:null},Ie).finally(()=>{this.annotationStorage.resetModified()})}getPage(ke){if(!Number.isInteger(ke)||ke<=0||ke>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ie=ke-1,Te=ie(this,fe).get(Ie);if(Te)return Te;const Ae=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ie}).then(ge=>{if(this.destroyed)throw new Error("Transport destroyed");const Ce=new V(Ie,ge,this,this._params.pdfBug);return ie(this,xe).set(Ie,Ce),Ce});return ie(this,fe).set(Ie,Ae),Ae}getPageIndex(ke){return typeof ke!="object"||ke===null||!Number.isInteger(ke.num)||ke.num<0||!Number.isInteger(ke.gen)||ke.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ke.num,gen:ke.gen})}getAnnotations(ke,Ie){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ke,intent:Ie})}getFieldObjects(){return Ue(this,ue,p0).call(this,"GetFieldObjects")}hasJSActions(){return Ue(this,ue,p0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ke){return typeof ke!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ke})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ue(this,ue,p0).call(this,"GetDocJSActions")}getPageJSActions(ke){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ke})}getStructTree(ke){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ke})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ke=>new b.OptionalContentConfig(ke))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ke="GetMetadata",Ie=ie(this,de).get(ke);if(Ie)return Ie;const Te=this.messageHandler.sendWithPromise(ke,null).then(Ae=>{var ge,Ce,Be,Ye;return{info:Ae[0],metadata:Ae[1]?new v.Metadata(Ae[1]):null,contentDispositionFilename:(Ce=(ge=this._fullReader)==null?void 0:ge.filename)!=null?Ce:null,contentLength:(Ye=(Be=this._fullReader)==null?void 0:Be.contentLength)!=null?Ye:null}});return ie(this,de).set(ke,Te),Te}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ie of ie(this,xe).values())if(!Ie.cleanup())throw new Error(`startCleanup: Page ${Ie.pageNumber} is currently rendering.`);this.commonObjs.clear(),ke||this.fontLoader.clear(),ie(this,de).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ke,enableXfa:Ie}=this._params;return(0,i.shadow)(this,"loadingParams",{disableAutoFetch:ke,enableXfa:Ie})}}de=new WeakMap,xe=new WeakMap,fe=new WeakMap,ce=new WeakMap,ue=new WeakSet,p0=function(ke){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Te=ie(this,de).get(ke);if(Te)return Te;const Ae=this.messageHandler.sendWithPromise(ke,Ie);return ie(this,de).set(ke,Ae),Ae};class ae{constructor(){Le(this,Me);Le(this,Ee,Object.create(null))}get(ke){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Ie){const Ae=Ue(this,Me,od).call(this,ke);return Ae.capability.promise.then(()=>Ie(Ae.data)),null}const Te=ie(this,Ee)[ke];if(!(Te!=null&&Te.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ke}.`);return Te.data}has(ke){const Ie=ie(this,Ee)[ke];return(Ie==null?void 0:Ie.capability.settled)||!1}resolve(ke){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Te=Ue(this,Me,od).call(this,ke);Te.data=Ie,Te.capability.resolve()}clear(){var ke;for(const Ie in ie(this,Ee)){const{data:Te}=ie(this,Ee)[Ie];(ke=Te==null?void 0:Te.bitmap)==null||ke.close()}Qe(this,Ee,Object.create(null))}}Ee=new WeakMap,Me=new WeakSet,od=function(ke){var Ie;return(Ie=ie(this,Ee))[ke]||(Ie[ke]={capability:new i.PromiseCapability,data:null})};class R{constructor(ke){Le(this,ze,null);Qe(this,ze,ke),this.onContinue=null}get promise(){return ie(this,ze).capability.promise}cancel(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;ie(this,ze).cancel(null,ke)}get separateAnnots(){const{separateAnnots:ke}=ie(this,ze).operatorList;if(!ke)return!1;const{annotationCanvasMap:Ie}=ie(this,ze);return ke.form||ke.canvas&&(Ie==null?void 0:Ie.size)>0}}ze=new WeakMap,o.RenderTask=R;const Ve=class{constructor(ke){let{callback:Ie,params:Te,objs:Ae,commonObjs:ge,annotationCanvasMap:Ce,operatorList:Be,pageIndex:Ye,canvasFactory:Je,filterFactory:Re,useRequestAnimationFrame:He=!1,pdfBug:nt=!1,pageColors:et=null}=ke;this.callback=Ie,this.params=Te,this.objs=Ae,this.commonObjs=ge,this.annotationCanvasMap=Ce,this.operatorListIdx=null,this.operatorList=Be,this._pageIndex=Ye,this.canvasFactory=Je,this.filterFactory=Re,this._pdfBug=nt,this.pageColors=et,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=He===!0&&typeof window<"u",this.cancelled=!1,this.capability=new i.PromiseCapability,this.task=new R(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Te.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(ke){var Ye,Je;let{transparency:Ie=!1,optionalContentConfig:Te}=ke;if(this.cancelled)return;if(this._canvas){if(ie(Ve,We).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ie(Ve,We).add(this._canvas)}this._pdfBug&&((Ye=globalThis.StepperManager)==null?void 0:Ye.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ae,viewport:ge,transform:Ce,background:Be}=this.params;this.gfx=new p.CanvasGraphics(Ae,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Te},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ce,viewport:ge,transparency:Ie,background:Be}),this.operatorListIdx=0,this.graphicsReady=!0,(Je=this.graphicsReadyCallback)==null||Je.call(this)}cancel(){var Te;let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,(Te=this.gfx)==null||Te.endDrawing(),ie(Ve,We).delete(this._canvas),this.callback(ke||new d.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ie))}operatorListChanged(){var ke;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ke=this.stepper)==null||ke.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ie(Ve,We).delete(this._canvas),this.callback())))}};let S=Ve;We=new WeakMap,Le(S,We,new WeakSet);const L="3.11.174";o.version=L;const k="ce8716743";o.build=k},(h,o,s)=>{var i=s(3),l=s(126),d=s(135);i({target:"Set",proto:!0,real:!0,forced:!d("difference")},{difference:l})},(h,o,s)=>{var i=s(127),l=s(128),d=s(129),e=s(132),r=s(133),p=s(130),x=s(131),y=l.has,v=l.remove;h.exports=function(g){var w=i(this),f=r(g),E=d(w);return e(w)<=f.size?p(w,function(A){f.includes(A)&&v(E,A)}):x(f.getIterator(),function(A){y(w,A)&&v(E,A)}),E}},(h,o,s)=>{var i=s(128).has;h.exports=function(l){return i(l),l}},(h,o,s)=>{var i=s(14),l=Set.prototype;h.exports={Set,add:i(l.add),has:i(l.has),remove:i(l.delete),proto:l}},(h,o,s)=>{var i=s(128),l=s(130),d=i.Set,e=i.add;h.exports=function(r){var p=new d;return l(r,function(x){e(p,x)}),p}},(h,o,s)=>{var i=s(14),l=s(131),d=s(128),e=d.Set,r=d.proto,p=i(r.forEach),x=i(r.keys),y=x(new e).next;h.exports=function(v,b,g){return g?l({iterator:x(v),next:y},b):p(v,b)}},(h,o,s)=>{var i=s(8);h.exports=function(l,d,e){for(var r=e?l:l.iterator,p=l.next,x,y;!(x=i(p,r)).done;)if(y=d(x.value),y!==void 0)return y}},(h,o,s)=>{var i=s(72),l=s(128);h.exports=i(l.proto,"size","get")||function(d){return d.size}},(h,o,s)=>{var i=s(31),l=s(47),d=s(8),e=s(62),r=s(134),p="Invalid size",x=RangeError,y=TypeError,v=Math.max,b=function(g,w,f,E){this.set=g,this.size=w,this.has=f,this.keys=E};b.prototype={getIterator:function(){return r(l(d(this.keys,this.set)))},includes:function(g){return d(this.has,this.set,g)}},h.exports=function(g){l(g);var w=+g.size;if(w!==w)throw y(p);var f=e(w);if(f<0)throw x(p);return new b(g,v(f,0),i(g.has),i(g.keys))}},h=>{h.exports=function(o){return{iterator:o,next:o.next,done:!1}}},(h,o,s)=>{var i=s(24),l=function(d){return{size:d,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};h.exports=function(d){var e=i("Set");try{new e()[d](l(0));try{return new e()[d](l(-1)),!1}catch{return!0}}catch{return!1}}},(h,o,s)=>{var i=s(3),l=s(7),d=s(137),e=s(135),r=!e("intersection")||l(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});i({target:"Set",proto:!0,real:!0,forced:r},{intersection:d})},(h,o,s)=>{var i=s(127),l=s(128),d=s(132),e=s(133),r=s(130),p=s(131),x=l.Set,y=l.add,v=l.has;h.exports=function(g){var w=i(this),f=e(g),E=new x;return d(w)>f.size?p(f.getIterator(),function(A){v(w,A)&&y(E,A)}):r(w,function(A){f.includes(A)&&y(E,A)}),E}},(h,o,s)=>{var i=s(3),l=s(139),d=s(135);i({target:"Set",proto:!0,real:!0,forced:!d("isDisjointFrom")},{isDisjointFrom:l})},(h,o,s)=>{var i=s(127),l=s(128).has,d=s(132),e=s(133),r=s(130),p=s(131),x=s(140);h.exports=function(v){var b=i(this),g=e(v);if(d(b)<=g.size)return r(b,function(f){if(g.includes(f))return!1},!0)!==!1;var w=g.getIterator();return p(w,function(f){if(l(b,f))return x(w,"normal",!1)})!==!1}},(h,o,s)=>{var i=s(8),l=s(47),d=s(30);h.exports=function(e,r,p){var x,y;l(e);try{if(x=d(e,"return"),!x){if(r==="throw")throw p;return p}x=i(x,e)}catch(v){y=!0,x=v}if(r==="throw")throw p;if(y)throw x;return l(x),p}},(h,o,s)=>{var i=s(3),l=s(142),d=s(135);i({target:"Set",proto:!0,real:!0,forced:!d("isSubsetOf")},{isSubsetOf:l})},(h,o,s)=>{var i=s(127),l=s(132),d=s(130),e=s(133);h.exports=function(p){var x=i(this),y=e(p);return l(x)>y.size?!1:d(x,function(v){if(!y.includes(v))return!1},!0)!==!1}},(h,o,s)=>{var i=s(3),l=s(144),d=s(135);i({target:"Set",proto:!0,real:!0,forced:!d("isSupersetOf")},{isSupersetOf:l})},(h,o,s)=>{var i=s(127),l=s(128).has,d=s(132),e=s(133),r=s(131),p=s(140);h.exports=function(y){var v=i(this),b=e(y);if(d(v)<b.size)return!1;var g=b.getIterator();return r(g,function(w){if(!l(v,w))return p(g,"normal",!1)})!==!1}},(h,o,s)=>{var i=s(3),l=s(146),d=s(135);i({target:"Set",proto:!0,real:!0,forced:!d("symmetricDifference")},{symmetricDifference:l})},(h,o,s)=>{var i=s(127),l=s(128),d=s(129),e=s(133),r=s(131),p=l.add,x=l.has,y=l.remove;h.exports=function(b){var g=i(this),w=e(b).getIterator(),f=d(g);return r(w,function(E){x(g,E)?y(f,E):p(f,E)}),f}},(h,o,s)=>{var i=s(3),l=s(148),d=s(135);i({target:"Set",proto:!0,real:!0,forced:!d("union")},{union:l})},(h,o,s)=>{var i=s(127),l=s(128).add,d=s(129),e=s(133),r=s(131);h.exports=function(x){var y=i(this),v=e(x).getIterator(),b=d(y);return r(v,function(g){l(b,g)}),b}},(h,o,s)=>{var i=s(3),l=s(4),d=s(24),e=s(11),r=s(45).f,p=s(39),x=s(150),y=s(75),v=s(76),b=s(151),g=s(82),w=s(6),f=s(36),E="DOMException",A=d("Error"),O=d(E),T=function(){x(this,D);var _=arguments.length,V=v(_<1?void 0:arguments[0]),Z=v(_<2?void 0:arguments[1],"Error"),q=new O(V,Z),re=A(V);return re.name=E,r(q,"stack",e(1,g(re.stack,1))),y(q,this,T),q},D=T.prototype=O.prototype,F="stack"in A(E),C="stack"in new O(1,2),B=O&&w&&Object.getOwnPropertyDescriptor(l,E),M=!!B&&!(B.writable&&B.configurable),I=F&&!M&&!C;i({global:!0,constructor:!0,forced:f||I},{DOMException:I?T:O});var W=d(E),J=W.prototype;if(J.constructor!==W){f||r(J,"constructor",e(1,W));for(var H in b)if(p(b,H)){var N=b[H],U=N.s;p(W,U)||r(W,U,e(6,N.c))}}},(h,o,s)=>{var i=s(25),l=TypeError;h.exports=function(d,e){if(i(e,d))return d;throw l("Incorrect invocation")}},h=>{h.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},(h,o,s)=>{var i=s(36),l=s(3),d=s(4),e=s(24),r=s(14),p=s(7),x=s(41),y=s(21),v=s(153),b=s(17),g=s(20),w=s(23),f=s(154),E=s(47),A=s(78),O=s(39),T=s(159),D=s(44),F=s(64),C=s(85),B=s(160),M=s(162),I=s(128),W=s(83),J=s(119),H=d.Object,N=d.Array,U=d.Date,Y=d.Error,_=d.EvalError,V=d.RangeError,Z=d.ReferenceError,q=d.SyntaxError,re=d.TypeError,oe=d.URIError,ae=d.PerformanceMark,R=d.WebAssembly,S=R&&R.CompileError||Y,L=R&&R.LinkError||Y,k=R&&R.RuntimeError||Y,z=e("DOMException"),P=M.Map,K=M.has,te=M.get,X=M.set,ee=I.Set,G=I.add,ne=e("Object","keys"),se=r([].push),le=r((!0).valueOf),he=r(1 .valueOf),be=r("".valueOf),ye=r(U.prototype.getTime),de=x("structuredClone"),xe="DataCloneError",fe="Transferring",ce=function(Je){return!p(function(){var Re=new d.Set([7]),He=Je(Re),nt=Je(H(7));return He===Re||!He.has(7)||typeof nt!="object"||+nt!=7})&&Je},ue=function(Je,Re){return!p(function(){var He=new Re,nt=Je({a:He,b:He});return!(nt&&nt.a===nt.b&&nt.a instanceof Re&&nt.a.stack===He.stack)})},ve=function(Je){return!p(function(){var Re=Je(new d.AggregateError([1],de,{cause:3}));return Re.name!=="AggregateError"||Re.errors[0]!==1||Re.message!==de||Re.cause!==3})},Ee=d.structuredClone,Me=i||!ue(Ee,Y)||!ue(Ee,z)||!ve(Ee),_e=!Ee&&ce(function(Je){return new ae(de,{detail:Je}).detail}),ze=ce(Ee)||_e,We=function(Je){throw new z("Uncloneable type: "+Je,xe)},Ve=function(Je,Re){throw new z((Re||"Cloning")+" of "+Je+" cannot be properly polyfilled in this engine",xe)},Ne=function(Je,Re){return ze||Ve(Re),ze(Je)},ke=function(){var Je;try{Je=new d.DataTransfer}catch{try{Je=new d.ClipboardEvent("").clipboardData}catch{}}return Je&&Je.items&&Je.files?Je:null},Ie=function(Je,Re,He){if(K(Re,Je))return te(Re,Je);var nt=He||A(Je),et,it,qe,lt,rt,Oe;if(nt==="SharedArrayBuffer")ze?et=ze(Je):et=Je;else{var $e=d.DataView;!$e&&typeof Je.slice!="function"&&Ve("ArrayBuffer");try{if(typeof Je.slice=="function"&&!Je.resizable)et=Je.slice(0);else for(it=Je.byteLength,qe=("maxByteLength"in Je)?{maxByteLength:Je.maxByteLength}:void 0,et=new ArrayBuffer(it,qe),lt=new $e(Je),rt=new $e(et),Oe=0;Oe<it;Oe++)rt.setUint8(Oe,lt.getUint8(Oe))}catch{throw new z("ArrayBuffer is detached",xe)}}return X(Re,Je,et),et},Te=function(Je,Re,He,nt,et){var it=d[Re];return g(it)||Ve(Re),new it(Ie(Je.buffer,et),He,nt)},Ae=function(Je,Re,He){this.object=Je,this.type=Re,this.metadata=He},ge=function(Je,Re,He){if(w(Je)&&We("Symbol"),!g(Je))return Je;if(Re){if(K(Re,Je))return te(Re,Je)}else Re=new P;var nt=A(Je),et,it,qe,lt,rt,Oe,$e,me;switch(nt){case"Array":qe=N(F(Je));break;case"Object":qe={};break;case"Map":qe=new P;break;case"Set":qe=new ee;break;case"RegExp":qe=new RegExp(Je.source,B(Je));break;case"Error":switch(it=Je.name,it){case"AggregateError":qe=e("AggregateError")([]);break;case"EvalError":qe=_();break;case"RangeError":qe=V();break;case"ReferenceError":qe=Z();break;case"SyntaxError":qe=q();break;case"TypeError":qe=re();break;case"URIError":qe=oe();break;case"CompileError":qe=S();break;case"LinkError":qe=L();break;case"RuntimeError":qe=k();break;default:qe=Y()}break;case"DOMException":qe=new z(Je.message,Je.name);break;case"ArrayBuffer":case"SharedArrayBuffer":qe=He?new Ae(Je,nt):Ie(Je,Re,nt);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Oe=nt==="DataView"?Je.byteLength:Je.length,qe=He?new Ae(Je,nt,{offset:Je.byteOffset,length:Oe}):Te(Je,nt,Je.byteOffset,Oe,Re);break;case"DOMQuad":try{qe=new DOMQuad(ge(Je.p1,Re,He),ge(Je.p2,Re,He),ge(Je.p3,Re,He),ge(Je.p4,Re,He))}catch{qe=Ne(Je,nt)}break;case"File":if(ze)try{qe=ze(Je),A(qe)!==nt&&(qe=void 0)}catch{}if(!qe)try{qe=new File([Je],Je.name,Je)}catch{}qe||Ve(nt);break;case"FileList":if(lt=ke(),lt){for(rt=0,Oe=F(Je);rt<Oe;rt++)lt.items.add(ge(Je[rt],Re,He));qe=lt.files}else qe=Ne(Je,nt);break;case"ImageData":try{qe=new ImageData(ge(Je.data,Re,He),Je.width,Je.height,{colorSpace:Je.colorSpace})}catch{qe=Ne(Je,nt)}break;default:if(ze)qe=ze(Je);else switch(nt){case"BigInt":qe=H(Je.valueOf());break;case"Boolean":qe=H(le(Je));break;case"Number":qe=H(he(Je));break;case"String":qe=H(be(Je));break;case"Date":qe=new U(ye(Je));break;case"Blob":try{qe=Je.slice(0,Je.size,Je.type)}catch{Ve(nt)}break;case"DOMPoint":case"DOMPointReadOnly":et=d[nt];try{qe=et.fromPoint?et.fromPoint(Je):new et(Je.x,Je.y,Je.z,Je.w)}catch{Ve(nt)}break;case"DOMRect":case"DOMRectReadOnly":et=d[nt];try{qe=et.fromRect?et.fromRect(Je):new et(Je.x,Je.y,Je.width,Je.height)}catch{Ve(nt)}break;case"DOMMatrix":case"DOMMatrixReadOnly":et=d[nt];try{qe=et.fromMatrix?et.fromMatrix(Je):new et(Je)}catch{Ve(nt)}break;case"AudioData":case"VideoFrame":y(Je.clone)||Ve(nt);try{qe=Je.clone()}catch{We(nt)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Ve(nt);default:We(nt)}}switch(X(Re,Je,qe),nt){case"Array":case"Object":for($e=ne(Je),rt=0,Oe=F($e);rt<Oe;rt++)me=$e[rt],T(qe,me,ge(Je[me],Re,He));break;case"Map":Je.forEach(function(Q,pe){X(qe,ge(pe,Re,He),ge(Q,Re,He))});break;case"Set":Je.forEach(function(Q){G(qe,ge(Q,Re,He))});break;case"Error":D(qe,"message",ge(Je.message,Re,He)),O(Je,"cause")&&D(qe,"cause",ge(Je.cause,Re,He)),it==="AggregateError"&&(qe.errors=ge(Je.errors,Re,He));case"DOMException":W&&D(qe,"stack",ge(Je.stack,Re,He))}return qe},Ce=function(Je,Re){if(!g(Je))return Je;if(K(Re,Je))return te(Re,Je);var He,nt,et,it,qe,lt,rt,Oe;if(Je instanceof Ae)switch(He=Je.type,nt=Je.object,He){case"ArrayBuffer":case"SharedArrayBuffer":Oe=Ie(nt,Re,He);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":et=Je.metadata,Oe=Te(nt,He,et.offset,et.length,Re)}else switch(A(Je)){case"Array":case"Object":for(lt=ne(Je),it=0,qe=F(lt);it<qe;it++)rt=lt[it],Je[rt]=Ce(Je[rt],Re);break;case"Map":Oe=new P,Je.forEach(function($e,me){X(Oe,Ce(me,Re),Ce($e,Re))});break;case"Set":Oe=new ee,Je.forEach(function($e){G(Oe,Ce($e,Re))});break;case"Error":Je.message=Ce(Je.message,Re),O(Je,"cause")&&(Je.cause=Ce(Je.cause,Re)),Je.name==="AggregateError"&&(Je.errors=Ce(Je.errors,Re));case"DOMException":W&&(Je.stack=Ce(Je.stack,Re))}return X(Re,Je,Oe||Je),Oe||Je},Be=function(Je,Re){if(!g(Je))throw re("Transfer option cannot be converted to a sequence");var He=[];f(Je,function(Q){se(He,E(Q))});for(var nt=0,et=F(He),it=[],qe,lt,rt,Oe,$e,me;nt<et;){if(qe=He[nt++],lt=A(qe),lt==="ArrayBuffer"){se(it,qe);continue}if(K(Re,qe))throw new z("Duplicate transferable",xe);if(J)Oe=Ee(qe,{transfer:[qe]});else switch(lt){case"ImageBitmap":rt=d.OffscreenCanvas,v(rt)||Ve(lt,fe);try{$e=new rt(qe.width,qe.height),me=$e.getContext("bitmaprenderer"),me.transferFromImageBitmap(qe),Oe=$e.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!y(qe.clone)||!y(qe.close))&&Ve(lt,fe);try{Oe=qe.clone(),qe.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Ve(lt,fe)}if(Oe===void 0)throw new z("This object cannot be transferred: "+lt,xe);X(Re,qe,Oe)}return it},Ye=function(Je,Re){for(var He=0,nt=F(Je),et,it;He<nt;){if(et=Je[He++],K(Re,et))throw new z("Duplicate transferable",xe);J?it=Ee(et,{transfer:[et]}):(y(et.transfer)||Ve("ArrayBuffer",fe),it=et.transfer()),X(Re,et,it)}};l({global:!0,enumerable:!0,sham:!J,forced:Me},{structuredClone:function(Re){var He=C(arguments.length,1)>1&&!b(arguments[1])?E(arguments[1]):void 0,nt=He?He.transfer:void 0,et=!1,it,qe;nt!==void 0&&(it=new P,qe=Be(nt,it),et=!!F(qe));var lt=ge(Re,it,et);return et&&(it=new P,Ye(nt,it),lt=Ce(lt,it)),lt}})},(h,o,s)=>{var i=s(14),l=s(7),d=s(21),e=s(78),r=s(24),p=s(51),x=function(){},y=[],v=r("Reflect","construct"),b=/^\s*(?:class|function)\b/,g=i(b.exec),w=!b.exec(x),f=function(O){if(!d(O))return!1;try{return v(x,y,O),!0}catch{return!1}},E=function(O){if(!d(O))return!1;switch(e(O)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return w||!!g(b,p(O))}catch{return!0}};E.sham=!0,h.exports=!v||l(function(){var A;return f(f.call)||!f(Object)||!f(function(){A=!0})||A})?E:f},(h,o,s)=>{var i=s(99),l=s(8),d=s(47),e=s(32),r=s(155),p=s(64),x=s(25),y=s(157),v=s(158),b=s(140),g=TypeError,w=function(E,A){this.stopped=E,this.result=A},f=w.prototype;h.exports=function(E,A,O){var T=O&&O.that,D=!!(O&&O.AS_ENTRIES),F=!!(O&&O.IS_RECORD),C=!!(O&&O.IS_ITERATOR),B=!!(O&&O.INTERRUPTED),M=i(A,T),I,W,J,H,N,U,Y,_=function(Z){return I&&b(I,"normal",Z),new w(!0,Z)},V=function(Z){return D?(d(Z),B?M(Z[0],Z[1],_):M(Z[0],Z[1])):B?M(Z,_):M(Z)};if(F)I=E.iterator;else if(C)I=E;else{if(W=v(E),!W)throw g(e(E)+" is not iterable");if(r(W)){for(J=0,H=p(E);H>J;J++)if(N=V(E[J]),N&&x(f,N))return N;return new w(!1)}I=y(E,W)}for(U=F?E.next:I.next;!(Y=l(U,I)).done;){try{N=V(Y.value)}catch(Z){b(I,"throw",Z)}if(typeof N=="object"&&N&&x(f,N))return N}return new w(!1)}},(h,o,s)=>{var i=s(34),l=s(156),d=i("iterator"),e=Array.prototype;h.exports=function(r){return r!==void 0&&(l.Array===r||e[d]===r)}},h=>{h.exports={}},(h,o,s)=>{var i=s(8),l=s(31),d=s(47),e=s(32),r=s(158),p=TypeError;h.exports=function(x,y){var v=arguments.length<2?r(x):y;if(l(v))return d(i(v,x));throw p(e(x)+" is not iterable")}},(h,o,s)=>{var i=s(78),l=s(30),d=s(17),e=s(156),r=s(34),p=r("iterator");h.exports=function(x){if(!d(x))return l(x,p)||l(x,"@@iterator")||e[i(x)]}},(h,o,s)=>{var i=s(18),l=s(45),d=s(11);h.exports=function(e,r,p){var x=i(r);x in e?l.f(e,x,d(0,p)):e[x]=p}},(h,o,s)=>{var i=s(8),l=s(39),d=s(25),e=s(161),r=RegExp.prototype;h.exports=function(p){var x=p.flags;return x===void 0&&!("flags"in r)&&!l(p,"flags")&&d(r,p)?i(e,p):x}},(h,o,s)=>{var i=s(47);h.exports=function(){var l=i(this),d="";return l.hasIndices&&(d+="d"),l.global&&(d+="g"),l.ignoreCase&&(d+="i"),l.multiline&&(d+="m"),l.dotAll&&(d+="s"),l.unicode&&(d+="u"),l.unicodeSets&&(d+="v"),l.sticky&&(d+="y"),d}},(h,o,s)=>{var i=s(14),l=Map.prototype;h.exports={Map,set:i(l.set),get:i(l.get),has:i(l.has),remove:i(l.delete),proto:l}},(h,o,s)=>{var x,y,v,by,g;Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableEmpty=o.PrintAnnotationStorage=o.AnnotationStorage=void 0,s(89),s(149),s(152);var i=s(1),l=s(164),d=s(170);const e=Object.freeze({map:null,hash:"",transfers:void 0});o.SerializableEmpty=e;class r{constructor(){Le(this,v);Le(this,x,!1);Le(this,y,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(f,E){const A=ie(this,y).get(f);return A===void 0?E:Object.assign(E,A)}getRawValue(f){return ie(this,y).get(f)}remove(f){if(ie(this,y).delete(f),ie(this,y).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const E of ie(this,y).values())if(E instanceof l.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(f,E){const A=ie(this,y).get(f);let O=!1;if(A!==void 0)for(const[T,D]of Object.entries(E))A[T]!==D&&(O=!0,A[T]=D);else O=!0,ie(this,y).set(f,E);O&&Ue(this,v,by).call(this),E instanceof l.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(E.constructor._type)}has(f){return ie(this,y).has(f)}getAll(){return ie(this,y).size>0?(0,i.objectFromMap)(ie(this,y)):null}setAll(f){for(const[E,A]of Object.entries(f))this.setValue(E,A)}get size(){return ie(this,y).size}resetModified(){ie(this,x)&&(Qe(this,x,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new p(this)}get serializable(){if(ie(this,y).size===0)return e;const f=new Map,E=new d.MurmurHash3_64,A=[],O=Object.create(null);let T=!1;for(const[D,F]of ie(this,y)){const C=F instanceof l.AnnotationEditor?F.serialize(!1,O):F;C&&(f.set(D,C),E.update(`${D}:${JSON.stringify(C)}`),T||(T=!!C.bitmap))}if(T)for(const D of f.values())D.bitmap&&A.push(D.bitmap);return f.size>0?{map:f,hash:E.hexdigest(),transfers:A}:e}}x=new WeakMap,y=new WeakMap,v=new WeakSet,by=function(){ie(this,x)||(Qe(this,x,!0),typeof this.onSetModified=="function"&&this.onSetModified())},o.AnnotationStorage=r;class p extends r{constructor(E){super();Le(this,g,void 0);const{map:A,hash:O,transfers:T}=E.serializable,D=structuredClone(A,null);Qe(this,g,{map:D,hash:O,transfers:T})}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ie(this,g)}}g=new WeakMap,o.PrintAnnotationStorage=p},(h,o,s)=>{var p,x,y,v,b,g,w,f,E,A,O,T,D,F,C,cd,M,ld,W,ud,H,hd,U,yy,_,vy,Z,wy,re,fd,ae,Ay;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditor=void 0,s(89),s(2);var i=s(165),l=s(1),d=s(168);const S=class{constructor(k){Le(this,C);Le(this,M);Le(this,H);Le(this,U);Le(this,_);Le(this,Z);Le(this,re);Le(this,ae);Le(this,p,"");Le(this,x,!1);Le(this,y,null);Le(this,v,null);Le(this,b,null);Le(this,g,!1);Le(this,w,null);Le(this,f,this.focusin.bind(this));Le(this,E,this.focusout.bind(this));Le(this,A,!1);Le(this,O,!1);Le(this,T,!1);Ct(this,"_initialOptions",Object.create(null));Ct(this,"_uiManager",null);Ct(this,"_focusEventsAllowed",!0);Ct(this,"_l10nPromise",null);Le(this,D,!1);Le(this,F,S._zIndex++);this.constructor===S&&(0,l.unreachable)("Cannot initialize AnnotationEditor."),this.parent=k.parent,this.id=k.id,this.width=this.height=null,this.pageIndex=k.parent.pageIndex,this.name=k.name,this.div=null,this._uiManager=k.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=k.isCentered,this._structTreeParentId=null;const{rotation:z,rawDims:{pageWidth:P,pageHeight:K,pageX:te,pageY:X}}=this.parent.viewport;this.rotation=z,this.pageRotation=(360+z-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[P,K],this.pageTranslation=[te,X];const[ee,G]=this.parentDimensions;this.x=k.x/ee,this.y=k.y/G,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,l.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(k){const z=new r({id:k.parent.getNextId(),parent:k.parent,uiManager:k._uiManager});z.annotationElementId=k.annotationElementId,z.deleted=!0,z._uiManager.addToAnnotationStorage(z)}static initialize(k){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(S._l10nPromise||(S._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(K=>[K,k.get(K)]))),z!=null&&z.strings)for(const K of z.strings)S._l10nPromise.set(K,k.get(K));if(S._borderLineWidth!==-1)return;const P=getComputedStyle(document.documentElement);S._borderLineWidth=parseFloat(P.getPropertyValue("--outline-width"))||0}static updateDefaultParams(k,z){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(k){return!1}static paste(k,z){(0,l.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return ie(this,D)}set _isDraggable(k){var z;Qe(this,D,k),(z=this.div)==null||z.classList.toggle("draggable",k)}center(){const[k,z]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*z/(k*2),this.y+=this.width*k/(z*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*z/(k*2),this.y-=this.width*k/(z*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(k){this._uiManager.addCommands(k)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ie(this,F)}setParent(k){k!==null&&(this.pageIndex=k.pageIndex,this.pageDimensions=k.pageDimensions),this.parent=k}focusin(k){!this._focusEventsAllowed||(ie(this,A)?Qe(this,A,!1):this.parent.setSelected(this))}focusout(k){var P;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const z=k.relatedTarget;z!=null&&z.closest(`#${this.id}`)||(k.preventDefault(),(P=this.parent)!=null&&P.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(k,z,P,K){const[te,X]=this.parentDimensions;[P,K]=this.screenToPageTranslation(P,K),this.x=(k+P)/te,this.y=(z+K)/X,this.fixAndSetPosition()}translate(k,z){Ue(this,C,cd).call(this,this.parentDimensions,k,z)}translateInPage(k,z){Ue(this,C,cd).call(this,this.pageDimensions,k,z),this.div.scrollIntoView({block:"nearest"})}drag(k,z){const[P,K]=this.parentDimensions;if(this.x+=k/P,this.y+=z/K,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ne,y:se}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ne,se)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:te,y:X}=this;const[ee,G]=Ue(this,M,ld).call(this);te+=ee,X+=G,this.div.style.left=`${(100*te).toFixed(2)}%`,this.div.style.top=`${(100*X).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[k,z]=this.pageDimensions;let{x:P,y:K,width:te,height:X}=this;switch(te*=k,X*=z,P*=k,K*=z,this.rotation){case 0:P=Math.max(0,Math.min(k-te,P)),K=Math.max(0,Math.min(z-X,K));break;case 90:P=Math.max(0,Math.min(k-X,P)),K=Math.min(z,Math.max(te,K));break;case 180:P=Math.min(k,Math.max(te,P)),K=Math.min(z,Math.max(X,K));break;case 270:P=Math.min(k,Math.max(X,P)),K=Math.max(0,Math.min(z-te,K));break}this.x=P/=k,this.y=K/=z;const[ee,G]=Ue(this,M,ld).call(this);P+=ee,K+=G;const{style:ne}=this.div;ne.left=`${(100*P).toFixed(2)}%`,ne.top=`${(100*K).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(k,z){var P;return Ue(P=S,W,ud).call(P,k,z,this.parentRotation)}pageTranslationToScreen(k,z){var P;return Ue(P=S,W,ud).call(P,k,z,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:k,pageDimensions:[z,P]}=this,K=z*k,te=P*k;return l.FeatureTest.isCSSRoundSupported?[Math.round(K),Math.round(te)]:[K,te]}setDims(k,z){var te;const[P,K]=this.parentDimensions;this.div.style.width=`${(100*k/P).toFixed(2)}%`,ie(this,g)||(this.div.style.height=`${(100*z/K).toFixed(2)}%`),(te=ie(this,y))==null||te.classList.toggle("small",k<S.SMALL_EDITOR_SIZE||z<S.SMALL_EDITOR_SIZE)}fixDims(){const{style:k}=this.div,{height:z,width:P}=k,K=P.endsWith("%"),te=!ie(this,g)&&z.endsWith("%");if(K&&te)return;const[X,ee]=this.parentDimensions;K||(k.width=`${(100*parseFloat(P)/X).toFixed(2)}%`),!ie(this,g)&&!te&&(k.height=`${(100*parseFloat(z)/ee).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(ie(this,y))return;const k=Qe(this,y,document.createElement("button"));k.className="altText";const z=await S._l10nPromise.get("editor_alt_text_button_label");k.textContent=z,k.setAttribute("aria-label",z),k.tabIndex="0",k.addEventListener("contextmenu",d.noContextMenu),k.addEventListener("pointerdown",P=>P.stopPropagation()),k.addEventListener("click",P=>{P.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),k.addEventListener("keydown",P=>{P.target===k&&P.key==="Enter"&&(P.preventDefault(),this._uiManager.editAltText(this))}),Ue(this,re,fd).call(this),this.div.append(k),S.SMALL_EDITOR_SIZE||(S.SMALL_EDITOR_SIZE=Math.min(128,Math.round(k.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:ie(this,p),decorative:ie(this,x)}}set altTextData(k){let{altText:z,decorative:P}=k;ie(this,p)===z&&ie(this,x)===P||(Qe(this,p,z),Qe(this,x,P),Ue(this,re,fd).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ie(this,f)),this.div.addEventListener("focusout",ie(this,E));const[k,z]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*z/k).toFixed(2)}%`,this.div.style.maxHeight=`${(100*k/z).toFixed(2)}%`);const[P,K]=this.getInitialTranslation();return this.translate(P,K),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(k){const{isMac:z}=l.FeatureTest.platform;if(k.button!==0||k.ctrlKey&&z){k.preventDefault();return}Qe(this,A,!0),Ue(this,ae,Ay).call(this,k)}moveInDOM(){var k;(k=this.parent)==null||k.moveEditorInDOM(this)}_setParentAndPosition(k,z,P){k.changeParent(this),this.x=z,this.y=P,this.fixAndSetPosition()}getRect(k,z){const P=this.parentScale,[K,te]=this.pageDimensions,[X,ee]=this.pageTranslation,G=k/P,ne=z/P,se=this.x*K,le=this.y*te,he=this.width*K,be=this.height*te;switch(this.rotation){case 0:return[se+G+X,te-le-ne-be+ee,se+G+he+X,te-le-ne+ee];case 90:return[se+ne+X,te-le+G+ee,se+ne+be+X,te-le+G+he+ee];case 180:return[se-G-he+X,te-le+ne+ee,se-G+X,te-le+ne+be+ee];case 270:return[se-ne-be+X,te-le-G-he+ee,se-ne+X,te-le-G+ee];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(k,z){const[P,K,te,X]=k,ee=te-P,G=X-K;switch(this.rotation){case 0:return[P,z-X,ee,G];case 90:return[P,z-K,G,ee];case 180:return[te,z-K,ee,G];case 270:return[te,z-X,G,ee];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Qe(this,T,!0)}disableEditMode(){Qe(this,T,!1)}isInEditMode(){return ie(this,T)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var k,z;(k=this.div)==null||k.addEventListener("focusin",ie(this,f)),(z=this.div)==null||z.addEventListener("focusout",ie(this,E))}serialize(){(0,l.unreachable)("An editor must be serializable")}static deserialize(k,z,P){const K=new this.prototype.constructor({parent:z,id:z.getNextId(),uiManager:P});K.rotation=k.rotation;const[te,X]=K.pageDimensions,[ee,G,ne,se]=K.getRectInCurrentCoords(k.rect,X);return K.x=ee/te,K.y=G/X,K.width=ne/te,K.height=se/X,K}remove(){var k;this.div.removeEventListener("focusin",ie(this,f)),this.div.removeEventListener("focusout",ie(this,E)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(k=ie(this,y))==null||k.remove(),Qe(this,y,null),Qe(this,v,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ue(this,U,yy).call(this),ie(this,w).classList.remove("hidden"))}select(){var k;this.makeResizable(),(k=this.div)==null||k.classList.add("selectedEditor")}unselect(){var k,z,P;(k=ie(this,w))==null||k.classList.add("hidden"),(z=this.div)==null||z.classList.remove("selectedEditor"),(P=this.div)!=null&&P.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(k,z){}disableEditing(){ie(this,y)&&(ie(this,y).hidden=!0)}enableEditing(){ie(this,y)&&(ie(this,y).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return ie(this,O)}set isEditing(k){Qe(this,O,k),this.parent&&(k?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(k,z){Qe(this,g,!0);const P=k/z,{style:K}=this.div;K.aspectRatio=P,K.height="auto"}static get MIN_SIZE(){return 16}};let e=S;p=new WeakMap,x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakMap,T=new WeakMap,D=new WeakMap,F=new WeakMap,C=new WeakSet,cd=function(k,z,P){let[K,te]=k;[z,P]=this.screenToPageTranslation(z,P),this.x+=z/K,this.y+=P/te,this.fixAndSetPosition()},M=new WeakSet,ld=function(){const[k,z]=this.parentDimensions,{_borderLineWidth:P}=S,K=P/k,te=P/z;switch(this.rotation){case 90:return[-K,te];case 180:return[K,te];case 270:return[K,-te];default:return[-K,-te]}},W=new WeakSet,ud=function(k,z,P){switch(P){case 90:return[z,-k];case 180:return[-k,-z];case 270:return[-z,k];default:return[k,z]}},H=new WeakSet,hd=function(k){switch(k){case 90:{const[z,P]=this.pageDimensions;return[0,-z/P,P/z,0]}case 180:return[-1,0,0,-1];case 270:{const[z,P]=this.pageDimensions;return[0,z/P,-P/z,0]}default:return[1,0,0,1]}},U=new WeakSet,yy=function(){if(ie(this,w))return;Qe(this,w,document.createElement("div")),ie(this,w).classList.add("resizers");const k=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||k.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const z of k){const P=document.createElement("div");ie(this,w).append(P),P.classList.add("resizer",z),P.addEventListener("pointerdown",Ue(this,_,vy).bind(this,z)),P.addEventListener("contextmenu",d.noContextMenu)}this.div.prepend(ie(this,w))},_=new WeakSet,vy=function(k,z){z.preventDefault();const{isMac:P}=l.FeatureTest.platform;if(z.button!==0||z.ctrlKey&&P)return;const K=Ue(this,Z,wy).bind(this,k),te=this._isDraggable;this._isDraggable=!1;const X={passive:!0,capture:!0};window.addEventListener("pointermove",K,X);const ee=this.x,G=this.y,ne=this.width,se=this.height,le=this.parent.div.style.cursor,he=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(z.target).cursor;const be=()=>{this._isDraggable=te,window.removeEventListener("pointerup",be),window.removeEventListener("blur",be),window.removeEventListener("pointermove",K,X),this.parent.div.style.cursor=le,this.div.style.cursor=he;const ye=this.x,de=this.y,xe=this.width,fe=this.height;ye===ee&&de===G&&xe===ne&&fe===se||this.addCommands({cmd:()=>{this.width=xe,this.height=fe,this.x=ye,this.y=de;const[ce,ue]=this.parentDimensions;this.setDims(ce*xe,ue*fe),this.fixAndSetPosition()},undo:()=>{this.width=ne,this.height=se,this.x=ee,this.y=G;const[ce,ue]=this.parentDimensions;this.setDims(ce*ne,ue*se),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",be),window.addEventListener("blur",be)},Z=new WeakSet,wy=function(k,z){const[P,K]=this.parentDimensions,te=this.x,X=this.y,ee=this.width,G=this.height,ne=S.MIN_SIZE/P,se=S.MIN_SIZE/K,le=Ce=>Math.round(Ce*1e4)/1e4,he=Ue(this,H,hd).call(this,this.rotation),be=(Ce,Be)=>[he[0]*Ce+he[2]*Be,he[1]*Ce+he[3]*Be],ye=Ue(this,H,hd).call(this,360-this.rotation),de=(Ce,Be)=>[ye[0]*Ce+ye[2]*Be,ye[1]*Ce+ye[3]*Be];let xe,fe,ce=!1,ue=!1;switch(k){case"topLeft":ce=!0,xe=(Ce,Be)=>[0,0],fe=(Ce,Be)=>[Ce,Be];break;case"topMiddle":xe=(Ce,Be)=>[Ce/2,0],fe=(Ce,Be)=>[Ce/2,Be];break;case"topRight":ce=!0,xe=(Ce,Be)=>[Ce,0],fe=(Ce,Be)=>[0,Be];break;case"middleRight":ue=!0,xe=(Ce,Be)=>[Ce,Be/2],fe=(Ce,Be)=>[0,Be/2];break;case"bottomRight":ce=!0,xe=(Ce,Be)=>[Ce,Be],fe=(Ce,Be)=>[0,0];break;case"bottomMiddle":xe=(Ce,Be)=>[Ce/2,Be],fe=(Ce,Be)=>[Ce/2,0];break;case"bottomLeft":ce=!0,xe=(Ce,Be)=>[0,Be],fe=(Ce,Be)=>[Ce,0];break;case"middleLeft":ue=!0,xe=(Ce,Be)=>[0,Be/2],fe=(Ce,Be)=>[Ce,Be/2];break}const ve=xe(ee,G),Ee=fe(ee,G);let Me=be(...Ee);const _e=le(te+Me[0]),ze=le(X+Me[1]);let We=1,Ve=1,[Ne,ke]=this.screenToPageTranslation(z.movementX,z.movementY);if([Ne,ke]=de(Ne/P,ke/K),ce){const Ce=Math.hypot(ee,G);We=Ve=Math.max(Math.min(Math.hypot(Ee[0]-ve[0]-Ne,Ee[1]-ve[1]-ke)/Ce,1/ee,1/G),ne/ee,se/G)}else ue?We=Math.max(ne,Math.min(1,Math.abs(Ee[0]-ve[0]-Ne)))/ee:Ve=Math.max(se,Math.min(1,Math.abs(Ee[1]-ve[1]-ke)))/G;const Ie=le(ee*We),Te=le(G*Ve);Me=be(...fe(Ie,Te));const Ae=_e-Me[0],ge=ze-Me[1];this.width=Ie,this.height=Te,this.x=Ae,this.y=ge,this.setDims(P*Ie,K*Te),this.fixAndSetPosition()},re=new WeakSet,fd=async function(){var P;const k=ie(this,y);if(!k)return;if(!ie(this,p)&&!ie(this,x)){k.classList.remove("done"),(P=ie(this,v))==null||P.remove();return}S._l10nPromise.get("editor_alt_text_edit_button_label").then(K=>{k.setAttribute("aria-label",K)});let z=ie(this,v);if(!z){Qe(this,v,z=document.createElement("span")),z.className="tooltip",z.setAttribute("role","tooltip");const K=z.id=`alt-text-tooltip-${this.id}`;k.setAttribute("aria-describedby",K);const te=100;k.addEventListener("mouseenter",()=>{Qe(this,b,setTimeout(()=>{Qe(this,b,null),ie(this,v).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},te))}),k.addEventListener("mouseleave",()=>{var X;clearTimeout(ie(this,b)),Qe(this,b,null),(X=ie(this,v))==null||X.classList.remove("show")})}k.classList.add("done"),z.innerText=ie(this,x)?await S._l10nPromise.get("editor_alt_text_decorative_tooltip"):ie(this,p),z.parentNode||k.append(z)},ae=new WeakSet,Ay=function(k){if(!this._isDraggable)return;const z=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let P,K;z&&(P={passive:!0,capture:!0},K=X=>{const[ee,G]=this.screenToPageTranslation(X.movementX,X.movementY);this._uiManager.dragSelectedEditors(ee,G)},window.addEventListener("pointermove",K,P));const te=()=>{if(window.removeEventListener("pointerup",te),window.removeEventListener("blur",te),z&&window.removeEventListener("pointermove",K,P),Qe(this,A,!1),!this._uiManager.endDragSession()){const{isMac:X}=l.FeatureTest.platform;k.ctrlKey&&!X||k.shiftKey||k.metaKey&&X?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",te),window.addEventListener("blur",te)},Le(e,W),Ct(e,"_borderLineWidth",-1),Ct(e,"_colorManager",new i.ColorManager),Ct(e,"_zIndex",1),Ct(e,"SMALL_EDITOR_SIZE",0),o.AnnotationEditor=e;class r extends e{constructor(k){super(k),this.annotationElementId=k.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(h,o,s)=>{var g,w,f,E,A,dd,D,F,C,B,M,Sy,J,H,N,U,Y,_,V,Z,q,re,oe,ae,R,S,L,k,z,P,K,te,X,ee,G,ne,se,le,he,be,ye,de,xe,fe,ce,ue,ve,ky,Me,pd,ze,gd,Ve,g0,ke,md,Te,xd,ge,Ur,Be,Jo,Je,Ey,He,Cy,et,bd,qe,Zo,rt,yd;Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardManager=o.CommandManager=o.ColorManager=o.AnnotationEditorUIManager=void 0,o.bindEvents=d,o.opacityToHex=e,s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123),s(2),s(89),s(125),s(136),s(138),s(141),s(143),s(145),s(147),s(166);var i=s(1),l=s(168);function d(me,Q,pe){for(const we of pe)Q.addEventListener(we,me[we].bind(me))}function e(me){return Math.round(Math.min(255,Math.max(1,255*me))).toString(16).padStart(2,"0")}class r{constructor(){Le(this,g,0)}getId(){return`${i.AnnotationEditorPrefix}${Pa(this,g)._++}`}}g=new WeakMap;const T=class{constructor(){Le(this,A);Le(this,w,(0,i.getUuid)());Le(this,f,0);Le(this,E,null)}static get _isSVGFittingCanvas(){const Q='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',we=new OffscreenCanvas(1,3).getContext("2d"),Fe=new Image;Fe.src=Q;const Pe=Fe.decode().then(()=>(we.drawImage(Fe,0,0,1,1,0,0,1,3),new Uint32Array(we.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",Pe)}async getFromFile(Q){const{lastModified:pe,name:we,size:Fe,type:Pe}=Q;return Ue(this,A,dd).call(this,`${pe}_${we}_${Fe}_${Pe}`,Q)}async getFromUrl(Q){return Ue(this,A,dd).call(this,Q,Q)}async getFromId(Q){ie(this,E)||Qe(this,E,new Map);const pe=ie(this,E).get(Q);return pe?pe.bitmap?(pe.refCounter+=1,pe):pe.file?this.getFromFile(pe.file):this.getFromUrl(pe.url):null}getSvgUrl(Q){const pe=ie(this,E).get(Q);return pe!=null&&pe.isSvg?pe.svgUrl:null}deleteId(Q){ie(this,E)||Qe(this,E,new Map);const pe=ie(this,E).get(Q);!pe||(pe.refCounter-=1,pe.refCounter===0&&(pe.bitmap=null))}isValidId(Q){return Q.startsWith(`image_${ie(this,w)}_`)}};let p=T;w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakSet,dd=async function(Q,pe){ie(this,E)||Qe(this,E,new Map);let we=ie(this,E).get(Q);if(we===null)return null;if(we!=null&&we.bitmap)return we.refCounter+=1,we;try{we||(we={bitmap:null,id:`image_${ie(this,w)}_${Pa(this,f)._++}`,refCounter:0,isSvg:!1});let Fe;if(typeof pe=="string"){we.url=pe;const Pe=await fetch(pe);if(!Pe.ok)throw new Error(Pe.statusText);Fe=await Pe.blob()}else Fe=we.file=pe;if(Fe.type==="image/svg+xml"){const Pe=T._isSVGFittingCanvas,De=new FileReader,Xe=new Image,je=new Promise((Ze,ot)=>{Xe.onload=()=>{we.bitmap=Xe,we.isSvg=!0,Ze()},De.onload=async()=>{const Ke=we.svgUrl=De.result;Xe.src=await Pe?`${Ke}#svgView(preserveAspectRatio(none))`:Ke},Xe.onerror=De.onerror=ot});De.readAsDataURL(Fe),await je}else we.bitmap=await createImageBitmap(Fe);we.refCounter=1}catch(Fe){console.error(Fe),we=null}return ie(this,E).set(Q,we),we&&ie(this,E).set(we.id,we),we};class x{constructor(){Le(this,D,[]);Le(this,F,!1);Le(this,C,void 0);Le(this,B,-1);let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;Qe(this,C,Q)}add(Q){let{cmd:pe,undo:we,mustExec:Fe,type:Pe=NaN,overwriteIfSameType:De=!1,keepUndo:Xe=!1}=Q;if(Fe&&pe(),ie(this,F))return;const je={cmd:pe,undo:we,type:Pe};if(ie(this,B)===-1){ie(this,D).length>0&&(ie(this,D).length=0),Qe(this,B,0),ie(this,D).push(je);return}if(De&&ie(this,D)[ie(this,B)].type===Pe){Xe&&(je.undo=ie(this,D)[ie(this,B)].undo),ie(this,D)[ie(this,B)]=je;return}const Ze=ie(this,B)+1;Ze===ie(this,C)?ie(this,D).splice(0,1):(Qe(this,B,Ze),Ze<ie(this,D).length&&ie(this,D).splice(Ze)),ie(this,D).push(je)}undo(){ie(this,B)!==-1&&(Qe(this,F,!0),ie(this,D)[ie(this,B)].undo(),Qe(this,F,!1),Qe(this,B,ie(this,B)-1))}redo(){ie(this,B)<ie(this,D).length-1&&(Qe(this,B,ie(this,B)+1),Qe(this,F,!0),ie(this,D)[ie(this,B)].cmd(),Qe(this,F,!1))}hasSomethingToUndo(){return ie(this,B)!==-1}hasSomethingToRedo(){return ie(this,B)<ie(this,D).length-1}destroy(){Qe(this,D,null)}}D=new WeakMap,F=new WeakMap,C=new WeakMap,B=new WeakMap,o.CommandManager=x;class y{constructor(Q){Le(this,M);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pe}=i.FeatureTest.platform;for(const[we,Fe,Pe={}]of Q)for(const De of we){const Xe=De.startsWith("mac+");pe&&Xe?(this.callbacks.set(De.slice(4),{callback:Fe,options:Pe}),this.allKeys.add(De.split("+").at(-1))):!pe&&!Xe&&(this.callbacks.set(De,{callback:Fe,options:Pe}),this.allKeys.add(De.split("+").at(-1)))}}exec(Q,pe){if(!this.allKeys.has(pe.key))return;const we=this.callbacks.get(Ue(this,M,Sy).call(this,pe));if(!we)return;const{callback:Fe,options:{bubbles:Pe=!1,args:De=[],checker:Xe=null}}=we;Xe&&!Xe(Q,pe)||(Fe.bind(Q,...De)(),Pe||(pe.stopPropagation(),pe.preventDefault()))}}M=new WeakSet,Sy=function(Q){Q.altKey&&this.buffer.push("alt"),Q.ctrlKey&&this.buffer.push("ctrl"),Q.metaKey&&this.buffer.push("meta"),Q.shiftKey&&this.buffer.push("shift"),this.buffer.push(Q.key);const pe=this.buffer.join("+");return this.buffer.length=0,pe},o.KeyboardManager=y;const W=class{get _colors(){const Q=new Map([["CanvasText",null],["Canvas",null]]);return(0,l.getColorValues)(Q),(0,i.shadow)(this,"_colors",Q)}convert(Q){const pe=(0,l.getRGB)(Q);if(!window.matchMedia("(forced-colors: active)").matches)return pe;for(const[we,Fe]of this._colors)if(Fe.every((Pe,De)=>Pe===pe[De]))return W._colorsMapping.get(we);return pe}getHexCode(Q){const pe=this._colors.get(Q);return pe?i.Util.makeHexColor(...pe):Q}};let v=W;Ct(v,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),o.ColorManager=v;const $e=class{constructor(Q,pe,we,Fe,Pe,De){Le(this,ve);Le(this,Me);Le(this,ze);Le(this,Ve);Le(this,ke);Le(this,Te);Le(this,ge);Le(this,Be);Le(this,Je);Le(this,He);Le(this,et);Le(this,qe);Le(this,rt);Le(this,J,null);Le(this,H,new Map);Le(this,N,new Map);Le(this,U,null);Le(this,Y,null);Le(this,_,new x);Le(this,V,0);Le(this,Z,new Set);Le(this,q,null);Le(this,re,null);Le(this,oe,new Set);Le(this,ae,null);Le(this,R,new r);Le(this,S,!1);Le(this,L,!1);Le(this,k,null);Le(this,z,i.AnnotationEditorType.NONE);Le(this,P,new Set);Le(this,K,null);Le(this,te,this.blur.bind(this));Le(this,X,this.focus.bind(this));Le(this,ee,this.copy.bind(this));Le(this,G,this.cut.bind(this));Le(this,ne,this.paste.bind(this));Le(this,se,this.keydown.bind(this));Le(this,le,this.onEditingAction.bind(this));Le(this,he,this.onPageChanging.bind(this));Le(this,be,this.onScaleChanging.bind(this));Le(this,ye,this.onRotationChanging.bind(this));Le(this,de,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Le(this,xe,[0,0]);Le(this,fe,null);Le(this,ce,null);Le(this,ue,null);Qe(this,ce,Q),Qe(this,ue,pe),Qe(this,U,we),this._eventBus=Fe,this._eventBus._on("editingaction",ie(this,le)),this._eventBus._on("pagechanging",ie(this,he)),this._eventBus._on("scalechanging",ie(this,be)),this._eventBus._on("rotationchanging",ie(this,ye)),Qe(this,Y,Pe.annotationStorage),Qe(this,ae,Pe.filterFactory),Qe(this,K,De),this.viewParameters={realScale:l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Q=$e.prototype,pe=Pe=>{const{activeElement:De}=document;return De&&ie(Pe,ce).contains(De)&&Pe.hasSomethingToControl()},we=this.TRANSLATE_SMALL,Fe=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new y([[["ctrl+a","mac+meta+a"],Q.selectAll],[["ctrl+z","mac+meta+z"],Q.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Q.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Q.delete],[["Escape","mac+Escape"],Q.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Q.translateSelectedEditors,{args:[-we,0],checker:pe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Q.translateSelectedEditors,{args:[-Fe,0],checker:pe}],[["ArrowRight","mac+ArrowRight"],Q.translateSelectedEditors,{args:[we,0],checker:pe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Q.translateSelectedEditors,{args:[Fe,0],checker:pe}],[["ArrowUp","mac+ArrowUp"],Q.translateSelectedEditors,{args:[0,-we],checker:pe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Q.translateSelectedEditors,{args:[0,-Fe],checker:pe}],[["ArrowDown","mac+ArrowDown"],Q.translateSelectedEditors,{args:[0,we],checker:pe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Q.translateSelectedEditors,{args:[0,Fe],checker:pe}]]))}destroy(){Ue(this,Ve,g0).call(this),Ue(this,Me,pd).call(this),this._eventBus._off("editingaction",ie(this,le)),this._eventBus._off("pagechanging",ie(this,he)),this._eventBus._off("scalechanging",ie(this,be)),this._eventBus._off("rotationchanging",ie(this,ye));for(const Q of ie(this,N).values())Q.destroy();ie(this,N).clear(),ie(this,H).clear(),ie(this,oe).clear(),Qe(this,J,null),ie(this,P).clear(),ie(this,_).destroy(),ie(this,U).destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",ie(this,K)?ie(this,ae).addHCMFilter(ie(this,K).foreground,ie(this,K).background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(ie(this,ce)).direction)}editAltText(Q){var pe;(pe=ie(this,U))==null||pe.editAltText(this,Q)}onPageChanging(Q){let{pageNumber:pe}=Q;Qe(this,V,pe-1)}focusMainContainer(){ie(this,ce).focus()}findParent(Q,pe){for(const we of ie(this,N).values()){const{x:Fe,y:Pe,width:De,height:Xe}=we.div.getBoundingClientRect();if(Q>=Fe&&Q<=Fe+De&&pe>=Pe&&pe<=Pe+Xe)return we}return null}disableUserSelect(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ie(this,ue).classList.toggle("noUserSelect",Q)}addShouldRescale(Q){ie(this,oe).add(Q)}removeShouldRescale(Q){ie(this,oe).delete(Q)}onScaleChanging(Q){let{scale:pe}=Q;this.commitOrRemove(),this.viewParameters.realScale=pe*l.PixelsPerInch.PDF_TO_CSS_UNITS;for(const we of ie(this,oe))we.onScaleChanging()}onRotationChanging(Q){let{pagesRotation:pe}=Q;this.commitOrRemove(),this.viewParameters.rotation=pe}addToAnnotationStorage(Q){!Q.isEmpty()&&ie(this,Y)&&!ie(this,Y).has(Q.id)&&ie(this,Y).setValue(Q.id,Q)}blur(){if(!this.hasSelection)return;const{activeElement:Q}=document;for(const pe of ie(this,P))if(pe.div.contains(Q)){Qe(this,k,[pe,Q]),pe._focusEventsAllowed=!1;break}}focus(){if(!ie(this,k))return;const[Q,pe]=ie(this,k);Qe(this,k,null),pe.addEventListener("focusin",()=>{Q._focusEventsAllowed=!0},{once:!0}),pe.focus()}addEditListeners(){Ue(this,ze,gd).call(this),Ue(this,ke,md).call(this)}removeEditListeners(){Ue(this,Ve,g0).call(this),Ue(this,Te,xd).call(this)}copy(Q){var we;if(Q.preventDefault(),(we=ie(this,J))==null||we.commitOrRemove(),!this.hasSelection)return;const pe=[];for(const Fe of ie(this,P)){const Pe=Fe.serialize(!0);Pe&&pe.push(Pe)}pe.length!==0&&Q.clipboardData.setData("application/pdfjs",JSON.stringify(pe))}cut(Q){this.copy(Q),this.delete()}paste(Q){Q.preventDefault();const{clipboardData:pe}=Q;for(const Pe of pe.items)for(const De of ie(this,re))if(De.isHandlingMimeForPasting(Pe.type)){De.paste(Pe,this.currentLayer);return}let we=pe.getData("application/pdfjs");if(!we)return;try{we=JSON.parse(we)}catch(Pe){(0,i.warn)(`paste: "${Pe.message}".`);return}if(!Array.isArray(we))return;this.unselectAll();const Fe=this.currentLayer;try{const Pe=[];for(const je of we){const Ze=Fe.deserialize(je);if(!Ze)return;Pe.push(Ze)}const De=()=>{for(const je of Pe)Ue(this,et,bd).call(this,je);Ue(this,rt,yd).call(this,Pe)},Xe=()=>{for(const je of Pe)je.remove()};this.addCommands({cmd:De,undo:Xe,mustExec:!0})}catch(Pe){(0,i.warn)(`paste: "${Pe.message}".`)}}keydown(Q){var pe;(pe=this.getActive())!=null&&pe.shouldGetKeyboardEvents()||$e._keyboardManager.exec(this,Q)}onEditingAction(Q){["undo","redo","delete","selectAll"].includes(Q.name)&&this[Q.name]()}setEditingState(Q){Q?(Ue(this,ve,ky).call(this),Ue(this,ze,gd).call(this),Ue(this,ke,md).call(this),Ue(this,ge,Ur).call(this,{isEditing:ie(this,z)!==i.AnnotationEditorType.NONE,isEmpty:Ue(this,qe,Zo).call(this),hasSomethingToUndo:ie(this,_).hasSomethingToUndo(),hasSomethingToRedo:ie(this,_).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ue(this,Me,pd).call(this),Ue(this,Ve,g0).call(this),Ue(this,Te,xd).call(this),Ue(this,ge,Ur).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Q){if(!ie(this,re)){Qe(this,re,Q);for(const pe of ie(this,re))Ue(this,Be,Jo).call(this,pe.defaultPropertiesToUpdate)}}getId(){return ie(this,R).getId()}get currentLayer(){return ie(this,N).get(ie(this,V))}getLayer(Q){return ie(this,N).get(Q)}get currentPageIndex(){return ie(this,V)}addLayer(Q){ie(this,N).set(Q.pageIndex,Q),ie(this,S)?Q.enable():Q.disable()}removeLayer(Q){ie(this,N).delete(Q.pageIndex)}updateMode(Q){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(ie(this,z)!==Q){if(Qe(this,z,Q),Q===i.AnnotationEditorType.NONE){this.setEditingState(!1),Ue(this,He,Cy).call(this);return}this.setEditingState(!0),Ue(this,Je,Ey).call(this),this.unselectAll();for(const we of ie(this,N).values())we.updateMode(Q);if(!!pe){for(const we of ie(this,H).values())if(we.annotationElementId===pe){this.setSelected(we),we.enterInEditMode();break}}}}updateToolbar(Q){Q!==ie(this,z)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Q})}updateParams(Q,pe){if(!!ie(this,re)){if(Q===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Q);return}for(const we of ie(this,P))we.updateParams(Q,pe);for(const we of ie(this,re))we.updateDefaultParams(Q,pe)}}enableWaiting(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(ie(this,L)!==Q){Qe(this,L,Q);for(const pe of ie(this,N).values())Q?pe.disableClick():pe.enableClick(),pe.div.classList.toggle("waiting",Q)}}getEditors(Q){const pe=[];for(const we of ie(this,H).values())we.pageIndex===Q&&pe.push(we);return pe}getEditor(Q){return ie(this,H).get(Q)}addEditor(Q){ie(this,H).set(Q.id,Q)}removeEditor(Q){var pe;ie(this,H).delete(Q.id),this.unselect(Q),(!Q.annotationElementId||!ie(this,Z).has(Q.annotationElementId))&&((pe=ie(this,Y))==null||pe.remove(Q.id))}addDeletedAnnotationElement(Q){ie(this,Z).add(Q.annotationElementId),Q.deleted=!0}isDeletedAnnotationElement(Q){return ie(this,Z).has(Q)}removeDeletedAnnotationElement(Q){ie(this,Z).delete(Q.annotationElementId),Q.deleted=!1}setActiveEditor(Q){ie(this,J)!==Q&&(Qe(this,J,Q),Q&&Ue(this,Be,Jo).call(this,Q.propertiesToUpdate))}toggleSelected(Q){if(ie(this,P).has(Q)){ie(this,P).delete(Q),Q.unselect(),Ue(this,ge,Ur).call(this,{hasSelectedEditor:this.hasSelection});return}ie(this,P).add(Q),Q.select(),Ue(this,Be,Jo).call(this,Q.propertiesToUpdate),Ue(this,ge,Ur).call(this,{hasSelectedEditor:!0})}setSelected(Q){for(const pe of ie(this,P))pe!==Q&&pe.unselect();ie(this,P).clear(),ie(this,P).add(Q),Q.select(),Ue(this,Be,Jo).call(this,Q.propertiesToUpdate),Ue(this,ge,Ur).call(this,{hasSelectedEditor:!0})}isSelected(Q){return ie(this,P).has(Q)}unselect(Q){Q.unselect(),ie(this,P).delete(Q),Ue(this,ge,Ur).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ie(this,P).size!==0}undo(){ie(this,_).undo(),Ue(this,ge,Ur).call(this,{hasSomethingToUndo:ie(this,_).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ue(this,qe,Zo).call(this)})}redo(){ie(this,_).redo(),Ue(this,ge,Ur).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ie(this,_).hasSomethingToRedo(),isEmpty:Ue(this,qe,Zo).call(this)})}addCommands(Q){ie(this,_).add(Q),Ue(this,ge,Ur).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ue(this,qe,Zo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Q=[...ie(this,P)],pe=()=>{for(const Fe of Q)Fe.remove()},we=()=>{for(const Fe of Q)Ue(this,et,bd).call(this,Fe)};this.addCommands({cmd:pe,undo:we,mustExec:!0})}commitOrRemove(){var Q;(Q=ie(this,J))==null||Q.commitOrRemove()}hasSomethingToControl(){return ie(this,J)||this.hasSelection}selectAll(){for(const Q of ie(this,P))Q.commit();Ue(this,rt,yd).call(this,ie(this,H).values())}unselectAll(){if(ie(this,J)){ie(this,J).commitOrRemove();return}if(!!this.hasSelection){for(const Q of ie(this,P))Q.unselect();ie(this,P).clear(),Ue(this,ge,Ur).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Q,pe){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;ie(this,xe)[0]+=Q,ie(this,xe)[1]+=pe;const[Fe,Pe]=ie(this,xe),De=[...ie(this,P)],Xe=1e3;ie(this,fe)&&clearTimeout(ie(this,fe)),Qe(this,fe,setTimeout(()=>{Qe(this,fe,null),ie(this,xe)[0]=ie(this,xe)[1]=0,this.addCommands({cmd:()=>{for(const je of De)ie(this,H).has(je.id)&&je.translateInPage(Fe,Pe)},undo:()=>{for(const je of De)ie(this,H).has(je.id)&&je.translateInPage(-Fe,-Pe)},mustExec:!1})},Xe));for(const je of De)je.translateInPage(Q,pe)}setUpDragSession(){if(!!this.hasSelection){this.disableUserSelect(!0),Qe(this,q,new Map);for(const Q of ie(this,P))ie(this,q).set(Q,{savedX:Q.x,savedY:Q.y,savedPageIndex:Q.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!ie(this,q))return!1;this.disableUserSelect(!1);const Q=ie(this,q);Qe(this,q,null);let pe=!1;for(const[{x:Fe,y:Pe,pageIndex:De},Xe]of Q)Xe.newX=Fe,Xe.newY=Pe,Xe.newPageIndex=De,pe||(pe=Fe!==Xe.savedX||Pe!==Xe.savedY||De!==Xe.savedPageIndex);if(!pe)return!1;const we=(Fe,Pe,De,Xe)=>{if(ie(this,H).has(Fe.id)){const je=ie(this,N).get(Xe);je?Fe._setParentAndPosition(je,Pe,De):(Fe.pageIndex=Xe,Fe.x=Pe,Fe.y=De)}};return this.addCommands({cmd:()=>{for(const[Fe,{newX:Pe,newY:De,newPageIndex:Xe}]of Q)we(Fe,Pe,De,Xe)},undo:()=>{for(const[Fe,{savedX:Pe,savedY:De,savedPageIndex:Xe}]of Q)we(Fe,Pe,De,Xe)},mustExec:!0}),!0}dragSelectedEditors(Q,pe){if(!!ie(this,q))for(const we of ie(this,q).keys())we.drag(Q,pe)}rebuild(Q){if(Q.parent===null){const pe=this.getLayer(Q.pageIndex);pe?(pe.changeParent(Q),pe.addOrRebuild(Q)):(this.addEditor(Q),this.addToAnnotationStorage(Q),Q.rebuild())}else Q.parent.addOrRebuild(Q)}isActive(Q){return ie(this,J)===Q}getActive(){return ie(this,J)}getMode(){return ie(this,z)}get imageManager(){return(0,i.shadow)(this,"imageManager",new p)}};let b=$e;J=new WeakMap,H=new WeakMap,N=new WeakMap,U=new WeakMap,Y=new WeakMap,_=new WeakMap,V=new WeakMap,Z=new WeakMap,q=new WeakMap,re=new WeakMap,oe=new WeakMap,ae=new WeakMap,R=new WeakMap,S=new WeakMap,L=new WeakMap,k=new WeakMap,z=new WeakMap,P=new WeakMap,K=new WeakMap,te=new WeakMap,X=new WeakMap,ee=new WeakMap,G=new WeakMap,ne=new WeakMap,se=new WeakMap,le=new WeakMap,he=new WeakMap,be=new WeakMap,ye=new WeakMap,de=new WeakMap,xe=new WeakMap,fe=new WeakMap,ce=new WeakMap,ue=new WeakMap,ve=new WeakSet,ky=function(){window.addEventListener("focus",ie(this,X)),window.addEventListener("blur",ie(this,te))},Me=new WeakSet,pd=function(){window.removeEventListener("focus",ie(this,X)),window.removeEventListener("blur",ie(this,te))},ze=new WeakSet,gd=function(){window.addEventListener("keydown",ie(this,se),{capture:!0})},Ve=new WeakSet,g0=function(){window.removeEventListener("keydown",ie(this,se),{capture:!0})},ke=new WeakSet,md=function(){document.addEventListener("copy",ie(this,ee)),document.addEventListener("cut",ie(this,G)),document.addEventListener("paste",ie(this,ne))},Te=new WeakSet,xd=function(){document.removeEventListener("copy",ie(this,ee)),document.removeEventListener("cut",ie(this,G)),document.removeEventListener("paste",ie(this,ne))},ge=new WeakSet,Ur=function(Q){Object.entries(Q).some(we=>{let[Fe,Pe]=we;return ie(this,de)[Fe]!==Pe})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ie(this,de),Q)})},Be=new WeakSet,Jo=function(Q){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Q})},Je=new WeakSet,Ey=function(){if(!ie(this,S)){Qe(this,S,!0);for(const Q of ie(this,N).values())Q.enable()}},He=new WeakSet,Cy=function(){if(this.unselectAll(),ie(this,S)){Qe(this,S,!1);for(const Q of ie(this,N).values())Q.disable()}},et=new WeakSet,bd=function(Q){const pe=ie(this,N).get(Q.pageIndex);pe?pe.addOrRebuild(Q):this.addEditor(Q)},qe=new WeakSet,Zo=function(){if(ie(this,H).size===0)return!0;if(ie(this,H).size===1)for(const Q of ie(this,H).values())return Q.isEmpty();return!1},rt=new WeakSet,yd=function(Q){ie(this,P).clear();for(const pe of Q)pe.isEmpty()||(ie(this,P).add(pe),pe.select());Ue(this,ge,Ur).call(this,{hasSelectedEditor:!0})},Ct(b,"TRANSLATE_SMALL",1),Ct(b,"TRANSLATE_BIG",10),o.AnnotationEditorUIManager=b},(h,o,s)=>{var i=s(3),l=s(6),d=s(4),e=s(24),r=s(14),p=s(8),x=s(21),y=s(20),v=s(91),b=s(39),g=s(77),w=s(64),f=s(159),E=s(7),A=s(167),O=s(27),T=d.JSON,D=d.Number,F=d.SyntaxError,C=T&&T.parse,B=e("Object","keys"),M=Object.getOwnPropertyDescriptor,I=r("".charAt),W=r("".slice),J=r(/./.exec),H=r([].push),N=/^\d$/,U=/^[1-9]$/,Y=/^(?:-|\d)$/,_=/^[\t\n\r ]$/,V=0,Z=1,q=function(k,z){k=g(k);var P=new R(k,0),K=P.parse(),te=K.value,X=P.skip(_,K.end);if(X<k.length)throw F('Unexpected extra character: "'+I(k,X)+'" after the parsed data at: '+X);return x(z)?re({"":te},"",z,K):te},re=function(k,z,P,K){var te=k[z],X=K&&te===K.value,ee=X&&typeof K.source=="string"?{source:K.source}:{},G,ne,se,le,he;if(y(te)){var be=v(te),ye=X?K.nodes:be?[]:{};if(be)for(G=ye.length,se=w(te),le=0;le<se;le++)oe(te,le,re(te,""+le,P,le<G?ye[le]:void 0));else for(ne=B(te),se=w(ne),le=0;le<se;le++)he=ne[le],oe(te,he,re(te,he,P,b(ye,he)?ye[he]:void 0))}return p(P,k,z,te,ee)},oe=function(k,z,P){if(l){var K=M(k,z);if(K&&!K.configurable)return}P===void 0?delete k[z]:f(k,z,P)},ae=function(k,z,P,K){this.value=k,this.end=z,this.source=P,this.nodes=K},R=function(k,z){this.source=k,this.index=z};R.prototype={fork:function(k){return new R(this.source,k)},parse:function(){var k=this.source,z=this.skip(_,this.index),P=this.fork(z),K=I(k,z);if(J(Y,K))return P.number();switch(K){case"{":return P.object();case"[":return P.array();case'"':return P.string();case"t":return P.keyword(!0);case"f":return P.keyword(!1);case"n":return P.keyword(null)}throw F('Unexpected character: "'+K+'" at: '+z)},node:function(k,z,P,K,te){return new ae(z,K,k?null:W(this.source,P,K),te)},object:function(){for(var k=this.source,z=this.index+1,P=!1,K={},te={};z<k.length;){if(z=this.until(['"',"}"],z),I(k,z)==="}"&&!P){z++;break}var X=this.fork(z).string(),ee=X.value;z=X.end,z=this.until([":"],z)+1,z=this.skip(_,z),X=this.fork(z).parse(),f(te,ee,X),f(K,ee,X.value),z=this.until([",","}"],X.end);var G=I(k,z);if(G===",")P=!0,z++;else if(G==="}"){z++;break}}return this.node(Z,K,this.index,z,te)},array:function(){for(var k=this.source,z=this.index+1,P=!1,K=[],te=[];z<k.length;){if(z=this.skip(_,z),I(k,z)==="]"&&!P){z++;break}var X=this.fork(z).parse();if(H(te,X),H(K,X.value),z=this.until([",","]"],X.end),I(k,z)===",")P=!0,z++;else if(I(k,z)==="]"){z++;break}}return this.node(Z,K,this.index,z,te)},string:function(){var k=this.index,z=A(this.source,this.index+1);return this.node(V,z.value,k,z.end)},number:function(){var k=this.source,z=this.index,P=z;if(I(k,P)==="-"&&P++,I(k,P)==="0")P++;else if(J(U,I(k,P)))P=this.skip(N,++P);else throw F("Failed to parse number at: "+P);if(I(k,P)==="."&&(P=this.skip(N,++P)),I(k,P)==="e"||I(k,P)==="E"){P++,(I(k,P)==="+"||I(k,P)==="-")&&P++;var K=P;if(P=this.skip(N,P),K===P)throw F("Failed to parse number's exponent value at: "+P)}return this.node(V,D(W(k,z,P)),z,P)},keyword:function(k){var z=""+k,P=this.index,K=P+z.length;if(W(this.source,P,K)!==z)throw F("Failed to parse value at: "+P);return this.node(V,k,P,K)},skip:function(k,z){for(var P=this.source;z<P.length&&J(k,I(P,z));z++);return z},until:function(k,z){z=this.skip(_,z);for(var P=I(this.source,z),K=0;K<k.length;K++)if(k[K]===P)return z;throw F('Unexpected character: "'+P+'" at: '+z)}};var S=E(function(){var k="9007199254740993",z;return C(k,function(P,K,te){z=te.source}),z!==k}),L=O&&!E(function(){return 1/C("-0 	")!==-1/0});i({target:"JSON",stat:!0,forced:S},{parse:function(z,P){return L&&!x(P)?C(z):q(z,P)}})},(h,o,s)=>{var i=s(14),l=s(39),d=SyntaxError,e=parseInt,r=String.fromCharCode,p=i("".charAt),x=i("".slice),y=i(/./.exec),v={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},b=/^[\da-f]{4}$/i,g=/^[\u0000-\u001F]$/;h.exports=function(w,f){for(var E=!0,A="";f<w.length;){var O=p(w,f);if(O==="\\"){var T=x(w,f,f+2);if(l(v,T))A+=v[T],f+=2;else if(T==="\\u"){f+=2;var D=x(w,f,f+4);if(!y(b,D))throw d("Bad Unicode escape at: "+f);A+=r(e(D,16)),f+=4}else throw d('Unknown escape sequence: "'+T+'"')}else if(O==='"'){E=!1,f++;break}else{if(y(g,O))throw d("Bad control character in string literal at: "+f);A+=O,f++}}if(E)throw d("Unterminated string at: "+f);return{value:A,end:f}}},(h,o,s)=>{var V,Z,q,re,oe,ae,R,S,L,k,z,P,Ps,te,Rs,ee,vd,ne,m0,le,x0,be,Qo,de,qo;Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMFilterFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=B,o.getColorValues=H,o.getCurrentTransform=N,o.getCurrentTransformInverse=U,o.getFilenameFromUrl=A,o.getPdfFilenameFromUrl=O,o.getRGB=J,o.getXfaPageViewport=W,o.isDataScheme=f,o.isPdfFile=E,o.isValidFetchUrl=D,o.loadScript=C,o.noContextMenu=F,o.setLayerDimensions=Y,s(2),s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123),s(89),s(84),s(86),s(87);var i=s(169),l=s(1);const d="http://www.w3.org/2000/svg",_=class{};let e=_;Ct(e,"CSS",96),Ct(e,"PDF",72),Ct(e,"PDF_TO_CSS_UNITS",_.CSS/_.PDF),o.PixelsPerInch=e;class r extends i.BaseFilterFactory{constructor(){let{docId:ue,ownerDocument:ve=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super();Le(this,P);Le(this,te);Le(this,ee);Le(this,ne);Le(this,le);Le(this,be);Le(this,de);Le(this,V,void 0);Le(this,Z,void 0);Le(this,q,void 0);Le(this,re,void 0);Le(this,oe,void 0);Le(this,ae,void 0);Le(this,R,void 0);Le(this,S,void 0);Le(this,L,void 0);Le(this,k,void 0);Le(this,z,0);Qe(this,q,ue),Qe(this,re,ve)}addFilter(ue){if(!ue)return"none";let ve=ie(this,P,Ps).get(ue);if(ve)return ve;let Ee,Me,_e,ze;if(ue.length===1){const ke=ue[0],Ie=new Array(256);for(let Te=0;Te<256;Te++)Ie[Te]=ke[Te]/255;ze=Ee=Me=_e=Ie.join(",")}else{const[ke,Ie,Te]=ue,Ae=new Array(256),ge=new Array(256),Ce=new Array(256);for(let Be=0;Be<256;Be++)Ae[Be]=ke[Be]/255,ge[Be]=Ie[Be]/255,Ce[Be]=Te[Be]/255;Ee=Ae.join(","),Me=ge.join(","),_e=Ce.join(","),ze=`${Ee}${Me}${_e}`}if(ve=ie(this,P,Ps).get(ze),ve)return ie(this,P,Ps).set(ue,ve),ve;const We=`g_${ie(this,q)}_transfer_map_${Pa(this,z)._++}`,Ve=`url(#${We})`;ie(this,P,Ps).set(ue,Ve),ie(this,P,Ps).set(ze,Ve);const Ne=Ue(this,ne,m0).call(this,We);return Ue(this,be,Qo).call(this,Ee,Me,_e,Ne),Ve}addHCMFilter(ue,ve){var Ie;const Ee=`${ue}-${ve}`;if(ie(this,ae)===Ee)return ie(this,R);if(Qe(this,ae,Ee),Qe(this,R,"none"),(Ie=ie(this,oe))==null||Ie.remove(),!ue||!ve)return ie(this,R);const Me=Ue(this,de,qo).call(this,ue);ue=l.Util.makeHexColor(...Me);const _e=Ue(this,de,qo).call(this,ve);if(ve=l.Util.makeHexColor(..._e),ie(this,te,Rs).style.color="",ue==="#000000"&&ve==="#ffffff"||ue===ve)return ie(this,R);const ze=new Array(256);for(let Te=0;Te<=255;Te++){const Ae=Te/255;ze[Te]=Ae<=.03928?Ae/12.92:((Ae+.055)/1.055)**2.4}const We=ze.join(","),Ve=`g_${ie(this,q)}_hcm_filter`,Ne=Qe(this,S,Ue(this,ne,m0).call(this,Ve));Ue(this,be,Qo).call(this,We,We,We,Ne),Ue(this,ee,vd).call(this,Ne);const ke=(Te,Ae)=>{const ge=Me[Te]/255,Ce=_e[Te]/255,Be=new Array(Ae+1);for(let Ye=0;Ye<=Ae;Ye++)Be[Ye]=ge+Ye/Ae*(Ce-ge);return Be.join(",")};return Ue(this,be,Qo).call(this,ke(0,5),ke(1,5),ke(2,5),Ne),Qe(this,R,`url(#${Ve})`),ie(this,R)}addHighlightHCMFilter(ue,ve,Ee,Me){var Ce;const _e=`${ue}-${ve}-${Ee}-${Me}`;if(ie(this,L)===_e)return ie(this,k);if(Qe(this,L,_e),Qe(this,k,"none"),(Ce=ie(this,S))==null||Ce.remove(),!ue||!ve)return ie(this,k);const[ze,We]=[ue,ve].map(Ue(this,de,qo).bind(this));let Ve=Math.round(.2126*ze[0]+.7152*ze[1]+.0722*ze[2]),Ne=Math.round(.2126*We[0]+.7152*We[1]+.0722*We[2]),[ke,Ie]=[Ee,Me].map(Ue(this,de,qo).bind(this));Ne<Ve&&([Ve,Ne,ke,Ie]=[Ne,Ve,Ie,ke]),ie(this,te,Rs).style.color="";const Te=(Be,Ye,Je)=>{const Re=new Array(256),He=(Ne-Ve)/Je,nt=Be/255,et=(Ye-Be)/(255*Je);let it=0;for(let qe=0;qe<=Je;qe++){const lt=Math.round(Ve+qe*He),rt=nt+qe*et;for(let Oe=it;Oe<=lt;Oe++)Re[Oe]=rt;it=lt+1}for(let qe=it;qe<256;qe++)Re[qe]=Re[it-1];return Re.join(",")},Ae=`g_${ie(this,q)}_hcm_highlight_filter`,ge=Qe(this,S,Ue(this,ne,m0).call(this,Ae));return Ue(this,ee,vd).call(this,ge),Ue(this,be,Qo).call(this,Te(ke[0],Ie[0],5),Te(ke[1],Ie[1],5),Te(ke[2],Ie[2],5),ge),Qe(this,k,`url(#${Ae})`),ie(this,k)}destroy(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(ie(this,R)||ie(this,k))||(ie(this,Z)&&(ie(this,Z).parentNode.parentNode.remove(),Qe(this,Z,null)),ie(this,V)&&(ie(this,V).clear(),Qe(this,V,null)),Qe(this,z,0))}}V=new WeakMap,Z=new WeakMap,q=new WeakMap,re=new WeakMap,oe=new WeakMap,ae=new WeakMap,R=new WeakMap,S=new WeakMap,L=new WeakMap,k=new WeakMap,z=new WeakMap,P=new WeakSet,Ps=function(){return ie(this,V)||Qe(this,V,new Map)},te=new WeakSet,Rs=function(){if(!ie(this,Z)){const ue=ie(this,re).createElement("div"),{style:ve}=ue;ve.visibility="hidden",ve.contain="strict",ve.width=ve.height=0,ve.position="absolute",ve.top=ve.left=0,ve.zIndex=-1;const Ee=ie(this,re).createElementNS(d,"svg");Ee.setAttribute("width",0),Ee.setAttribute("height",0),Qe(this,Z,ie(this,re).createElementNS(d,"defs")),ue.append(Ee),Ee.append(ie(this,Z)),ie(this,re).body.append(ue)}return ie(this,Z)},ee=new WeakSet,vd=function(ue){const ve=ie(this,re).createElementNS(d,"feColorMatrix");ve.setAttribute("type","matrix"),ve.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ue.append(ve)},ne=new WeakSet,m0=function(ue){const ve=ie(this,re).createElementNS(d,"filter");return ve.setAttribute("color-interpolation-filters","sRGB"),ve.setAttribute("id",ue),ie(this,te,Rs).append(ve),ve},le=new WeakSet,x0=function(ue,ve,Ee){const Me=ie(this,re).createElementNS(d,ve);Me.setAttribute("type","discrete"),Me.setAttribute("tableValues",Ee),ue.append(Me)},be=new WeakSet,Qo=function(ue,ve,Ee,Me){const _e=ie(this,re).createElementNS(d,"feComponentTransfer");Me.append(_e),Ue(this,le,x0).call(this,_e,"feFuncR",ue),Ue(this,le,x0).call(this,_e,"feFuncG",ve),Ue(this,le,x0).call(this,_e,"feFuncB",Ee)},de=new WeakSet,qo=function(ue){return ie(this,te,Rs).style.color=ue,J(getComputedStyle(ie(this,te,Rs)).getPropertyValue("color"))},o.DOMFilterFactory=r;class p extends i.BaseCanvasFactory{constructor(){let{ownerDocument:ce=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=ce}_createCanvas(ce,ue){const ve=this._document.createElement("canvas");return ve.width=ce,ve.height=ue,ve}}o.DOMCanvasFactory=p;async function x(fe){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D(fe,document.baseURI)){const ue=await fetch(fe);if(!ue.ok)throw new Error(ue.statusText);return ce?new Uint8Array(await ue.arrayBuffer()):(0,l.stringToBytes)(await ue.text())}return new Promise((ue,ve)=>{const Ee=new XMLHttpRequest;Ee.open("GET",fe,!0),ce&&(Ee.responseType="arraybuffer"),Ee.onreadystatechange=()=>{if(Ee.readyState===XMLHttpRequest.DONE){if(Ee.status===200||Ee.status===0){let Me;if(ce&&Ee.response?Me=new Uint8Array(Ee.response):!ce&&Ee.responseText&&(Me=(0,l.stringToBytes)(Ee.responseText)),Me){ue(Me);return}}ve(new Error(Ee.statusText))}},Ee.send(null)})}class y extends i.BaseCMapReaderFactory{_fetchData(ce,ue){return x(ce,this.isCompressed).then(ve=>({cMapData:ve,compressionType:ue}))}}o.DOMCMapReaderFactory=y;class v extends i.BaseStandardFontDataFactory{_fetchData(ce){return x(ce,!0)}}o.DOMStandardFontDataFactory=v;class b extends i.BaseSVGFactory{_createSVG(ce){return document.createElementNS(d,ce)}}o.DOMSVGFactory=b;class g{constructor(ce){let{viewBox:ue,scale:ve,rotation:Ee,offsetX:Me=0,offsetY:_e=0,dontFlip:ze=!1}=ce;this.viewBox=ue,this.scale=ve,this.rotation=Ee,this.offsetX=Me,this.offsetY=_e;const We=(ue[2]+ue[0])/2,Ve=(ue[3]+ue[1])/2;let Ne,ke,Ie,Te;switch(Ee%=360,Ee<0&&(Ee+=360),Ee){case 180:Ne=-1,ke=0,Ie=0,Te=1;break;case 90:Ne=0,ke=1,Ie=1,Te=0;break;case 270:Ne=0,ke=-1,Ie=-1,Te=0;break;case 0:Ne=1,ke=0,Ie=0,Te=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ze&&(Ie=-Ie,Te=-Te);let Ae,ge,Ce,Be;Ne===0?(Ae=Math.abs(Ve-ue[1])*ve+Me,ge=Math.abs(We-ue[0])*ve+_e,Ce=(ue[3]-ue[1])*ve,Be=(ue[2]-ue[0])*ve):(Ae=Math.abs(We-ue[0])*ve+Me,ge=Math.abs(Ve-ue[1])*ve+_e,Ce=(ue[2]-ue[0])*ve,Be=(ue[3]-ue[1])*ve),this.transform=[Ne*ve,ke*ve,Ie*ve,Te*ve,Ae-Ne*ve*We-Ie*ve*Ve,ge-ke*ve*We-Te*ve*Ve],this.width=Ce,this.height=Be}get rawDims(){const{viewBox:ce}=this;return(0,l.shadow)(this,"rawDims",{pageWidth:ce[2]-ce[0],pageHeight:ce[3]-ce[1],pageX:ce[0],pageY:ce[1]})}clone(){let{scale:ce=this.scale,rotation:ue=this.rotation,offsetX:ve=this.offsetX,offsetY:Ee=this.offsetY,dontFlip:Me=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new g({viewBox:this.viewBox.slice(),scale:ce,rotation:ue,offsetX:ve,offsetY:Ee,dontFlip:Me})}convertToViewportPoint(ce,ue){return l.Util.applyTransform([ce,ue],this.transform)}convertToViewportRectangle(ce){const ue=l.Util.applyTransform([ce[0],ce[1]],this.transform),ve=l.Util.applyTransform([ce[2],ce[3]],this.transform);return[ue[0],ue[1],ve[0],ve[1]]}convertToPdfPoint(ce,ue){return l.Util.applyInverseTransform([ce,ue],this.transform)}}o.PageViewport=g;class w extends l.BaseException{constructor(ce){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(ce,"RenderingCancelledException"),this.extraDelay=ue}}o.RenderingCancelledException=w;function f(fe){const ce=fe.length;let ue=0;for(;ue<ce&&fe[ue].trim()==="";)ue++;return fe.substring(ue,ue+5).toLowerCase()==="data:"}function E(fe){return typeof fe=="string"&&/\.pdf$/i.test(fe)}function A(fe){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([fe]=fe.split(/[#?]/,1)),fe.substring(fe.lastIndexOf("/")+1)}function O(fe){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof fe!="string")return ce;if(f(fe))return(0,l.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ce;const ue=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ve=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ee=ue.exec(fe);let Me=ve.exec(Ee[1])||ve.exec(Ee[2])||ve.exec(Ee[3]);if(Me&&(Me=Me[0],Me.includes("%")))try{Me=ve.exec(decodeURIComponent(Me))[0]}catch{}return Me||ce}class T{constructor(){Ct(this,"started",Object.create(null));Ct(this,"times",[])}time(ce){ce in this.started&&(0,l.warn)(`Timer is already running for ${ce}`),this.started[ce]=Date.now()}timeEnd(ce){ce in this.started||(0,l.warn)(`Timer has not been started for ${ce}`),this.times.push({name:ce,start:this.started[ce],end:Date.now()}),delete this.started[ce]}toString(){const ce=[];let ue=0;for(const{name:ve}of this.times)ue=Math.max(ve.length,ue);for(const{name:ve,start:Ee,end:Me}of this.times)ce.push(`${ve.padEnd(ue)} ${Me-Ee}ms
`);return ce.join("")}}o.StatTimer=T;function D(fe,ce){try{const{protocol:ue}=ce?new URL(fe,ce):new URL(fe);return ue==="http:"||ue==="https:"}catch{return!1}}function F(fe){fe.preventDefault()}function C(fe){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((ue,ve)=>{const Ee=document.createElement("script");Ee.src=fe,Ee.onload=function(Me){ce&&Ee.remove(),ue(Me)},Ee.onerror=function(){ve(new Error(`Cannot load script at: ${Ee.src}`))},(document.head||document.documentElement).append(Ee)})}function B(fe){console.log("Deprecated API usage: "+fe)}let M;class I{static toDateObject(ce){if(!ce||typeof ce!="string")return null;M||(M=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ue=M.exec(ce);if(!ue)return null;const ve=parseInt(ue[1],10);let Ee=parseInt(ue[2],10);Ee=Ee>=1&&Ee<=12?Ee-1:0;let Me=parseInt(ue[3],10);Me=Me>=1&&Me<=31?Me:1;let _e=parseInt(ue[4],10);_e=_e>=0&&_e<=23?_e:0;let ze=parseInt(ue[5],10);ze=ze>=0&&ze<=59?ze:0;let We=parseInt(ue[6],10);We=We>=0&&We<=59?We:0;const Ve=ue[7]||"Z";let Ne=parseInt(ue[8],10);Ne=Ne>=0&&Ne<=23?Ne:0;let ke=parseInt(ue[9],10)||0;return ke=ke>=0&&ke<=59?ke:0,Ve==="-"?(_e+=Ne,ze+=ke):Ve==="+"&&(_e-=Ne,ze-=ke),new Date(Date.UTC(ve,Ee,Me,_e,ze,We))}}o.PDFDateString=I;function W(fe,ce){let{scale:ue=1,rotation:ve=0}=ce;const{width:Ee,height:Me}=fe.attributes.style,_e=[0,0,parseInt(Ee),parseInt(Me)];return new g({viewBox:_e,scale:ue,rotation:ve})}function J(fe){if(fe.startsWith("#")){const ce=parseInt(fe.slice(1),16);return[(ce&16711680)>>16,(ce&65280)>>8,ce&255]}return fe.startsWith("rgb(")?fe.slice(4,-1).split(",").map(ce=>parseInt(ce)):fe.startsWith("rgba(")?fe.slice(5,-1).split(",").map(ce=>parseInt(ce)).slice(0,3):((0,l.warn)(`Not a valid color format: "${fe}"`),[0,0,0])}function H(fe){const ce=document.createElement("span");ce.style.visibility="hidden",document.body.append(ce);for(const ue of fe.keys()){ce.style.color=ue;const ve=window.getComputedStyle(ce).color;fe.set(ue,J(ve))}ce.remove()}function N(fe){const{a:ce,b:ue,c:ve,d:Ee,e:Me,f:_e}=fe.getTransform();return[ce,ue,ve,Ee,Me,_e]}function U(fe){const{a:ce,b:ue,c:ve,d:Ee,e:Me,f:_e}=fe.getTransform().invertSelf();return[ce,ue,ve,Ee,Me,_e]}function Y(fe,ce){let ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(ce instanceof g){const{pageWidth:Ee,pageHeight:Me}=ce.rawDims,{style:_e}=fe,ze=l.FeatureTest.isCSSRoundSupported,We=`var(--scale-factor) * ${Ee}px`,Ve=`var(--scale-factor) * ${Me}px`,Ne=ze?`round(${We}, 1px)`:`calc(${We})`,ke=ze?`round(${Ve}, 1px)`:`calc(${Ve})`;!ue||ce.rotation%180===0?(_e.width=Ne,_e.height=ke):(_e.width=ke,_e.height=Ne)}ve&&fe.setAttribute("data-main-rotation",ce.rotation)}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseFilterFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0,s(2);var i=s(1);class l{constructor(){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(y){return"none"}addHCMFilter(y,v){return"none"}addHighlightHCMFilter(y,v,b,g){return"none"}destroy(){}}o.BaseFilterFactory=l;class d{constructor(){this.constructor===d&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(y,v){if(y<=0||v<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(y,v);return{canvas:b,context:b.getContext("2d")}}reset(y,v,b){if(!y.canvas)throw new Error("Canvas is not specified");if(v<=0||b<=0)throw new Error("Invalid canvas size");y.canvas.width=v,y.canvas.height=b}destroy(y){if(!y.canvas)throw new Error("Canvas is not specified");y.canvas.width=0,y.canvas.height=0,y.canvas=null,y.context=null}_createCanvas(y,v){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=d;class e{constructor(y){let{baseUrl:v=null,isCompressed:b=!0}=y;this.constructor===e&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=v,this.isCompressed=b}async fetch(y){let{name:v}=y;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!v)throw new Error("CMap name must be specified.");const b=this.baseUrl+v+(this.isCompressed?".bcmap":""),g=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(b,g).catch(w=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${b}`)})}_fetchData(y,v){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=e;class r{constructor(y){let{baseUrl:v=null}=y;this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=v}async fetch(y){let{filename:v}=y;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!v)throw new Error("Font filename must be specified.");const b=`${this.baseUrl}${v}`;return this._fetchData(b).catch(g=>{throw new Error(`Unable to load font data at: ${b}`)})}_fetchData(y){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=r;class p{constructor(){this.constructor===p&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(y,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(y<=0||v<=0)throw new Error("Invalid SVG dimensions");const g=this._createSVG("svg:svg");return g.setAttribute("version","1.1"),b||(g.setAttribute("width",`${y}px`),g.setAttribute("height",`${v}px`)),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("viewBox",`0 0 ${y} ${v}`),g}createElement(y){if(typeof y!="string")throw new Error("Invalid SVG element type");return this._createSVG(y)}_createSVG(y){(0,i.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=p},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0,s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123),s(2);var i=s(1);const l=3285377520,d=4294901760,e=65535;class r{constructor(x){this.h1=x?x&4294967295:l,this.h2=x?x&4294967295:l}update(x){let y,v;if(typeof x=="string"){y=new Uint8Array(x.length*2),v=0;for(let B=0,M=x.length;B<M;B++){const I=x.charCodeAt(B);I<=255?y[v++]=I:(y[v++]=I>>>8,y[v++]=I&255)}}else if((0,i.isArrayBuffer)(x))y=x.slice(),v=y.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const b=v>>2,g=v-b*4,w=new Uint32Array(y.buffer,0,b);let f=0,E=0,A=this.h1,O=this.h2;const T=3432918353,D=461845907,F=T&e,C=D&e;for(let B=0;B<b;B++)B&1?(f=w[B],f=f*T&d|f*F&e,f=f<<15|f>>>17,f=f*D&d|f*C&e,A^=f,A=A<<13|A>>>19,A=A*5+3864292196):(E=w[B],E=E*T&d|E*F&e,E=E<<15|E>>>17,E=E*D&d|E*C&e,O^=E,O=O<<13|O>>>19,O=O*5+3864292196);switch(f=0,g){case 3:f^=y[b*4+2]<<16;case 2:f^=y[b*4+1]<<8;case 1:f^=y[b*4],f=f*T&d|f*F&e,f=f<<15|f>>>17,f=f*D&d|f*C&e,b&1?A^=f:O^=f}this.h1=A,this.h2=O}hexdigest(){let x=this.h1,y=this.h2;return x^=y>>>1,x=x*3981806797&d|x*36045&e,y=y*4283543511&d|((y<<16|x>>>16)*2950163797&d)>>>16,x^=y>>>1,x=x*444984403&d|x*60499&e,y=y*3301882366&d|((y<<16|x>>>16)*3120437893&d)>>>16,x^=y>>>1,(x>>>0).toString(16).padStart(8,"0")+(y>>>0).toString(16).padStart(8,"0")}}o.MurmurHash3_64=r},(h,o,s)=>{var e;Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0,s(125),s(136),s(138),s(141),s(143),s(145),s(147),s(89),s(149);var i=s(1);class l{constructor(p){Le(this,e,new Set);let{ownerDocument:x=globalThis.document,styleElement:y=null}=p;this._document=x,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(p){this.nativeFontFaces.add(p),this._document.fonts.add(p)}removeNativeFontFace(p){this.nativeFontFaces.delete(p),this._document.fonts.delete(p)}insertRule(p){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const x=this.styleElement.sheet;x.insertRule(p,x.cssRules.length)}clear(){for(const p of this.nativeFontFaces)this._document.fonts.delete(p);this.nativeFontFaces.clear(),ie(this,e).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(p){if(!(!p||ie(this,e).has(p.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:x,src:y,style:v}=p,b=new FontFace(x,y,v);this.addNativeFontFace(b);try{await b.load(),ie(this,e).add(x)}catch{(0,i.warn)(`Cannot load system font: ${p.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(b)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(p){if(p.attached||p.missingFile&&!p.systemFontInfo)return;if(p.attached=!0,p.systemFontInfo){await this.loadSystemFont(p.systemFontInfo);return}if(this.isFontLoadingAPISupported){const y=p.createNativeFontFace();if(y){this.addNativeFontFace(y);try{await y.loaded}catch(v){throw(0,i.warn)(`Failed to load font '${y.family}': '${v}'.`),p.disableFontFace=!0,v}}return}const x=p.createFontFaceRule();if(x){if(this.insertRule(x),this.isSyncFontLoadingSupported)return;await new Promise(y=>{const v=this._queueLoadingCallback(y);this._prepareFontLoadEvent(p,v)})}}get isFontLoadingAPISupported(){var x;const p=!!((x=this._document)!=null&&x.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",p)}get isSyncFontLoadingSupported(){let p=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(p=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",p)}_queueLoadingCallback(p){function x(){for((0,i.assert)(!v.done,"completeRequest() cannot be called twice."),v.done=!0;y.length>0&&y[0].done;){const b=y.shift();setTimeout(b.callback,0)}}const{loadingRequests:y}=this,v={done:!1,complete:x,callback:p};return y.push(v),v}get _loadTestFont(){const p=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",p)}_prepareFontLoadEvent(p,x){function y(J,H){return J.charCodeAt(H)<<24|J.charCodeAt(H+1)<<16|J.charCodeAt(H+2)<<8|J.charCodeAt(H+3)&255}function v(J,H,N,U){const Y=J.substring(0,H),_=J.substring(H+N);return Y+U+_}let b,g;const w=this._document.createElement("canvas");w.width=1,w.height=1;const f=w.getContext("2d");let E=0;function A(J,H){if(++E>30){(0,i.warn)("Load test font never loaded."),H();return}if(f.font="30px "+J,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(A.bind(null,J,H))}const O=`lt${Date.now()}${this.loadTestFontId++}`;let T=this._loadTestFont;T=v(T,976,O.length,O);const F=16,C=1482184792;let B=y(T,F);for(b=0,g=O.length-3;b<g;b+=4)B=B-C+y(O,b)|0;b<O.length&&(B=B-C+y(O+"XXX",b)|0),T=v(T,F,4,(0,i.string32)(B));const M=`url(data:font/opentype;base64,${btoa(T)});`,I=`@font-face {font-family:"${O}";src:${M}}`;this.insertRule(I);const W=this._document.createElement("div");W.style.visibility="hidden",W.style.width=W.style.height="10px",W.style.position="absolute",W.style.top=W.style.left="0px";for(const J of[p.loadedName,O]){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=J,W.append(H)}this._document.body.append(W),A(O,()=>{W.remove(),x.complete()})}}e=new WeakMap,o.FontLoader=l;class d{constructor(p,x){let{isEvalSupported:y=!0,disableFontFace:v=!1,ignoreErrors:b=!1,inspectFont:g=null}=x;this.compiledGlyphs=Object.create(null);for(const w in p)this[w]=p[w];this.isEvalSupported=y!==!1,this.disableFontFace=v===!0,this.ignoreErrors=b===!0,this._inspectFont=g}createNativeFontFace(){var x;if(!this.data||this.disableFontFace)return null;let p;if(!this.cssFontInfo)p=new FontFace(this.loadedName,this.data,{});else{const y={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(y.style=`oblique ${this.cssFontInfo.italicAngle}deg`),p=new FontFace(this.cssFontInfo.fontFamily,this.data,y)}return(x=this._inspectFont)==null||x.call(this,this),p}createFontFaceRule(){var v;if(!this.data||this.disableFontFace)return null;const p=(0,i.bytesToString)(this.data),x=`url(data:${this.mimetype};base64,${btoa(p)});`;let y;if(!this.cssFontInfo)y=`@font-face {font-family:"${this.loadedName}";src:${x}}`;else{let b=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(b+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),y=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${b}src:${x}}`}return(v=this._inspectFont)==null||v.call(this,this,x),y}getPathGenerator(p,x){if(this.compiledGlyphs[x]!==void 0)return this.compiledGlyphs[x];let y;try{y=p.get(this.loadedName+"_path_"+x)}catch(v){if(!this.ignoreErrors)throw v;return(0,i.warn)(`getPathGenerator - ignoring character: "${v}".`),this.compiledGlyphs[x]=function(b,g){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const v=[];for(const b of y){const g=b.args!==void 0?b.args.join(","):"";v.push("c.",b.cmd,"(",g,`);
`)}return this.compiledGlyphs[x]=new Function("c","size",v.join(""))}return this.compiledGlyphs[x]=function(v,b){for(const g of y)g.cmd==="scale"&&(g.args=[b,-b]),v[g.cmd].apply(v,g.args)}}}o.FontFaceObject=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeFilterFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0,s(2),s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123);var i=s(169),l=s(1);(function(){if(!(globalThis.DOMMatrix||!l.isNodeJS))try{globalThis.DOMMatrix=mn.DOMMatrix}catch(v){(0,l.warn)(`Cannot polyfill \`DOMMatrix\`, rendering may be broken: "${v}".`)}})(),function(){if(!(globalThis.Path2D||!l.isNodeJS))try{const{CanvasRenderingContext2D:v}=mn,{polyfillPath2D:b}=j4();globalThis.CanvasRenderingContext2D=v,b(globalThis)}catch(v){(0,l.warn)(`Cannot polyfill \`Path2D\`, rendering may be broken: "${v}".`)}}();const d=function(y){return new Promise((v,b)=>{mn.readFile(y,(w,f)=>{if(w||!f){b(new Error(w));return}v(new Uint8Array(f))})})};class e extends i.BaseFilterFactory{}o.NodeFilterFactory=e;class r extends i.BaseCanvasFactory{_createCanvas(v,b){return mn.createCanvas(v,b)}}o.NodeCanvasFactory=r;class p extends i.BaseCMapReaderFactory{_fetchData(v,b){return d(v).then(g=>({cMapData:g,compressionType:b}))}}o.NodeCMapReaderFactory=p;class x extends i.BaseStandardFontDataFactory{_fetchData(v){return d(v)}}o.NodeStandardFontDataFactory=x},(h,o,s)=>{var Z,wd,re,Ad;Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0,s(2),s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123),s(89);var i=s(1),l=s(168),d=s(174),e=s(175);const r=16,p=100,x=4096,y=15,v=10,b=1e3,g=16;function w(R,S){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){S.save(),this.__originalSave()},R.restore=function(){S.restore(),this.__originalRestore()},R.translate=function(k,z){S.translate(k,z),this.__originalTranslate(k,z)},R.scale=function(k,z){S.scale(k,z),this.__originalScale(k,z)},R.transform=function(k,z,P,K,te,X){S.transform(k,z,P,K,te,X),this.__originalTransform(k,z,P,K,te,X)},R.setTransform=function(k,z,P,K,te,X){S.setTransform(k,z,P,K,te,X),this.__originalSetTransform(k,z,P,K,te,X)},R.resetTransform=function(){S.resetTransform(),this.__originalResetTransform()},R.rotate=function(k){S.rotate(k),this.__originalRotate(k)},R.clip=function(k){S.clip(k),this.__originalClip(k)},R.moveTo=function(L,k){S.moveTo(L,k),this.__originalMoveTo(L,k)},R.lineTo=function(L,k){S.lineTo(L,k),this.__originalLineTo(L,k)},R.bezierCurveTo=function(L,k,z,P,K,te){S.bezierCurveTo(L,k,z,P,K,te),this.__originalBezierCurveTo(L,k,z,P,K,te)},R.rect=function(L,k,z,P){S.rect(L,k,z,P),this.__originalRect(L,k,z,P)},R.closePath=function(){S.closePath(),this.__originalClosePath()},R.beginPath=function(){S.beginPath(),this.__originalBeginPath()}}class f{constructor(S){this.canvasFactory=S,this.cache=Object.create(null)}getCanvas(S,L,k){let z;return this.cache[S]!==void 0?(z=this.cache[S],this.canvasFactory.reset(z,L,k)):(z=this.canvasFactory.create(L,k),this.cache[S]=z),z}delete(S){delete this.cache[S]}clear(){for(const S in this.cache){const L=this.cache[S];this.canvasFactory.destroy(L),delete this.cache[S]}}}function E(R,S,L,k,z,P,K,te,X,ee){const[G,ne,se,le,he,be]=(0,l.getCurrentTransform)(R);if(ne===0&&se===0){const xe=K*G+he,fe=Math.round(xe),ce=te*le+be,ue=Math.round(ce),ve=(K+X)*G+he,Ee=Math.abs(Math.round(ve)-fe)||1,Me=(te+ee)*le+be,_e=Math.abs(Math.round(Me)-ue)||1;return R.setTransform(Math.sign(G),0,0,Math.sign(le),fe,ue),R.drawImage(S,L,k,z,P,0,0,Ee,_e),R.setTransform(G,ne,se,le,he,be),[Ee,_e]}if(G===0&&le===0){const xe=te*se+he,fe=Math.round(xe),ce=K*ne+be,ue=Math.round(ce),ve=(te+ee)*se+he,Ee=Math.abs(Math.round(ve)-fe)||1,Me=(K+X)*ne+be,_e=Math.abs(Math.round(Me)-ue)||1;return R.setTransform(0,Math.sign(ne),Math.sign(se),0,fe,ue),R.drawImage(S,L,k,z,P,0,0,_e,Ee),R.setTransform(G,ne,se,le,he,be),[_e,Ee]}R.drawImage(S,L,k,z,P,K,te,X,ee);const ye=Math.hypot(G,ne),de=Math.hypot(se,le);return[ye*X,de*ee]}function A(R){const{width:S,height:L}=R;if(S>b||L>b)return null;const k=1e3,z=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),P=S+1;let K=new Uint8Array(P*(L+1)),te,X,ee;const G=S+7&-8;let ne=new Uint8Array(G*L),se=0;for(const de of R.data){let xe=128;for(;xe>0;)ne[se++]=de&xe?0:255,xe>>=1}let le=0;for(se=0,ne[se]!==0&&(K[0]=1,++le),X=1;X<S;X++)ne[se]!==ne[se+1]&&(K[X]=ne[se]?2:1,++le),se++;for(ne[se]!==0&&(K[X]=2,++le),te=1;te<L;te++){se=te*G,ee=te*P,ne[se-G]!==ne[se]&&(K[ee]=ne[se]?1:8,++le);let de=(ne[se]?4:0)+(ne[se-G]?8:0);for(X=1;X<S;X++)de=(de>>2)+(ne[se+1]?4:0)+(ne[se-G+1]?8:0),z[de]&&(K[ee+X]=z[de],++le),se++;if(ne[se-G]!==ne[se]&&(K[ee+X]=ne[se]?2:4,++le),le>k)return null}for(se=G*(L-1),ee=te*P,ne[se]!==0&&(K[ee]=8,++le),X=1;X<S;X++)ne[se]!==ne[se+1]&&(K[ee+X]=ne[se]?4:8,++le),se++;if(ne[se]!==0&&(K[ee+X]=4,++le),le>k)return null;const he=new Int32Array([0,P,-1,0,-P,0,0,0,1]),be=new Path2D;for(te=0;le&&te<=L;te++){let de=te*P;const xe=de+S;for(;de<xe&&!K[de];)de++;if(de===xe)continue;be.moveTo(de%P,te);const fe=de;let ce=K[de];do{const ue=he[ce];do de+=ue;while(!K[de]);const ve=K[de];ve!==5&&ve!==10?(ce=ve,K[de]=0):(ce=ve&51*ce>>4,K[de]&=ce>>2|ce<<2),be.lineTo(de%P,de/P|0),K[de]||--le}while(fe!==de);--te}return ne=null,K=null,function(de){de.save(),de.scale(1/S,-1/L),de.translate(0,-L),de.fill(be),de.beginPath(),de.restore()}}class O{constructor(S,L){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,S,L])}clone(){const S=Object.create(this);return S.clipBox=this.clipBox.slice(),S}setCurrentPoint(S,L){this.x=S,this.y=L}updatePathMinMax(S,L,k){[L,k]=i.Util.applyTransform([L,k],S),this.minX=Math.min(this.minX,L),this.minY=Math.min(this.minY,k),this.maxX=Math.max(this.maxX,L),this.maxY=Math.max(this.maxY,k)}updateRectMinMax(S,L){const k=i.Util.applyTransform(L,S),z=i.Util.applyTransform(L.slice(2),S);this.minX=Math.min(this.minX,k[0],z[0]),this.minY=Math.min(this.minY,k[1],z[1]),this.maxX=Math.max(this.maxX,k[0],z[0]),this.maxY=Math.max(this.maxY,k[1],z[1])}updateScalingPathMinMax(S,L){i.Util.scaleMinMax(S,L),this.minX=Math.min(this.minX,L[0]),this.maxX=Math.max(this.maxX,L[1]),this.minY=Math.min(this.minY,L[2]),this.maxY=Math.max(this.maxY,L[3])}updateCurvePathMinMax(S,L,k,z,P,K,te,X,ee,G){const ne=i.Util.bezierBoundingBox(L,k,z,P,K,te,X,ee);if(G){G[0]=Math.min(G[0],ne[0],ne[2]),G[1]=Math.max(G[1],ne[0],ne[2]),G[2]=Math.min(G[2],ne[1],ne[3]),G[3]=Math.max(G[3],ne[1],ne[3]);return}this.updateRectMinMax(S,ne)}getPathBoundingBox(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.PathType.FILL,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const k=[this.minX,this.minY,this.maxX,this.maxY];if(S===d.PathType.STROKE){L||(0,i.unreachable)("Stroke bounding box must include transform.");const z=i.Util.singularValueDecompose2dScale(L),P=z[0]*this.lineWidth/2,K=z[1]*this.lineWidth/2;k[0]-=P,k[1]-=K,k[2]+=P,k[3]+=K}return k}updateClipFromPath(){const S=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(S||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(S){this.clipBox=S,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.PathType.FILL,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i.Util.intersect(this.clipBox,this.getPathBoundingBox(S,L))}}function T(R,S){if(typeof ImageData<"u"&&S instanceof ImageData){R.putImageData(S,0,0);return}const L=S.height,k=S.width,z=L%g,P=(L-z)/g,K=z===0?P:P+1,te=R.createImageData(k,g);let X=0,ee;const G=S.data,ne=te.data;let se,le,he,be;if(S.kind===i.ImageKind.GRAYSCALE_1BPP){const ye=G.byteLength,de=new Uint32Array(ne.buffer,0,ne.byteLength>>2),xe=de.length,fe=k+7>>3,ce=4294967295,ue=i.FeatureTest.isLittleEndian?4278190080:255;for(se=0;se<K;se++){for(he=se<P?g:z,ee=0,le=0;le<he;le++){const ve=ye-X;let Ee=0;const Me=ve>fe?k:ve*8-7,_e=Me&-8;let ze=0,We=0;for(;Ee<_e;Ee+=8)We=G[X++],de[ee++]=We&128?ce:ue,de[ee++]=We&64?ce:ue,de[ee++]=We&32?ce:ue,de[ee++]=We&16?ce:ue,de[ee++]=We&8?ce:ue,de[ee++]=We&4?ce:ue,de[ee++]=We&2?ce:ue,de[ee++]=We&1?ce:ue;for(;Ee<Me;Ee++)ze===0&&(We=G[X++],ze=128),de[ee++]=We&ze?ce:ue,ze>>=1}for(;ee<xe;)de[ee++]=0;R.putImageData(te,0,se*g)}}else if(S.kind===i.ImageKind.RGBA_32BPP){for(le=0,be=k*g*4,se=0;se<P;se++)ne.set(G.subarray(X,X+be)),X+=be,R.putImageData(te,0,le),le+=g;se<K&&(be=k*z*4,ne.set(G.subarray(X,X+be)),R.putImageData(te,0,le))}else if(S.kind===i.ImageKind.RGB_24BPP)for(he=g,be=k*he,se=0;se<K;se++){for(se>=P&&(he=z,be=k*he),ee=0,le=be;le--;)ne[ee++]=G[X++],ne[ee++]=G[X++],ne[ee++]=G[X++],ne[ee++]=255;R.putImageData(te,0,se*g)}else throw new Error(`bad image kind: ${S.kind}`)}function D(R,S){if(S.bitmap){R.drawImage(S.bitmap,0,0);return}const L=S.height,k=S.width,z=L%g,P=(L-z)/g,K=z===0?P:P+1,te=R.createImageData(k,g);let X=0;const ee=S.data,G=te.data;for(let ne=0;ne<K;ne++){const se=ne<P?g:z;({srcPos:X}=(0,e.convertBlackAndWhiteToRGBA)({src:ee,srcPos:X,dest:G,width:k,height:se,nonBlackColor:0})),R.putImageData(te,0,ne*g)}}function F(R,S){const L=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const k of L)R[k]!==void 0&&(S[k]=R[k]);R.setLineDash!==void 0&&(S.setLineDash(R.getLineDash()),S.lineDashOffset=R.lineDashOffset)}function C(R){if(R.strokeStyle=R.fillStyle="#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",R.setLineDash!==void 0&&(R.setLineDash([]),R.lineDashOffset=0),!i.isNodeJS){const{filter:S}=R;S!=="none"&&S!==""&&(R.filter="none")}}function B(R,S,L,k){const z=R.length;for(let P=3;P<z;P+=4){const K=R[P];if(K===0)R[P-3]=S,R[P-2]=L,R[P-1]=k;else if(K<255){const te=255-K;R[P-3]=R[P-3]*K+S*te>>8,R[P-2]=R[P-2]*K+L*te>>8,R[P-1]=R[P-1]*K+k*te>>8}}}function M(R,S,L){const k=R.length,z=1/255;for(let P=3;P<k;P+=4){const K=L?L[R[P]]:R[P];S[P]=S[P]*K*z|0}}function I(R,S,L){const k=R.length;for(let z=3;z<k;z+=4){const P=R[z-3]*77+R[z-2]*152+R[z-1]*28;S[z]=L?S[z]*L[P>>8]>>8:S[z]*P>>16}}function W(R,S,L,k,z,P,K,te,X,ee,G){const ne=!!P,se=ne?P[0]:0,le=ne?P[1]:0,he=ne?P[2]:0,be=z==="Luminosity"?I:M,de=Math.min(k,Math.ceil(1048576/L));for(let xe=0;xe<k;xe+=de){const fe=Math.min(de,k-xe),ce=R.getImageData(te-ee,xe+(X-G),L,fe),ue=S.getImageData(te,xe+X,L,fe);ne&&B(ce.data,se,le,he),be(ce.data,ue.data,K),S.putImageData(ue,te,xe+X)}}function J(R,S,L,k){const z=k[0],P=k[1],K=k[2]-z,te=k[3]-P;K===0||te===0||(W(S.context,L,K,te,S.subtype,S.backdrop,S.transferMap,z,P,S.offsetX,S.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(L.canvas,0,0),R.restore())}function H(R,S){const L=i.Util.singularValueDecompose2dScale(R);L[0]=Math.fround(L[0]),L[1]=Math.fround(L[1]);const k=Math.fround((globalThis.devicePixelRatio||1)*l.PixelsPerInch.PDF_TO_CSS_UNITS);return S!==void 0?S:L[0]<=k||L[1]<=k}const N=["butt","round","square"],U=["miter","round","bevel"],Y={},_={},ae=class{constructor(S,L,k,z,P,K,te,X){Le(this,Z);Le(this,re);let{optionalContentConfig:ee,markedContentStack:G=null}=K;this.ctx=S,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=L,this.objs=k,this.canvasFactory=z,this.filterFactory=P,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=G||[],this.optionalContentConfig=ee,this.cachedCanvases=new f(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=te,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=X,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):L}beginDrawing(S){let{transform:L,viewport:k,transparency:z=!1,background:P=null}=S;const K=this.ctx.canvas.width,te=this.ctx.canvas.height,X=this.ctx.fillStyle;if(this.ctx.fillStyle=P||"#ffffff",this.ctx.fillRect(0,0,K,te),this.ctx.fillStyle=X,z){const ee=this.cachedCanvases.getCanvas("transparent",K,te);this.compositeCtx=this.ctx,this.transparentCanvas=ee.canvas,this.ctx=ee.context,this.ctx.save(),this.ctx.transform(...(0,l.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),C(this.ctx),L&&(this.ctx.transform(...L),this.outputScaleX=L[0],this.outputScaleY=L[0]),this.ctx.transform(...k.transform),this.viewportScale=k.scale,this.baseTransform=(0,l.getCurrentTransform)(this.ctx)}executeOperatorList(S,L,k,z){const P=S.argsArray,K=S.fnArray;let te=L||0;const X=P.length;if(X===te)return te;const ee=X-te>v&&typeof k=="function",G=ee?Date.now()+y:0;let ne=0;const se=this.commonObjs,le=this.objs;let he;for(;;){if(z!==void 0&&te===z.nextBreakPoint)return z.breakIt(te,k),te;if(he=K[te],he!==i.OPS.dependency)this[he].apply(this,P[te]);else for(const be of P[te]){const ye=be.startsWith("g_")?se:le;if(!ye.has(be))return ye.get(be,k),te}if(te++,te===X)return te;if(ee&&++ne>v){if(Date.now()>G)return k(),te;ne=0}}}endDrawing(){Ue(this,Z,wd).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const S of this._cachedBitmapsMap.values()){for(const L of S.values())typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement&&(L.width=L.height=0);S.clear()}this._cachedBitmapsMap.clear(),Ue(this,re,Ad).call(this)}_scaleImage(S,L){const k=S.width,z=S.height;let P=Math.max(Math.hypot(L[0],L[1]),1),K=Math.max(Math.hypot(L[2],L[3]),1),te=k,X=z,ee="prescale1",G,ne;for(;P>2&&te>1||K>2&&X>1;){let se=te,le=X;P>2&&te>1&&(se=te>=16384?Math.floor(te/2)-1||1:Math.ceil(te/2),P/=te/se),K>2&&X>1&&(le=X>=16384?Math.floor(X/2)-1||1:Math.ceil(X)/2,K/=X/le),G=this.cachedCanvases.getCanvas(ee,se,le),ne=G.context,ne.clearRect(0,0,se,le),ne.drawImage(S,0,0,te,X,0,0,se,le),S=G.canvas,te=se,X=le,ee=ee==="prescale1"?"prescale2":"prescale1"}return{img:S,paintWidth:te,paintHeight:X}}_createMaskCanvas(S){const L=this.ctx,{width:k,height:z}=S,P=this.current.fillColor,K=this.current.patternFill,te=(0,l.getCurrentTransform)(L);let X,ee,G,ne;if((S.bitmap||S.data)&&S.count>1){const Ee=S.bitmap||S.data.buffer;ee=JSON.stringify(K?te:[te.slice(0,4),P]),X=this._cachedBitmapsMap.get(Ee),X||(X=new Map,this._cachedBitmapsMap.set(Ee,X));const Me=X.get(ee);if(Me&&!K){const _e=Math.round(Math.min(te[0],te[2])+te[4]),ze=Math.round(Math.min(te[1],te[3])+te[5]);return{canvas:Me,offsetX:_e,offsetY:ze}}G=Me}G||(ne=this.cachedCanvases.getCanvas("maskCanvas",k,z),D(ne.context,S));let se=i.Util.transform(te,[1/k,0,0,-1/z,0,0]);se=i.Util.transform(se,[1,0,0,1,0,-z]);const le=i.Util.applyTransform([0,0],se),he=i.Util.applyTransform([k,z],se),be=i.Util.normalizeRect([le[0],le[1],he[0],he[1]]),ye=Math.round(be[2]-be[0])||1,de=Math.round(be[3]-be[1])||1,xe=this.cachedCanvases.getCanvas("fillCanvas",ye,de),fe=xe.context,ce=Math.min(le[0],he[0]),ue=Math.min(le[1],he[1]);fe.translate(-ce,-ue),fe.transform(...se),G||(G=this._scaleImage(ne.canvas,(0,l.getCurrentTransformInverse)(fe)),G=G.img,X&&K&&X.set(ee,G)),fe.imageSmoothingEnabled=H((0,l.getCurrentTransform)(fe),S.interpolate),E(fe,G,0,0,G.width,G.height,0,0,k,z),fe.globalCompositeOperation="source-in";const ve=i.Util.transform((0,l.getCurrentTransformInverse)(fe),[1,0,0,1,-ce,-ue]);return fe.fillStyle=K?P.getPattern(L,this,ve,d.PathType.FILL):P,fe.fillRect(0,0,k,z),X&&!K&&(this.cachedCanvases.delete("fillCanvas"),X.set(ee,xe.canvas)),{canvas:xe.canvas,offsetX:Math.round(ce),offsetY:Math.round(ue)}}setLineWidth(S){S!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=S,this.ctx.lineWidth=S}setLineCap(S){this.ctx.lineCap=N[S]}setLineJoin(S){this.ctx.lineJoin=U[S]}setMiterLimit(S){this.ctx.miterLimit=S}setDash(S,L){const k=this.ctx;k.setLineDash!==void 0&&(k.setLineDash(S),k.lineDashOffset=L)}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(const[L,k]of S)switch(L){case"LW":this.setLineWidth(k);break;case"LC":this.setLineCap(k);break;case"LJ":this.setLineJoin(k);break;case"ML":this.setMiterLimit(k);break;case"D":this.setDash(k[0],k[1]);break;case"RI":this.setRenderingIntent(k);break;case"FL":this.setFlatness(k);break;case"Font":this.setFont(k[0],k[1]);break;case"CA":this.current.strokeAlpha=k;break;case"ca":this.current.fillAlpha=k,this.ctx.globalAlpha=k;break;case"BM":this.ctx.globalCompositeOperation=k;break;case"SMask":this.current.activeSMask=k?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(k);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const S=this.inSMaskMode;this.current.activeSMask&&!S?this.beginSMaskMode():!this.current.activeSMask&&S&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const S=this.ctx.canvas.width,L=this.ctx.canvas.height,k="smaskGroupAt"+this.groupLevel,z=this.cachedCanvases.getCanvas(k,S,L);this.suspendedCtx=this.ctx,this.ctx=z.context;const P=this.ctx;P.setTransform(...(0,l.getCurrentTransform)(this.suspendedCtx)),F(this.suspendedCtx,P),w(P,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),F(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(S){if(!this.current.activeSMask)return;S?(S[0]=Math.floor(S[0]),S[1]=Math.floor(S[1]),S[2]=Math.ceil(S[2]),S[3]=Math.ceil(S[3])):S=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const L=this.current.activeSMask,k=this.suspendedCtx;J(k,L,this.ctx,S),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(F(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const S=this.current;this.stateStack.push(S),this.current=S.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),F(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(S,L,k,z,P,K){this.ctx.transform(S,L,k,z,P,K),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(S,L,k){const z=this.ctx,P=this.current;let K=P.x,te=P.y,X,ee;const G=(0,l.getCurrentTransform)(z),ne=G[0]===0&&G[3]===0||G[1]===0&&G[2]===0,se=ne?k.slice(0):null;for(let le=0,he=0,be=S.length;le<be;le++)switch(S[le]|0){case i.OPS.rectangle:K=L[he++],te=L[he++];const ye=L[he++],de=L[he++],xe=K+ye,fe=te+de;z.moveTo(K,te),ye===0||de===0?z.lineTo(xe,fe):(z.lineTo(xe,te),z.lineTo(xe,fe),z.lineTo(K,fe)),ne||P.updateRectMinMax(G,[K,te,xe,fe]),z.closePath();break;case i.OPS.moveTo:K=L[he++],te=L[he++],z.moveTo(K,te),ne||P.updatePathMinMax(G,K,te);break;case i.OPS.lineTo:K=L[he++],te=L[he++],z.lineTo(K,te),ne||P.updatePathMinMax(G,K,te);break;case i.OPS.curveTo:X=K,ee=te,K=L[he+4],te=L[he+5],z.bezierCurveTo(L[he],L[he+1],L[he+2],L[he+3],K,te),P.updateCurvePathMinMax(G,X,ee,L[he],L[he+1],L[he+2],L[he+3],K,te,se),he+=6;break;case i.OPS.curveTo2:X=K,ee=te,z.bezierCurveTo(K,te,L[he],L[he+1],L[he+2],L[he+3]),P.updateCurvePathMinMax(G,X,ee,K,te,L[he],L[he+1],L[he+2],L[he+3],se),K=L[he+2],te=L[he+3],he+=4;break;case i.OPS.curveTo3:X=K,ee=te,K=L[he+2],te=L[he+3],z.bezierCurveTo(L[he],L[he+1],K,te,K,te),P.updateCurvePathMinMax(G,X,ee,L[he],L[he+1],K,te,K,te,se),he+=4;break;case i.OPS.closePath:z.closePath();break}ne&&P.updateScalingPathMinMax(G,se),P.setCurrentPoint(K,te)}closePath(){this.ctx.closePath()}stroke(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const L=this.ctx,k=this.current.strokeColor;L.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof k=="object"&&(k==null?void 0:k.getPattern)?(L.save(),L.strokeStyle=k.getPattern(L,this,(0,l.getCurrentTransformInverse)(L),d.PathType.STROKE),this.rescaleAndStroke(!1),L.restore()):this.rescaleAndStroke(!0)),S&&this.consumePath(this.current.getClippedPathBoundingBox()),L.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const L=this.ctx,k=this.current.fillColor,z=this.current.patternFill;let P=!1;z&&(L.save(),L.fillStyle=k.getPattern(L,this,(0,l.getCurrentTransformInverse)(L),d.PathType.FILL),P=!0);const K=this.current.getClippedPathBoundingBox();this.contentVisible&&K!==null&&(this.pendingEOFill?(L.fill("evenodd"),this.pendingEOFill=!1):L.fill()),P&&L.restore(),S&&this.consumePath(K)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Y}eoClip(){this.pendingClip=_}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const S=this.pendingTextPaths,L=this.ctx;if(S===void 0){L.beginPath();return}L.save(),L.beginPath();for(const k of S)L.setTransform(...k.transform),L.translate(k.x,k.y),k.addToPath(L,k.fontSize);L.restore(),L.clip(),L.beginPath(),delete this.pendingTextPaths}setCharSpacing(S){this.current.charSpacing=S}setWordSpacing(S){this.current.wordSpacing=S}setHScale(S){this.current.textHScale=S/100}setLeading(S){this.current.leading=-S}setFont(S,L){var G;const k=this.commonObjs.get(S),z=this.current;if(!k)throw new Error(`Can't find font for ${S}`);if(z.fontMatrix=k.fontMatrix||i.FONT_IDENTITY_MATRIX,(z.fontMatrix[0]===0||z.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+S),L<0?(L=-L,z.fontDirection=-1):z.fontDirection=1,this.current.font=k,this.current.fontSize=L,k.isType3Font)return;const P=k.loadedName||"sans-serif",K=((G=k.systemFontInfo)==null?void 0:G.css)||`"${P}", ${k.fallbackName}`;let te="normal";k.black?te="900":k.bold&&(te="bold");const X=k.italic?"italic":"normal";let ee=L;L<r?ee=r:L>p&&(ee=p),this.current.fontSizeScale=L/ee,this.ctx.font=`${X} ${te} ${ee}px ${K}`}setTextRenderingMode(S){this.current.textRenderingMode=S}setTextRise(S){this.current.textRise=S}moveText(S,L){this.current.x=this.current.lineX+=S,this.current.y=this.current.lineY+=L}setLeadingMoveText(S,L){this.setLeading(-L),this.moveText(S,L)}setTextMatrix(S,L,k,z,P,K){this.current.textMatrix=[S,L,k,z,P,K],this.current.textMatrixScale=Math.hypot(S,L),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(S,L,k,z){const P=this.ctx,K=this.current,te=K.font,X=K.textRenderingMode,ee=K.fontSize/K.fontSizeScale,G=X&i.TextRenderingMode.FILL_STROKE_MASK,ne=!!(X&i.TextRenderingMode.ADD_TO_PATH_FLAG),se=K.patternFill&&!te.missingFile;let le;(te.disableFontFace||ne||se)&&(le=te.getPathGenerator(this.commonObjs,S)),te.disableFontFace||se?(P.save(),P.translate(L,k),P.beginPath(),le(P,ee),z&&P.setTransform(...z),(G===i.TextRenderingMode.FILL||G===i.TextRenderingMode.FILL_STROKE)&&P.fill(),(G===i.TextRenderingMode.STROKE||G===i.TextRenderingMode.FILL_STROKE)&&P.stroke(),P.restore()):((G===i.TextRenderingMode.FILL||G===i.TextRenderingMode.FILL_STROKE)&&P.fillText(S,L,k),(G===i.TextRenderingMode.STROKE||G===i.TextRenderingMode.FILL_STROKE)&&P.strokeText(S,L,k)),ne&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,l.getCurrentTransform)(P),x:L,y:k,fontSize:ee,addToPath:le})}get isFontSubpixelAAEnabled(){const{context:S}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);S.scale(1.5,1),S.fillText("I",0,10);const L=S.getImageData(0,0,10,10).data;let k=!1;for(let z=3;z<L.length;z+=4)if(L[z]>0&&L[z]<255){k=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",k)}showText(S){const L=this.current,k=L.font;if(k.isType3Font)return this.showType3Text(S);const z=L.fontSize;if(z===0)return;const P=this.ctx,K=L.fontSizeScale,te=L.charSpacing,X=L.wordSpacing,ee=L.fontDirection,G=L.textHScale*ee,ne=S.length,se=k.vertical,le=se?1:-1,he=k.defaultVMetrics,be=z*L.fontMatrix[0],ye=L.textRenderingMode===i.TextRenderingMode.FILL&&!k.disableFontFace&&!L.patternFill;P.save(),P.transform(...L.textMatrix),P.translate(L.x,L.y+L.textRise),ee>0?P.scale(G,-1):P.scale(G,1);let de;if(L.patternFill){P.save();const ve=L.fillColor.getPattern(P,this,(0,l.getCurrentTransformInverse)(P),d.PathType.FILL);de=(0,l.getCurrentTransform)(P),P.restore(),P.fillStyle=ve}let xe=L.lineWidth;const fe=L.textMatrixScale;if(fe===0||xe===0){const ve=L.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(ve===i.TextRenderingMode.STROKE||ve===i.TextRenderingMode.FILL_STROKE)&&(xe=this.getSinglePixelWidth())}else xe/=fe;if(K!==1&&(P.scale(K,K),xe/=K),P.lineWidth=xe,k.isInvalidPDFjsFont){const ve=[];let Ee=0;for(const Me of S)ve.push(Me.unicode),Ee+=Me.width;P.fillText(ve.join(""),0,0),L.x+=Ee*be*G,P.restore(),this.compose();return}let ce=0,ue;for(ue=0;ue<ne;++ue){const ve=S[ue];if(typeof ve=="number"){ce+=le*ve*z/1e3;continue}let Ee=!1;const Me=(ve.isSpace?X:0)+te,_e=ve.fontChar,ze=ve.accent;let We,Ve,Ne=ve.width;if(se){const Ie=ve.vmetric||he,Te=-(ve.vmetric?Ie[1]:Ne*.5)*be,Ae=Ie[2]*be;Ne=Ie?-Ie[0]:Ne,We=Te/K,Ve=(ce+Ae)/K}else We=ce/K,Ve=0;if(k.remeasure&&Ne>0){const Ie=P.measureText(_e).width*1e3/z*K;if(Ne<Ie&&this.isFontSubpixelAAEnabled){const Te=Ne/Ie;Ee=!0,P.save(),P.scale(Te,1),We/=Te}else Ne!==Ie&&(We+=(Ne-Ie)/2e3*z/K)}if(this.contentVisible&&(ve.isInFont||k.missingFile)){if(ye&&!ze)P.fillText(_e,We,Ve);else if(this.paintChar(_e,We,Ve,de),ze){const Ie=We+z*ze.offset.x/K,Te=Ve-z*ze.offset.y/K;this.paintChar(ze.fontChar,Ie,Te,de)}}const ke=se?Ne*be-Me*ee:Ne*be+Me*ee;ce+=ke,Ee&&P.restore()}se?L.y-=ce:L.x+=ce*G,P.restore(),this.compose()}showType3Text(S){const L=this.ctx,k=this.current,z=k.font,P=k.fontSize,K=k.fontDirection,te=z.vertical?1:-1,X=k.charSpacing,ee=k.wordSpacing,G=k.textHScale*K,ne=k.fontMatrix||i.FONT_IDENTITY_MATRIX,se=S.length,le=k.textRenderingMode===i.TextRenderingMode.INVISIBLE;let he,be,ye,de;if(!(le||P===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,L.save(),L.transform(...k.textMatrix),L.translate(k.x,k.y),L.scale(G,K),he=0;he<se;++he){if(be=S[he],typeof be=="number"){de=te*be*P/1e3,this.ctx.translate(de,0),k.x+=de*G;continue}const xe=(be.isSpace?ee:0)+X,fe=z.charProcOperatorList[be.operatorListId];if(!fe){(0,i.warn)(`Type3 character "${be.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=be,this.save(),L.scale(P,P),L.transform(...ne),this.executeOperatorList(fe),this.restore()),ye=i.Util.applyTransform([be.width,0],ne)[0]*P+xe,L.translate(ye,0),k.x+=ye*G}L.restore(),this.processingType3=null}}setCharWidth(S,L){}setCharWidthAndBounds(S,L,k,z,P,K){this.ctx.rect(k,z,P-k,K-z),this.ctx.clip(),this.endPath()}getColorN_Pattern(S){let L;if(S[0]==="TilingPattern"){const k=S[1],z=this.baseTransform||(0,l.getCurrentTransform)(this.ctx),P={createCanvasGraphics:K=>new ae(K,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};L=new d.TilingPattern(S,k,this.ctx,P,z)}else L=this._getPattern(S[1],S[2]);return L}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(S,L,k){const z=i.Util.makeHexColor(S,L,k);this.ctx.strokeStyle=z,this.current.strokeColor=z}setFillRGBColor(S,L,k){const z=i.Util.makeHexColor(S,L,k);this.ctx.fillStyle=z,this.current.fillColor=z,this.current.patternFill=!1}_getPattern(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,k;return this.cachedPatterns.has(S)?k=this.cachedPatterns.get(S):(k=(0,d.getShadingPattern)(this.getObject(S)),this.cachedPatterns.set(S,k)),L&&(k.matrix=L),k}shadingFill(S){if(!this.contentVisible)return;const L=this.ctx;this.save();const k=this._getPattern(S);L.fillStyle=k.getPattern(L,this,(0,l.getCurrentTransformInverse)(L),d.PathType.SHADING);const z=(0,l.getCurrentTransformInverse)(L);if(z){const{width:P,height:K}=L.canvas,[te,X,ee,G]=i.Util.getAxialAlignedBoundingBox([0,0,P,K],z);this.ctx.fillRect(te,X,ee-te,G-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(S,L){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(S)&&S.length===6&&this.transform(...S),this.baseTransform=(0,l.getCurrentTransform)(this.ctx),L)){const k=L[2]-L[0],z=L[3]-L[1];this.ctx.rect(L[0],L[1],k,z),this.current.updateRectMinMax((0,l.getCurrentTransform)(this.ctx),L),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(S){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const L=this.ctx;S.isolated||(0,i.info)("TODO: Support non-isolated groups."),S.knockout&&(0,i.warn)("Knockout groups not supported.");const k=(0,l.getCurrentTransform)(L);if(S.matrix&&L.transform(...S.matrix),!S.bbox)throw new Error("Bounding box is required.");let z=i.Util.getAxialAlignedBoundingBox(S.bbox,(0,l.getCurrentTransform)(L));const P=[0,0,L.canvas.width,L.canvas.height];z=i.Util.intersect(z,P)||[0,0,0,0];const K=Math.floor(z[0]),te=Math.floor(z[1]);let X=Math.max(Math.ceil(z[2])-K,1),ee=Math.max(Math.ceil(z[3])-te,1),G=1,ne=1;X>x&&(G=X/x,X=x),ee>x&&(ne=ee/x,ee=x),this.current.startNewPathAndClipBox([0,0,X,ee]);let se="groupAt"+this.groupLevel;S.smask&&(se+="_smask_"+this.smaskCounter++%2);const le=this.cachedCanvases.getCanvas(se,X,ee),he=le.context;he.scale(1/G,1/ne),he.translate(-K,-te),he.transform(...k),S.smask?this.smaskStack.push({canvas:le.canvas,context:he,offsetX:K,offsetY:te,scaleX:G,scaleY:ne,subtype:S.smask.subtype,backdrop:S.smask.backdrop,transferMap:S.smask.transferMap||null,startTransformInverse:null}):(L.setTransform(1,0,0,1,0,0),L.translate(K,te),L.scale(G,ne),L.save()),F(L,he),this.ctx=he,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(L),this.groupLevel++}endGroup(S){if(!this.contentVisible)return;this.groupLevel--;const L=this.ctx,k=this.groupStack.pop();if(this.ctx=k,this.ctx.imageSmoothingEnabled=!1,S.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const z=(0,l.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...z);const P=i.Util.getAxialAlignedBoundingBox([0,0,L.canvas.width,L.canvas.height],z);this.ctx.drawImage(L.canvas,0,0),this.ctx.restore(),this.compose(P)}}beginAnnotation(S,L,k,z,P){if(Ue(this,Z,wd).call(this),C(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(L)&&L.length===4){const K=L[2]-L[0],te=L[3]-L[1];if(P&&this.annotationCanvasMap){k=k.slice(),k[4]-=L[0],k[5]-=L[1],L=L.slice(),L[0]=L[1]=0,L[2]=K,L[3]=te;const[X,ee]=i.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(this.ctx)),{viewportScale:G}=this,ne=Math.ceil(K*this.outputScaleX*G),se=Math.ceil(te*this.outputScaleY*G);this.annotationCanvas=this.canvasFactory.create(ne,se);const{canvas:le,context:he}=this.annotationCanvas;this.annotationCanvasMap.set(S,le),this.annotationCanvas.savedCtx=this.ctx,this.ctx=he,this.ctx.save(),this.ctx.setTransform(X,0,0,-ee,0,te*ee),C(this.ctx)}else C(this.ctx),this.ctx.rect(L[0],L[1],K,te),this.ctx.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...k),this.transform(...z)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ue(this,re,Ad).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(S){if(!this.contentVisible)return;const L=S.count;S=this.getObject(S.data,S),S.count=L;const k=this.ctx,z=this.processingType3;if(z&&(z.compiled===void 0&&(z.compiled=A(S)),z.compiled)){z.compiled(k);return}const P=this._createMaskCanvas(S),K=P.canvas;k.save(),k.setTransform(1,0,0,1,0,0),k.drawImage(K,P.offsetX,P.offsetY),k.restore(),this.compose()}paintImageMaskXObjectRepeat(S,L){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,P=arguments.length>4?arguments[4]:void 0,K=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;S=this.getObject(S.data,S);const te=this.ctx;te.save();const X=(0,l.getCurrentTransform)(te);te.transform(L,k,z,P,0,0);const ee=this._createMaskCanvas(S);te.setTransform(1,0,0,1,ee.offsetX-X[4],ee.offsetY-X[5]);for(let G=0,ne=K.length;G<ne;G+=2){const se=i.Util.transform(X,[L,k,z,P,K[G],K[G+1]]),[le,he]=i.Util.applyTransform([0,0],se);te.drawImage(ee.canvas,le,he)}te.restore(),this.compose()}paintImageMaskXObjectGroup(S){if(!this.contentVisible)return;const L=this.ctx,k=this.current.fillColor,z=this.current.patternFill;for(const P of S){const{data:K,width:te,height:X,transform:ee}=P,G=this.cachedCanvases.getCanvas("maskCanvas",te,X),ne=G.context;ne.save();const se=this.getObject(K,P);D(ne,se),ne.globalCompositeOperation="source-in",ne.fillStyle=z?k.getPattern(ne,this,(0,l.getCurrentTransformInverse)(L),d.PathType.FILL):k,ne.fillRect(0,0,te,X),ne.restore(),L.save(),L.transform(...ee),L.scale(1,-1),E(L,G.canvas,0,0,te,X,0,-1,1,1),L.restore()}this.compose()}paintImageXObject(S){if(!this.contentVisible)return;const L=this.getObject(S);if(!L){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(L)}paintImageXObjectRepeat(S,L,k,z){if(!this.contentVisible)return;const P=this.getObject(S);if(!P){(0,i.warn)("Dependent image isn't ready yet");return}const K=P.width,te=P.height,X=[];for(let ee=0,G=z.length;ee<G;ee+=2)X.push({transform:[L,0,0,k,z[ee],z[ee+1]],x:0,y:0,w:K,h:te});this.paintInlineImageXObjectGroup(P,X)}applyTransferMapsToCanvas(S){return this.current.transferMaps!=="none"&&(S.filter=this.current.transferMaps,S.drawImage(S.canvas,0,0),S.filter="none"),S.canvas}applyTransferMapsToBitmap(S){if(this.current.transferMaps==="none")return S.bitmap;const{bitmap:L,width:k,height:z}=S,P=this.cachedCanvases.getCanvas("inlineImage",k,z),K=P.context;return K.filter=this.current.transferMaps,K.drawImage(L,0,0),K.filter="none",P.canvas}paintInlineImageXObject(S){if(!this.contentVisible)return;const L=S.width,k=S.height,z=this.ctx;if(this.save(),!i.isNodeJS){const{filter:te}=z;te!=="none"&&te!==""&&(z.filter="none")}z.scale(1/L,-1/k);let P;if(S.bitmap)P=this.applyTransferMapsToBitmap(S);else if(typeof HTMLElement=="function"&&S instanceof HTMLElement||!S.data)P=S;else{const X=this.cachedCanvases.getCanvas("inlineImage",L,k).context;T(X,S),P=this.applyTransferMapsToCanvas(X)}const K=this._scaleImage(P,(0,l.getCurrentTransformInverse)(z));z.imageSmoothingEnabled=H((0,l.getCurrentTransform)(z),S.interpolate),E(z,K.img,0,0,K.paintWidth,K.paintHeight,0,-k,L,k),this.compose(),this.restore()}paintInlineImageXObjectGroup(S,L){if(!this.contentVisible)return;const k=this.ctx;let z;if(S.bitmap)z=S.bitmap;else{const P=S.width,K=S.height,X=this.cachedCanvases.getCanvas("inlineImage",P,K).context;T(X,S),z=this.applyTransferMapsToCanvas(X)}for(const P of L)k.save(),k.transform(...P.transform),k.scale(1,-1),E(k,z,P.x,P.y,P.w,P.h,0,-1,1,1),k.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(S){}markPointProps(S,L){}beginMarkedContent(S){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(S,L){S==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(L)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(S){const L=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(S);const k=this.ctx;this.pendingClip&&(L||(this.pendingClip===_?k.clip("evenodd"):k.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),k.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const S=(0,l.getCurrentTransform)(this.ctx);if(S[1]===0&&S[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(S[0]),Math.abs(S[3]));else{const L=Math.abs(S[0]*S[3]-S[2]*S[1]),k=Math.hypot(S[0],S[2]),z=Math.hypot(S[1],S[3]);this._cachedGetSinglePixelWidth=Math.max(k,z)/L}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:S}=this.current,{a:L,b:k,c:z,d:P}=this.ctx.getTransform();let K,te;if(k===0&&z===0){const X=Math.abs(L),ee=Math.abs(P);if(X===ee)if(S===0)K=te=1/X;else{const G=X*S;K=te=G<1?1/G:1}else if(S===0)K=1/X,te=1/ee;else{const G=X*S,ne=ee*S;K=G<1?1/G:1,te=ne<1?1/ne:1}}else{const X=Math.abs(L*P-k*z),ee=Math.hypot(L,k),G=Math.hypot(z,P);if(S===0)K=G/X,te=ee/X;else{const ne=S*X;K=G>ne?G/ne:1,te=ee>ne?ee/ne:1}}this._cachedScaleForStroking[0]=K,this._cachedScaleForStroking[1]=te}return this._cachedScaleForStroking}rescaleAndStroke(S){const{ctx:L}=this,{lineWidth:k}=this.current,[z,P]=this.getScaleForStroking();if(L.lineWidth=k||1,z===1&&P===1){L.stroke();return}const K=L.getLineDash();if(S&&L.save(),L.scale(z,P),K.length>0){const te=Math.max(z,P);L.setLineDash(K.map(X=>X/te)),L.lineDashOffset/=te}L.stroke(),S&&L.restore()}isContentVisible(){for(let S=this.markedContentStack.length-1;S>=0;S--)if(!this.markedContentStack[S].visible)return!1;return!0}};let V=ae;Z=new WeakSet,wd=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},re=new WeakSet,Ad=function(){if(this.pageColors){const S=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(S!=="none"){const L=this.ctx.filter;this.ctx.filter=S,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=L}}},o.CanvasGraphics=V;for(const R in i.OPS)V.prototype[R]!==void 0&&(V.prototype[i.OPS[R]]=V.prototype[R])},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=g,s(2);var i=s(1),l=s(168);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};o.PathType=d;function e(A,O){if(!O)return;const T=O[2]-O[0],D=O[3]-O[1],F=new Path2D;F.rect(O[0],O[1],T,D),A.clip(F)}class r{constructor(){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class p extends r{constructor(O){super(),this._type=O[1],this._bbox=O[2],this._colorStops=O[3],this._p0=O[4],this._p1=O[5],this._r0=O[6],this._r1=O[7],this.matrix=null}_createGradient(O){let T;this._type==="axial"?T=O.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(T=O.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const D of this._colorStops)T.addColorStop(D[0],D[1]);return T}getPattern(O,T,D,F){let C;if(F===d.STROKE||F===d.FILL){const B=T.current.getClippedPathBoundingBox(F,(0,l.getCurrentTransform)(O))||[0,0,0,0],M=Math.ceil(B[2]-B[0])||1,I=Math.ceil(B[3]-B[1])||1,W=T.cachedCanvases.getCanvas("pattern",M,I,!0),J=W.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-B[0],-B[1]),D=i.Util.transform(D,[1,0,0,1,B[0],B[1]]),J.transform(...T.baseTransform),this.matrix&&J.transform(...this.matrix),e(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),C=O.createPattern(W.canvas,"no-repeat");const H=new DOMMatrix(D);C.setTransform(H)}else e(O,this._bbox),C=this._createGradient(O);return C}}function x(A,O,T,D,F,C,B,M){const I=O.coords,W=O.colors,J=A.data,H=A.width*4;let N;I[T+1]>I[D+1]&&(N=T,T=D,D=N,N=C,C=B,B=N),I[D+1]>I[F+1]&&(N=D,D=F,F=N,N=B,B=M,M=N),I[T+1]>I[D+1]&&(N=T,T=D,D=N,N=C,C=B,B=N);const U=(I[T]+O.offsetX)*O.scaleX,Y=(I[T+1]+O.offsetY)*O.scaleY,_=(I[D]+O.offsetX)*O.scaleX,V=(I[D+1]+O.offsetY)*O.scaleY,Z=(I[F]+O.offsetX)*O.scaleX,q=(I[F+1]+O.offsetY)*O.scaleY;if(Y>=q)return;const re=W[C],oe=W[C+1],ae=W[C+2],R=W[B],S=W[B+1],L=W[B+2],k=W[M],z=W[M+1],P=W[M+2],K=Math.round(Y),te=Math.round(q);let X,ee,G,ne,se,le,he,be;for(let ye=K;ye<=te;ye++){if(ye<V){const ue=ye<Y?0:(Y-ye)/(Y-V);X=U-(U-_)*ue,ee=re-(re-R)*ue,G=oe-(oe-S)*ue,ne=ae-(ae-L)*ue}else{let ue;ye>q?ue=1:V===q?ue=0:ue=(V-ye)/(V-q),X=_-(_-Z)*ue,ee=R-(R-k)*ue,G=S-(S-z)*ue,ne=L-(L-P)*ue}let de;ye<Y?de=0:ye>q?de=1:de=(Y-ye)/(Y-q),se=U-(U-Z)*de,le=re-(re-k)*de,he=oe-(oe-z)*de,be=ae-(ae-P)*de;const xe=Math.round(Math.min(X,se)),fe=Math.round(Math.max(X,se));let ce=H*ye+xe*4;for(let ue=xe;ue<=fe;ue++)de=(X-ue)/(X-se),de<0?de=0:de>1&&(de=1),J[ce++]=ee-(ee-le)*de|0,J[ce++]=G-(G-he)*de|0,J[ce++]=ne-(ne-be)*de|0,J[ce++]=255}}function y(A,O,T){const D=O.coords,F=O.colors;let C,B;switch(O.type){case"lattice":const M=O.verticesPerRow,I=Math.floor(D.length/M)-1,W=M-1;for(C=0;C<I;C++){let J=C*M;for(let H=0;H<W;H++,J++)x(A,T,D[J],D[J+1],D[J+M],F[J],F[J+1],F[J+M]),x(A,T,D[J+M+1],D[J+1],D[J+M],F[J+M+1],F[J+1],F[J+M])}break;case"triangles":for(C=0,B=D.length;C<B;C+=3)x(A,T,D[C],D[C+1],D[C+2],F[C],F[C+1],F[C+2]);break;default:throw new Error("illegal figure")}}class v extends r{constructor(O){super(),this._coords=O[2],this._colors=O[3],this._figures=O[4],this._bounds=O[5],this._bbox=O[7],this._background=O[8],this.matrix=null}_createMeshCanvas(O,T,D){const M=Math.floor(this._bounds[0]),I=Math.floor(this._bounds[1]),W=Math.ceil(this._bounds[2])-M,J=Math.ceil(this._bounds[3])-I,H=Math.min(Math.ceil(Math.abs(W*O[0]*1.1)),3e3),N=Math.min(Math.ceil(Math.abs(J*O[1]*1.1)),3e3),U=W/H,Y=J/N,_={coords:this._coords,colors:this._colors,offsetX:-M,offsetY:-I,scaleX:1/U,scaleY:1/Y},V=H+2*2,Z=N+2*2,q=D.getCanvas("mesh",V,Z,!1),re=q.context,oe=re.createImageData(H,N);if(T){const R=oe.data;for(let S=0,L=R.length;S<L;S+=4)R[S]=T[0],R[S+1]=T[1],R[S+2]=T[2],R[S+3]=255}for(const R of this._figures)y(oe,R,_);return re.putImageData(oe,2,2),{canvas:q.canvas,offsetX:M-2*U,offsetY:I-2*Y,scaleX:U,scaleY:Y}}getPattern(O,T,D,F){e(O,this._bbox);let C;if(F===d.SHADING)C=i.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(O));else if(C=i.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const M=i.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*M[0],C[1]*M[1]]}const B=this._createMeshCanvas(C,F===d.SHADING?null:this._background,T.cachedCanvases);return F!==d.SHADING&&(O.setTransform(...T.baseTransform),this.matrix&&O.transform(...this.matrix)),O.translate(B.offsetX,B.offsetY),O.scale(B.scaleX,B.scaleY),O.createPattern(B.canvas,"no-repeat")}}class b extends r{getPattern(){return"hotpink"}}function g(A){switch(A[0]){case"RadialAxial":return new p(A);case"Mesh":return new v(A);case"Dummy":return new b}throw new Error(`Unknown IR type: ${A[0]}`)}const w={COLORED:1,UNCOLORED:2},E=class{constructor(O,T,D,F,C){this.operatorList=O[2],this.matrix=O[3]||[1,0,0,1,0,0],this.bbox=O[4],this.xstep=O[5],this.ystep=O[6],this.paintType=O[7],this.tilingType=O[8],this.color=T,this.ctx=D,this.canvasGraphicsFactory=F,this.baseTransform=C}createPatternCanvas(O){const T=this.operatorList,D=this.bbox,F=this.xstep,C=this.ystep,B=this.paintType,M=this.tilingType,I=this.color,W=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+M);const J=D[0],H=D[1],N=D[2],U=D[3],Y=i.Util.singularValueDecompose2dScale(this.matrix),_=i.Util.singularValueDecompose2dScale(this.baseTransform),V=[Y[0]*_[0],Y[1]*_[1]],Z=this.getSizeAndScale(F,this.ctx.canvas.width,V[0]),q=this.getSizeAndScale(C,this.ctx.canvas.height,V[1]),re=O.cachedCanvases.getCanvas("pattern",Z.size,q.size,!0),oe=re.context,ae=W.createCanvasGraphics(oe);ae.groupLevel=O.groupLevel,this.setFillAndStrokeStyleToContext(ae,B,I);let R=J,S=H,L=N,k=U;return J<0&&(R=0,L+=Math.abs(J)),H<0&&(S=0,k+=Math.abs(H)),oe.translate(-(Z.scale*R),-(q.scale*S)),ae.transform(Z.scale,0,0,q.scale,0,0),oe.save(),this.clipBbox(ae,R,S,L,k),ae.baseTransform=(0,l.getCurrentTransform)(ae.ctx),ae.executeOperatorList(T),ae.endDrawing(),{canvas:re.canvas,scaleX:Z.scale,scaleY:q.scale,offsetX:R,offsetY:S}}getSizeAndScale(O,T,D){O=Math.abs(O);const F=Math.max(E.MAX_PATTERN_SIZE,T);let C=Math.ceil(O*D);return C>=F?C=F:D=C/O,{scale:D,size:C}}clipBbox(O,T,D,F,C){const B=F-T,M=C-D;O.ctx.rect(T,D,B,M),O.current.updateRectMinMax((0,l.getCurrentTransform)(O.ctx),[T,D,F,C]),O.clip(),O.endPath()}setFillAndStrokeStyleToContext(O,T,D){const F=O.ctx,C=O.current;switch(T){case w.COLORED:const B=this.ctx;F.fillStyle=B.fillStyle,F.strokeStyle=B.strokeStyle,C.fillColor=B.fillStyle,C.strokeColor=B.strokeStyle;break;case w.UNCOLORED:const M=i.Util.makeHexColor(D[0],D[1],D[2]);F.fillStyle=M,F.strokeStyle=M,C.fillColor=M,C.strokeColor=M;break;default:throw new i.FormatError(`Unsupported paint type: ${T}`)}}getPattern(O,T,D,F){let C=D;F!==d.SHADING&&(C=i.Util.transform(C,T.baseTransform),this.matrix&&(C=i.Util.transform(C,this.matrix)));const B=this.createPatternCanvas(T);let M=new DOMMatrix(C);M=M.translate(B.offsetX,B.offsetY),M=M.scale(1/B.scaleX,1/B.scaleY);const I=O.createPattern(B.canvas,"repeat");return I.setTransform(M),I}};let f=E;Ct(f,"MAX_PATTERN_SIZE",3e3),o.TilingPattern=f},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertBlackAndWhiteToRGBA=d,o.convertToRGBA=l,o.grayToRGBA=r,s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123);var i=s(1);function l(p){switch(p.kind){case i.ImageKind.GRAYSCALE_1BPP:return d(p);case i.ImageKind.RGB_24BPP:return e(p)}return null}function d(p){let{src:x,srcPos:y=0,dest:v,width:b,height:g,nonBlackColor:w=4294967295,inverseDecode:f=!1}=p;const E=i.FeatureTest.isLittleEndian?4278190080:255,[A,O]=f?[w,E]:[E,w],T=b>>3,D=b&7,F=x.length;v=new Uint32Array(v.buffer);let C=0;for(let B=0;B<g;B++){for(const I=y+T;y<I;y++){const W=y<F?x[y]:255;v[C++]=W&128?O:A,v[C++]=W&64?O:A,v[C++]=W&32?O:A,v[C++]=W&16?O:A,v[C++]=W&8?O:A,v[C++]=W&4?O:A,v[C++]=W&2?O:A,v[C++]=W&1?O:A}if(D===0)continue;const M=y<F?x[y++]:255;for(let I=0;I<D;I++)v[C++]=M&1<<7-I?O:A}return{srcPos:y,destPos:C}}function e(p){let{src:x,srcPos:y=0,dest:v,destPos:b=0,width:g,height:w}=p,f=0;const E=x.length>>2,A=new Uint32Array(x.buffer,y,E);if(i.FeatureTest.isLittleEndian){for(;f<E-2;f+=3,b+=4){const O=A[f],T=A[f+1],D=A[f+2];v[b]=O|4278190080,v[b+1]=O>>>24|T<<8|4278190080,v[b+2]=T>>>16|D<<16|4278190080,v[b+3]=D>>>8|4278190080}for(let O=f*4,T=x.length;O<T;O+=3)v[b++]=x[O]|x[O+1]<<8|x[O+2]<<16|4278190080}else{for(;f<E-2;f+=3,b+=4){const O=A[f],T=A[f+1],D=A[f+2];v[b]=O|255,v[b+1]=O<<24|T>>>8|255,v[b+2]=T<<16|D>>>16|255,v[b+3]=D<<8|255}for(let O=f*4,T=x.length;O<T;O+=3)v[b++]=x[O]<<24|x[O+1]<<16|x[O+2]<<8|255}return{srcPos:y,destPos:b}}function r(p,x){if(i.FeatureTest.isLittleEndian)for(let y=0,v=p.length;y<v;y++)x[y]=p[y]*65793|4278190080;else for(let y=0,v=p.length;y<v;y++)x[y]=p[y]*16843008|255}},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const s=Object.create(null);o.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(h,o,s)=>{var p,Ty,y,Fy,b,b0;Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0,s(2);var i=s(1);const l={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(w){switch(w instanceof Error||typeof w=="object"&&w!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),w.name){case"AbortException":return new i.AbortException(w.message);case"MissingPDFException":return new i.MissingPDFException(w.message);case"PasswordException":return new i.PasswordException(w.message,w.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(w.message,w.status);case"UnknownErrorException":return new i.UnknownErrorException(w.message,w.details);default:return new i.UnknownErrorException(w.message,w.toString())}}class r{constructor(f,E,A){Le(this,p);Le(this,y);Le(this,b);this.sourceName=f,this.targetName=E,this.comObj=A,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=O=>{const T=O.data;if(T.targetName!==this.sourceName)return;if(T.stream){Ue(this,y,Fy).call(this,T);return}if(T.callback){const F=T.callbackId,C=this.callbackCapabilities[F];if(!C)throw new Error(`Cannot resolve callback ${F}`);if(delete this.callbackCapabilities[F],T.callback===l.DATA)C.resolve(T.data);else if(T.callback===l.ERROR)C.reject(e(T.reason));else throw new Error("Unexpected callback case");return}const D=this.actionHandler[T.action];if(!D)throw new Error(`Unknown action from worker: ${T.action}`);if(T.callbackId){const F=this.sourceName,C=T.sourceName;new Promise(function(B){B(D(T.data))}).then(function(B){A.postMessage({sourceName:F,targetName:C,callback:l.DATA,callbackId:T.callbackId,data:B})},function(B){A.postMessage({sourceName:F,targetName:C,callback:l.ERROR,callbackId:T.callbackId,reason:e(B)})});return}if(T.streamId){Ue(this,p,Ty).call(this,T);return}D(T.data)},A.addEventListener("message",this._onComObjOnMessage)}on(f,E){const A=this.actionHandler;if(A[f])throw new Error(`There is already an actionName called "${f}"`);A[f]=E}send(f,E,A){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:E},A)}sendWithPromise(f,E,A){const O=this.callbackId++,T=new i.PromiseCapability;this.callbackCapabilities[O]=T;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:O,data:E},A)}catch(D){T.reject(D)}return T.promise}sendWithStream(f,E,A,O){const T=this.streamId++,D=this.sourceName,F=this.targetName,C=this.comObj;return new ReadableStream({start:B=>{const M=new i.PromiseCapability;return this.streamControllers[T]={controller:B,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:D,targetName:F,action:f,streamId:T,data:E,desiredSize:B.desiredSize},O),M.promise},pull:B=>{const M=new i.PromiseCapability;return this.streamControllers[T].pullCall=M,C.postMessage({sourceName:D,targetName:F,stream:d.PULL,streamId:T,desiredSize:B.desiredSize}),M.promise},cancel:B=>{(0,i.assert)(B instanceof Error,"cancel must have a valid reason");const M=new i.PromiseCapability;return this.streamControllers[T].cancelCall=M,this.streamControllers[T].isClosed=!0,C.postMessage({sourceName:D,targetName:F,stream:d.CANCEL,streamId:T,reason:e(B)}),M.promise}},A)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}p=new WeakSet,Ty=function(f){const E=f.streamId,A=this.sourceName,O=f.sourceName,T=this.comObj,D=this,F=this.actionHandler[f.action],C={enqueue(B){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,I=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const W=this.desiredSize;this.desiredSize-=M,W>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),T.postMessage({sourceName:A,targetName:O,stream:d.ENQUEUE,streamId:E,chunk:B},I)},close(){this.isCancelled||(this.isCancelled=!0,T.postMessage({sourceName:A,targetName:O,stream:d.CLOSE,streamId:E}),delete D.streamSinks[E])},error(B){(0,i.assert)(B instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,T.postMessage({sourceName:A,targetName:O,stream:d.ERROR,streamId:E,reason:e(B)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[E]=C,new Promise(function(B){B(F(f.data,C))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.START_COMPLETE,streamId:E,success:!0})},function(B){T.postMessage({sourceName:A,targetName:O,stream:d.START_COMPLETE,streamId:E,reason:e(B)})})},y=new WeakSet,Fy=function(f){const E=f.streamId,A=this.sourceName,O=f.sourceName,T=this.comObj,D=this.streamControllers[E],F=this.streamSinks[E];switch(f.stream){case d.START_COMPLETE:f.success?D.startCall.resolve():D.startCall.reject(e(f.reason));break;case d.PULL_COMPLETE:f.success?D.pullCall.resolve():D.pullCall.reject(e(f.reason));break;case d.PULL:if(!F){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,success:!0});break}F.desiredSize<=0&&f.desiredSize>0&&F.sinkCapability.resolve(),F.desiredSize=f.desiredSize,new Promise(function(C){var B;C((B=F.onPull)==null?void 0:B.call(F))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,success:!0})},function(C){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,reason:e(C)})});break;case d.ENQUEUE:if((0,i.assert)(D,"enqueue should have stream controller"),D.isClosed)break;D.controller.enqueue(f.chunk);break;case d.CLOSE:if((0,i.assert)(D,"close should have stream controller"),D.isClosed)break;D.isClosed=!0,D.controller.close(),Ue(this,b,b0).call(this,D,E);break;case d.ERROR:(0,i.assert)(D,"error should have stream controller"),D.controller.error(e(f.reason)),Ue(this,b,b0).call(this,D,E);break;case d.CANCEL_COMPLETE:f.success?D.cancelCall.resolve():D.cancelCall.reject(e(f.reason)),Ue(this,b,b0).call(this,D,E);break;case d.CANCEL:if(!F)break;new Promise(function(C){var B;C((B=F.onCancel)==null?void 0:B.call(F,e(f.reason)))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.CANCEL_COMPLETE,streamId:E,success:!0})},function(C){T.postMessage({sourceName:A,targetName:O,stream:d.CANCEL_COMPLETE,streamId:E,reason:e(C)})}),F.sinkCapability.reject(e(f.reason)),F.isCancelled=!0,delete this.streamSinks[E];break;default:throw new Error("Unexpected stream case")}},b=new WeakSet,b0=async function(f,E){var A,O,T;await Promise.allSettled([(A=f.startCall)==null?void 0:A.promise,(O=f.pullCall)==null?void 0:O.promise,(T=f.cancelCall)==null?void 0:T.promise]),delete this.streamControllers[E]},o.MessageHandler=r},(h,o,s)=>{var d,e;Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var i=s(1);class l{constructor(p){Le(this,d,void 0);Le(this,e,void 0);let{parsedData:x,rawData:y}=p;Qe(this,d,x),Qe(this,e,y)}getRaw(){return ie(this,e)}get(p){var x;return(x=ie(this,d).get(p))!=null?x:null}getAll(){return(0,i.objectFromMap)(ie(this,d))}has(p){return ie(this,d).has(p)}}d=new WeakMap,e=new WeakMap,o.Metadata=l},(h,o,s)=>{var p,x,y,v,b,g,Sd;Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var i=s(1),l=s(170);const d=Symbol("INTERNAL");class e{constructor(E,A){Le(this,p,!0);this.name=E,this.intent=A}get visible(){return ie(this,p)}_setVisible(E,A){E!==d&&(0,i.unreachable)("Internal method `_setVisible` called."),Qe(this,p,A)}}p=new WeakMap;class r{constructor(E){Le(this,g);Le(this,x,null);Le(this,y,new Map);Le(this,v,null);Le(this,b,null);if(this.name=null,this.creator=null,E!==null){this.name=E.name,this.creator=E.creator,Qe(this,b,E.order);for(const A of E.groups)ie(this,y).set(A.id,new e(A.name,A.intent));if(E.baseState==="OFF")for(const A of ie(this,y).values())A._setVisible(d,!1);for(const A of E.on)ie(this,y).get(A)._setVisible(d,!0);for(const A of E.off)ie(this,y).get(A)._setVisible(d,!1);Qe(this,v,this.getHash())}}isVisible(E){if(ie(this,y).size===0)return!0;if(!E)return(0,i.warn)("Optional content group not defined."),!0;if(E.type==="OCG")return ie(this,y).has(E.id)?ie(this,y).get(E.id).visible:((0,i.warn)(`Optional content group not found: ${E.id}`),!0);if(E.type==="OCMD"){if(E.expression)return Ue(this,g,Sd).call(this,E.expression);if(!E.policy||E.policy==="AnyOn"){for(const A of E.ids){if(!ie(this,y).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(ie(this,y).get(A).visible)return!0}return!1}else if(E.policy==="AllOn"){for(const A of E.ids){if(!ie(this,y).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(!ie(this,y).get(A).visible)return!1}return!0}else if(E.policy==="AnyOff"){for(const A of E.ids){if(!ie(this,y).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(!ie(this,y).get(A).visible)return!0}return!1}else if(E.policy==="AllOff"){for(const A of E.ids){if(!ie(this,y).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(ie(this,y).get(A).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${E.policy}.`),!0}return(0,i.warn)(`Unknown group type ${E.type}.`),!0}setVisibility(E){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!ie(this,y).has(E)){(0,i.warn)(`Optional content group not found: ${E}`);return}ie(this,y).get(E)._setVisible(d,!!A),Qe(this,x,null)}get hasInitialVisibility(){return ie(this,v)===null||this.getHash()===ie(this,v)}getOrder(){return ie(this,y).size?ie(this,b)?ie(this,b).slice():[...ie(this,y).keys()]:null}getGroups(){return ie(this,y).size>0?(0,i.objectFromMap)(ie(this,y)):null}getGroup(E){return ie(this,y).get(E)||null}getHash(){if(ie(this,x)!==null)return ie(this,x);const E=new l.MurmurHash3_64;for(const[A,O]of ie(this,y))E.update(`${A}:${O.visible}`);return Qe(this,x,E.hexdigest())}}x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakSet,Sd=function(E){const A=E.length;if(A<2)return!0;const O=E[0];for(let T=1;T<A;T++){const D=E[T];let F;if(Array.isArray(D))F=Ue(this,g,Sd).call(this,D);else if(ie(this,y).has(D))F=ie(this,y).get(D).visible;else return(0,i.warn)(`Optional content group not found: ${D}`),!0;switch(O){case"And":if(!F)return!1;break;case"Or":if(F)return!0;break;case"Not":return!F;default:return!0}}return O==="And"},o.OptionalContentConfig=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0,s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123),s(89);var i=s(1),l=s(168);class d{constructor(x,y){let{length:v,initialData:b,progressiveDone:g=!1,contentDispositionFilename:w=null,disableRange:f=!1,disableStream:E=!1}=x;if((0,i.assert)(y,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=g,this._contentDispositionFilename=w,(b==null?void 0:b.length)>0){const A=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=y,this._isStreamingSupported=!E,this._isRangeSupported=!f,this._contentLength=v,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((A,O)=>{this._onReceiveData({begin:A,chunk:O})}),this._pdfDataRangeTransport.addProgressListener((A,O)=>{this._onProgress({loaded:A,total:O})}),this._pdfDataRangeTransport.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(x){let{begin:y,chunk:v}=x;const b=v instanceof Uint8Array&&v.byteLength===v.buffer.byteLength?v.buffer:new Uint8Array(v).buffer;if(y===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{const g=this._rangeReaders.some(function(w){return w._begin!==y?!1:(w._enqueue(b),!0)});(0,i.assert)(g,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var x,y;return(y=(x=this._fullRequestReader)==null?void 0:x._loaded)!=null?y:0}_onProgress(x){var y,v,b,g;x.total===void 0?(v=(y=this._rangeReaders[0])==null?void 0:y.onProgress)==null||v.call(y,{loaded:x.loaded}):(g=(b=this._fullRequestReader)==null?void 0:b.onProgress)==null||g.call(b,{loaded:x.loaded,total:x.total})}_onProgressiveDone(){var x;(x=this._fullRequestReader)==null||x.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(x){const y=this._rangeReaders.indexOf(x);y>=0&&this._rangeReaders.splice(y,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const x=this._queuedChunks;return this._queuedChunks=null,new e(this,x,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(x,y){if(y<=this._progressiveDataLength)return null;const v=new r(this,x,y);return this._pdfDataRangeTransport.requestDataRange(x,y),this._rangeReaders.push(v),v}cancelAllRequests(x){var y;(y=this._fullRequestReader)==null||y.cancel(x);for(const v of this._rangeReaders.slice(0))v.cancel(x);this._pdfDataRangeTransport.abort()}}o.PDFDataTransportStream=d;class e{constructor(x,y){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=x,this._done=v||!1,this._filename=(0,l.isPdfFile)(b)?b:null,this._queuedChunks=y||[],this._loaded=0;for(const g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),x._fullRequestReader=this,this.onProgress=null}_enqueue(x){this._done||(this._requests.length>0?this._requests.shift().resolve({value:x,done:!1}):this._queuedChunks.push(x),this._loaded+=x.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const x=new i.PromiseCapability;return this._requests.push(x),x.promise}cancel(x){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class r{constructor(x,y,v){this._stream=x,this._begin=y,this._end=v,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(x){if(!this._done){if(this._requests.length===0)this._queuedChunk=x;else{this._requests.shift().resolve({value:x,done:!1});for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const y=this._queuedChunk;return this._queuedChunk=null,{value:y,done:!1}}if(this._done)return{value:void 0,done:!0};const x=new i.PromiseCapability;return this._requests.push(x),x.promise}cancel(x){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0,s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123),s(89);var i=s(1),l=s(182);function d(v,b,g){return{method:"GET",headers:v,signal:g.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function e(v){const b=new Headers;for(const g in v){const w=v[g];w!==void 0&&b.append(g,w)}return b}function r(v){return v instanceof Uint8Array?v.buffer:v instanceof ArrayBuffer?v:((0,i.warn)(`getArrayBuffer - unexpected data format: ${v}`),new Uint8Array(v).buffer)}class p{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b,g;return(g=(b=this._fullRequestReader)==null?void 0:b._loaded)!=null?g:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x(this),this._fullRequestReader}getRangeReader(b,g){if(g<=this._progressiveDataLength)return null;const w=new y(this,b,g);return this._rangeRequestReaders.push(w),w}cancelAllRequests(b){var g;(g=this._fullRequestReader)==null||g.cancel(b);for(const w of this._rangeRequestReaders.slice(0))w.cancel(b)}}o.PDFFetchStream=p;class x{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;const g=b.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=new i.PromiseCapability,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=e(this._stream.httpHeaders);const w=g.url;fetch(w,d(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,l.validateResponseStatus)(f.status))throw(0,l.createResponseStatusError)(f.status,w);this._reader=f.body.getReader(),this._headersCapability.resolve();const E=T=>f.headers.get(T),{allowRangeRequests:A,suggestedLength:O}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=O||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(E),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var w;await this._headersCapability.promise;const{value:b,done:g}=await this._reader.read();return g?{value:b,done:g}:(this._loaded+=b.byteLength,(w=this.onProgress)==null||w.call(this,{loaded:this._loaded,total:this._contentLength}),{value:r(b),done:!1})}cancel(b){var g;(g=this._reader)==null||g.cancel(b),this._abortController.abort()}}class y{constructor(b,g,w){this._stream=b,this._reader=null,this._loaded=0;const f=b.source;this._withCredentials=f.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!f.disableStream,this._abortController=new AbortController,this._headers=e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${w-1}`);const E=f.url;fetch(E,d(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,l.validateResponseStatus)(A.status))throw(0,l.createResponseStatusError)(A.status,E);this._readCapability.resolve(),this._reader=A.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var w;await this._readCapability.promise;const{value:b,done:g}=await this._reader.read();return g?{value:b,done:g}:(this._loaded+=b.byteLength,(w=this.onProgress)==null||w.call(this,{loaded:this._loaded}),{value:r(b),done:!1})}cancel(b){var g;(g=this._reader)==null||g.cancel(b),this._abortController.abort()}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=p,o.extractFilenameFromHeader=r,o.validateRangeRequestCapabilities=e,o.validateResponseStatus=x;var i=s(1),l=s(183),d=s(168);function e(y){let{getResponseHeader:v,isHttp:b,rangeChunkSize:g,disableRange:w}=y;const f={allowRangeRequests:!1,suggestedLength:void 0},E=parseInt(v("Content-Length"),10);return!Number.isInteger(E)||(f.suggestedLength=E,E<=2*g)||w||!b||v("Accept-Ranges")!=="bytes"||(v("Content-Encoding")||"identity")!=="identity"||(f.allowRangeRequests=!0),f}function r(y){const v=y("Content-Disposition");if(v){let b=(0,l.getFilenameFromContentDispositionHeader)(v);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,d.isPdfFile)(b))return b}return null}function p(y,v){return y===404||y===0&&v.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+v+'".'):new i.UnexpectedResponseException(`Unexpected server response (${y}) while retrieving PDF "${v}".`,y)}function x(y){return y===200||y===206}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=l,s(89),s(149);var i=s(1);function l(d){let e=!0,r=p("filename\\*","i").exec(d);if(r){r=r[1];let f=b(r);return f=unescape(f),f=g(f),f=w(f),y(f)}if(r=v(d),r){const f=w(r);return y(f)}if(r=p("filename","i").exec(d),r){r=r[1];let f=b(r);return f=w(f),y(f)}function p(f,E){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',E)}function x(f,E){if(f){if(!/^[\x00-\xFF]+$/.test(E))return E;try{const A=new TextDecoder(f,{fatal:!0}),O=(0,i.stringToBytes)(E);E=A.decode(O),e=!1}catch{}}return E}function y(f){return e&&/[\x80-\xff]/.test(f)&&(f=x("utf-8",f),e&&(f=x("iso-8859-1",f))),f}function v(f){const E=[];let A;const O=p("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=O.exec(f))!==null;){let[,D,F,C]=A;if(D=parseInt(D,10),D in E){if(D===0)break;continue}E[D]=[F,C]}const T=[];for(let D=0;D<E.length&&D in E;++D){let[F,C]=E[D];C=b(C),F&&(C=unescape(C),D===0&&(C=g(C))),T.push(C)}return T.join("")}function b(f){if(f.startsWith('"')){const E=f.slice(1).split('\\"');for(let A=0;A<E.length;++A){const O=E[A].indexOf('"');O!==-1&&(E[A]=E[A].slice(0,O),E.length=A+1),E[A]=E[A].replaceAll(/\\(.)/g,"$1")}f=E.join('"')}return f}function g(f){const E=f.indexOf("'");if(E===-1)return f;const A=f.slice(0,E),T=f.slice(E+1).replace(/^[^']*'/,"");return x(A,T)}function w(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(E,A,O,T){if(O==="q"||O==="Q")return T=T.replaceAll("_"," "),T=T.replaceAll(/=([0-9a-fA-F]{2})/g,function(D,F){return String.fromCharCode(parseInt(F,16))}),x(A,T);try{T=atob(T)}catch{}return x(A,T)})}return""}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0,s(89);var i=s(1),l=s(182);const d=200,e=206;function r(b){const g=b.response;return typeof g!="string"?g:(0,i.stringToBytes)(g).buffer}class p{constructor(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=g,this.isHttp=/^https?:/i.test(g),this.httpHeaders=this.isHttp&&w.httpHeaders||Object.create(null),this.withCredentials=w.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(g,w,f){const E={begin:g,end:w};for(const A in f)E[A]=f[A];return this.request(E)}requestFull(g){return this.request(g)}request(g){const w=new XMLHttpRequest,f=this.currXhrId++,E=this.pendingRequests[f]={xhr:w};w.open("GET",this.url),w.withCredentials=this.withCredentials;for(const A in this.httpHeaders){const O=this.httpHeaders[A];O!==void 0&&w.setRequestHeader(A,O)}return this.isHttp&&"begin"in g&&"end"in g?(w.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),E.expectedStatus=e):E.expectedStatus=d,w.responseType="arraybuffer",g.onError&&(w.onerror=function(A){g.onError(w.status)}),w.onreadystatechange=this.onStateChange.bind(this,f),w.onprogress=this.onProgress.bind(this,f),E.onHeadersReceived=g.onHeadersReceived,E.onDone=g.onDone,E.onError=g.onError,E.onProgress=g.onProgress,w.send(null),f}onProgress(g,w){var E;const f=this.pendingRequests[g];!f||(E=f.onProgress)==null||E.call(f,w)}onStateChange(g,w){var D,F,C;const f=this.pendingRequests[g];if(!f)return;const E=f.xhr;if(E.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),E.readyState!==4||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],E.status===0&&this.isHttp){(D=f.onError)==null||D.call(f,E.status);return}const A=E.status||d;if(!(A===d&&f.expectedStatus===e)&&A!==f.expectedStatus){(F=f.onError)==null||F.call(f,E.status);return}const T=r(E);if(A===e){const B=E.getResponseHeader("Content-Range"),M=/bytes (\d+)-(\d+)\/(\d+)/.exec(B);f.onDone({begin:parseInt(M[1],10),chunk:T})}else T?f.onDone({begin:0,chunk:T}):(C=f.onError)==null||C.call(f,E.status)}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){const w=this.pendingRequests[g].xhr;delete this.pendingRequests[g],w.abort()}}class x{constructor(g){this._source=g,this._manager=new p(g.url,{httpHeaders:g.httpHeaders,withCredentials:g.withCredentials}),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){const w=this._rangeRequestReaders.indexOf(g);w>=0&&this._rangeRequestReaders.splice(w,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new y(this._manager,this._source),this._fullRequestReader}getRangeReader(g,w){const f=new v(this._manager,g,w);return f.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(f),f}cancelAllRequests(g){var w;(w=this._fullRequestReader)==null||w.cancel(g);for(const f of this._rangeRequestReaders.slice(0))f.cancel(g)}}o.PDFNetworkStream=x;class y{constructor(g,w){this._manager=g;const f={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=w.url,this._fullRequestId=g.requestFull(f),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=w.disableRange||!1,this._contentLength=w.length,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const g=this._fullRequestId,w=this._manager.getRequestXhr(g),f=O=>w.getResponseHeader(O),{allowRangeRequests:E,suggestedLength:A}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});E&&(this._isRangeSupported=!0),this._contentLength=A||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(f),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=(0,l.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);for(const w of this._requests)w.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){var w;(w=this.onProgress)==null||w.call(this,{loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const g=new i.PromiseCapability;return this._requests.push(g),g.promise}cancel(g){this._done=!0,this._headersReceivedCapability.reject(g);for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class v{constructor(g,w,f){this._manager=g;const E={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._requestId=g.requestRange(w,f,E),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var g;(g=this.onClosed)==null||g.call(this,this)}_onDone(g){const w=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:w,done:!1}):this._queuedChunk=w,this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError=(0,l.createResponseStatusError)(g,this._url);for(const w of this._requests)w.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){var w;this.isStreamingSupported||(w=this.onProgress)==null||w.call(this,{loaded:g.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const w=this._queuedChunk;return this._queuedChunk=null,{value:w,done:!1}}if(this._done)return{value:void 0,done:!0};const g=new i.PromiseCapability;return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0,s(89),s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123);var i=s(1),l=s(182);const d=/^file:\/\/\/[a-zA-Z]:\//;function e(f){const E=mn,A=E.parse(f);return A.protocol==="file:"||A.host?A:/^[a-z]:[/\\]/i.test(f)?E.parse(`file:///${f}`):(A.host||(A.protocol="file:"),A)}class r{constructor(E){this.source=E,this.url=e(E.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var E,A;return(A=(E=this._fullRequestReader)==null?void 0:E._loaded)!=null?A:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new v(this),this._fullRequestReader}getRangeReader(E,A){if(A<=this._progressiveDataLength)return null;const O=this.isFsUrl?new w(this,E,A):new b(this,E,A);return this._rangeRequestReaders.push(O),O}cancelAllRequests(E){var A;(A=this._fullRequestReader)==null||A.cancel(E);for(const O of this._rangeRequestReaders.slice(0))O.cancel(E)}}o.PDFNodeStream=r;class p{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null;const A=E.source;this._contentLength=A.length,this._loaded=0,this._filename=null,this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const E=this._readableStream.read();return E===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=E.length,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){if(!this._readableStream){this._error(E);return}this._readableStream.destroy(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",A=>{this._error(A)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class x{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const A=E.source;this._isStreamingSupported=!A.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const E=this._readableStream.read();return E===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=E.length,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){if(!this._readableStream){this._error(E);return}this._readableStream.destroy(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",A=>{this._error(A)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function y(f,E){return{protocol:f.protocol,auth:f.auth,host:f.hostname,port:f.port,path:f.path,method:"GET",headers:E}}class v extends p{constructor(E){super(E);const A=O=>{if(O.statusCode===404){const C=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C,this._headersCapability.reject(C);return}this._headersCapability.resolve(),this._setReadableStream(O);const T=C=>this._readableStream.headers[C.toLowerCase()],{allowRangeRequests:D,suggestedLength:F}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:E.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=D,this._contentLength=F||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(T)};if(this._request=null,this._url.protocol==="http:"){const O=mn;this._request=O.request(y(this._url,E.httpHeaders),A)}else{const O=mn;this._request=O.request(y(this._url,E.httpHeaders),A)}this._request.on("error",O=>{this._storedError=O,this._headersCapability.reject(O)}),this._request.end()}}class b extends x{constructor(E,A,O){super(E),this._httpHeaders={};for(const D in E.httpHeaders){const F=E.httpHeaders[D];F!==void 0&&(this._httpHeaders[D]=F)}this._httpHeaders.Range=`bytes=${A}-${O-1}`;const T=D=>{if(D.statusCode===404){const F=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F;return}this._setReadableStream(D)};if(this._request=null,this._url.protocol==="http:"){const D=mn;this._request=D.request(y(this._url,this._httpHeaders),T)}else{const D=mn;this._request=D.request(y(this._url,this._httpHeaders),T)}this._request.on("error",D=>{this._storedError=D}),this._request.end()}}class g extends p{constructor(E){super(E);let A=decodeURIComponent(this._url.path);d.test(this._url.href)&&(A=A.replace(/^\//,""));const O=mn;O.lstat(A,(T,D)=>{if(T){T.code==="ENOENT"&&(T=new i.MissingPDFException(`Missing PDF "${A}".`)),this._storedError=T,this._headersCapability.reject(T);return}this._contentLength=D.size,this._setReadableStream(O.createReadStream(A)),this._headersCapability.resolve()})}}class w extends x{constructor(E,A,O){super(E);let T=decodeURIComponent(this._url.path);d.test(this._url.href)&&(T=T.replace(/^\//,""));const D=mn;this._setReadableStream(D.createReadStream(T,{start:A,end:O-1}))}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0,s(84),s(86),s(87),s(93),s(101),s(102),s(105),s(107),s(109),s(113),s(116),s(123),s(2),s(89),s(187);var i=s(168),l=s(1);const d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},e="http://www.w3.org/XML/1998/namespace",r="http://www.w3.org/1999/xlink",p=["butt","round","square"],x=["miter","round","bevel"],y=function(D){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!C)return URL.createObjectURL(new Blob([D],{type:F}));const B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let M=`data:${F};base64,`;for(let I=0,W=D.length;I<W;I+=3){const J=D[I]&255,H=D[I+1]&255,N=D[I+2]&255,U=J>>2,Y=(J&3)<<4|H>>4,_=I+1<W?(H&15)<<2|N>>6:64,V=I+2<W?N&63:64;M+=B[U]+B[Y]+B[_]+B[V]}return M},v=function(){const D=new Uint8Array([137,80,78,71,13,10,26,10]),F=12,C=new Int32Array(256);for(let N=0;N<256;N++){let U=N;for(let Y=0;Y<8;Y++)U=U&1?3988292384^U>>1&2147483647:U>>1&2147483647;C[N]=U}function B(N,U,Y){let _=-1;for(let V=U;V<Y;V++){const Z=(_^N[V])&255,q=C[Z];_=_>>>8^q}return _^-1}function M(N,U,Y,_){let V=_;const Z=U.length;Y[V]=Z>>24&255,Y[V+1]=Z>>16&255,Y[V+2]=Z>>8&255,Y[V+3]=Z&255,V+=4,Y[V]=N.charCodeAt(0)&255,Y[V+1]=N.charCodeAt(1)&255,Y[V+2]=N.charCodeAt(2)&255,Y[V+3]=N.charCodeAt(3)&255,V+=4,Y.set(U,V),V+=U.length;const q=B(Y,_+4,V);Y[V]=q>>24&255,Y[V+1]=q>>16&255,Y[V+2]=q>>8&255,Y[V+3]=q&255}function I(N,U,Y){let _=1,V=0;for(let Z=U;Z<Y;++Z)_=(_+(N[Z]&255))%65521,V=(V+_)%65521;return V<<16|_}function W(N){if(!l.isNodeJS)return J(N);try{const U=parseInt(process.versions.node)>=8?N:Buffer.from(N),Y=mn.deflateSync(U,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch(U){(0,l.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+U)}return J(N)}function J(N){let U=N.length;const Y=65535,_=Math.ceil(U/Y),V=new Uint8Array(2+U+_*5+4);let Z=0;V[Z++]=120,V[Z++]=156;let q=0;for(;U>Y;)V[Z++]=0,V[Z++]=255,V[Z++]=255,V[Z++]=0,V[Z++]=0,V.set(N.subarray(q,q+Y),Z),Z+=Y,q+=Y,U-=Y;V[Z++]=1,V[Z++]=U&255,V[Z++]=U>>8&255,V[Z++]=~U&65535&255,V[Z++]=(~U&65535)>>8&255,V.set(N.subarray(q),Z),Z+=N.length-q;const re=I(N,0,N.length);return V[Z++]=re>>24&255,V[Z++]=re>>16&255,V[Z++]=re>>8&255,V[Z++]=re&255,V}function H(N,U,Y,_){const V=N.width,Z=N.height;let q,re,oe;const ae=N.data;switch(U){case l.ImageKind.GRAYSCALE_1BPP:re=0,q=1,oe=V+7>>3;break;case l.ImageKind.RGB_24BPP:re=2,q=8,oe=V*3;break;case l.ImageKind.RGBA_32BPP:re=6,q=8,oe=V*4;break;default:throw new Error("invalid format")}const R=new Uint8Array((1+oe)*Z);let S=0,L=0;for(let X=0;X<Z;++X)R[S++]=0,R.set(ae.subarray(L,L+oe),S),L+=oe,S+=oe;if(U===l.ImageKind.GRAYSCALE_1BPP&&_){S=0;for(let X=0;X<Z;X++){S++;for(let ee=0;ee<oe;ee++)R[S++]^=255}}const k=new Uint8Array([V>>24&255,V>>16&255,V>>8&255,V&255,Z>>24&255,Z>>16&255,Z>>8&255,Z&255,q,re,0,0,0]),z=W(R),P=D.length+F*3+k.length+z.length,K=new Uint8Array(P);let te=0;return K.set(D,te),te+=D.length,M("IHDR",k,K,te),te+=F+k.length,M("IDATA",z,K,te),te+=F+z.length,M("IEND",new Uint8Array(0),K,te),y(K,"image/png",Y)}return function(U,Y,_){const V=U.kind===void 0?l.ImageKind.GRAYSCALE_1BPP:U.kind;return H(U,V,Y,_)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=l.IDENTITY_MATRIX,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=l.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(F,C){this.x=F,this.y=C}}function g(D){let F=[];const C=[];for(const B of D){if(B.fn==="save"){F.push({fnId:92,fn:"group",items:[]}),C.push(F),F=F.at(-1).items;continue}B.fn==="restore"?F=C.pop():F.push(B)}return F}function w(D){if(Number.isInteger(D))return D.toString();const F=D.toFixed(10);let C=F.length-1;if(F[C]!=="0")return F;do C--;while(F[C]==="0");return F.substring(0,F[C]==="."?C:C+1)}function f(D){if(D[4]===0&&D[5]===0){if(D[1]===0&&D[2]===0)return D[0]===1&&D[3]===1?"":`scale(${w(D[0])} ${w(D[3])})`;if(D[0]===D[3]&&D[1]===-D[2]){const F=Math.acos(D[0])*180/Math.PI;return`rotate(${w(F)})`}}else if(D[0]===1&&D[1]===0&&D[2]===0&&D[3]===1)return`translate(${w(D[4])} ${w(D[5])})`;return`matrix(${w(D[0])} ${w(D[1])} ${w(D[2])} ${w(D[3])} ${w(D[4])} ${w(D[5])})`}let E=0,A=0,O=0;class T{constructor(F,C){let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new b,this.transformMatrix=l.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=F,this.objs=C,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!B,this._operatorIdMapping=[];for(const M in l.OPS)this._operatorIdMapping[l.OPS[M]]=M}getObject(F){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof F=="string"?F.startsWith("g_")?this.commonObjs.get(F):this.objs.get(F):C}save(){this.transformStack.push(this.transformMatrix);const F=this.current;this.extraStack.push(F),this.current=F.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(F){this.save(),this.executeOpTree(F),this.restore()}loadDependencies(F){const C=F.fnArray,B=F.argsArray;for(let M=0,I=C.length;M<I;M++)if(C[M]===l.OPS.dependency)for(const W of B[M]){const J=W.startsWith("g_")?this.commonObjs:this.objs,H=new Promise(N=>{J.get(W,N)});this.current.dependencies.push(H)}return Promise.all(this.current.dependencies)}transform(F,C,B,M,I,W){const J=[F,C,B,M,I,W];this.transformMatrix=l.Util.transform(this.transformMatrix,J),this.tgrp=null}getSVG(F,C){this.viewport=C;const B=this._initialize(C);return this.loadDependencies(F).then(()=>(this.transformMatrix=l.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(F)),B))}convertOpList(F){const C=this._operatorIdMapping,B=F.argsArray,M=F.fnArray,I=[];for(let W=0,J=M.length;W<J;W++){const H=M[W];I.push({fnId:H,fn:C[H],args:B[W]})}return g(I)}executeOpTree(F){for(const C of F){const B=C.fn,M=C.fnId,I=C.args;switch(M|0){case l.OPS.beginText:this.beginText();break;case l.OPS.dependency:break;case l.OPS.setLeading:this.setLeading(I);break;case l.OPS.setLeadingMoveText:this.setLeadingMoveText(I[0],I[1]);break;case l.OPS.setFont:this.setFont(I);break;case l.OPS.showText:this.showText(I[0]);break;case l.OPS.showSpacedText:this.showText(I[0]);break;case l.OPS.endText:this.endText();break;case l.OPS.moveText:this.moveText(I[0],I[1]);break;case l.OPS.setCharSpacing:this.setCharSpacing(I[0]);break;case l.OPS.setWordSpacing:this.setWordSpacing(I[0]);break;case l.OPS.setHScale:this.setHScale(I[0]);break;case l.OPS.setTextMatrix:this.setTextMatrix(I[0],I[1],I[2],I[3],I[4],I[5]);break;case l.OPS.setTextRise:this.setTextRise(I[0]);break;case l.OPS.setTextRenderingMode:this.setTextRenderingMode(I[0]);break;case l.OPS.setLineWidth:this.setLineWidth(I[0]);break;case l.OPS.setLineJoin:this.setLineJoin(I[0]);break;case l.OPS.setLineCap:this.setLineCap(I[0]);break;case l.OPS.setMiterLimit:this.setMiterLimit(I[0]);break;case l.OPS.setFillRGBColor:this.setFillRGBColor(I[0],I[1],I[2]);break;case l.OPS.setStrokeRGBColor:this.setStrokeRGBColor(I[0],I[1],I[2]);break;case l.OPS.setStrokeColorN:this.setStrokeColorN(I);break;case l.OPS.setFillColorN:this.setFillColorN(I);break;case l.OPS.shadingFill:this.shadingFill(I[0]);break;case l.OPS.setDash:this.setDash(I[0],I[1]);break;case l.OPS.setRenderingIntent:this.setRenderingIntent(I[0]);break;case l.OPS.setFlatness:this.setFlatness(I[0]);break;case l.OPS.setGState:this.setGState(I[0]);break;case l.OPS.fill:this.fill();break;case l.OPS.eoFill:this.eoFill();break;case l.OPS.stroke:this.stroke();break;case l.OPS.fillStroke:this.fillStroke();break;case l.OPS.eoFillStroke:this.eoFillStroke();break;case l.OPS.clip:this.clip("nonzero");break;case l.OPS.eoClip:this.clip("evenodd");break;case l.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case l.OPS.paintImageXObject:this.paintImageXObject(I[0]);break;case l.OPS.paintInlineImageXObject:this.paintInlineImageXObject(I[0]);break;case l.OPS.paintImageMaskXObject:this.paintImageMaskXObject(I[0]);break;case l.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(I[0],I[1]);break;case l.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case l.OPS.closePath:this.closePath();break;case l.OPS.closeStroke:this.closeStroke();break;case l.OPS.closeFillStroke:this.closeFillStroke();break;case l.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case l.OPS.nextLine:this.nextLine();break;case l.OPS.transform:this.transform(I[0],I[1],I[2],I[3],I[4],I[5]);break;case l.OPS.constructPath:this.constructPath(I[0],I[1]);break;case l.OPS.endPath:this.endPath();break;case 92:this.group(C.items);break;default:(0,l.warn)(`Unimplemented operator ${B}`);break}}}setWordSpacing(F){this.current.wordSpacing=F}setCharSpacing(F){this.current.charSpacing=F}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(F,C,B,M,I,W){const J=this.current;J.textMatrix=J.lineMatrix=[F,C,B,M,I,W],J.textMatrixScale=Math.hypot(F,C),J.x=J.lineX=0,J.y=J.lineY=0,J.xcoords=[],J.ycoords=[],J.tspan=this.svgFactory.createElement("svg:tspan"),J.tspan.setAttributeNS(null,"font-family",J.fontFamily),J.tspan.setAttributeNS(null,"font-size",`${w(J.fontSize)}px`),J.tspan.setAttributeNS(null,"y",w(-J.y)),J.txtElement=this.svgFactory.createElement("svg:text"),J.txtElement.append(J.tspan)}beginText(){const F=this.current;F.x=F.lineX=0,F.y=F.lineY=0,F.textMatrix=l.IDENTITY_MATRIX,F.lineMatrix=l.IDENTITY_MATRIX,F.textMatrixScale=1,F.tspan=this.svgFactory.createElement("svg:tspan"),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtgrp=this.svgFactory.createElement("svg:g"),F.xcoords=[],F.ycoords=[]}moveText(F,C){const B=this.current;B.x=B.lineX+=F,B.y=B.lineY+=C,B.xcoords=[],B.ycoords=[],B.tspan=this.svgFactory.createElement("svg:tspan"),B.tspan.setAttributeNS(null,"font-family",B.fontFamily),B.tspan.setAttributeNS(null,"font-size",`${w(B.fontSize)}px`),B.tspan.setAttributeNS(null,"y",w(-B.y))}showText(F){const C=this.current,B=C.font,M=C.fontSize;if(M===0)return;const I=C.fontSizeScale,W=C.charSpacing,J=C.wordSpacing,H=C.fontDirection,N=C.textHScale*H,U=B.vertical,Y=U?1:-1,_=B.defaultVMetrics,V=M*C.fontMatrix[0];let Z=0;for(const oe of F){if(oe===null){Z+=H*J;continue}else if(typeof oe=="number"){Z+=Y*oe*M/1e3;continue}const ae=(oe.isSpace?J:0)+W,R=oe.fontChar;let S,L,k=oe.width;if(U){let P;const K=oe.vmetric||_;P=oe.vmetric?K[1]:k*.5,P=-P*V;const te=K[2]*V;k=K?-K[0]:k,S=P/I,L=(Z+te)/I}else S=Z/I,L=0;(oe.isInFont||B.missingFile)&&(C.xcoords.push(C.x+S),U&&C.ycoords.push(-C.y+L),C.tspan.textContent+=R);const z=U?k*V-ae*H:k*V+ae*H;Z+=z}C.tspan.setAttributeNS(null,"x",C.xcoords.map(w).join(" ")),U?C.tspan.setAttributeNS(null,"y",C.ycoords.map(w).join(" ")):C.tspan.setAttributeNS(null,"y",w(-C.y)),U?C.y-=Z:C.x+=Z*N,C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${w(C.fontSize)}px`),C.fontStyle!==d.fontStyle&&C.tspan.setAttributeNS(null,"font-style",C.fontStyle),C.fontWeight!==d.fontWeight&&C.tspan.setAttributeNS(null,"font-weight",C.fontWeight);const q=C.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;if(q===l.TextRenderingMode.FILL||q===l.TextRenderingMode.FILL_STROKE?(C.fillColor!==d.fillColor&&C.tspan.setAttributeNS(null,"fill",C.fillColor),C.fillAlpha<1&&C.tspan.setAttributeNS(null,"fill-opacity",C.fillAlpha)):C.textRenderingMode===l.TextRenderingMode.ADD_TO_PATH?C.tspan.setAttributeNS(null,"fill","transparent"):C.tspan.setAttributeNS(null,"fill","none"),q===l.TextRenderingMode.STROKE||q===l.TextRenderingMode.FILL_STROKE){const oe=1/(C.textMatrixScale||1);this._setStrokeAttributes(C.tspan,oe)}let re=C.textMatrix;C.textRise!==0&&(re=re.slice(),re[5]+=C.textRise),C.txtElement.setAttributeNS(null,"transform",`${f(re)} scale(${w(N)}, -1)`),C.txtElement.setAttributeNS(e,"xml:space","preserve"),C.txtElement.append(C.tspan),C.txtgrp.append(C.txtElement),this._ensureTransformGroup().append(C.txtElement)}setLeadingMoveText(F,C){this.setLeading(-C),this.moveText(F,C)}addFontStyle(F){if(!F.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const C=y(F.data,F.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${F.loadedName}"; src: url(${C}); }
`}setFont(F){const C=this.current,B=this.commonObjs.get(F[0]);let M=F[1];C.font=B,this.embedFonts&&!B.missingFile&&!this.embeddedFonts[B.loadedName]&&(this.addFontStyle(B),this.embeddedFonts[B.loadedName]=B),C.fontMatrix=B.fontMatrix||l.FONT_IDENTITY_MATRIX;let I="normal";B.black?I="900":B.bold&&(I="bold");const W=B.italic?"italic":"normal";M<0?(M=-M,C.fontDirection=-1):C.fontDirection=1,C.fontSize=M,C.fontFamily=B.loadedName,C.fontWeight=I,C.fontStyle=W,C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"y",w(-C.y)),C.xcoords=[],C.ycoords=[]}endText(){var C;const F=this.current;F.textRenderingMode&l.TextRenderingMode.ADD_TO_PATH_FLAG&&((C=F.txtElement)==null?void 0:C.hasChildNodes())&&(F.element=F.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(F){F>0&&(this.current.lineWidth=F)}setLineCap(F){this.current.lineCap=p[F]}setLineJoin(F){this.current.lineJoin=x[F]}setMiterLimit(F){this.current.miterLimit=F}setStrokeAlpha(F){this.current.strokeAlpha=F}setStrokeRGBColor(F,C,B){this.current.strokeColor=l.Util.makeHexColor(F,C,B)}setFillAlpha(F){this.current.fillAlpha=F}setFillRGBColor(F,C,B){this.current.fillColor=l.Util.makeHexColor(F,C,B),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(F){this.current.strokeColor=this._makeColorN_Pattern(F)}setFillColorN(F){this.current.fillColor=this._makeColorN_Pattern(F)}shadingFill(F){const{width:C,height:B}=this.viewport,M=l.Util.inverseTransform(this.transformMatrix),[I,W,J,H]=l.Util.getAxialAlignedBoundingBox([0,0,C,B],M),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",I),N.setAttributeNS(null,"y",W),N.setAttributeNS(null,"width",J-I),N.setAttributeNS(null,"height",H-W),N.setAttributeNS(null,"fill",this._makeShadingPattern(F)),this.current.fillAlpha<1&&N.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(N)}_makeColorN_Pattern(F){return F[0]==="TilingPattern"?this._makeTilingPattern(F):this._makeShadingPattern(F)}_makeTilingPattern(F){const C=F[1],B=F[2],M=F[3]||l.IDENTITY_MATRIX,[I,W,J,H]=F[4],N=F[5],U=F[6],Y=F[7],_=`shading${O++}`,[V,Z,q,re]=l.Util.normalizeRect([...l.Util.applyTransform([I,W],M),...l.Util.applyTransform([J,H],M)]),[oe,ae]=l.Util.singularValueDecompose2dScale(M),R=N*oe,S=U*ae,L=this.svgFactory.createElement("svg:pattern");L.setAttributeNS(null,"id",_),L.setAttributeNS(null,"patternUnits","userSpaceOnUse"),L.setAttributeNS(null,"width",R),L.setAttributeNS(null,"height",S),L.setAttributeNS(null,"x",`${V}`),L.setAttributeNS(null,"y",`${Z}`);const k=this.svg,z=this.transformMatrix,P=this.current.fillColor,K=this.current.strokeColor,te=this.svgFactory.create(q-V,re-Z);if(this.svg=te,this.transformMatrix=M,Y===2){const X=l.Util.makeHexColor(...C);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(B)),this.svg=k,this.transformMatrix=z,this.current.fillColor=P,this.current.strokeColor=K,L.append(te.childNodes[0]),this.defs.append(L),`url(#${_})`}_makeShadingPattern(F){switch(typeof F=="string"&&(F=this.objs.get(F)),F[0]){case"RadialAxial":const C=`shading${O++}`,B=F[3];let M;switch(F[1]){case"axial":const I=F[4],W=F[5];M=this.svgFactory.createElement("svg:linearGradient"),M.setAttributeNS(null,"id",C),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"x1",I[0]),M.setAttributeNS(null,"y1",I[1]),M.setAttributeNS(null,"x2",W[0]),M.setAttributeNS(null,"y2",W[1]);break;case"radial":const J=F[4],H=F[5],N=F[6],U=F[7];M=this.svgFactory.createElement("svg:radialGradient"),M.setAttributeNS(null,"id",C),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"cx",H[0]),M.setAttributeNS(null,"cy",H[1]),M.setAttributeNS(null,"r",U),M.setAttributeNS(null,"fx",J[0]),M.setAttributeNS(null,"fy",J[1]),M.setAttributeNS(null,"fr",N);break;default:throw new Error(`Unknown RadialAxial type: ${F[1]}`)}for(const I of B){const W=this.svgFactory.createElement("svg:stop");W.setAttributeNS(null,"offset",I[0]),W.setAttributeNS(null,"stop-color",I[1]),M.append(W)}return this.defs.append(M),`url(#${C})`;case"Mesh":return(0,l.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${F[0]}`)}}setDash(F,C){this.current.dashArray=F,this.current.dashPhase=C}constructPath(F,C){const B=this.current;let M=B.x,I=B.y,W=[],J=0;for(const H of F)switch(H|0){case l.OPS.rectangle:M=C[J++],I=C[J++];const N=C[J++],U=C[J++],Y=M+N,_=I+U;W.push("M",w(M),w(I),"L",w(Y),w(I),"L",w(Y),w(_),"L",w(M),w(_),"Z");break;case l.OPS.moveTo:M=C[J++],I=C[J++],W.push("M",w(M),w(I));break;case l.OPS.lineTo:M=C[J++],I=C[J++],W.push("L",w(M),w(I));break;case l.OPS.curveTo:M=C[J+4],I=C[J+5],W.push("C",w(C[J]),w(C[J+1]),w(C[J+2]),w(C[J+3]),w(M),w(I)),J+=6;break;case l.OPS.curveTo2:W.push("C",w(M),w(I),w(C[J]),w(C[J+1]),w(C[J+2]),w(C[J+3])),M=C[J+2],I=C[J+3],J+=4;break;case l.OPS.curveTo3:M=C[J+2],I=C[J+3],W.push("C",w(C[J]),w(C[J+1]),w(M),w(I),w(M),w(I)),J+=4;break;case l.OPS.closePath:W.push("Z");break}W=W.join(" "),B.path&&F.length>0&&F[0]!==l.OPS.rectangle&&F[0]!==l.OPS.moveTo?W=B.path.getAttributeNS(null,"d")+W:(B.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(B.path)),B.path.setAttributeNS(null,"d",W),B.path.setAttributeNS(null,"fill","none"),B.element=B.path,B.setCurrentPoint(M,I)}endPath(){const F=this.current;if(F.path=null,!this.pendingClip)return;if(!F.element){this.pendingClip=null;return}const C=`clippath${E++}`,B=this.svgFactory.createElement("svg:clipPath");B.setAttributeNS(null,"id",C),B.setAttributeNS(null,"transform",f(this.transformMatrix));const M=F.element.cloneNode(!0);if(this.pendingClip==="evenodd"?M.setAttributeNS(null,"clip-rule","evenodd"):M.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,B.append(M),this.defs.append(B),F.activeClipUrl){F.clipGroup=null;for(const I of this.extraStack)I.clipGroup=null;B.setAttributeNS(null,"clip-path",F.activeClipUrl)}F.activeClipUrl=`url(#${C})`,this.tgrp=null}clip(F){this.pendingClip=F}closePath(){const F=this.current;if(F.path){const C=`${F.path.getAttributeNS(null,"d")}Z`;F.path.setAttributeNS(null,"d",C)}}setLeading(F){this.current.leading=-F}setTextRise(F){this.current.textRise=F}setTextRenderingMode(F){this.current.textRenderingMode=F}setHScale(F){this.current.textHScale=F/100}setRenderingIntent(F){}setFlatness(F){}setGState(F){for(const[C,B]of F)switch(C){case"LW":this.setLineWidth(B);break;case"LC":this.setLineCap(B);break;case"LJ":this.setLineJoin(B);break;case"ML":this.setMiterLimit(B);break;case"D":this.setDash(B[0],B[1]);break;case"RI":this.setRenderingIntent(B);break;case"FL":this.setFlatness(B);break;case"Font":this.setFont(B);break;case"CA":this.setStrokeAlpha(B);break;case"ca":this.setFillAlpha(B);break;default:(0,l.warn)(`Unimplemented graphic state operator ${C}`);break}}fill(){const F=this.current;F.element&&(F.element.setAttributeNS(null,"fill",F.fillColor),F.element.setAttributeNS(null,"fill-opacity",F.fillAlpha),this.endPath())}stroke(){const F=this.current;F.element&&(this._setStrokeAttributes(F.element),F.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(F){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const B=this.current;let M=B.dashArray;C!==1&&M.length>0&&(M=M.map(function(I){return C*I})),F.setAttributeNS(null,"stroke",B.strokeColor),F.setAttributeNS(null,"stroke-opacity",B.strokeAlpha),F.setAttributeNS(null,"stroke-miterlimit",w(B.miterLimit)),F.setAttributeNS(null,"stroke-linecap",B.lineCap),F.setAttributeNS(null,"stroke-linejoin",B.lineJoin),F.setAttributeNS(null,"stroke-width",w(C*B.lineWidth)+"px"),F.setAttributeNS(null,"stroke-dasharray",M.map(w).join(" ")),F.setAttributeNS(null,"stroke-dashoffset",w(C*B.dashPhase)+"px")}eoFill(){var F;(F=this.current.element)==null||F.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var F;(F=this.current.element)==null||F.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width","1px"),F.setAttributeNS(null,"height","1px"),F.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(F)}paintImageXObject(F){const C=this.getObject(F);if(!C){(0,l.warn)(`Dependent image with object ID ${F} is not ready yet`);return}this.paintInlineImageXObject(C)}paintInlineImageXObject(F,C){const B=F.width,M=F.height,I=v(F,this.forceDataSchema,!!C),W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y","0"),W.setAttributeNS(null,"width",w(B)),W.setAttributeNS(null,"height",w(M)),this.current.element=W,this.clip("nonzero");const J=this.svgFactory.createElement("svg:image");J.setAttributeNS(r,"xlink:href",I),J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y",w(-M)),J.setAttributeNS(null,"width",w(B)+"px"),J.setAttributeNS(null,"height",w(M)+"px"),J.setAttributeNS(null,"transform",`scale(${w(1/B)} ${w(-1/M)})`),C?C.append(J):this._ensureTransformGroup().append(J)}paintImageMaskXObject(F){const C=this.getObject(F.data,F);if(C.bitmap){(0,l.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const B=this.current,M=C.width,I=C.height,W=B.fillColor;B.maskId=`mask${A++}`;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",B.maskId);const H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",w(M)),H.setAttributeNS(null,"height",w(I)),H.setAttributeNS(null,"fill",W),H.setAttributeNS(null,"mask",`url(#${B.maskId})`),this.defs.append(J),this._ensureTransformGroup().append(H),this.paintInlineImageXObject(C,J)}paintFormXObjectBegin(F,C){if(Array.isArray(F)&&F.length===6&&this.transform(F[0],F[1],F[2],F[3],F[4],F[5]),C){const B=C[2]-C[0],M=C[3]-C[1],I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",C[0]),I.setAttributeNS(null,"y",C[1]),I.setAttributeNS(null,"width",w(B)),I.setAttributeNS(null,"height",w(M)),this.current.element=I,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(F){const C=this.svgFactory.create(F.width,F.height),B=this.svgFactory.createElement("svg:defs");C.append(B),this.defs=B;const M=this.svgFactory.createElement("svg:g");return M.setAttributeNS(null,"transform",f(F.transform)),C.append(M),this.svg=M,C}_ensureClipGroup(){if(!this.current.clipGroup){const F=this.svgFactory.createElement("svg:g");F.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(F),this.current.clipGroup=F}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}o.SVGGraphics=T},(h,o,s)=>{var i=s(3),l=s(188),d=s(193);i({target:"Array",proto:!0},{group:function(r){var p=arguments.length>1?arguments[1]:void 0;return l(this,r,p)}}),d("group")},(h,o,s)=>{var i=s(99),l=s(14),d=s(13),e=s(40),r=s(18),p=s(64),x=s(189),y=s(108),v=Array,b=l([].push);h.exports=function(g,w,f,E){for(var A=e(g),O=d(A),T=i(w,f),D=x(null),F=p(O),C=0,B,M,I;F>C;C++)I=O[C],M=r(T(I,C,A)),M in D?b(D[M],I):D[M]=[I];if(E&&(B=E(A),B!==v))for(M in D)D[M]=y(B,D[M]);return D}},(h,o,s)=>{var i=s(47),l=s(190),d=s(66),e=s(55),r=s(192),p=s(43),x=s(54),y=">",v="<",b="prototype",g="script",w=x("IE_PROTO"),f=function(){},E=function(F){return v+g+y+F+v+"/"+g+y},A=function(F){F.write(E("")),F.close();var C=F.parentWindow.Object;return F=null,C},O=function(){var F=p("iframe"),C="java"+g+":",B;return F.style.display="none",r.appendChild(F),F.src=String(C),B=F.contentWindow.document,B.open(),B.write(E("document.F=Object")),B.close(),B.F},T,D=function(){try{T=new ActiveXObject("htmlfile")}catch{}D=typeof document<"u"?document.domain&&T?A(T):O():A(T);for(var F=d.length;F--;)delete D[b][d[F]];return D()};e[w]=!0,h.exports=Object.create||function(C,B){var M;return C!==null?(f[b]=i(C),M=new f,f[b]=null,M[w]=C):M=D(),B===void 0?M:l.f(M,B)}},(h,o,s)=>{var i=s(6),l=s(46),d=s(45),e=s(47),r=s(12),p=s(191);o.f=i&&!l?Object.defineProperties:function(y,v){e(y);for(var b=r(v),g=p(v),w=g.length,f=0,E;w>f;)d.f(y,E=g[f++],b[E]);return y}},(h,o,s)=>{var i=s(59),l=s(66);h.exports=Object.keys||function(e){return i(e,l)}},(h,o,s)=>{var i=s(24);h.exports=i("document","documentElement")},(h,o,s)=>{var i=s(34),l=s(189),d=s(45).f,e=i("unscopables"),r=Array.prototype;r[e]===void 0&&d(r,e,{configurable:!0,value:l(null)}),h.exports=function(p){r[e][p]=!0}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0,s(89);class i{static textContent(d){const e=[],r={items:e,styles:Object.create(null)};function p(x){var b;if(!x)return;let y=null;const v=x.name;if(v==="#text")y=x.value;else if(i.shouldBuildText(v))(b=x==null?void 0:x.attributes)!=null&&b.textContent?y=x.attributes.textContent:x.value&&(y=x.value);else return;if(y!==null&&e.push({str:y}),!!x.children)for(const g of x.children)p(g)}return p(d),r}static shouldBuildText(d){return!(d==="textarea"||d==="input"||d==="option"||d==="select")}}o.XfaText=i},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerRenderTask=void 0,o.renderTextLayer=f,o.updateTextLayer=E,s(89),s(2);var i=s(1),l=s(168);const d=1e5,e=30,r=.8,p=new Map;function x(A,O){let T;if(O&&i.FeatureTest.isOffscreenCanvasSupported)T=new OffscreenCanvas(A,A).getContext("2d",{alpha:!1});else{const D=document.createElement("canvas");D.width=D.height=A,T=D.getContext("2d",{alpha:!1})}return T}function y(A,O){const T=p.get(A);if(T)return T;const D=x(e,O);D.font=`${e}px ${A}`;const F=D.measureText("");let C=F.fontBoundingBoxAscent,B=Math.abs(F.fontBoundingBoxDescent);if(C){const I=C/(C+B);return p.set(A,I),D.canvas.width=D.canvas.height=0,I}D.strokeStyle="red",D.clearRect(0,0,e,e),D.strokeText("g",0,0);let M=D.getImageData(0,0,e,e).data;B=0;for(let I=M.length-1-3;I>=0;I-=4)if(M[I]>0){B=Math.ceil(I/4/e);break}D.clearRect(0,0,e,e),D.strokeText("A",0,e),M=D.getImageData(0,0,e,e).data,C=0;for(let I=0,W=M.length;I<W;I+=4)if(M[I]>0){C=e-Math.floor(I/4/e);break}if(D.canvas.width=D.canvas.height=0,C){const I=C/(C+B);return p.set(A,I),I}return p.set(A,r),r}function v(A,O,T){const D=document.createElement("span"),F={angle:0,canvasWidth:0,hasText:O.str!=="",hasEOL:O.hasEOL,fontSize:0};A._textDivs.push(D);const C=i.Util.transform(A._transform,O.transform);let B=Math.atan2(C[1],C[0]);const M=T[O.fontName];M.vertical&&(B+=Math.PI/2);const I=Math.hypot(C[2],C[3]),W=I*y(M.fontFamily,A._isOffscreenCanvasSupported);let J,H;B===0?(J=C[4],H=C[5]-W):(J=C[4]+W*Math.sin(B),H=C[5]-W*Math.cos(B));const N="calc(var(--scale-factor)*",U=D.style;A._container===A._rootContainer?(U.left=`${(100*J/A._pageWidth).toFixed(2)}%`,U.top=`${(100*H/A._pageHeight).toFixed(2)}%`):(U.left=`${N}${J.toFixed(2)}px)`,U.top=`${N}${H.toFixed(2)}px)`),U.fontSize=`${N}${I.toFixed(2)}px)`,U.fontFamily=M.fontFamily,F.fontSize=I,D.setAttribute("role","presentation"),D.textContent=O.str,D.dir=O.dir,A._fontInspectorEnabled&&(D.dataset.fontName=O.fontName),B!==0&&(F.angle=B*(180/Math.PI));let Y=!1;if(O.str.length>1)Y=!0;else if(O.str!==" "&&O.transform[0]!==O.transform[3]){const _=Math.abs(O.transform[0]),V=Math.abs(O.transform[3]);_!==V&&Math.max(_,V)/Math.min(_,V)>1.5&&(Y=!0)}Y&&(F.canvasWidth=M.vertical?O.height:O.width),A._textDivProperties.set(D,F),A._isReadableStream&&A._layoutText(D)}function b(A){const{div:O,scale:T,properties:D,ctx:F,prevFontSize:C,prevFontFamily:B}=A,{style:M}=O;let I="";if(D.canvasWidth!==0&&D.hasText){const{fontFamily:W}=M,{canvasWidth:J,fontSize:H}=D;(C!==H||B!==W)&&(F.font=`${H*T}px ${W}`,A.prevFontSize=H,A.prevFontFamily=W);const{width:N}=F.measureText(O.textContent);N>0&&(I=`scaleX(${J*T/N})`)}D.angle!==0&&(I=`rotate(${D.angle}deg) ${I}`),I.length>0&&(M.transform=I)}function g(A){if(A._canceled)return;const O=A._textDivs,T=A._capability;if(O.length>d){T.resolve();return}if(!A._isReadableStream)for(const F of O)A._layoutText(F);T.resolve()}class w{constructor(O){var U;let{textContentSource:T,container:D,viewport:F,textDivs:C,textDivProperties:B,textContentItemsStr:M,isOffscreenCanvasSupported:I}=O;this._textContentSource=T,this._isReadableStream=T instanceof ReadableStream,this._container=this._rootContainer=D,this._textDivs=C||[],this._textContentItemsStr=M||[],this._isOffscreenCanvasSupported=I,this._fontInspectorEnabled=!!((U=globalThis.FontInspector)!=null&&U.enabled),this._reader=null,this._textDivProperties=B||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:F.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:x(0,I)};const{pageWidth:W,pageHeight:J,pageX:H,pageY:N}=F.rawDims;this._transform=[1,0,0,-1,-H,N+J],this._pageWidth=W,this._pageHeight=J,(0,l.setLayerDimensions)(D,F),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(O,T){for(const D of O){if(D.str===void 0){if(D.type==="beginMarkedContentProps"||D.type==="beginMarkedContent"){const F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),D.id!==null&&this._container.setAttribute("id",`${D.id}`),F.append(this._container)}else D.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(D.str),v(this,D,T)}}_layoutText(O){const T=this._layoutTextParams.properties=this._textDivProperties.get(O);if(this._layoutTextParams.div=O,b(this._layoutTextParams),T.hasText&&this._container.append(O),T.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),this._container.append(D)}}_render(){const O=new i.PromiseCapability;let T=Object.create(null);if(this._isReadableStream){const D=()=>{this._reader.read().then(F=>{let{value:C,done:B}=F;if(B){O.resolve();return}Object.assign(T,C.styles),this._processItems(C.items,T),D()},O.reject)};this._reader=this._textContentSource.getReader(),D()}else if(this._textContentSource){const{items:D,styles:F}=this._textContentSource;this._processItems(D,F),O.resolve()}else throw new Error('No "textContentSource" parameter specified.');O.promise.then(()=>{T=null,g(this)},this._capability.reject)}}o.TextLayerRenderTask=w;function f(A){!A.textContentSource&&(A.textContent||A.textContentStream)&&((0,l.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),A.textContentSource=A.textContent||A.textContentStream);const{container:O,viewport:T}=A,D=getComputedStyle(O),F=D.getPropertyValue("visibility"),C=parseFloat(D.getPropertyValue("--scale-factor"));F==="visible"&&(!C||Math.abs(C-T.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const B=new w(A);return B._render(),B}function E(A){let{container:O,viewport:T,textDivs:D,textDivProperties:F,isOffscreenCanvasSupported:C,mustRotate:B=!0,mustRescale:M=!0}=A;if(B&&(0,l.setLayerDimensions)(O,{rotation:T.rotation}),M){const I=x(0,C),J={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:I};for(const H of D)J.properties=F.get(H),J.div=H,b(J)}}},(h,o,s)=>{var y,v,b,g,w,f,E,A,O,T,D,kd,C,y0,M,Ed,W,Cd;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayer=void 0,s(125),s(136),s(138),s(141),s(143),s(145),s(147);var i=s(1),l=s(164),d=s(197),e=s(202),r=s(168),p=s(203);const H=class{constructor(U){Le(this,D);Le(this,C);Le(this,M);Le(this,W);Le(this,y,void 0);Le(this,v,!1);Le(this,b,null);Le(this,g,this.pointerup.bind(this));Le(this,w,this.pointerdown.bind(this));Le(this,f,new Map);Le(this,E,!1);Le(this,A,!1);Le(this,O,!1);Le(this,T,void 0);let{uiManager:Y,pageIndex:_,div:V,accessibilityManager:Z,annotationLayer:q,viewport:re,l10n:oe}=U;const ae=[d.FreeTextEditor,e.InkEditor,p.StampEditor];if(!H._initialized){H._initialized=!0;for(const R of ae)R.initialize(oe)}Y.registerEditorTypes(ae),Qe(this,T,Y),this.pageIndex=_,this.div=V,Qe(this,y,Z),Qe(this,b,q),this.viewport=re,ie(this,T).addLayer(this)}get isEmpty(){return ie(this,f).size===0}updateToolbar(U){ie(this,T).updateToolbar(U)}updateMode(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ie(this,T).getMode();Ue(this,W,Cd).call(this),U===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),U!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",U===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",U===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",U===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(U){if(!U&&ie(this,T).getMode()!==i.AnnotationEditorType.INK)return;if(!U){for(const _ of ie(this,f).values())if(_.isEmpty()){_.setInBackground();return}}Ue(this,C,y0).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(U){ie(this,T).setEditingState(U)}addCommands(U){ie(this,T).addCommands(U)}enable(){this.div.style.pointerEvents="auto";const U=new Set;for(const _ of ie(this,f).values())_.enableEditing(),_.annotationElementId&&U.add(_.annotationElementId);if(!ie(this,b))return;const Y=ie(this,b).getEditableAnnotations();for(const _ of Y){if(_.hide(),ie(this,T).isDeletedAnnotationElement(_.data.id)||U.has(_.data.id))continue;const V=this.deserialize(_);!V||(this.addOrRebuild(V),V.enableEditing())}}disable(){var Y;Qe(this,O,!0),this.div.style.pointerEvents="none";const U=new Set;for(const _ of ie(this,f).values()){if(_.disableEditing(),!_.annotationElementId||_.serialize()!==null){U.add(_.annotationElementId);continue}(Y=this.getEditableAnnotation(_.annotationElementId))==null||Y.show(),_.remove()}if(ie(this,b)){const _=ie(this,b).getEditableAnnotations();for(const V of _){const{id:Z}=V.data;U.has(Z)||ie(this,T).isDeletedAnnotationElement(Z)||V.show()}}Ue(this,W,Cd).call(this),this.isEmpty&&(this.div.hidden=!0),Qe(this,O,!1)}getEditableAnnotation(U){var Y;return((Y=ie(this,b))==null?void 0:Y.getEditableAnnotation(U))||null}setActiveEditor(U){ie(this,T).getActive()!==U&&ie(this,T).setActiveEditor(U)}enableClick(){this.div.addEventListener("pointerdown",ie(this,w)),this.div.addEventListener("pointerup",ie(this,g))}disableClick(){this.div.removeEventListener("pointerdown",ie(this,w)),this.div.removeEventListener("pointerup",ie(this,g))}attach(U){ie(this,f).set(U.id,U);const{annotationElementId:Y}=U;Y&&ie(this,T).isDeletedAnnotationElement(Y)&&ie(this,T).removeDeletedAnnotationElement(U)}detach(U){var Y;ie(this,f).delete(U.id),(Y=ie(this,y))==null||Y.removePointerInTextLayer(U.contentDiv),!ie(this,O)&&U.annotationElementId&&ie(this,T).addDeletedAnnotationElement(U)}remove(U){this.detach(U),ie(this,T).removeEditor(U),U.div.contains(document.activeElement)&&setTimeout(()=>{ie(this,T).focusMainContainer()},0),U.div.remove(),U.isAttachedToDOM=!1,ie(this,A)||this.addInkEditorIfNeeded(!1)}changeParent(U){var Y;U.parent!==this&&(U.annotationElementId&&(ie(this,T).addDeletedAnnotationElement(U.annotationElementId),l.AnnotationEditor.deleteAnnotationElement(U),U.annotationElementId=null),this.attach(U),(Y=U.parent)==null||Y.detach(U),U.setParent(this),U.div&&U.isAttachedToDOM&&(U.div.remove(),this.div.append(U.div)))}add(U){if(this.changeParent(U),ie(this,T).addEditor(U),this.attach(U),!U.isAttachedToDOM){const Y=U.render();this.div.append(Y),U.isAttachedToDOM=!0}U.fixAndSetPosition(),U.onceAdded(),ie(this,T).addToAnnotationStorage(U)}moveEditorInDOM(U){var _;if(!U.isAttachedToDOM)return;const{activeElement:Y}=document;U.div.contains(Y)&&(U._focusEventsAllowed=!1,setTimeout(()=>{U.div.contains(document.activeElement)?U._focusEventsAllowed=!0:(U.div.addEventListener("focusin",()=>{U._focusEventsAllowed=!0},{once:!0}),Y.focus())},0)),U._structTreeParentId=(_=ie(this,y))==null?void 0:_.moveElementInDOM(this.div,U.div,U.contentDiv,!0)}addOrRebuild(U){U.needsToBeRebuilt()?U.rebuild():this.add(U)}addUndoableEditor(U){const Y=()=>U._uiManager.rebuild(U),_=()=>{U.remove()};this.addCommands({cmd:Y,undo:_,mustExec:!1})}getNextId(){return ie(this,T).getId()}pasteEditor(U,Y){ie(this,T).updateToolbar(U),ie(this,T).updateMode(U);const{offsetX:_,offsetY:V}=Ue(this,M,Ed).call(this),Z=this.getNextId(),q=Ue(this,D,kd).call(this,{parent:this,id:Z,x:_,y:V,uiManager:ie(this,T),isCentered:!0,...Y});q&&this.add(q)}deserialize(U){var Y;switch((Y=U.annotationType)!=null?Y:U.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(U,this,ie(this,T));case i.AnnotationEditorType.INK:return e.InkEditor.deserialize(U,this,ie(this,T));case i.AnnotationEditorType.STAMP:return p.StampEditor.deserialize(U,this,ie(this,T))}return null}addNewEditor(){Ue(this,C,y0).call(this,Ue(this,M,Ed).call(this),!0)}setSelected(U){ie(this,T).setSelected(U)}toggleSelected(U){ie(this,T).toggleSelected(U)}isSelected(U){return ie(this,T).isSelected(U)}unselect(U){ie(this,T).unselect(U)}pointerup(U){const{isMac:Y}=i.FeatureTest.platform;if(!(U.button!==0||U.ctrlKey&&Y)&&U.target===this.div&&!!ie(this,E)){if(Qe(this,E,!1),!ie(this,v)){Qe(this,v,!0);return}if(ie(this,T).getMode()===i.AnnotationEditorType.STAMP){ie(this,T).unselectAll();return}Ue(this,C,y0).call(this,U,!1)}}pointerdown(U){if(ie(this,E)){Qe(this,E,!1);return}const{isMac:Y}=i.FeatureTest.platform;if(U.button!==0||U.ctrlKey&&Y||U.target!==this.div)return;Qe(this,E,!0);const _=ie(this,T).getActive();Qe(this,v,!_||_.isEmpty())}findNewParent(U,Y,_){const V=ie(this,T).findParent(Y,_);return V===null||V===this?!1:(V.changeParent(U),!0)}destroy(){var U,Y;((U=ie(this,T).getActive())==null?void 0:U.parent)===this&&(ie(this,T).commitOrRemove(),ie(this,T).setActiveEditor(null));for(const _ of ie(this,f).values())(Y=ie(this,y))==null||Y.removePointerInTextLayer(_.contentDiv),_.setParent(null),_.isAttachedToDOM=!1,_.div.remove();this.div=null,ie(this,f).clear(),ie(this,T).removeLayer(this)}render(U){let{viewport:Y}=U;this.viewport=Y,(0,r.setLayerDimensions)(this.div,Y);for(const _ of ie(this,T).getEditors(this.pageIndex))this.add(_);this.updateMode()}update(U){let{viewport:Y}=U;ie(this,T).commitOrRemove(),this.viewport=Y,(0,r.setLayerDimensions)(this.div,{rotation:Y.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:U,pageHeight:Y}=this.viewport.rawDims;return[U,Y]}};let x=H;y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakMap,T=new WeakMap,D=new WeakSet,kd=function(U){switch(ie(this,T).getMode()){case i.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(U);case i.AnnotationEditorType.INK:return new e.InkEditor(U);case i.AnnotationEditorType.STAMP:return new p.StampEditor(U)}return null},C=new WeakSet,y0=function(U,Y){const _=this.getNextId(),V=Ue(this,D,kd).call(this,{parent:this,id:_,x:U.offsetX,y:U.offsetY,uiManager:ie(this,T),isCentered:Y});return V&&this.add(V),V},M=new WeakSet,Ed=function(){const{x:U,y:Y,width:_,height:V}=this.div.getBoundingClientRect(),Z=Math.max(0,U),q=Math.max(0,Y),re=Math.min(window.innerWidth,U+_),oe=Math.min(window.innerHeight,Y+V),ae=(Z+re)/2-U,R=(q+oe)/2-Y,[S,L]=this.viewport.rotation%180===0?[ae,R]:[R,ae];return{offsetX:S,offsetY:L}},W=new WeakSet,Cd=function(){Qe(this,A,!0);for(const U of ie(this,f).values())U.isEmpty()&&U.remove();Qe(this,A,!1)},Ct(x,"_initialized",!1),o.AnnotationEditorLayer=x},(h,o,s)=>{var p,x,y,v,b,g,w,f,E,A,Iy,T,Oy,F,Py,B,ec,I,Td,J,Ry,N,Fd;Object.defineProperty(o,"__esModule",{value:!0}),o.FreeTextEditor=void 0,s(89);var i=s(1),l=s(165),d=s(164),e=s(198);const Y=class extends d.AnnotationEditor{constructor(Z){super({...Z,name:"freeTextEditor"});Le(this,A);Le(this,T);Le(this,F);Le(this,B);Le(this,I);Le(this,J);Le(this,N);Le(this,p,this.editorDivBlur.bind(this));Le(this,x,this.editorDivFocus.bind(this));Le(this,y,this.editorDivInput.bind(this));Le(this,v,this.editorDivKeydown.bind(this));Le(this,b,void 0);Le(this,g,"");Le(this,w,`${this.id}-editor`);Le(this,f,void 0);Le(this,E,null);Qe(this,b,Z.color||Y._defaultColor||d.AnnotationEditor._defaultLineColor),Qe(this,f,Z.fontSize||Y._defaultFontSize)}static get _keyboardManager(){const Z=Y.prototype,q=ae=>ae.isEmpty(),re=l.AnnotationEditorUIManager.TRANSLATE_SMALL,oe=l.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new l.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Z.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Z.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Z._translateEmpty,{args:[-re,0],checker:q}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Z._translateEmpty,{args:[-oe,0],checker:q}],[["ArrowRight","mac+ArrowRight"],Z._translateEmpty,{args:[re,0],checker:q}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Z._translateEmpty,{args:[oe,0],checker:q}],[["ArrowUp","mac+ArrowUp"],Z._translateEmpty,{args:[0,-re],checker:q}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Z._translateEmpty,{args:[0,-oe],checker:q}],[["ArrowDown","mac+ArrowDown"],Z._translateEmpty,{args:[0,re],checker:q}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Z._translateEmpty,{args:[0,oe],checker:q}]]))}static initialize(Z){d.AnnotationEditor.initialize(Z,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const q=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(q.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Z,q){switch(Z){case i.AnnotationEditorParamsType.FREETEXT_SIZE:Y._defaultFontSize=q;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:Y._defaultColor=q;break}}updateParams(Z,q){switch(Z){case i.AnnotationEditorParamsType.FREETEXT_SIZE:Ue(this,A,Iy).call(this,q);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:Ue(this,T,Oy).call(this,q);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,Y._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,Y._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,ie(this,f)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,ie(this,b)]]}_translateEmpty(Z,q){this._uiManager.translateSelectedEditors(Z,q,!0)}getInitialTranslation(){const Z=this.parentScale;return[-Y._internalPadding*Z,-(Y._internalPadding+ie(this,f))*Z]}rebuild(){!this.parent||(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ie(this,v)),this.editorDiv.addEventListener("focus",ie(this,x)),this.editorDiv.addEventListener("blur",ie(this,p)),this.editorDiv.addEventListener("input",ie(this,y)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ie(this,w)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",ie(this,v)),this.editorDiv.removeEventListener("focus",ie(this,x)),this.editorDiv.removeEventListener("blur",ie(this,p)),this.editorDiv.removeEventListener("input",ie(this,y)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Z){!this._focusEventsAllowed||(super.focusin(Z),Z.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Z;if(this.width){Ue(this,N,Fd).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Z=this._initialOptions)!=null&&Z.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Z=ie(this,g),q=Qe(this,g,Ue(this,F,Py).call(this).trimEnd());if(Z===q)return;const re=oe=>{if(Qe(this,g,oe),!oe){this.remove();return}Ue(this,I,Td).call(this),this._uiManager.rebuild(this),Ue(this,B,ec).call(this)};this.addCommands({cmd:()=>{re(q)},undo:()=>{re(Z)},mustExec:!1}),Ue(this,B,ec).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Z){this.enterInEditMode()}keydown(Z){Z.target===this.div&&Z.key==="Enter"&&(this.enterInEditMode(),Z.preventDefault())}editorDivKeydown(Z){Y._keyboardManager.exec(this,Z)}editorDivFocus(Z){this.isEditing=!0}editorDivBlur(Z){this.isEditing=!1}editorDivInput(Z){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Z,q;this.width&&(Z=this.x,q=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ie(this,w)),this.enableEditing(),d.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(oe=>{var ae;return(ae=this.editorDiv)==null?void 0:ae.setAttribute("aria-label",oe)}),d.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(oe=>{var ae;return(ae=this.editorDiv)==null?void 0:ae.setAttribute("default-content",oe)}),this.editorDiv.contentEditable=!0;const{style:re}=this.editorDiv;if(re.fontSize=`calc(${ie(this,f)}px * var(--scale-factor))`,re.color=ie(this,b),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,l.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[oe,ae]=this.parentDimensions;if(this.annotationElementId){const{position:R}=ie(this,E);let[S,L]=this.getInitialTranslation();[S,L]=this.pageTranslationToScreen(S,L);const[k,z]=this.pageDimensions,[P,K]=this.pageTranslation;let te,X;switch(this.rotation){case 0:te=Z+(R[0]-P)/k,X=q+this.height-(R[1]-K)/z;break;case 90:te=Z+(R[0]-P)/k,X=q-(R[1]-K)/z,[S,L]=[L,-S];break;case 180:te=Z-this.width+(R[0]-P)/k,X=q-(R[1]-K)/z,[S,L]=[-S,-L];break;case 270:te=Z+(R[0]-P-this.height*z)/k,X=q+(R[1]-K-this.width*k)/z,[S,L]=[-L,S];break}this.setAt(te*oe,X*ae,S,L)}else this.setAt(Z*oe,q*ae,this.width*oe,this.height*ae);Ue(this,I,Td).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Z,q,re){let oe=null;if(Z instanceof e.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:R,fontColor:S},rect:L,rotation:k,id:z},textContent:P,textPosition:K,parent:{page:{pageNumber:te}}}=Z;if(!P||P.length===0)return null;oe=Z={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(S),fontSize:R,value:P.join(`
`),position:K,pageIndex:te-1,rect:L,rotation:k,id:z,deleted:!1}}const ae=super.deserialize(Z,q,re);return Qe(ae,f,Z.fontSize),Qe(ae,b,i.Util.makeHexColor(...Z.color)),Qe(ae,g,Z.value),ae.annotationElementId=Z.id||null,Qe(ae,E,oe),ae}serialize(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const q=Y._internalPadding*this.parentScale,re=this.getRect(q,q),oe=d.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ie(this,b)),ae={annotationType:i.AnnotationEditorType.FREETEXT,color:oe,fontSize:ie(this,f),value:ie(this,g),pageIndex:this.pageIndex,rect:re,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Z?ae:this.annotationElementId&&!Ue(this,J,Ry).call(this,ae)?null:(ae.id=this.annotationElementId,ae)}};let r=Y;p=new WeakMap,x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakSet,Iy=function(Z){const q=oe=>{this.editorDiv.style.fontSize=`calc(${oe}px * var(--scale-factor))`,this.translate(0,-(oe-ie(this,f))*this.parentScale),Qe(this,f,oe),Ue(this,B,ec).call(this)},re=ie(this,f);this.addCommands({cmd:()=>{q(Z)},undo:()=>{q(re)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},T=new WeakSet,Oy=function(Z){const q=ie(this,b);this.addCommands({cmd:()=>{Qe(this,b,this.editorDiv.style.color=Z)},undo:()=>{Qe(this,b,this.editorDiv.style.color=q)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},F=new WeakSet,Py=function(){const Z=this.editorDiv.getElementsByTagName("div");if(Z.length===0)return this.editorDiv.innerText;const q=[];for(const re of Z)q.push(re.innerText.replace(/\r\n?|\n/,""));return q.join(`
`)},B=new WeakSet,ec=function(){const[Z,q]=this.parentDimensions;let re;if(this.isAttachedToDOM)re=this.div.getBoundingClientRect();else{const{currentLayer:oe,div:ae}=this,R=ae.style.display;ae.style.display="hidden",oe.div.append(this.div),re=ae.getBoundingClientRect(),ae.remove(),ae.style.display=R}this.rotation%180===this.parentRotation%180?(this.width=re.width/Z,this.height=re.height/q):(this.width=re.height/Z,this.height=re.width/q),this.fixAndSetPosition()},I=new WeakSet,Td=function(){if(this.editorDiv.replaceChildren(),!!ie(this,g))for(const Z of ie(this,g).split(`
`)){const q=document.createElement("div");q.append(Z?document.createTextNode(Z):document.createElement("br")),this.editorDiv.append(q)}},J=new WeakSet,Ry=function(Z){const{value:q,fontSize:re,color:oe,rect:ae,pageIndex:R}=ie(this,E);return Z.value!==q||Z.fontSize!==re||Z.rect.some((S,L)=>Math.abs(S-ae[L])>=1)||Z.color.some((S,L)=>S!==oe[L])||Z.pageIndex!==R},N=new WeakSet,Fd=function(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(Ue(this,B,ec).call(this),!Z&&(this.width===0||this.height===0)){setTimeout(()=>Ue(this,N,Fd).call(this,!0),0);return}const q=Y._internalPadding*this.parentScale;ie(this,E).rect=this.getRect(q,q)},Ct(r,"_freeTextDefaultContent",""),Ct(r,"_internalPadding",0),Ct(r,"_defaultColor",null),Ct(r,"_defaultFontSize",10),Ct(r,"_type","freetext"),o.FreeTextEditor=r},(h,o,s)=>{var L,z,Xi,K,My,X,ee,G,ne,se,le,he,be,ye,de,xe,fe,ce,ue,ve,Ee,Me,_e,Dy,We,v0,Ne,Id,Ie,Od,Ae,ge,Ce,Be,Ye,Je,Re,Pd,nt,et,it,qe,Ly,rt,Rd;Object.defineProperty(o,"__esModule",{value:!0}),o.StampAnnotationElement=o.InkAnnotationElement=o.FreeTextAnnotationElement=o.AnnotationLayer=void 0,s(89),s(125),s(136),s(138),s(141),s(143),s(145),s(147);var i=s(1),l=s(168),d=s(163),e=s(199),r=s(200),p=s(201);const x=1e3,y=9,v=new WeakSet;function b($e){return{width:$e[2]-$e[0],height:$e[3]-$e[1]}}class g{static create(me){switch(me.data.annotationType){case i.AnnotationType.LINK:return new f(me);case i.AnnotationType.TEXT:return new E(me);case i.AnnotationType.WIDGET:switch(me.data.fieldType){case"Tx":return new O(me);case"Btn":return me.data.radioButton?new F(me):me.data.checkBox?new D(me):new C(me);case"Ch":return new B(me);case"Sig":return new T(me)}return new A(me);case i.AnnotationType.POPUP:return new M(me);case i.AnnotationType.FREETEXT:return new W(me);case i.AnnotationType.LINE:return new J(me);case i.AnnotationType.SQUARE:return new H(me);case i.AnnotationType.CIRCLE:return new N(me);case i.AnnotationType.POLYLINE:return new U(me);case i.AnnotationType.CARET:return new _(me);case i.AnnotationType.INK:return new V(me);case i.AnnotationType.POLYGON:return new Y(me);case i.AnnotationType.HIGHLIGHT:return new Z(me);case i.AnnotationType.UNDERLINE:return new q(me);case i.AnnotationType.SQUIGGLY:return new re(me);case i.AnnotationType.STRIKEOUT:return new oe(me);case i.AnnotationType.STAMP:return new ae(me);case i.AnnotationType.FILEATTACHMENT:return new R(me);default:return new w(me)}}}const k=class{constructor(me){Le(this,L,!1);let{isRenderable:Q=!1,ignoreBorder:pe=!1,createQuadrilaterals:we=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=Q,this.data=me.data,this.layer=me.layer,this.linkService=me.linkService,this.downloadManager=me.downloadManager,this.imageResourcesPath=me.imageResourcesPath,this.renderForms=me.renderForms,this.svgFactory=me.svgFactory,this.annotationStorage=me.annotationStorage,this.enableScripting=me.enableScripting,this.hasJSActions=me.hasJSActions,this._fieldObjects=me.fieldObjects,this.parent=me.parent,Q&&(this.container=this._createContainer(pe)),we&&this._createQuadrilaterals()}static _hasPopupData(me){let{titleObj:Q,contentsObj:pe,richText:we}=me;return!!((Q==null?void 0:Q.str)||(pe==null?void 0:pe.str)||(we==null?void 0:we.str))}get hasPopupData(){return k._hasPopupData(this.data)}_createContainer(me){const{data:Q,parent:{page:pe,viewport:we}}=this,Fe=document.createElement("section");Fe.setAttribute("data-annotation-id",Q.id),this instanceof A||(Fe.tabIndex=x),Fe.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Fe.setAttribute("aria-haspopup","dialog"),Q.noRotate&&Fe.classList.add("norotate");const{pageWidth:Pe,pageHeight:De,pageX:Xe,pageY:je}=we.rawDims;if(!Q.rect||this instanceof M){const{rotation:tt}=Q;return!Q.hasOwnCanvas&&tt!==0&&this.setRotation(tt,Fe),Fe}const{width:Ze,height:ot}=b(Q.rect),Ke=i.Util.normalizeRect([Q.rect[0],pe.view[3]-Q.rect[1]+pe.view[1],Q.rect[2],pe.view[3]-Q.rect[3]+pe.view[1]]);if(!me&&Q.borderStyle.width>0){Fe.style.borderWidth=`${Q.borderStyle.width}px`;const tt=Q.borderStyle.horizontalCornerRadius,at=Q.borderStyle.verticalCornerRadius;if(tt>0||at>0){const ft=`calc(${tt}px * var(--scale-factor)) / calc(${at}px * var(--scale-factor))`;Fe.style.borderRadius=ft}else if(this instanceof F){const ft=`calc(${Ze}px * var(--scale-factor)) / calc(${ot}px * var(--scale-factor))`;Fe.style.borderRadius=ft}switch(Q.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:Fe.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:Fe.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:Fe.style.borderBottomStyle="solid";break}const st=Q.borderColor||null;st?(Qe(this,L,!0),Fe.style.borderColor=i.Util.makeHexColor(st[0]|0,st[1]|0,st[2]|0)):Fe.style.borderWidth=0}Fe.style.left=`${100*(Ke[0]-Xe)/Pe}%`,Fe.style.top=`${100*(Ke[1]-je)/De}%`;const{rotation:Ge}=Q;return Q.hasOwnCanvas||Ge===0?(Fe.style.width=`${100*Ze/Pe}%`,Fe.style.height=`${100*ot/De}%`):this.setRotation(Ge,Fe),Fe}setRotation(me){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:pe,pageHeight:we}=this.parent.viewport.rawDims,{width:Fe,height:Pe}=b(this.data.rect);let De,Xe;me%180===0?(De=100*Fe/pe,Xe=100*Pe/we):(De=100*Pe/pe,Xe=100*Fe/we),Q.style.width=`${De}%`,Q.style.height=`${Xe}%`,Q.setAttribute("data-main-rotation",(360-me)%360)}get _commonActions(){const me=(Q,pe,we)=>{const Fe=we.detail[Q],Pe=Fe[0],De=Fe.slice(1);we.target.style[pe]=e.ColorConverters[`${Pe}_HTML`](De),this.annotationStorage.setValue(this.data.id,{[pe]:e.ColorConverters[`${Pe}_rgb`](De)})};return(0,i.shadow)(this,"_commonActions",{display:Q=>{const{display:pe}=Q.detail,we=pe%2===1;this.container.style.visibility=we?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:we,noPrint:pe===1||pe===2})},print:Q=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Q.detail.print})},hidden:Q=>{const{hidden:pe}=Q.detail;this.container.style.visibility=pe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:pe,noView:pe})},focus:Q=>{setTimeout(()=>Q.target.focus({preventScroll:!1}),0)},userName:Q=>{Q.target.title=Q.detail.userName},readonly:Q=>{Q.target.disabled=Q.detail.readonly},required:Q=>{this._setRequired(Q.target,Q.detail.required)},bgColor:Q=>{me("bgColor","backgroundColor",Q)},fillColor:Q=>{me("fillColor","backgroundColor",Q)},fgColor:Q=>{me("fgColor","color",Q)},textColor:Q=>{me("textColor","color",Q)},borderColor:Q=>{me("borderColor","borderColor",Q)},strokeColor:Q=>{me("strokeColor","borderColor",Q)},rotation:Q=>{const pe=Q.detail.rotation;this.setRotation(pe),this.annotationStorage.setValue(this.data.id,{rotation:pe})}})}_dispatchEventFromSandbox(me,Q){const pe=this._commonActions;for(const we of Object.keys(Q.detail)){const Fe=me[we]||pe[we];Fe==null||Fe(Q)}}_setDefaultPropertiesFromJS(me){if(!this.enableScripting)return;const Q=this.annotationStorage.getRawValue(this.data.id);if(!Q)return;const pe=this._commonActions;for(const[we,Fe]of Object.entries(Q)){const Pe=pe[we];if(Pe){const De={detail:{[we]:Fe},target:me};Pe(De),delete Q[we]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:me}=this.data;if(!me)return;const[Q,pe,we,Fe]=this.data.rect;if(me.length===1){const[,{x:at,y:st},{x:ft,y:pt}]=me[0];if(we===at&&Fe===st&&Q===ft&&pe===pt)return}const{style:Pe}=this.container;let De;if(ie(this,L)){const{borderColor:at,borderWidth:st}=Pe;Pe.borderWidth=0,De=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${at}" stroke-width="${st}">`],this.container.classList.add("hasBorder")}const Xe=we-Q,je=Fe-pe,{svgFactory:Ze}=this,ot=Ze.createElement("svg");ot.classList.add("quadrilateralsContainer"),ot.setAttribute("width",0),ot.setAttribute("height",0);const Ke=Ze.createElement("defs");ot.append(Ke);const Ge=Ze.createElement("clipPath"),tt=`clippath_${this.data.id}`;Ge.setAttribute("id",tt),Ge.setAttribute("clipPathUnits","objectBoundingBox"),Ke.append(Ge);for(const[,{x:at,y:st},{x:ft,y:pt}]of me){const ct=Ze.createElement("rect"),yt=(ft-Q)/Xe,bt=(Fe-st)/je,Et=(at-ft)/Xe,wt=(st-pt)/je;ct.setAttribute("x",yt),ct.setAttribute("y",bt),ct.setAttribute("width",Et),ct.setAttribute("height",wt),Ge.append(ct),De==null||De.push(`<rect vector-effect="non-scaling-stroke" x="${yt}" y="${bt}" width="${Et}" height="${wt}"/>`)}ie(this,L)&&(De.push("</g></svg>')"),Pe.backgroundImage=De.join("")),this.container.append(ot),this.container.style.clipPath=`url(#${tt})`}_createPopup(){const{container:me,data:Q}=this;me.setAttribute("aria-haspopup","dialog");const pe=new M({data:{color:Q.color,titleObj:Q.titleObj,modificationDate:Q.modificationDate,contentsObj:Q.contentsObj,richText:Q.richText,parentRect:Q.rect,borderStyle:0,id:`popup_${Q.id}`,rotation:Q.rotation},parent:this.parent,elements:[this]});this.parent.div.append(pe.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(me){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const pe=[];if(this._fieldObjects){const we=this._fieldObjects[me];if(we)for(const{page:Fe,id:Pe,exportValues:De}of we){if(Fe===-1||Pe===Q)continue;const Xe=typeof De=="string"?De:null,je=document.querySelector(`[data-element-id="${Pe}"]`);if(je&&!v.has(je)){(0,i.warn)(`_getElementsByName - element not allowed: ${Pe}`);continue}pe.push({id:Pe,exportValue:Xe,domElement:je})}return pe}for(const we of document.getElementsByName(me)){const{exportValue:Fe}=we,Pe=we.getAttribute("data-element-id");Pe!==Q&&(!v.has(we)||pe.push({id:Pe,exportValue:Fe,domElement:we}))}return pe}show(){var me;this.container&&(this.container.hidden=!1),(me=this.popup)==null||me.maybeShow()}hide(){var me;this.container&&(this.container.hidden=!0),(me=this.popup)==null||me.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const me=this.getElementsToTriggerPopup();if(Array.isArray(me))for(const Q of me)Q.classList.add("highlightArea");else me.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:me,data:{id:Q}}=this;this.container.addEventListener("dblclick",()=>{var pe;(pe=this.linkService.eventBus)==null||pe.dispatch("switchannotationeditormode",{source:this,mode:me,editId:Q})})}};let w=k;L=new WeakMap;class f extends w{constructor(Q){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(Q,{isRenderable:!0,ignoreBorder:!!(pe!=null&&pe.ignoreBorder),createQuadrilaterals:!0});Le(this,z);Le(this,K);this.isTooltipOnly=Q.data.isTooltipOnly}render(){const{data:Q,linkService:pe}=this,we=document.createElement("a");we.setAttribute("data-element-id",Q.id);let Fe=!1;return Q.url?(pe.addLinkAttributes(we,Q.url,Q.newWindow),Fe=!0):Q.action?(this._bindNamedAction(we,Q.action),Fe=!0):Q.attachment?(this._bindAttachment(we,Q.attachment),Fe=!0):Q.setOCGState?(Ue(this,K,My).call(this,we,Q.setOCGState),Fe=!0):Q.dest?(this._bindLink(we,Q.dest),Fe=!0):(Q.actions&&(Q.actions.Action||Q.actions["Mouse Up"]||Q.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(we,Q),Fe=!0),Q.resetForm?(this._bindResetFormAction(we,Q.resetForm),Fe=!0):this.isTooltipOnly&&!Fe&&(this._bindLink(we,""),Fe=!0)),this.container.classList.add("linkAnnotation"),Fe&&this.container.append(we),this.container}_bindLink(Q,pe){Q.href=this.linkService.getDestinationHash(pe),Q.onclick=()=>(pe&&this.linkService.goToDestination(pe),!1),(pe||pe==="")&&Ue(this,z,Xi).call(this)}_bindNamedAction(Q,pe){Q.href=this.linkService.getAnchorUrl(""),Q.onclick=()=>(this.linkService.executeNamedAction(pe),!1),Ue(this,z,Xi).call(this)}_bindAttachment(Q,pe){Q.href=this.linkService.getAnchorUrl(""),Q.onclick=()=>{var we;return(we=this.downloadManager)==null||we.openOrDownloadData(this.container,pe.content,pe.filename),!1},Ue(this,z,Xi).call(this)}_bindJSAction(Q,pe){Q.href=this.linkService.getAnchorUrl("");const we=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Fe of Object.keys(pe.actions)){const Pe=we.get(Fe);!Pe||(Q[Pe]=()=>{var De;return(De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pe.id,name:Fe}}),!1})}Q.onclick||(Q.onclick=()=>!1),Ue(this,z,Xi).call(this)}_bindResetFormAction(Q,pe){const we=Q.onclick;if(we||(Q.href=this.linkService.getAnchorUrl("")),Ue(this,z,Xi).call(this),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),we||(Q.onclick=()=>!1);return}Q.onclick=()=>{var ot;we==null||we();const{fields:Fe,refs:Pe,include:De}=pe,Xe=[];if(Fe.length!==0||Pe.length!==0){const Ke=new Set(Pe);for(const Ge of Fe){const tt=this._fieldObjects[Ge]||[];for(const{id:at}of tt)Ke.add(at)}for(const Ge of Object.values(this._fieldObjects))for(const tt of Ge)Ke.has(tt.id)===De&&Xe.push(tt)}else for(const Ke of Object.values(this._fieldObjects))Xe.push(...Ke);const je=this.annotationStorage,Ze=[];for(const Ke of Xe){const{id:Ge}=Ke;switch(Ze.push(Ge),Ke.type){case"text":{const at=Ke.defaultValue||"";je.setValue(Ge,{value:at});break}case"checkbox":case"radiobutton":{const at=Ke.defaultValue===Ke.exportValues;je.setValue(Ge,{value:at});break}case"combobox":case"listbox":{const at=Ke.defaultValue||"";je.setValue(Ge,{value:at});break}default:continue}const tt=document.querySelector(`[data-element-id="${Ge}"]`);if(tt){if(!v.has(tt)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${Ge}`);continue}}else continue;tt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ot=this.linkService.eventBus)==null||ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ze,name:"ResetForm"}})),!1}}}z=new WeakSet,Xi=function(){this.container.setAttribute("data-internal-link","")},K=new WeakSet,My=function(Q,pe){Q.href=this.linkService.getAnchorUrl(""),Q.onclick=()=>(this.linkService.executeSetOCGState(pe),!1),Ue(this,z,Xi).call(this)};class E extends w{constructor(me){super(me,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const me=document.createElement("img");return me.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",me.alt="[{{type}} Annotation]",me.dataset.l10nId="text_annotation_type",me.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(me),this.container}}class A extends w{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(me){var Q;this.data.hasOwnCanvas&&(((Q=me.previousSibling)==null?void 0:Q.nodeName)==="CANVAS"&&(me.previousSibling.hidden=!0),me.hidden=!1)}_getKeyModifier(me){const{isWin:Q,isMac:pe}=i.FeatureTest.platform;return Q&&me.ctrlKey||pe&&me.metaKey}_setEventListener(me,Q,pe,we,Fe){pe.includes("mouse")?me.addEventListener(pe,Pe=>{var De;(De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:we,value:Fe(Pe),shift:Pe.shiftKey,modifier:this._getKeyModifier(Pe)}})}):me.addEventListener(pe,Pe=>{var De;if(pe==="blur"){if(!Q.focused||!Pe.relatedTarget)return;Q.focused=!1}else if(pe==="focus"){if(Q.focused)return;Q.focused=!0}!Fe||(De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:we,value:Fe(Pe)}})})}_setEventListeners(me,Q,pe,we){var Fe,Pe,De;for(const[Xe,je]of pe)(je==="Action"||((Fe=this.data.actions)==null?void 0:Fe[je]))&&((je==="Focus"||je==="Blur")&&(Q||(Q={focused:!1})),this._setEventListener(me,Q,Xe,je,we),je==="Focus"&&!((Pe=this.data.actions)!=null&&Pe.Blur)?this._setEventListener(me,Q,"blur","Blur",null):je==="Blur"&&!((De=this.data.actions)!=null&&De.Focus)&&this._setEventListener(me,Q,"focus","Focus",null))}_setBackgroundColor(me){const Q=this.data.backgroundColor||null;me.style.backgroundColor=Q===null?"transparent":i.Util.makeHexColor(Q[0],Q[1],Q[2])}_setTextStyle(me){const Q=["left","center","right"],{fontColor:pe}=this.data.defaultAppearanceData,we=this.data.defaultAppearanceData.fontSize||y,Fe=me.style;let Pe;const De=2,Xe=je=>Math.round(10*je)/10;if(this.data.multiLine){const je=Math.abs(this.data.rect[3]-this.data.rect[1]-De),Ze=Math.round(je/(i.LINE_FACTOR*we))||1,ot=je/Ze;Pe=Math.min(we,Xe(ot/i.LINE_FACTOR))}else{const je=Math.abs(this.data.rect[3]-this.data.rect[1]-De);Pe=Math.min(we,Xe(je/i.LINE_FACTOR))}Fe.fontSize=`calc(${Pe}px * var(--scale-factor))`,Fe.color=i.Util.makeHexColor(pe[0],pe[1],pe[2]),this.data.textAlignment!==null&&(Fe.textAlign=Q[this.data.textAlignment])}_setRequired(me,Q){Q?me.setAttribute("required",!0):me.removeAttribute("required"),me.setAttribute("aria-required",Q)}}class O extends A{constructor(me){const Q=me.renderForms||!me.data.hasAppearance&&!!me.data.fieldValue;super(me,{isRenderable:Q})}setPropertyOnSiblings(me,Q,pe,we){const Fe=this.annotationStorage;for(const Pe of this._getElementsByName(me.name,me.id))Pe.domElement&&(Pe.domElement[Q]=pe),Fe.setValue(Pe.id,{[we]:pe})}render(){var we,Fe;const me=this.annotationStorage,Q=this.data.id;this.container.classList.add("textWidgetAnnotation");let pe=null;if(this.renderForms){const Pe=me.getValue(Q,{value:this.data.fieldValue});let De=Pe.value||"";const Xe=me.getValue(Q,{charLimit:this.data.maxLen}).charLimit;Xe&&De.length>Xe&&(De=De.slice(0,Xe));let je=Pe.formattedValue||((we=this.data.textContent)==null?void 0:we.join(`
`))||null;je&&this.data.comb&&(je=je.replaceAll(/\s+/g,""));const Ze={userValue:De,formattedValue:je,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(pe=document.createElement("textarea"),pe.textContent=je!=null?je:De,this.data.doNotScroll&&(pe.style.overflowY="hidden")):(pe=document.createElement("input"),pe.type="text",pe.setAttribute("value",je!=null?je:De),this.data.doNotScroll&&(pe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(pe.hidden=!0),v.add(pe),pe.setAttribute("data-element-id",Q),pe.disabled=this.data.readOnly,pe.name=this.data.fieldName,pe.tabIndex=x,this._setRequired(pe,this.data.required),Xe&&(pe.maxLength=Xe),pe.addEventListener("input",Ke=>{me.setValue(Q,{value:Ke.target.value}),this.setPropertyOnSiblings(pe,"value",Ke.target.value,"value"),Ze.formattedValue=null}),pe.addEventListener("resetform",Ke=>{var tt;const Ge=(tt=this.data.defaultFieldValue)!=null?tt:"";pe.value=Ze.userValue=Ge,Ze.formattedValue=null});let ot=Ke=>{const{formattedValue:Ge}=Ze;Ge!=null&&(Ke.target.value=Ge),Ke.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){pe.addEventListener("focus",Ge=>{if(Ze.focused)return;const{target:tt}=Ge;Ze.userValue&&(tt.value=Ze.userValue),Ze.lastCommittedValue=tt.value,Ze.commitKey=1,Ze.focused=!0}),pe.addEventListener("updatefromsandbox",Ge=>{this.showElementAndHideCanvas(Ge.target);const tt={value(at){var st;Ze.userValue=(st=at.detail.value)!=null?st:"",me.setValue(Q,{value:Ze.userValue.toString()}),at.target.value=Ze.userValue},formattedValue(at){const{formattedValue:st}=at.detail;Ze.formattedValue=st,st!=null&&at.target!==document.activeElement&&(at.target.value=st),me.setValue(Q,{formattedValue:st})},selRange(at){at.target.setSelectionRange(...at.detail.selRange)},charLimit:at=>{var ct;const{charLimit:st}=at.detail,{target:ft}=at;if(st===0){ft.removeAttribute("maxLength");return}ft.setAttribute("maxLength",st);let pt=Ze.userValue;!pt||pt.length<=st||(pt=pt.slice(0,st),ft.value=Ze.userValue=pt,me.setValue(Q,{value:pt}),(ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:pt,willCommit:!0,commitKey:1,selStart:ft.selectionStart,selEnd:ft.selectionEnd}}))}};this._dispatchEventFromSandbox(tt,Ge)}),pe.addEventListener("keydown",Ge=>{var st;Ze.commitKey=1;let tt=-1;if(Ge.key==="Escape"?tt=0:Ge.key==="Enter"&&!this.data.multiLine?tt=2:Ge.key==="Tab"&&(Ze.commitKey=3),tt===-1)return;const{value:at}=Ge.target;Ze.lastCommittedValue!==at&&(Ze.lastCommittedValue=at,Ze.userValue=at,(st=this.linkService.eventBus)==null||st.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:at,willCommit:!0,commitKey:tt,selStart:Ge.target.selectionStart,selEnd:Ge.target.selectionEnd}}))});const Ke=ot;ot=null,pe.addEventListener("blur",Ge=>{var at;if(!Ze.focused||!Ge.relatedTarget)return;Ze.focused=!1;const{value:tt}=Ge.target;Ze.userValue=tt,Ze.lastCommittedValue!==tt&&((at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:tt,willCommit:!0,commitKey:Ze.commitKey,selStart:Ge.target.selectionStart,selEnd:Ge.target.selectionEnd}})),Ke(Ge)}),(Fe=this.data.actions)!=null&&Fe.Keystroke&&pe.addEventListener("beforeinput",Ge=>{var bt;Ze.lastCommittedValue=null;const{data:tt,target:at}=Ge,{value:st,selectionStart:ft,selectionEnd:pt}=at;let ct=ft,yt=pt;switch(Ge.inputType){case"deleteWordBackward":{const Et=st.substring(0,ft).match(/\w*[^\w]*$/);Et&&(ct-=Et[0].length);break}case"deleteWordForward":{const Et=st.substring(ft).match(/^[^\w]*\w*/);Et&&(yt+=Et[0].length);break}case"deleteContentBackward":ft===pt&&(ct-=1);break;case"deleteContentForward":ft===pt&&(yt+=1);break}Ge.preventDefault(),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:st,change:tt||"",willCommit:!1,selStart:ct,selEnd:yt}})}),this._setEventListeners(pe,Ze,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ge=>Ge.target.value)}if(ot&&pe.addEventListener("blur",ot),this.data.comb){const Ge=(this.data.rect[2]-this.data.rect[0])/Xe;pe.classList.add("comb"),pe.style.letterSpacing=`calc(${Ge}px * var(--scale-factor) - 1ch)`}}else pe=document.createElement("div"),pe.textContent=this.data.fieldValue,pe.style.verticalAlign="middle",pe.style.display="table-cell";return this._setTextStyle(pe),this._setBackgroundColor(pe),this._setDefaultPropertiesFromJS(pe),this.container.append(pe),this.container}}class T extends A{constructor(me){super(me,{isRenderable:!!me.data.hasOwnCanvas})}}class D extends A{constructor(me){super(me,{isRenderable:me.renderForms})}render(){const me=this.annotationStorage,Q=this.data,pe=Q.id;let we=me.getValue(pe,{value:Q.exportValue===Q.fieldValue}).value;typeof we=="string"&&(we=we!=="Off",me.setValue(pe,{value:we})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Fe=document.createElement("input");return v.add(Fe),Fe.setAttribute("data-element-id",pe),Fe.disabled=Q.readOnly,this._setRequired(Fe,this.data.required),Fe.type="checkbox",Fe.name=Q.fieldName,we&&Fe.setAttribute("checked",!0),Fe.setAttribute("exportValue",Q.exportValue),Fe.tabIndex=x,Fe.addEventListener("change",Pe=>{const{name:De,checked:Xe}=Pe.target;for(const je of this._getElementsByName(De,pe)){const Ze=Xe&&je.exportValue===Q.exportValue;je.domElement&&(je.domElement.checked=Ze),me.setValue(je.id,{value:Ze})}me.setValue(pe,{value:Xe})}),Fe.addEventListener("resetform",Pe=>{const De=Q.defaultFieldValue||"Off";Pe.target.checked=De===Q.exportValue}),this.enableScripting&&this.hasJSActions&&(Fe.addEventListener("updatefromsandbox",Pe=>{const De={value(Xe){Xe.target.checked=Xe.detail.value!=="Off",me.setValue(pe,{value:Xe.target.checked})}};this._dispatchEventFromSandbox(De,Pe)}),this._setEventListeners(Fe,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pe=>Pe.target.checked)),this._setBackgroundColor(Fe),this._setDefaultPropertiesFromJS(Fe),this.container.append(Fe),this.container}}class F extends A{constructor(me){super(me,{isRenderable:me.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const me=this.annotationStorage,Q=this.data,pe=Q.id;let we=me.getValue(pe,{value:Q.fieldValue===Q.buttonValue}).value;typeof we=="string"&&(we=we!==Q.buttonValue,me.setValue(pe,{value:we}));const Fe=document.createElement("input");if(v.add(Fe),Fe.setAttribute("data-element-id",pe),Fe.disabled=Q.readOnly,this._setRequired(Fe,this.data.required),Fe.type="radio",Fe.name=Q.fieldName,we&&Fe.setAttribute("checked",!0),Fe.tabIndex=x,Fe.addEventListener("change",Pe=>{const{name:De,checked:Xe}=Pe.target;for(const je of this._getElementsByName(De,pe))me.setValue(je.id,{value:!1});me.setValue(pe,{value:Xe})}),Fe.addEventListener("resetform",Pe=>{const De=Q.defaultFieldValue;Pe.target.checked=De!=null&&De===Q.buttonValue}),this.enableScripting&&this.hasJSActions){const Pe=Q.buttonValue;Fe.addEventListener("updatefromsandbox",De=>{const Xe={value:je=>{const Ze=Pe===je.detail.value;for(const ot of this._getElementsByName(je.target.name)){const Ke=Ze&&ot.id===pe;ot.domElement&&(ot.domElement.checked=Ke),me.setValue(ot.id,{value:Ke})}}};this._dispatchEventFromSandbox(Xe,De)}),this._setEventListeners(Fe,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],De=>De.target.checked)}return this._setBackgroundColor(Fe),this._setDefaultPropertiesFromJS(Fe),this.container.append(Fe),this.container}}class C extends f{constructor(me){super(me,{ignoreBorder:me.data.hasAppearance})}render(){const me=super.render();me.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(me.title=this.data.alternativeText);const Q=me.lastChild;return this.enableScripting&&this.hasJSActions&&Q&&(this._setDefaultPropertiesFromJS(Q),Q.addEventListener("updatefromsandbox",pe=>{this._dispatchEventFromSandbox({},pe)})),me}}class B extends A{constructor(me){super(me,{isRenderable:me.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const me=this.annotationStorage,Q=this.data.id,pe=me.getValue(Q,{value:this.data.fieldValue}),we=document.createElement("select");v.add(we),we.setAttribute("data-element-id",Q),we.disabled=this.data.readOnly,this._setRequired(we,this.data.required),we.name=this.data.fieldName,we.tabIndex=x;let Fe=this.data.combo&&this.data.options.length>0;this.data.combo||(we.size=this.data.options.length,this.data.multiSelect&&(we.multiple=!0)),we.addEventListener("resetform",Ze=>{const ot=this.data.defaultFieldValue;for(const Ke of we.options)Ke.selected=Ke.value===ot});for(const Ze of this.data.options){const ot=document.createElement("option");ot.textContent=Ze.displayValue,ot.value=Ze.exportValue,pe.value.includes(Ze.exportValue)&&(ot.setAttribute("selected",!0),Fe=!1),we.append(ot)}let Pe=null;if(Fe){const Ze=document.createElement("option");Ze.value=" ",Ze.setAttribute("hidden",!0),Ze.setAttribute("selected",!0),we.prepend(Ze),Pe=()=>{Ze.remove(),we.removeEventListener("input",Pe),Pe=null},we.addEventListener("input",Pe)}const De=Ze=>{const ot=Ze?"value":"textContent",{options:Ke,multiple:Ge}=we;return Ge?Array.prototype.filter.call(Ke,tt=>tt.selected).map(tt=>tt[ot]):Ke.selectedIndex===-1?null:Ke[Ke.selectedIndex][ot]};let Xe=De(!1);const je=Ze=>{const ot=Ze.target.options;return Array.prototype.map.call(ot,Ke=>({displayValue:Ke.textContent,exportValue:Ke.value}))};return this.enableScripting&&this.hasJSActions?(we.addEventListener("updatefromsandbox",Ze=>{const ot={value(Ke){Pe==null||Pe();const Ge=Ke.detail.value,tt=new Set(Array.isArray(Ge)?Ge:[Ge]);for(const at of we.options)at.selected=tt.has(at.value);me.setValue(Q,{value:De(!0)}),Xe=De(!1)},multipleSelection(Ke){we.multiple=!0},remove(Ke){const Ge=we.options,tt=Ke.detail.remove;Ge[tt].selected=!1,we.remove(tt),Ge.length>0&&Array.prototype.findIndex.call(Ge,st=>st.selected)===-1&&(Ge[0].selected=!0),me.setValue(Q,{value:De(!0),items:je(Ke)}),Xe=De(!1)},clear(Ke){for(;we.length!==0;)we.remove(0);me.setValue(Q,{value:null,items:[]}),Xe=De(!1)},insert(Ke){const{index:Ge,displayValue:tt,exportValue:at}=Ke.detail.insert,st=we.children[Ge],ft=document.createElement("option");ft.textContent=tt,ft.value=at,st?st.before(ft):we.append(ft),me.setValue(Q,{value:De(!0),items:je(Ke)}),Xe=De(!1)},items(Ke){const{items:Ge}=Ke.detail;for(;we.length!==0;)we.remove(0);for(const tt of Ge){const{displayValue:at,exportValue:st}=tt,ft=document.createElement("option");ft.textContent=at,ft.value=st,we.append(ft)}we.options.length>0&&(we.options[0].selected=!0),me.setValue(Q,{value:De(!0),items:je(Ke)}),Xe=De(!1)},indices(Ke){const Ge=new Set(Ke.detail.indices);for(const tt of Ke.target.options)tt.selected=Ge.has(tt.index);me.setValue(Q,{value:De(!0)}),Xe=De(!1)},editable(Ke){Ke.target.disabled=!Ke.detail.editable}};this._dispatchEventFromSandbox(ot,Ze)}),we.addEventListener("input",Ze=>{var Ke;const ot=De(!0);me.setValue(Q,{value:ot}),Ze.preventDefault(),(Ke=this.linkService.eventBus)==null||Ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:Xe,changeEx:ot,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(we,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ze=>Ze.target.value)):we.addEventListener("input",function(Ze){me.setValue(Q,{value:De(!0)})}),this.data.combo&&this._setTextStyle(we),this._setBackgroundColor(we),this._setDefaultPropertiesFromJS(we),this.container.append(we),this.container}}class M extends w{constructor(me){const{data:Q,elements:pe}=me;super(me,{isRenderable:w._hasPopupData(Q)}),this.elements=pe}render(){this.container.classList.add("popupAnnotation");const me=new I({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Q=[];for(const pe of this.elements)pe.popup=me,Q.push(pe.data.id),pe.addHighlightArea();return this.container.setAttribute("aria-controls",Q.map(pe=>`${i.AnnotationPrefix}${pe}`).join(",")),this.container}}class I{constructor(me){Le(this,_e);Le(this,We);Le(this,Ne);Le(this,Ie);Le(this,X,null);Le(this,ee,Ue(this,_e,Dy).bind(this));Le(this,G,Ue(this,Ie,Od).bind(this));Le(this,ne,Ue(this,Ne,Id).bind(this));Le(this,se,Ue(this,We,v0).bind(this));Le(this,le,null);Le(this,he,null);Le(this,be,null);Le(this,ye,null);Le(this,de,null);Le(this,xe,null);Le(this,fe,!1);Le(this,ce,null);Le(this,ue,null);Le(this,ve,null);Le(this,Ee,null);Le(this,Me,!1);var tt;let{container:Q,color:pe,elements:we,titleObj:Fe,modificationDate:Pe,contentsObj:De,richText:Xe,parent:je,rect:Ze,parentRect:ot,open:Ke}=me;Qe(this,he,Q),Qe(this,Ee,Fe),Qe(this,be,De),Qe(this,ve,Xe),Qe(this,de,je),Qe(this,le,pe),Qe(this,ue,Ze),Qe(this,xe,ot),Qe(this,ye,we);const Ge=l.PDFDateString.toDateObject(Pe);Ge&&Qe(this,X,je.l10n.get("annotation_date_string",{date:Ge.toLocaleDateString(),time:Ge.toLocaleTimeString()})),this.trigger=we.flatMap(at=>at.getElementsToTriggerPopup());for(const at of this.trigger)at.addEventListener("click",ie(this,se)),at.addEventListener("mouseenter",ie(this,ne)),at.addEventListener("mouseleave",ie(this,G)),at.classList.add("popupTriggerArea");for(const at of we)(tt=at.container)==null||tt.addEventListener("keydown",ie(this,ee));ie(this,he).hidden=!0,Ke&&Ue(this,We,v0).call(this)}render(){if(ie(this,ce))return;const{page:{view:me},viewport:{rawDims:{pageWidth:Q,pageHeight:pe,pageX:we,pageY:Fe}}}=ie(this,de),Pe=Qe(this,ce,document.createElement("div"));if(Pe.className="popup",ie(this,le)){const ct=Pe.style.outlineColor=i.Util.makeHexColor(...ie(this,le));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Pe.style.backgroundColor=`color-mix(in srgb, ${ct} 30%, white)`:Pe.style.backgroundColor=i.Util.makeHexColor(...ie(this,le).map(bt=>Math.floor(.7*(255-bt)+bt)))}const De=document.createElement("span");De.className="header";const Xe=document.createElement("h1");if(De.append(Xe),{dir:Xe.dir,str:Xe.textContent}=ie(this,Ee),Pe.append(De),ie(this,X)){const ct=document.createElement("span");ct.classList.add("popupDate"),ie(this,X).then(yt=>{ct.textContent=yt}),De.append(ct)}const je=ie(this,be),Ze=ie(this,ve);if((Ze==null?void 0:Ze.str)&&(!(je!=null&&je.str)||je.str===Ze.str))p.XfaLayer.render({xfaHtml:Ze.html,intent:"richText",div:Pe}),Pe.lastChild.classList.add("richText","popupContent");else{const ct=this._formatContents(je);Pe.append(ct)}let ot=!!ie(this,xe),Ke=ot?ie(this,xe):ie(this,ue);for(const ct of ie(this,ye))if(!Ke||i.Util.intersect(ct.data.rect,Ke)!==null){Ke=ct.data.rect,ot=!0;break}const Ge=i.Util.normalizeRect([Ke[0],me[3]-Ke[1]+me[1],Ke[2],me[3]-Ke[3]+me[1]]),tt=5,at=ot?Ke[2]-Ke[0]+tt:0,st=Ge[0]+at,ft=Ge[1],{style:pt}=ie(this,he);pt.left=`${100*(st-we)/Q}%`,pt.top=`${100*(ft-Fe)/pe}%`,ie(this,he).append(Pe)}_formatContents(me){let{str:Q,dir:pe}=me;const we=document.createElement("p");we.classList.add("popupContent"),we.dir=pe;const Fe=Q.split(/(?:\r\n?|\n)/);for(let Pe=0,De=Fe.length;Pe<De;++Pe){const Xe=Fe[Pe];we.append(document.createTextNode(Xe)),Pe<De-1&&we.append(document.createElement("br"))}return we}forceHide(){Qe(this,Me,this.isVisible),ie(this,Me)&&(ie(this,he).hidden=!0)}maybeShow(){!ie(this,Me)||(Qe(this,Me,!1),ie(this,he).hidden=!1)}get isVisible(){return ie(this,he).hidden===!1}}X=new WeakMap,ee=new WeakMap,G=new WeakMap,ne=new WeakMap,se=new WeakMap,le=new WeakMap,he=new WeakMap,be=new WeakMap,ye=new WeakMap,de=new WeakMap,xe=new WeakMap,fe=new WeakMap,ce=new WeakMap,ue=new WeakMap,ve=new WeakMap,Ee=new WeakMap,Me=new WeakMap,_e=new WeakSet,Dy=function(me){me.altKey||me.shiftKey||me.ctrlKey||me.metaKey||(me.key==="Enter"||me.key==="Escape"&&ie(this,fe))&&Ue(this,We,v0).call(this)},We=new WeakSet,v0=function(){Qe(this,fe,!ie(this,fe)),ie(this,fe)?(Ue(this,Ne,Id).call(this),ie(this,he).addEventListener("click",ie(this,se)),ie(this,he).addEventListener("keydown",ie(this,ee))):(Ue(this,Ie,Od).call(this),ie(this,he).removeEventListener("click",ie(this,se)),ie(this,he).removeEventListener("keydown",ie(this,ee)))},Ne=new WeakSet,Id=function(){ie(this,ce)||this.render(),this.isVisible?ie(this,fe)&&ie(this,he).classList.add("focused"):(ie(this,he).hidden=!1,ie(this,he).style.zIndex=parseInt(ie(this,he).style.zIndex)+1e3)},Ie=new WeakSet,Od=function(){ie(this,he).classList.remove("focused"),!(ie(this,fe)||!this.isVisible)&&(ie(this,he).hidden=!0,ie(this,he).style.zIndex=parseInt(ie(this,he).style.zIndex)-1e3)};class W extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0}),this.textContent=me.data.textContent,this.textPosition=me.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const me=document.createElement("div");me.classList.add("annotationTextContent"),me.setAttribute("role","comment");for(const Q of this.textContent){const pe=document.createElement("span");pe.textContent=Q,me.append(pe)}this.container.append(me)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}o.FreeTextAnnotationElement=W;class J extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,Ae,null)}render(){this.container.classList.add("lineAnnotation");const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0),Pe=Qe(this,Ae,this.svgFactory.createElement("svg:line"));return Pe.setAttribute("x1",Q.rect[2]-Q.lineCoordinates[0]),Pe.setAttribute("y1",Q.rect[3]-Q.lineCoordinates[1]),Pe.setAttribute("x2",Q.rect[2]-Q.lineCoordinates[2]),Pe.setAttribute("y2",Q.rect[3]-Q.lineCoordinates[3]),Pe.setAttribute("stroke-width",Q.borderStyle.width||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),Fe.append(Pe),this.container.append(Fe),!Q.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ie(this,Ae)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ae=new WeakMap;class H extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,ge,null)}render(){this.container.classList.add("squareAnnotation");const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0),Pe=Q.borderStyle.width,De=Qe(this,ge,this.svgFactory.createElement("svg:rect"));return De.setAttribute("x",Pe/2),De.setAttribute("y",Pe/2),De.setAttribute("width",pe-Pe),De.setAttribute("height",we-Pe),De.setAttribute("stroke-width",Pe||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),Fe.append(De),this.container.append(Fe),!Q.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ie(this,ge)}addHighlightArea(){this.container.classList.add("highlightArea")}}ge=new WeakMap;class N extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,Ce,null)}render(){this.container.classList.add("circleAnnotation");const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0),Pe=Q.borderStyle.width,De=Qe(this,Ce,this.svgFactory.createElement("svg:ellipse"));return De.setAttribute("cx",pe/2),De.setAttribute("cy",we/2),De.setAttribute("rx",pe/2-Pe/2),De.setAttribute("ry",we/2-Pe/2),De.setAttribute("stroke-width",Pe||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),Fe.append(De),this.container.append(Fe),!Q.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ie(this,Ce)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ce=new WeakMap;class U extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,Be,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0);let Pe=[];for(const Xe of Q.vertices){const je=Xe.x-Q.rect[0],Ze=Q.rect[3]-Xe.y;Pe.push(je+","+Ze)}Pe=Pe.join(" ");const De=Qe(this,Be,this.svgFactory.createElement(this.svgElementName));return De.setAttribute("points",Pe),De.setAttribute("stroke-width",Q.borderStyle.width||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),Fe.append(De),this.container.append(Fe),!Q.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ie(this,Be)}addHighlightArea(){this.container.classList.add("highlightArea")}}Be=new WeakMap;class Y extends U{constructor(me){super(me),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _ extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class V extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,Ye,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0);for(const Pe of Q.inkLists){let De=[];for(const je of Pe){const Ze=je.x-Q.rect[0],ot=Q.rect[3]-je.y;De.push(`${Ze},${ot}`)}De=De.join(" ");const Xe=this.svgFactory.createElement(this.svgElementName);ie(this,Ye).push(Xe),Xe.setAttribute("points",De),Xe.setAttribute("stroke-width",Q.borderStyle.width||1),Xe.setAttribute("stroke","transparent"),Xe.setAttribute("fill","transparent"),!Q.popupRef&&this.hasPopupData&&this._createPopup(),Fe.append(Xe)}return this.container.append(Fe),this.container}getElementsToTriggerPopup(){return ie(this,Ye)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ye=new WeakMap,o.InkAnnotationElement=V;class Z extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class q extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class re extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class oe extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ae extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}o.StampAnnotationElement=ae;class R extends w{constructor(Q){var Fe;super(Q,{isRenderable:!0});Le(this,Re);Le(this,Je,null);const{filename:pe,content:we}=this.data.file;this.filename=(0,l.getFilenameFromUrl)(pe,!0),this.content=we,(Fe=this.linkService.eventBus)==null||Fe.dispatch("fileattachmentannotation",{source:this,filename:pe,content:we})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Q,data:pe}=this;let we;pe.hasAppearance||pe.fillAlpha===0?we=document.createElement("div"):(we=document.createElement("img"),we.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(pe.name)?"paperclip":"pushpin"}.svg`,pe.fillAlpha&&pe.fillAlpha<1&&(we.style=`filter: opacity(${Math.round(pe.fillAlpha*100)}%);`)),we.addEventListener("dblclick",Ue(this,Re,Pd).bind(this)),Qe(this,Je,we);const{isMac:Fe}=i.FeatureTest.platform;return Q.addEventListener("keydown",Pe=>{Pe.key==="Enter"&&(Fe?Pe.metaKey:Pe.ctrlKey)&&Ue(this,Re,Pd).call(this)}),!pe.popupRef&&this.hasPopupData?this._createPopup():we.classList.add("popupTriggerArea"),Q.append(we),Q}getElementsToTriggerPopup(){return ie(this,Je)}addHighlightArea(){this.container.classList.add("highlightArea")}}Je=new WeakMap,Re=new WeakSet,Pd=function(){var Q;(Q=this.downloadManager)==null||Q.openOrDownloadData(this.container,this.content,this.filename)};class S{constructor(me){Le(this,qe);Le(this,rt);Le(this,nt,null);Le(this,et,null);Le(this,it,new Map);let{div:Q,accessibilityManager:pe,annotationCanvasMap:we,l10n:Fe,page:Pe,viewport:De}=me;this.div=Q,Qe(this,nt,pe),Qe(this,et,we),this.l10n=Fe,this.page=Pe,this.viewport=De,this.zIndex=0,this.l10n||(this.l10n=r.NullL10n)}async render(me){const{annotations:Q}=me,pe=this.div;(0,l.setLayerDimensions)(pe,this.viewport);const we=new Map,Fe={data:null,layer:pe,linkService:me.linkService,downloadManager:me.downloadManager,imageResourcesPath:me.imageResourcesPath||"",renderForms:me.renderForms!==!1,svgFactory:new l.DOMSVGFactory,annotationStorage:me.annotationStorage||new d.AnnotationStorage,enableScripting:me.enableScripting===!0,hasJSActions:me.hasJSActions,fieldObjects:me.fieldObjects,parent:this,elements:null};for(const Pe of Q){if(Pe.noHTML)continue;const De=Pe.annotationType===i.AnnotationType.POPUP;if(De){const Ze=we.get(Pe.id);if(!Ze)continue;Fe.elements=Ze}else{const{width:Ze,height:ot}=b(Pe.rect);if(Ze<=0||ot<=0)continue}Fe.data=Pe;const Xe=g.create(Fe);if(!Xe.isRenderable)continue;if(!De&&Pe.popupRef){const Ze=we.get(Pe.popupRef);Ze?Ze.push(Xe):we.set(Pe.popupRef,[Xe])}Xe.annotationEditorType>0&&ie(this,it).set(Xe.data.id,Xe);const je=Xe.render();Pe.hidden&&(je.style.visibility="hidden"),Ue(this,qe,Ly).call(this,je,Pe.id)}Ue(this,rt,Rd).call(this),await this.l10n.translate(pe)}update(me){let{viewport:Q}=me;const pe=this.div;this.viewport=Q,(0,l.setLayerDimensions)(pe,{rotation:Q.rotation}),Ue(this,rt,Rd).call(this),pe.hidden=!1}getEditableAnnotations(){return Array.from(ie(this,it).values())}getEditableAnnotation(me){return ie(this,it).get(me)}}nt=new WeakMap,et=new WeakMap,it=new WeakMap,qe=new WeakSet,Ly=function(me,Q){var we;const pe=me.firstChild||me;pe.id=`${i.AnnotationPrefix}${Q}`,this.div.append(me),(we=ie(this,nt))==null||we.moveElementInDOM(this.div,me,pe,!1)},rt=new WeakSet,Rd=function(){if(!ie(this,et))return;const me=this.div;for(const[Q,pe]of ie(this,et)){const we=me.querySelector(`[data-annotation-id="${Q}"]`);if(!we)continue;const{firstChild:Fe}=we;Fe?Fe.nodeName==="CANVAS"?Fe.replaceWith(pe):Fe.before(pe):we.append(pe)}ie(this,et).clear()},o.AnnotationLayer=S},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0;function s(d){return Math.floor(Math.max(0,Math.min(1,d))*255).toString(16).padStart(2,"0")}function i(d){return Math.max(0,Math.min(255,255*d))}class l{static CMYK_G(e){let[r,p,x,y]=e;return["G",1-Math.min(1,.3*r+.59*x+.11*p+y)]}static G_CMYK(e){let[r]=e;return["CMYK",0,0,0,1-r]}static G_RGB(e){let[r]=e;return["RGB",r,r,r]}static G_rgb(e){let[r]=e;return r=i(r),[r,r,r]}static G_HTML(e){let[r]=e;const p=s(r);return`#${p}${p}${p}`}static RGB_G(e){let[r,p,x]=e;return["G",.3*r+.59*p+.11*x]}static RGB_rgb(e){return e.map(i)}static RGB_HTML(e){return`#${e.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[r,p,x,y]=e;return["RGB",1-Math.min(1,r+y),1-Math.min(1,x+y),1-Math.min(1,p+y)]}static CMYK_rgb(e){let[r,p,x,y]=e;return[i(1-Math.min(1,r+y)),i(1-Math.min(1,x+y)),i(1-Math.min(1,p+y))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK(e){let[r,p,x]=e;const y=1-r,v=1-p,b=1-x,g=Math.min(y,v,b);return["CMYK",y,v,b,g]}}o.ColorConverters=l},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=i;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function i(e,r){switch(e){case"find_match_count":e=`find_match_count[${r.total===1?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${r.limit===1?"one":"other"}]`;break}return s[e]||""}function l(e,r){return r?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(p,x)=>x in r?r[x]:"{{"+x+"}}"):e}const d={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i(e,r);return l(p,r)},async translate(e){}};o.NullL10n=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0,s(89);var i=s(194);class l{static setupStorage(e,r,p,x,y){const v=x.getValue(r,{value:null});switch(p.name){case"textarea":if(v.value!==null&&(e.textContent=v.value),y==="print")break;e.addEventListener("input",b=>{x.setValue(r,{value:b.target.value})});break;case"input":if(p.attributes.type==="radio"||p.attributes.type==="checkbox"){if(v.value===p.attributes.xfaOn?e.setAttribute("checked",!0):v.value===p.attributes.xfaOff&&e.removeAttribute("checked"),y==="print")break;e.addEventListener("change",b=>{x.setValue(r,{value:b.target.checked?b.target.getAttribute("xfaOn"):b.target.getAttribute("xfaOff")})})}else{if(v.value!==null&&e.setAttribute("value",v.value),y==="print")break;e.addEventListener("input",b=>{x.setValue(r,{value:b.target.value})})}break;case"select":if(v.value!==null){e.setAttribute("value",v.value);for(const b of p.children)b.attributes.value===v.value?b.attributes.selected=!0:b.attributes.hasOwnProperty("selected")&&delete b.attributes.selected}e.addEventListener("input",b=>{const g=b.target.options,w=g.selectedIndex===-1?"":g[g.selectedIndex].value;x.setValue(r,{value:w})});break}}static setAttributes(e){let{html:r,element:p,storage:x=null,intent:y,linkService:v}=e;const{attributes:b}=p,g=r instanceof HTMLAnchorElement;b.type==="radio"&&(b.name=`${b.name}-${y}`);for(const[w,f]of Object.entries(b))if(f!=null)switch(w){case"class":f.length&&r.setAttribute(w,f.join(" "));break;case"dataId":break;case"id":r.setAttribute("data-element-id",f);break;case"style":Object.assign(r.style,f);break;case"textContent":r.textContent=f;break;default:(!g||w!=="href"&&w!=="newWindow")&&r.setAttribute(w,f)}g&&v.addLinkAttributes(r,b.href,b.newWindow),x&&b.dataId&&this.setupStorage(r,b.dataId,p,x)}static render(e){var f;const r=e.annotationStorage,p=e.linkService,x=e.xfaHtml,y=e.intent||"display",v=document.createElement(x.name);x.attributes&&this.setAttributes({html:v,element:x,intent:y,linkService:p});const b=[[x,-1,v]],g=e.div;if(g.append(v),e.viewport){const E=`matrix(${e.viewport.transform.join(",")})`;g.style.transform=E}y!=="richText"&&g.setAttribute("class","xfaLayer xfaFont");const w=[];for(;b.length>0;){const[E,A,O]=b.at(-1);if(A+1===E.children.length){b.pop();continue}const T=E.children[++b.at(-1)[1]];if(T===null)continue;const{name:D}=T;if(D==="#text"){const C=document.createTextNode(T.value);w.push(C),O.append(C);continue}const F=(f=T==null?void 0:T.attributes)!=null&&f.xmlns?document.createElementNS(T.attributes.xmlns,D):document.createElement(D);if(O.append(F),T.attributes&&this.setAttributes({html:F,element:T,storage:r,intent:y,linkService:p}),T.children&&T.children.length>0)b.push([T,-1,F]);else if(T.value){const C=document.createTextNode(T.value);i.XfaText.shouldBuildText(D)&&w.push(C),F.append(C)}}for(const E of g.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:w}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}o.XfaLayer=l},(h,o,s)=>{var x,y,v,b,g,w,f,E,A,O,T,D,F,C,B,Ny,I,By,J,$y,N,Uy,Y,Md,V,_y,q,Dd,oe,Hy,R,zy,L,Xy,z,Wy,K,Gy,X,Ma,G,Ld,se,w0,he,A0,ye,Ms,xe,Nd,ce,S0,ve,Vy,Me,Bd,ze,jy,Ve,Ky,ke,$d,Te,k0,ge,Ds;Object.defineProperty(o,"__esModule",{value:!0}),o.InkEditor=void 0,s(89),s(2);var i=s(1),l=s(164),d=s(198),e=s(168),r=s(165);const Be=class extends l.AnnotationEditor{constructor(Re){super({...Re,name:"inkEditor"});Le(this,B);Le(this,I);Le(this,J);Le(this,N);Le(this,Y);Le(this,V);Le(this,q);Le(this,oe);Le(this,R);Le(this,L);Le(this,z);Le(this,K);Le(this,X);Le(this,G);Le(this,se);Le(this,he);Le(this,ye);Le(this,xe);Le(this,ce);Le(this,Ve);Le(this,ke);Le(this,Te);Le(this,ge);Le(this,x,0);Le(this,y,0);Le(this,v,this.canvasPointermove.bind(this));Le(this,b,this.canvasPointerleave.bind(this));Le(this,g,this.canvasPointerup.bind(this));Le(this,w,this.canvasPointerdown.bind(this));Le(this,f,new Path2D);Le(this,E,!1);Le(this,A,!1);Le(this,O,!1);Le(this,T,null);Le(this,D,0);Le(this,F,0);Le(this,C,null);this.color=Re.color||null,this.thickness=Re.thickness||null,this.opacity=Re.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Re){l.AnnotationEditor.initialize(Re,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Re,He){switch(Re){case i.AnnotationEditorParamsType.INK_THICKNESS:Be._defaultThickness=He;break;case i.AnnotationEditorParamsType.INK_COLOR:Be._defaultColor=He;break;case i.AnnotationEditorParamsType.INK_OPACITY:Be._defaultOpacity=He/100;break}}updateParams(Re,He){switch(Re){case i.AnnotationEditorParamsType.INK_THICKNESS:Ue(this,B,Ny).call(this,He);break;case i.AnnotationEditorParamsType.INK_COLOR:Ue(this,I,By).call(this,He);break;case i.AnnotationEditorParamsType.INK_OPACITY:Ue(this,J,$y).call(this,He);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,Be._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,Be._defaultColor||l.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(Be._defaultOpacity*100)]]}get propertiesToUpdate(){var Re;return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Be._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||Be._defaultColor||l.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Re=this.opacity)!=null?Re:Be._defaultOpacity))]]}rebuild(){!this.parent||(super.rebuild(),this.div!==null&&(this.canvas||(Ue(this,se,w0).call(this),Ue(this,he,A0).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ue(this,ye,Ms).call(this)),Ue(this,ge,Ds).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ie(this,T).disconnect(),Qe(this,T,null),super.remove())}setParent(Re){!this.parent&&Re?this._uiManager.removeShouldRescale(this):this.parent&&Re===null&&this._uiManager.addShouldRescale(this),super.setParent(Re)}onScaleChanging(){const[Re,He]=this.parentDimensions,nt=this.width*Re,et=this.height*He;this.setDimensions(nt,et)}enableEditMode(){ie(this,E)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",ie(this,w)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ie(this,w)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ie(this,E)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Qe(this,E,!0),this.div.classList.add("disabled"),Ue(this,ge,Ds).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Re){!this._focusEventsAllowed||(super.focusin(Re),this.enableEditMode())}canvasPointerdown(Re){Re.button!==0||!this.isInEditMode()||ie(this,E)||(this.setInForeground(),Re.preventDefault(),Re.type!=="mouse"&&this.div.focus(),Ue(this,V,_y).call(this,Re.offsetX,Re.offsetY))}canvasPointermove(Re){Re.preventDefault(),Ue(this,q,Dd).call(this,Re.offsetX,Re.offsetY)}canvasPointerup(Re){Re.preventDefault(),Ue(this,G,Ld).call(this,Re)}canvasPointerleave(Re){Ue(this,G,Ld).call(this,Re)}get isResizable(){return!this.isEmpty()&&ie(this,E)}render(){if(this.div)return this.div;let Re,He;this.width&&(Re=this.x,He=this.y),super.render(),l.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(lt=>{var rt;return(rt=this.div)==null?void 0:rt.setAttribute("aria-label",lt)});const[nt,et,it,qe]=Ue(this,N,Uy).call(this);if(this.setAt(nt,et,0,0),this.setDims(it,qe),Ue(this,se,w0).call(this),this.width){const[lt,rt]=this.parentDimensions;this.setAspectRatio(this.width*lt,this.height*rt),this.setAt(Re*lt,He*rt,this.width*lt,this.height*rt),Qe(this,O,!0),Ue(this,ye,Ms).call(this),this.setDims(this.width*lt,this.height*rt),Ue(this,X,Ma).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ue(this,he,A0).call(this),this.div}setDimensions(Re,He){const nt=Math.round(Re),et=Math.round(He);if(ie(this,D)===nt&&ie(this,F)===et)return;Qe(this,D,nt),Qe(this,F,et),this.canvas.style.visibility="hidden";const[it,qe]=this.parentDimensions;this.width=Re/it,this.height=He/qe,this.fixAndSetPosition(),ie(this,E)&&Ue(this,xe,Nd).call(this,Re,He),Ue(this,ye,Ms).call(this),Ue(this,X,Ma).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Re,He,nt){var Fe,Pe,De;if(Re instanceof d.InkAnnotationElement)return null;const et=super.deserialize(Re,He,nt);et.thickness=Re.thickness,et.color=i.Util.makeHexColor(...Re.color),et.opacity=Re.opacity;const[it,qe]=et.pageDimensions,lt=et.width*it,rt=et.height*qe,Oe=et.parentScale,$e=Re.thickness/2;Qe(et,E,!0),Qe(et,D,Math.round(lt)),Qe(et,F,Math.round(rt));const{paths:me,rect:Q,rotation:pe}=Re;for(let{bezier:Xe}of me){Xe=Ue(Fe=Be,ze,jy).call(Fe,Xe,Q,pe);const je=[];et.paths.push(je);let Ze=Oe*(Xe[0]-$e),ot=Oe*(Xe[1]-$e);for(let Ge=2,tt=Xe.length;Ge<tt;Ge+=6){const at=Oe*(Xe[Ge]-$e),st=Oe*(Xe[Ge+1]-$e),ft=Oe*(Xe[Ge+2]-$e),pt=Oe*(Xe[Ge+3]-$e),ct=Oe*(Xe[Ge+4]-$e),yt=Oe*(Xe[Ge+5]-$e);je.push([[Ze,ot],[at,st],[ft,pt],[ct,yt]]),Ze=ct,ot=yt}const Ke=Ue(this,ve,Vy).call(this,je);et.bezierPath2D.push(Ke)}const we=Ue(Pe=et,ke,$d).call(Pe);return Qe(et,y,Math.max(l.AnnotationEditor.MIN_SIZE,we[2]-we[0])),Qe(et,x,Math.max(l.AnnotationEditor.MIN_SIZE,we[3]-we[1])),Ue(De=et,xe,Nd).call(De,lt,rt),et}serialize(){if(this.isEmpty())return null;const Re=this.getRect(0,0),He=l.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:He,thickness:this.thickness,opacity:this.opacity,paths:Ue(this,Ve,Ky).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Re),pageIndex:this.pageIndex,rect:Re,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};let p=Be;x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakMap,T=new WeakMap,D=new WeakMap,F=new WeakMap,C=new WeakMap,B=new WeakSet,Ny=function(Re){const He=this.thickness;this.addCommands({cmd:()=>{this.thickness=Re,Ue(this,ge,Ds).call(this)},undo:()=>{this.thickness=He,Ue(this,ge,Ds).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},I=new WeakSet,By=function(Re){const He=this.color;this.addCommands({cmd:()=>{this.color=Re,Ue(this,X,Ma).call(this)},undo:()=>{this.color=He,Ue(this,X,Ma).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},J=new WeakSet,$y=function(Re){Re/=100;const He=this.opacity;this.addCommands({cmd:()=>{this.opacity=Re,Ue(this,X,Ma).call(this)},undo:()=>{this.opacity=He,Ue(this,X,Ma).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},N=new WeakSet,Uy=function(){const{parentRotation:Re,parentDimensions:[He,nt]}=this;switch(Re){case 90:return[0,nt,nt,He];case 180:return[He,nt,He,nt];case 270:return[He,0,nt,He];default:return[0,0,He,nt]}},Y=new WeakSet,Md=function(){const{ctx:Re,color:He,opacity:nt,thickness:et,parentScale:it,scaleFactor:qe}=this;Re.lineWidth=et*it/qe,Re.lineCap="round",Re.lineJoin="round",Re.miterLimit=10,Re.strokeStyle=`${He}${(0,r.opacityToHex)(nt)}`},V=new WeakSet,_y=function(Re,He){var nt;this.canvas.addEventListener("contextmenu",e.noContextMenu),this.canvas.addEventListener("pointerleave",ie(this,b)),this.canvas.addEventListener("pointermove",ie(this,v)),this.canvas.addEventListener("pointerup",ie(this,g)),this.canvas.removeEventListener("pointerdown",ie(this,w)),this.isEditing=!0,ie(this,O)||(Qe(this,O,!0),Ue(this,ye,Ms).call(this),this.thickness||(this.thickness=Be._defaultThickness),this.color||(this.color=Be._defaultColor||l.AnnotationEditor._defaultLineColor),(nt=this.opacity)!=null||(this.opacity=Be._defaultOpacity)),this.currentPath.push([Re,He]),Qe(this,A,!1),Ue(this,Y,Md).call(this),Qe(this,C,()=>{Ue(this,L,Xy).call(this),ie(this,C)&&window.requestAnimationFrame(ie(this,C))}),window.requestAnimationFrame(ie(this,C))},q=new WeakSet,Dd=function(Re,He){const[nt,et]=this.currentPath.at(-1);if(this.currentPath.length>1&&Re===nt&&He===et)return;const it=this.currentPath;let qe=ie(this,f);if(it.push([Re,He]),Qe(this,A,!0),it.length<=2){qe.moveTo(...it[0]),qe.lineTo(Re,He);return}it.length===3&&(Qe(this,f,qe=new Path2D),qe.moveTo(...it[0])),Ue(this,z,Wy).call(this,qe,...it.at(-3),...it.at(-2),Re,He)},oe=new WeakSet,Hy=function(){if(this.currentPath.length===0)return;const Re=this.currentPath.at(-1);ie(this,f).lineTo(...Re)},R=new WeakSet,zy=function(Re,He){Qe(this,C,null),Re=Math.min(Math.max(Re,0),this.canvas.width),He=Math.min(Math.max(He,0),this.canvas.height),Ue(this,q,Dd).call(this,Re,He),Ue(this,oe,Hy).call(this);let nt;if(this.currentPath.length!==1)nt=Ue(this,K,Gy).call(this);else{const rt=[Re,He];nt=[[rt,rt.slice(),rt.slice(),rt]]}const et=ie(this,f),it=this.currentPath;this.currentPath=[],Qe(this,f,new Path2D);const qe=()=>{this.allRawPaths.push(it),this.paths.push(nt),this.bezierPath2D.push(et),this.rebuild()},lt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ue(this,se,w0).call(this),Ue(this,he,A0).call(this)),Ue(this,ge,Ds).call(this))};this.addCommands({cmd:qe,undo:lt,mustExec:!0})},L=new WeakSet,Xy=function(){if(!ie(this,A))return;Qe(this,A,!1);const Re=Math.ceil(this.thickness*this.parentScale),He=this.currentPath.slice(-3),nt=He.map(qe=>qe[0]),et=He.map(qe=>qe[1]);Math.min(...nt)-Re,Math.max(...nt)+Re,Math.min(...et)-Re,Math.max(...et)+Re;const{ctx:it}=this;it.save(),it.clearRect(0,0,this.canvas.width,this.canvas.height);for(const qe of this.bezierPath2D)it.stroke(qe);it.stroke(ie(this,f)),it.restore()},z=new WeakSet,Wy=function(Re,He,nt,et,it,qe,lt){const rt=(He+et)/2,Oe=(nt+it)/2,$e=(et+qe)/2,me=(it+lt)/2;Re.bezierCurveTo(rt+2*(et-rt)/3,Oe+2*(it-Oe)/3,$e+2*(et-$e)/3,me+2*(it-me)/3,$e,me)},K=new WeakSet,Gy=function(){const Re=this.currentPath;if(Re.length<=2)return[[Re[0],Re[0],Re.at(-1),Re.at(-1)]];const He=[];let nt,[et,it]=Re[0];for(nt=1;nt<Re.length-2;nt++){const[Q,pe]=Re[nt],[we,Fe]=Re[nt+1],Pe=(Q+we)/2,De=(pe+Fe)/2,Xe=[et+2*(Q-et)/3,it+2*(pe-it)/3],je=[Pe+2*(Q-Pe)/3,De+2*(pe-De)/3];He.push([[et,it],Xe,je,[Pe,De]]),[et,it]=[Pe,De]}const[qe,lt]=Re[nt],[rt,Oe]=Re[nt+1],$e=[et+2*(qe-et)/3,it+2*(lt-it)/3],me=[rt+2*(qe-rt)/3,Oe+2*(lt-Oe)/3];return He.push([[et,it],$e,me,[rt,Oe]]),He},X=new WeakSet,Ma=function(){if(this.isEmpty()){Ue(this,ce,S0).call(this);return}Ue(this,Y,Md).call(this);const{canvas:Re,ctx:He}=this;He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,Re.width,Re.height),Ue(this,ce,S0).call(this);for(const nt of this.bezierPath2D)He.stroke(nt)},G=new WeakSet,Ld=function(Re){this.canvas.removeEventListener("pointerleave",ie(this,b)),this.canvas.removeEventListener("pointermove",ie(this,v)),this.canvas.removeEventListener("pointerup",ie(this,g)),this.canvas.addEventListener("pointerdown",ie(this,w)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",e.noContextMenu)},10),Ue(this,R,zy).call(this,Re.offsetX,Re.offsetY),this.addToAnnotationStorage(),this.setInBackground()},se=new WeakSet,w0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",l.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Re=>{var He;return(He=this.canvas)==null?void 0:He.setAttribute("aria-label",Re)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},he=new WeakSet,A0=function(){Qe(this,T,new ResizeObserver(Re=>{const He=Re[0].contentRect;He.width&&He.height&&this.setDimensions(He.width,He.height)})),ie(this,T).observe(this.div)},ye=new WeakSet,Ms=function(){if(!ie(this,O))return;const[Re,He]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Re),this.canvas.height=Math.ceil(this.height*He),Ue(this,ce,S0).call(this)},xe=new WeakSet,Nd=function(Re,He){const nt=Ue(this,Te,k0).call(this),et=(Re-nt)/ie(this,y),it=(He-nt)/ie(this,x);this.scaleFactor=Math.min(et,it)},ce=new WeakSet,S0=function(){const Re=Ue(this,Te,k0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Re,this.translationY*this.scaleFactor+Re)},ve=new WeakSet,Vy=function(Re){const He=new Path2D;for(let nt=0,et=Re.length;nt<et;nt++){const[it,qe,lt,rt]=Re[nt];nt===0&&He.moveTo(...it),He.bezierCurveTo(qe[0],qe[1],lt[0],lt[1],rt[0],rt[1])}return He},Me=new WeakSet,Bd=function(Re,He,nt){const[et,it,qe,lt]=He;switch(nt){case 0:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2)Re[rt]+=et,Re[rt+1]=lt-Re[rt+1];break;case 90:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2){const $e=Re[rt];Re[rt]=Re[rt+1]+et,Re[rt+1]=$e+it}break;case 180:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2)Re[rt]=qe-Re[rt],Re[rt+1]+=it;break;case 270:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2){const $e=Re[rt];Re[rt]=qe-Re[rt+1],Re[rt+1]=lt-$e}break;default:throw new Error("Invalid rotation")}return Re},ze=new WeakSet,jy=function(Re,He,nt){const[et,it,qe,lt]=He;switch(nt){case 0:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2)Re[rt]-=et,Re[rt+1]=lt-Re[rt+1];break;case 90:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2){const $e=Re[rt];Re[rt]=Re[rt+1]-it,Re[rt+1]=$e-et}break;case 180:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2)Re[rt]=qe-Re[rt],Re[rt+1]-=it;break;case 270:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2){const $e=Re[rt];Re[rt]=lt-Re[rt+1],Re[rt+1]=qe-$e}break;default:throw new Error("Invalid rotation")}return Re},Ve=new WeakSet,Ky=function(Re,He,nt,et){var Oe,$e;const it=[],qe=this.thickness/2,lt=Re*He+qe,rt=Re*nt+qe;for(const me of this.paths){const Q=[],pe=[];for(let we=0,Fe=me.length;we<Fe;we++){const[Pe,De,Xe,je]=me[we],Ze=Re*Pe[0]+lt,ot=Re*Pe[1]+rt,Ke=Re*De[0]+lt,Ge=Re*De[1]+rt,tt=Re*Xe[0]+lt,at=Re*Xe[1]+rt,st=Re*je[0]+lt,ft=Re*je[1]+rt;we===0&&(Q.push(Ze,ot),pe.push(Ze,ot)),Q.push(Ke,Ge,tt,at,st,ft),pe.push(Ke,Ge),we===Fe-1&&pe.push(st,ft)}it.push({bezier:Ue(Oe=Be,Me,Bd).call(Oe,Q,et,this.rotation),points:Ue($e=Be,Me,Bd).call($e,pe,et,this.rotation)})}return it},ke=new WeakSet,$d=function(){let Re=1/0,He=-1/0,nt=1/0,et=-1/0;for(const it of this.paths)for(const[qe,lt,rt,Oe]of it){const $e=i.Util.bezierBoundingBox(...qe,...lt,...rt,...Oe);Re=Math.min(Re,$e[0]),nt=Math.min(nt,$e[1]),He=Math.max(He,$e[2]),et=Math.max(et,$e[3])}return[Re,nt,He,et]},Te=new WeakSet,k0=function(){return ie(this,E)?Math.ceil(this.thickness*this.parentScale):0},ge=new WeakSet,Ds=function(){let Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!ie(this,E)){Ue(this,X,Ma).call(this);return}const He=Ue(this,ke,$d).call(this),nt=Ue(this,Te,k0).call(this);Qe(this,y,Math.max(l.AnnotationEditor.MIN_SIZE,He[2]-He[0])),Qe(this,x,Math.max(l.AnnotationEditor.MIN_SIZE,He[3]-He[1]));const et=Math.ceil(nt+ie(this,y)*this.scaleFactor),it=Math.ceil(nt+ie(this,x)*this.scaleFactor),[qe,lt]=this.parentDimensions;this.width=et/qe,this.height=it/lt,this.setAspectRatio(et,it);const rt=this.translationX,Oe=this.translationY;this.translationX=-He[0],this.translationY=-He[1],Ue(this,ye,Ms).call(this),Ue(this,X,Ma).call(this),Qe(this,D,et),Qe(this,F,it),this.setDims(et,it);const $e=Re?nt/this.scaleFactor/2:0;this.translate(rt-this.translationX-$e,Oe-this.translationY-$e)},Le(p,ve),Le(p,Me),Le(p,ze),Ct(p,"_defaultColor",null),Ct(p,"_defaultOpacity",1),Ct(p,"_defaultThickness",1),Ct(p,"_type","ink"),o.InkEditor=p},(h,o,s)=>{var p,x,y,v,b,g,w,f,E,A,O,tc,D,nc,C,E0,M,Ud,W,Yy,H,Jy,U,_d,_,C0,Z,Zy;Object.defineProperty(o,"__esModule",{value:!0}),o.StampEditor=void 0,s(149),s(152);var i=s(1),l=s(164),d=s(168),e=s(198);const re=class extends l.AnnotationEditor{constructor(R){super({...R,name:"stampEditor"});Le(this,O);Le(this,D);Le(this,C);Le(this,M);Le(this,W);Le(this,H);Le(this,U);Le(this,_);Le(this,Z);Le(this,p,null);Le(this,x,null);Le(this,y,null);Le(this,v,null);Le(this,b,null);Le(this,g,null);Le(this,w,null);Le(this,f,null);Le(this,E,!1);Le(this,A,!1);Qe(this,v,R.bitmapUrl),Qe(this,b,R.bitmapFile)}static initialize(R){l.AnnotationEditor.initialize(R)}static get supportedTypes(){const R=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",R.map(S=>`image/${S}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(R){return this.supportedTypes.includes(R)}static paste(R,S){S.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:R.getAsFile()})}remove(){var R,S;ie(this,x)&&(Qe(this,p,null),this._uiManager.imageManager.deleteId(ie(this,x)),(R=ie(this,g))==null||R.remove(),Qe(this,g,null),(S=ie(this,w))==null||S.disconnect(),Qe(this,w,null)),super.remove()}rebuild(){if(!this.parent){ie(this,x)&&Ue(this,C,E0).call(this);return}super.rebuild(),this.div!==null&&(ie(this,x)&&Ue(this,C,E0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(ie(this,y)||ie(this,p)||ie(this,v)||ie(this,b))}get isResizable(){return!0}render(){if(this.div)return this.div;let R,S;if(this.width&&(R=this.x,S=this.y),super.render(),this.div.hidden=!0,ie(this,p)?Ue(this,M,Ud).call(this):Ue(this,C,E0).call(this),this.width){const[L,k]=this.parentDimensions;this.setAt(R*L,S*k,this.width*L,this.height*k)}return this.div}static deserialize(R,S,L){if(R instanceof e.StampAnnotationElement)return null;const k=super.deserialize(R,S,L),{rect:z,bitmapUrl:P,bitmapId:K,isSvg:te,accessibilityData:X}=R;K&&L.imageManager.isValidId(K)?Qe(k,x,K):Qe(k,v,P),Qe(k,E,te);const[ee,G]=k.pageDimensions;return k.width=(z[2]-z[0])/ee,k.height=(z[3]-z[1])/G,X&&(k.altTextData=X),k}serialize(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const L={annotationType:i.AnnotationEditorType.STAMP,bitmapId:ie(this,x),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:ie(this,E),structTreeParentId:this._structTreeParentId};if(R)return L.bitmapUrl=Ue(this,_,C0).call(this,!0),L.accessibilityData=this.altTextData,L;const{decorative:k,altText:z}=this.altTextData;if(!k&&z&&(L.accessibilityData={type:"Figure",alt:z}),S===null)return L;S.stamps||(S.stamps=new Map);const P=ie(this,E)?(L.rect[2]-L.rect[0])*(L.rect[3]-L.rect[1]):null;if(!S.stamps.has(ie(this,x)))S.stamps.set(ie(this,x),{area:P,serialized:L}),L.bitmap=Ue(this,_,C0).call(this,!1);else if(ie(this,E)){const K=S.stamps.get(ie(this,x));P>K.area&&(K.area=P,K.serialized.bitmap.close(),K.serialized.bitmap=Ue(this,_,C0).call(this,!1))}return L}};let r=re;p=new WeakMap,x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakSet,tc=function(R){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!R){this.remove();return}Qe(this,p,R.bitmap),S||(Qe(this,x,R.id),Qe(this,E,R.isSvg)),Ue(this,M,Ud).call(this)},D=new WeakSet,nc=function(){Qe(this,y,null),this._uiManager.enableWaiting(!1),ie(this,g)&&this.div.focus()},C=new WeakSet,E0=function(){if(ie(this,x)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(ie(this,x)).then(S=>Ue(this,O,tc).call(this,S,!0)).finally(()=>Ue(this,D,nc).call(this));return}if(ie(this,v)){const S=ie(this,v);Qe(this,v,null),this._uiManager.enableWaiting(!0),Qe(this,y,this._uiManager.imageManager.getFromUrl(S).then(L=>Ue(this,O,tc).call(this,L)).finally(()=>Ue(this,D,nc).call(this)));return}if(ie(this,b)){const S=ie(this,b);Qe(this,b,null),this._uiManager.enableWaiting(!0),Qe(this,y,this._uiManager.imageManager.getFromFile(S).then(L=>Ue(this,O,tc).call(this,L)).finally(()=>Ue(this,D,nc).call(this)));return}const R=document.createElement("input");R.type="file",R.accept=re.supportedTypesStr,Qe(this,y,new Promise(S=>{R.addEventListener("change",async()=>{if(!R.files||R.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const L=await this._uiManager.imageManager.getFromFile(R.files[0]);Ue(this,O,tc).call(this,L)}S()}),R.addEventListener("cancel",()=>{this.remove(),S()})}).finally(()=>Ue(this,D,nc).call(this))),R.click()},M=new WeakSet,Ud=function(){const{div:R}=this;let{width:S,height:L}=ie(this,p);const[k,z]=this.pageDimensions,P=.75;if(this.width)S=this.width*k,L=this.height*z;else if(S>P*k||L>P*z){const ee=Math.min(P*k/S,P*z/L);S*=ee,L*=ee}const[K,te]=this.parentDimensions;this.setDims(S*K/k,L*te/z),this._uiManager.enableWaiting(!1);const X=Qe(this,g,document.createElement("canvas"));R.append(X),R.hidden=!1,Ue(this,U,_d).call(this,S,L),Ue(this,Z,Zy).call(this),ie(this,A)||(this.parent.addUndoableEditor(this),Qe(this,A,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},W=new WeakSet,Yy=function(R,S){var P;const[L,k]=this.parentDimensions;this.width=R/L,this.height=S/k,this.setDims(R,S),(P=this._initialOptions)!=null&&P.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,ie(this,f)!==null&&clearTimeout(ie(this,f)),Qe(this,f,setTimeout(()=>{Qe(this,f,null),Ue(this,U,_d).call(this,R,S)},200))},H=new WeakSet,Jy=function(R,S){const{width:L,height:k}=ie(this,p);let z=L,P=k,K=ie(this,p);for(;z>2*R||P>2*S;){const te=z,X=P;z>2*R&&(z=z>=16384?Math.floor(z/2)-1:Math.ceil(z/2)),P>2*S&&(P=P>=16384?Math.floor(P/2)-1:Math.ceil(P/2));const ee=new OffscreenCanvas(z,P);ee.getContext("2d").drawImage(K,0,0,te,X,0,0,z,P),K=ee.transferToImageBitmap()}return K},U=new WeakSet,_d=function(R,S){R=Math.ceil(R),S=Math.ceil(S);const L=ie(this,g);if(!L||L.width===R&&L.height===S)return;L.width=R,L.height=S;const k=ie(this,E)?ie(this,p):Ue(this,H,Jy).call(this,R,S),z=L.getContext("2d");z.filter=this._uiManager.hcmFilter,z.drawImage(k,0,0,k.width,k.height,0,0,R,S)},_=new WeakSet,C0=function(R){if(R){if(ie(this,E)){const k=this._uiManager.imageManager.getSvgUrl(ie(this,x));if(k)return k}const S=document.createElement("canvas");return{width:S.width,height:S.height}=ie(this,p),S.getContext("2d").drawImage(ie(this,p),0,0),S.toDataURL()}if(ie(this,E)){const[S,L]=this.pageDimensions,k=Math.round(this.width*S*d.PixelsPerInch.PDF_TO_CSS_UNITS),z=Math.round(this.height*L*d.PixelsPerInch.PDF_TO_CSS_UNITS),P=new OffscreenCanvas(k,z);return P.getContext("2d").drawImage(ie(this,p),0,0,ie(this,p).width,ie(this,p).height,0,0,k,z),P.transferToImageBitmap()}return structuredClone(ie(this,p))},Z=new WeakSet,Zy=function(){Qe(this,w,new ResizeObserver(R=>{const S=R[0].contentRect;S.width&&S.height&&Ue(this,W,Yy).call(this,S.width,S.height)})),ie(this,w).observe(this.div)},Ct(r,"_type","stamp"),o.StampEditor=r}],c={};function u(h){var o=c[h];if(o!==void 0)return o.exports;var s=c[h]={exports:{}};return a[h].call(s.exports,s,s.exports,u),s.exports}var m={};return(()=>{var h=m;Object.defineProperty(h,"__esModule",{value:!0}),Object.defineProperty(h,"AbortException",{enumerable:!0,get:function(){return o.AbortException}}),Object.defineProperty(h,"AnnotationEditorLayer",{enumerable:!0,get:function(){return d.AnnotationEditorLayer}}),Object.defineProperty(h,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return o.AnnotationEditorParamsType}}),Object.defineProperty(h,"AnnotationEditorType",{enumerable:!0,get:function(){return o.AnnotationEditorType}}),Object.defineProperty(h,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return e.AnnotationEditorUIManager}}),Object.defineProperty(h,"AnnotationLayer",{enumerable:!0,get:function(){return r.AnnotationLayer}}),Object.defineProperty(h,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(h,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(h,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(h,"FeatureTest",{enumerable:!0,get:function(){return o.FeatureTest}}),Object.defineProperty(h,"GlobalWorkerOptions",{enumerable:!0,get:function(){return p.GlobalWorkerOptions}}),Object.defineProperty(h,"ImageKind",{enumerable:!0,get:function(){return o.ImageKind}}),Object.defineProperty(h,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(h,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(h,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(h,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(h,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(h,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(h,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(h,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(h,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(h,"PromiseCapability",{enumerable:!0,get:function(){return o.PromiseCapability}}),Object.defineProperty(h,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(h,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(h,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(h,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(h,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(h,"XfaLayer",{enumerable:!0,get:function(){return x.XfaLayer}}),Object.defineProperty(h,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(h,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(h,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(h,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(h,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(h,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(h,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(h,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(h,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(h,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(h,"normalizeUnicode",{enumerable:!0,get:function(){return o.normalizeUnicode}}),Object.defineProperty(h,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(h,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(h,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(h,"updateTextLayer",{enumerable:!0,get:function(){return l.updateTextLayer}}),Object.defineProperty(h,"version",{enumerable:!0,get:function(){return s.version}});var o=u(1),s=u(124),i=u(168),l=u(195),d=u(196),e=u(165),r=u(198),p=u(176),x=u(201)})(),m})())})(xy);var K4={},Qy={exports:{}};(function(t,n){(function(c,u){t.exports=c.pdfjsWorker=u()})(globalThis,()=>(()=>{var a=[,(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WorkerTask=o.WorkerMessageHandler=void 0,s(2),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(140),s(144);var i=s(145),l=s(150),d=s(151),e=s(153),r=s(157),p=s(219),x=s(224),y=s(258),v=s(259),b=s(223);class g{constructor(A){this.name=A,this.terminated=!1,this._capability=new i.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}o.WorkerTask=g;class w{static setup(A,O){let T=!1;A.on("test",function(D){T||(T=!0,A.send("test",D instanceof Uint8Array))}),A.on("configure",function(D){(0,i.setVerbosityLevel)(D.verbosity)}),A.on("GetDocRequest",function(D){return w.createDocumentHandler(D,O)})}static createDocumentHandler(A,O){let T,D=!1,F=null;const C=new Set,B=(0,i.getVerbosityLevel)(),{docId:M,apiVersion:I}=A,W="3.11.174";if(I!==W)throw new Error(`The API version "${I}" does not match the Worker version "${W}".`);const J=[];for(const re in[])J.push(re);if(J.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+J.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const H=M+"_worker";let N=new y.MessageHandler(H,M,O);function U(){if(D)throw new Error("Worker was terminated")}function Y(re){C.add(re)}function _(re){re.finish(),C.delete(re)}async function V(re){await T.ensureDoc("checkHeader"),await T.ensureDoc("parseStartXRef"),await T.ensureDoc("parse",[re]),await T.ensureDoc("checkFirstPage",[re]),await T.ensureDoc("checkLastPage",[re]);const oe=await T.ensureDoc("isPureXfa");if(oe){const L=new g("loadXfaFonts");Y(L),await Promise.all([T.loadXfaFonts(N,L).catch(k=>{}).then(()=>_(L)),T.loadXfaImages()])}const[ae,R]=await Promise.all([T.ensureDoc("numPages"),T.ensureDoc("fingerprints")]),S=oe?await T.ensureDoc("htmlForXfa"):null;return{numPages:ae,fingerprints:R,htmlForXfa:S}}function Z(re){let{data:oe,password:ae,disableAutoFetch:R,rangeChunkSize:S,length:L,docBaseUrl:k,enableXfa:z,evaluatorOptions:P}=re;const K={source:null,disableAutoFetch:R,docBaseUrl:k,docId:M,enableXfa:z,evaluatorOptions:P,handler:N,length:L,password:ae,rangeChunkSize:S},te=new i.PromiseCapability;let X;if(oe){try{K.source=oe,X=new e.LocalPdfManager(K),te.resolve(X)}catch(he){te.reject(he)}return te.promise}let ee,G=[];try{ee=new v.PDFWorkerStream(N)}catch(he){return te.reject(he),te.promise}const ne=ee.getFullReader();ne.headersReady.then(function(){if(!!ne.isRangeSupported){K.source=ee,K.length=ne.contentLength,K.disableAutoFetch||(K.disableAutoFetch=ne.isStreamingSupported),X=new e.NetworkPdfManager(K);for(const he of G)X.sendProgressiveData(he);G=[],te.resolve(X),F=null}}).catch(function(he){te.reject(he),F=null});let se=0;const le=function(){const he=(0,l.arrayBuffersToBytes)(G);L&&he.length!==L&&(0,i.warn)("reported HTTP length is different from actual");try{K.source=he,X=new e.LocalPdfManager(K),te.resolve(X)}catch(be){te.reject(be)}G=[]};return new Promise(function(he,be){const ye=function(de){let{value:xe,done:fe}=de;try{if(U(),fe){X||le(),F=null;return}se+=xe.byteLength,ne.isStreamingSupported||N.send("DocProgress",{loaded:se,total:Math.max(se,ne.contentLength||0)}),X?X.sendProgressiveData(xe):G.push(xe),ne.read().then(ye,be)}catch(ce){be(ce)}};ne.read().then(ye,be)}).catch(function(he){te.reject(he),F=null}),F=function(he){ee.cancelAllRequests(he)},te.promise}function q(re){function oe(S){U(),N.send("GetDoc",{pdfInfo:S})}function ae(S){if(U(),S instanceof i.PasswordException){const L=new g(`PasswordException: response ${S.code}`);Y(L),N.sendWithPromise("PasswordRequest",S).then(function(k){let{password:z}=k;_(L),T.updatePassword(z),R()}).catch(function(){_(L),N.send("DocException",S)})}else S instanceof i.InvalidPDFException||S instanceof i.MissingPDFException||S instanceof i.UnexpectedResponseException||S instanceof i.UnknownErrorException?N.send("DocException",S):N.send("DocException",new i.UnknownErrorException(S.message,S.toString()))}function R(){U(),V(!1).then(oe,function(S){if(U(),!(S instanceof l.XRefParseException)){ae(S);return}T.requestLoadedStream().then(function(){U(),V(!0).then(oe,ae)})})}U(),Z(re).then(function(S){if(D)throw S.terminate(new i.AbortException("Worker was terminated.")),new Error("Worker was terminated");T=S,T.requestLoadedStream(!0).then(L=>{N.send("DataLoaded",{length:L.bytes.byteLength})})}).then(R,ae)}return N.on("GetPage",function(re){return T.getPage(re.pageIndex).then(function(oe){return Promise.all([T.ensure(oe,"rotate"),T.ensure(oe,"ref"),T.ensure(oe,"userUnit"),T.ensure(oe,"view")]).then(function(ae){let[R,S,L,k]=ae;return{rotate:R,ref:S,userUnit:L,view:k}})})}),N.on("GetPageIndex",function(re){const oe=d.Ref.get(re.num,re.gen);return T.ensureCatalog("getPageIndex",[oe])}),N.on("GetDestinations",function(re){return T.ensureCatalog("destinations")}),N.on("GetDestination",function(re){return T.ensureCatalog("getDestination",[re.id])}),N.on("GetPageLabels",function(re){return T.ensureCatalog("pageLabels")}),N.on("GetPageLayout",function(re){return T.ensureCatalog("pageLayout")}),N.on("GetPageMode",function(re){return T.ensureCatalog("pageMode")}),N.on("GetViewerPreferences",function(re){return T.ensureCatalog("viewerPreferences")}),N.on("GetOpenAction",function(re){return T.ensureCatalog("openAction")}),N.on("GetAttachments",function(re){return T.ensureCatalog("attachments")}),N.on("GetDocJSActions",function(re){return T.ensureCatalog("jsActions")}),N.on("GetPageJSActions",function(re){let{pageIndex:oe}=re;return T.getPage(oe).then(function(ae){return T.ensure(ae,"jsActions")})}),N.on("GetOutline",function(re){return T.ensureCatalog("documentOutline")}),N.on("GetOptionalContentConfig",function(re){return T.ensureCatalog("optionalContentConfig")}),N.on("GetPermissions",function(re){return T.ensureCatalog("permissions")}),N.on("GetMetadata",function(re){return Promise.all([T.ensureDoc("documentInfo"),T.ensureCatalog("metadata")])}),N.on("GetMarkInfo",function(re){return T.ensureCatalog("markInfo")}),N.on("GetData",function(re){return T.requestLoadedStream().then(function(oe){return oe.bytes})}),N.on("GetAnnotations",function(re){let{pageIndex:oe,intent:ae}=re;return T.getPage(oe).then(function(R){const S=new g(`GetAnnotations: page ${oe}`);return Y(S),R.getAnnotationsData(N,S,ae).then(L=>(_(S),L),L=>{throw _(S),L})})}),N.on("GetFieldObjects",function(re){return T.ensureDoc("fieldObjects")}),N.on("HasJSActions",function(re){return T.ensureDoc("hasJSActions")}),N.on("GetCalculationOrderIds",function(re){return T.ensureDoc("calculationOrderIds")}),N.on("SaveDocument",async function(re){var ve;let{isPureXfa:oe,numPages:ae,annotationStorage:R,filename:S}=re;const L=[T.requestLoadedStream(),T.ensureCatalog("acroForm"),T.ensureCatalog("acroFormRef"),T.ensureDoc("startXRef"),T.ensureDoc("xref"),T.ensureDoc("linearization"),T.ensureCatalog("structTreeRoot")],k=[],z=oe?null:(0,l.getNewAnnotationsMap)(R),[P,K,te,X,ee,G,ne]=await Promise.all(L),se=ee.trailer.getRaw("Root")||null;let le;if(z){ne?await ne.canUpdateStructTree({pdfManager:T,newAnnotationsByPage:z})&&(le=ne):await b.StructTreeRoot.canCreateStructureTree({catalogRef:se,pdfManager:T,newAnnotationsByPage:z})&&(le=null);const Ee=r.AnnotationFactory.generateImages(R.values(),ee,T.evaluatorOptions.isOffscreenCanvasSupported),Me=le===void 0?k:[];for(const[_e,ze]of z)Me.push(T.getPage(_e).then(We=>{const Ve=new g(`Save (editor): page ${_e}`);return We.saveNewAnnotations(N,Ve,ze,Ee).finally(function(){_(Ve)})}));le===null?k.push(Promise.all(Me).then(async _e=>(await b.StructTreeRoot.createStructureTree({newAnnotationsByPage:z,xref:ee,catalogRef:se,pdfManager:T,newRefs:_e}),_e))):le&&k.push(Promise.all(Me).then(async _e=>(await le.updateStructureTree({newAnnotationsByPage:z,pdfManager:T,newRefs:_e}),_e)))}if(oe)k.push(T.serializeXfaData(R));else for(let Ee=0;Ee<ae;Ee++)k.push(T.getPage(Ee).then(function(Me){const _e=new g(`Save: page ${Ee}`);return Me.save(N,_e,R).finally(function(){_(_e)})}));const he=await Promise.all(k);let be=[],ye=null;if(oe){if(ye=he[0],!ye)return P.bytes}else if(be=he.flat(2),be.length===0)return P.bytes;const de=te&&K instanceof d.Dict&&be.some(Ee=>Ee.needAppearances),xe=K instanceof d.Dict&&K.get("XFA")||null;let fe=null,ce=!1;if(Array.isArray(xe)){for(let Ee=0,Me=xe.length;Ee<Me;Ee+=2)xe[Ee]==="datasets"&&(fe=xe[Ee+1],ce=!0);fe===null&&(fe=ee.getNewTemporaryRef())}else xe&&(0,i.warn)("Unsupported XFA type.");let ue=Object.create(null);if(ee.trailer){const Ee=Object.create(null),Me=ee.trailer.get("Info")||null;Me instanceof d.Dict&&Me.forEach((_e,ze)=>{typeof ze=="string"&&(Ee[_e]=(0,i.stringToPDFString)(ze))}),ue={rootRef:se,encryptRef:ee.trailer.getRaw("Encrypt")||null,newRef:ee.getNewTemporaryRef(),infoRef:ee.trailer.getRaw("Info")||null,info:Ee,fileIds:ee.trailer.get("ID")||null,startXRef:G?X:(ve=ee.lastXRefStreamPos)!=null?ve:X,filename:S}}return(0,x.incrementalUpdate)({originalData:P.bytes,xrefInfo:ue,newRefs:be,xref:ee,hasXfa:!!xe,xfaDatasetsRef:fe,hasXfaDatasetsEntry:ce,needAppearances:de,acroFormRef:te,acroForm:K,xfaData:ye}).finally(()=>{ee.resetNewTemporaryRef()})}),N.on("GetOperatorList",function(re,oe){const ae=re.pageIndex;T.getPage(ae).then(function(R){const S=new g(`GetOperatorList: page ${ae}`);Y(S);const L=B>=i.VerbosityLevel.INFOS?Date.now():0;R.getOperatorList({handler:N,sink:oe,task:S,intent:re.intent,cacheKey:re.cacheKey,annotationStorage:re.annotationStorage}).then(function(k){_(S),L&&(0,i.info)(`page=${ae+1} - getOperatorList: time=${Date.now()-L}ms, len=${k.length}`),oe.close()},function(k){_(S),!S.terminated&&oe.error(k)})})}),N.on("GetTextContent",function(re,oe){const{pageIndex:ae,includeMarkedContent:R,disableNormalization:S}=re;T.getPage(ae).then(function(L){const k=new g("GetTextContent: page "+ae);Y(k);const z=B>=i.VerbosityLevel.INFOS?Date.now():0;L.extractTextContent({handler:N,task:k,sink:oe,includeMarkedContent:R,disableNormalization:S}).then(function(){_(k),z&&(0,i.info)(`page=${ae+1} - getTextContent: time=${Date.now()-z}ms`),oe.close()},function(P){_(k),!k.terminated&&oe.error(P)})})}),N.on("GetStructTree",function(re){return T.getPage(re.pageIndex).then(function(oe){return T.ensure(oe,"getStructTree")})}),N.on("FontFallback",function(re){return T.fontFallback(re.id,N)}),N.on("Cleanup",function(re){return T.cleanup(!0)}),N.on("Terminate",function(re){D=!0;const oe=[];if(T){T.terminate(new i.AbortException("Worker was terminated."));const ae=T.cleanup();oe.push(ae),T=null}else(0,p.clearGlobalCaches)();F&&F(new i.AbortException("Worker was terminated."));for(const ae of C)oe.push(ae.finished),ae.terminate();return Promise.all(oe).then(function(){N.destroy(),N=null})}),N.on("Ready",function(re){q(A),A=null}),H}static initializeFromPort(A){const O=new y.MessageHandler("worker","main",A);w.setup(O,A),O.send("ready",null)}}o.WorkerMessageHandler=w;function f(E){return typeof E.postMessage=="function"&&"onmessage"in E}typeof window>"u"&&!i.isNodeJS&&typeof self<"u"&&f(self)&&w.initializeFromPort(self)},(h,o,s)=>{var i=s(3),l=s(4),d=s(69),e=s(70),r="WebAssembly",p=l[r],x=Error("e",{cause:7}).cause!==7,y=function(b,g){var w={};w[b]=e(b,g,x),i({global:!0,constructor:!0,arity:1,forced:x},w)},v=function(b,g){if(p&&p[b]){var w={};w[b]=e(r+"."+b,g,x),i({target:r,stat:!0,constructor:!0,arity:1,forced:x},w)}};y("Error",function(b){return function(w){return d(b,this,arguments)}}),y("EvalError",function(b){return function(w){return d(b,this,arguments)}}),y("RangeError",function(b){return function(w){return d(b,this,arguments)}}),y("ReferenceError",function(b){return function(w){return d(b,this,arguments)}}),y("SyntaxError",function(b){return function(w){return d(b,this,arguments)}}),y("TypeError",function(b){return function(w){return d(b,this,arguments)}}),y("URIError",function(b){return function(w){return d(b,this,arguments)}}),v("CompileError",function(b){return function(w){return d(b,this,arguments)}}),v("LinkError",function(b){return function(w){return d(b,this,arguments)}}),v("RuntimeError",function(b){return function(w){return d(b,this,arguments)}})},(h,o,s)=>{var i=s(4),l=s(5).f,d=s(44),e=s(48),r=s(38),p=s(56),x=s(68);h.exports=function(y,v){var b=y.target,g=y.global,w=y.stat,f,E,A,O,T,D;if(g?E=i:w?E=i[b]||r(b,{}):E=(i[b]||{}).prototype,E)for(A in v){if(T=v[A],y.dontCallGetSet?(D=l(E,A),O=D&&D.value):O=E[A],f=x(g?A:b+(w?".":"#")+A,y.forced),!f&&O!==void 0){if(typeof T==typeof O)continue;p(T,O)}(y.sham||O&&O.sham)&&d(T,"sham",!0),e(E,A,T,y)}}},function(h){var o=function(s){return s&&s.Math===Math&&s};h.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof di=="object"&&di)||function(){return this}()||this||Function("return this")()},(h,o,s)=>{var i=s(6),l=s(8),d=s(10),e=s(11),r=s(12),p=s(18),x=s(39),y=s(42),v=Object.getOwnPropertyDescriptor;o.f=i?v:function(g,w){if(g=r(g),w=p(w),y)try{return v(g,w)}catch{}if(x(g,w))return e(!l(d.f,g,w),g[w])}},(h,o,s)=>{var i=s(7);h.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},h=>{h.exports=function(o){try{return!!o()}catch{return!0}}},(h,o,s)=>{var i=s(9),l=Function.prototype.call;h.exports=i?l.bind(l):function(){return l.apply(l,arguments)}},(h,o,s)=>{var i=s(7);h.exports=!i(function(){var l=function(){}.bind();return typeof l!="function"||l.hasOwnProperty("prototype")})},(h,o)=>{var s={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,l=i&&!s.call({1:2},1);o.f=l?function(e){var r=i(this,e);return!!r&&r.enumerable}:s},h=>{h.exports=function(o,s){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:s}}},(h,o,s)=>{var i=s(13),l=s(16);h.exports=function(d){return i(l(d))}},(h,o,s)=>{var i=s(14),l=s(7),d=s(15),e=Object,r=i("".split);h.exports=l(function(){return!e("z").propertyIsEnumerable(0)})?function(p){return d(p)==="String"?r(p,""):e(p)}:e},(h,o,s)=>{var i=s(9),l=Function.prototype,d=l.call,e=i&&l.bind.bind(d,d);h.exports=i?e:function(r){return function(){return d.apply(r,arguments)}}},(h,o,s)=>{var i=s(14),l=i({}.toString),d=i("".slice);h.exports=function(e){return d(l(e),8,-1)}},(h,o,s)=>{var i=s(17),l=TypeError;h.exports=function(d){if(i(d))throw l("Can't call method on "+d);return d}},h=>{h.exports=function(o){return o==null}},(h,o,s)=>{var i=s(19),l=s(23);h.exports=function(d){var e=i(d,"string");return l(e)?e:e+""}},(h,o,s)=>{var i=s(8),l=s(20),d=s(23),e=s(30),r=s(33),p=s(34),x=TypeError,y=p("toPrimitive");h.exports=function(v,b){if(!l(v)||d(v))return v;var g=e(v,y),w;if(g){if(b===void 0&&(b="default"),w=i(g,v,b),!l(w)||d(w))return w;throw x("Can't convert object to primitive value")}return b===void 0&&(b="number"),r(v,b)}},(h,o,s)=>{var i=s(21),l=s(22),d=l.all;h.exports=l.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:i(e)||e===d}:function(e){return typeof e=="object"?e!==null:i(e)}},(h,o,s)=>{var i=s(22),l=i.all;h.exports=i.IS_HTMLDDA?function(d){return typeof d=="function"||d===l}:function(d){return typeof d=="function"}},h=>{var o=typeof document=="object"&&document.all,s=typeof o>"u"&&o!==void 0;h.exports={all:o,IS_HTMLDDA:s}},(h,o,s)=>{var i=s(24),l=s(21),d=s(25),e=s(26),r=Object;h.exports=e?function(p){return typeof p=="symbol"}:function(p){var x=i("Symbol");return l(x)&&d(x.prototype,r(p))}},(h,o,s)=>{var i=s(4),l=s(21),d=function(e){return l(e)?e:void 0};h.exports=function(e,r){return arguments.length<2?d(i[e]):i[e]&&i[e][r]}},(h,o,s)=>{var i=s(14);h.exports=i({}.isPrototypeOf)},(h,o,s)=>{var i=s(27);h.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(h,o,s)=>{var i=s(28),l=s(7),d=s(4),e=d.String;h.exports=!!Object.getOwnPropertySymbols&&!l(function(){var r=Symbol("symbol detection");return!e(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&i&&i<41})},(h,o,s)=>{var i=s(4),l=s(29),d=i.process,e=i.Deno,r=d&&d.versions||e&&e.version,p=r&&r.v8,x,y;p&&(x=p.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&l&&(x=l.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=l.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),h.exports=y},h=>{h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},(h,o,s)=>{var i=s(31),l=s(17);h.exports=function(d,e){var r=d[e];return l(r)?void 0:i(r)}},(h,o,s)=>{var i=s(21),l=s(32),d=TypeError;h.exports=function(e){if(i(e))return e;throw d(l(e)+" is not a function")}},h=>{var o=String;h.exports=function(s){try{return o(s)}catch{return"Object"}}},(h,o,s)=>{var i=s(8),l=s(21),d=s(20),e=TypeError;h.exports=function(r,p){var x,y;if(p==="string"&&l(x=r.toString)&&!d(y=i(x,r))||l(x=r.valueOf)&&!d(y=i(x,r))||p!=="string"&&l(x=r.toString)&&!d(y=i(x,r)))return y;throw e("Can't convert object to primitive value")}},(h,o,s)=>{var i=s(4),l=s(35),d=s(39),e=s(41),r=s(27),p=s(26),x=i.Symbol,y=l("wks"),v=p?x.for||x:x&&x.withoutSetter||e;h.exports=function(b){return d(y,b)||(y[b]=r&&d(x,b)?x[b]:v("Symbol."+b)),y[b]}},(h,o,s)=>{var i=s(36),l=s(37);(h.exports=function(d,e){return l[d]||(l[d]=e!==void 0?e:{})})("versions",[]).push({version:"3.32.2",mode:i?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},h=>{h.exports=!1},(h,o,s)=>{var i=s(4),l=s(38),d="__core-js_shared__",e=i[d]||l(d,{});h.exports=e},(h,o,s)=>{var i=s(4),l=Object.defineProperty;h.exports=function(d,e){try{l(i,d,{value:e,configurable:!0,writable:!0})}catch{i[d]=e}return e}},(h,o,s)=>{var i=s(14),l=s(40),d=i({}.hasOwnProperty);h.exports=Object.hasOwn||function(r,p){return d(l(r),p)}},(h,o,s)=>{var i=s(16),l=Object;h.exports=function(d){return l(i(d))}},(h,o,s)=>{var i=s(14),l=0,d=Math.random(),e=i(1 .toString);h.exports=function(r){return"Symbol("+(r===void 0?"":r)+")_"+e(++l+d,36)}},(h,o,s)=>{var i=s(6),l=s(7),d=s(43);h.exports=!i&&!l(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!==7})},(h,o,s)=>{var i=s(4),l=s(20),d=i.document,e=l(d)&&l(d.createElement);h.exports=function(r){return e?d.createElement(r):{}}},(h,o,s)=>{var i=s(6),l=s(45),d=s(11);h.exports=i?function(e,r,p){return l.f(e,r,d(1,p))}:function(e,r,p){return e[r]=p,e}},(h,o,s)=>{var i=s(6),l=s(42),d=s(46),e=s(47),r=s(18),p=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v="enumerable",b="configurable",g="writable";o.f=i?d?function(f,E,A){if(e(f),E=r(E),e(A),typeof f=="function"&&E==="prototype"&&"value"in A&&g in A&&!A[g]){var O=y(f,E);O&&O[g]&&(f[E]=A.value,A={configurable:b in A?A[b]:O[b],enumerable:v in A?A[v]:O[v],writable:!1})}return x(f,E,A)}:x:function(f,E,A){if(e(f),E=r(E),e(A),l)try{return x(f,E,A)}catch{}if("get"in A||"set"in A)throw p("Accessors not supported");return"value"in A&&(f[E]=A.value),f}},(h,o,s)=>{var i=s(6),l=s(7);h.exports=i&&l(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},(h,o,s)=>{var i=s(20),l=String,d=TypeError;h.exports=function(e){if(i(e))return e;throw d(l(e)+" is not an object")}},(h,o,s)=>{var i=s(21),l=s(45),d=s(49),e=s(38);h.exports=function(r,p,x,y){y||(y={});var v=y.enumerable,b=y.name!==void 0?y.name:p;if(i(x)&&d(x,b,y),y.global)v?r[p]=x:e(p,x);else{try{y.unsafe?r[p]&&(v=!0):delete r[p]}catch{}v?r[p]=x:l.f(r,p,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return r}},(h,o,s)=>{var i=s(14),l=s(7),d=s(21),e=s(39),r=s(6),p=s(50).CONFIGURABLE,x=s(51),y=s(52),v=y.enforce,b=y.get,g=String,w=Object.defineProperty,f=i("".slice),E=i("".replace),A=i([].join),O=r&&!l(function(){return w(function(){},"length",{value:8}).length!==8}),T=String(String).split("String"),D=h.exports=function(F,C,B){f(g(C),0,7)==="Symbol("&&(C="["+E(g(C),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(C="get "+C),B&&B.setter&&(C="set "+C),(!e(F,"name")||p&&F.name!==C)&&(r?w(F,"name",{value:C,configurable:!0}):F.name=C),O&&B&&e(B,"arity")&&F.length!==B.arity&&w(F,"length",{value:B.arity});try{B&&e(B,"constructor")&&B.constructor?r&&w(F,"prototype",{writable:!1}):F.prototype&&(F.prototype=void 0)}catch{}var M=v(F);return e(M,"source")||(M.source=A(T,typeof C=="string"?C:"")),F};Function.prototype.toString=D(function(){return d(this)&&b(this).source||x(this)},"toString")},(h,o,s)=>{var i=s(6),l=s(39),d=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,r=l(d,"name"),p=r&&function(){}.name==="something",x=r&&(!i||i&&e(d,"name").configurable);h.exports={EXISTS:r,PROPER:p,CONFIGURABLE:x}},(h,o,s)=>{var i=s(14),l=s(21),d=s(37),e=i(Function.toString);l(d.inspectSource)||(d.inspectSource=function(r){return e(r)}),h.exports=d.inspectSource},(h,o,s)=>{var i=s(53),l=s(4),d=s(20),e=s(44),r=s(39),p=s(37),x=s(54),y=s(55),v="Object already initialized",b=l.TypeError,g=l.WeakMap,w,f,E,A=function(F){return E(F)?f(F):w(F,{})},O=function(F){return function(C){var B;if(!d(C)||(B=f(C)).type!==F)throw b("Incompatible receiver, "+F+" required");return B}};if(i||p.state){var T=p.state||(p.state=new g);T.get=T.get,T.has=T.has,T.set=T.set,w=function(F,C){if(T.has(F))throw b(v);return C.facade=F,T.set(F,C),C},f=function(F){return T.get(F)||{}},E=function(F){return T.has(F)}}else{var D=x("state");y[D]=!0,w=function(F,C){if(r(F,D))throw b(v);return C.facade=F,e(F,D,C),C},f=function(F){return r(F,D)?F[D]:{}},E=function(F){return r(F,D)}}h.exports={set:w,get:f,has:E,enforce:A,getterFor:O}},(h,o,s)=>{var i=s(4),l=s(21),d=i.WeakMap;h.exports=l(d)&&/native code/.test(String(d))},(h,o,s)=>{var i=s(35),l=s(41),d=i("keys");h.exports=function(e){return d[e]||(d[e]=l(e))}},h=>{h.exports={}},(h,o,s)=>{var i=s(39),l=s(57),d=s(5),e=s(45);h.exports=function(r,p,x){for(var y=l(p),v=e.f,b=d.f,g=0;g<y.length;g++){var w=y[g];!i(r,w)&&!(x&&i(x,w))&&v(r,w,b(p,w))}}},(h,o,s)=>{var i=s(24),l=s(14),d=s(58),e=s(67),r=s(47),p=l([].concat);h.exports=i("Reflect","ownKeys")||function(y){var v=d.f(r(y)),b=e.f;return b?p(v,b(y)):v}},(h,o,s)=>{var i=s(59),l=s(66),d=l.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(r){return i(r,d)}},(h,o,s)=>{var i=s(14),l=s(39),d=s(12),e=s(60).indexOf,r=s(55),p=i([].push);h.exports=function(x,y){var v=d(x),b=0,g=[],w;for(w in v)!l(r,w)&&l(v,w)&&p(g,w);for(;y.length>b;)l(v,w=y[b++])&&(~e(g,w)||p(g,w));return g}},(h,o,s)=>{var i=s(12),l=s(61),d=s(64),e=function(r){return function(p,x,y){var v=i(p),b=d(v),g=l(y,b),w;if(r&&x!==x){for(;b>g;)if(w=v[g++],w!==w)return!0}else for(;b>g;g++)if((r||g in v)&&v[g]===x)return r||g||0;return!r&&-1}};h.exports={includes:e(!0),indexOf:e(!1)}},(h,o,s)=>{var i=s(62),l=Math.max,d=Math.min;h.exports=function(e,r){var p=i(e);return p<0?l(p+r,0):d(p,r)}},(h,o,s)=>{var i=s(63);h.exports=function(l){var d=+l;return d!==d||d===0?0:i(d)}},h=>{var o=Math.ceil,s=Math.floor;h.exports=Math.trunc||function(l){var d=+l;return(d>0?s:o)(d)}},(h,o,s)=>{var i=s(65);h.exports=function(l){return i(l.length)}},(h,o,s)=>{var i=s(62),l=Math.min;h.exports=function(d){return d>0?l(i(d),9007199254740991):0}},h=>{h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(h,o)=>{o.f=Object.getOwnPropertySymbols},(h,o,s)=>{var i=s(7),l=s(21),d=/#|\.prototype\./,e=function(v,b){var g=p[r(v)];return g===y?!0:g===x?!1:l(b)?i(b):!!b},r=e.normalize=function(v){return String(v).replace(d,".").toLowerCase()},p=e.data={},x=e.NATIVE="N",y=e.POLYFILL="P";h.exports=e},(h,o,s)=>{var i=s(9),l=Function.prototype,d=l.apply,e=l.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(i?e.bind(d):function(){return e.apply(d,arguments)})},(h,o,s)=>{var i=s(24),l=s(39),d=s(44),e=s(25),r=s(71),p=s(56),x=s(74),y=s(75),v=s(76),b=s(80),g=s(81),w=s(6),f=s(36);h.exports=function(E,A,O,T){var D="stackTraceLimit",F=T?2:1,C=E.split("."),B=C[C.length-1],M=i.apply(null,C);if(!!M){var I=M.prototype;if(!f&&l(I,"cause")&&delete I.cause,!O)return M;var W=i("Error"),J=A(function(H,N){var U=v(T?N:H,void 0),Y=T?new M(H):new M;return U!==void 0&&d(Y,"message",U),g(Y,J,Y.stack,2),this&&e(I,this)&&y(Y,this,J),arguments.length>F&&b(Y,arguments[F]),Y});if(J.prototype=I,B!=="Error"?r?r(J,W):p(J,W,{name:!0}):w&&D in M&&(x(J,M,D),x(J,M,"prepareStackTrace")),p(J,M),!f)try{I.name!==B&&d(I,"name",B),I.constructor=J}catch{}return J}}},(h,o,s)=>{var i=s(72),l=s(47),d=s(73);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},p;try{p=i(Object.prototype,"__proto__","set"),p(r,[]),e=r instanceof Array}catch{}return function(y,v){return l(y),d(v),e?p(y,v):y.__proto__=v,y}}():void 0)},(h,o,s)=>{var i=s(14),l=s(31);h.exports=function(d,e,r){try{return i(l(Object.getOwnPropertyDescriptor(d,e)[r]))}catch{}}},(h,o,s)=>{var i=s(21),l=String,d=TypeError;h.exports=function(e){if(typeof e=="object"||i(e))return e;throw d("Can't set "+l(e)+" as a prototype")}},(h,o,s)=>{var i=s(45).f;h.exports=function(l,d,e){e in l||i(l,e,{configurable:!0,get:function(){return d[e]},set:function(r){d[e]=r}})}},(h,o,s)=>{var i=s(21),l=s(20),d=s(71);h.exports=function(e,r,p){var x,y;return d&&i(x=r.constructor)&&x!==p&&l(y=x.prototype)&&y!==p.prototype&&d(e,y),e}},(h,o,s)=>{var i=s(77);h.exports=function(l,d){return l===void 0?arguments.length<2?"":d:i(l)}},(h,o,s)=>{var i=s(78),l=String;h.exports=function(d){if(i(d)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return l(d)}},(h,o,s)=>{var i=s(79),l=s(21),d=s(15),e=s(34),r=e("toStringTag"),p=Object,x=d(function(){return arguments}())==="Arguments",y=function(v,b){try{return v[b]}catch{}};h.exports=i?d:function(v){var b,g,w;return v===void 0?"Undefined":v===null?"Null":typeof(g=y(b=p(v),r))=="string"?g:x?d(b):(w=d(b))==="Object"&&l(b.callee)?"Arguments":w}},(h,o,s)=>{var i=s(34),l=i("toStringTag"),d={};d[l]="z",h.exports=String(d)==="[object z]"},(h,o,s)=>{var i=s(20),l=s(44);h.exports=function(d,e){i(e)&&"cause"in e&&l(d,"cause",e.cause)}},(h,o,s)=>{var i=s(44),l=s(82),d=s(83),e=Error.captureStackTrace;h.exports=function(r,p,x,y){d&&(e?e(r,p):i(r,"stack",l(x,y)))}},(h,o,s)=>{var i=s(14),l=Error,d=i("".replace),e=function(x){return String(l(x).stack)}("zxcasd"),r=/\n\s*at [^:]*:[^\n]*/,p=r.test(e);h.exports=function(x,y){if(p&&typeof x=="string"&&!l.prepareStackTrace)for(;y--;)x=d(x,r,"");return x}},(h,o,s)=>{var i=s(7),l=s(11);h.exports=!i(function(){var d=Error("a");return"stack"in d?(Object.defineProperty(d,"stack",l(1,7)),d.stack!==7):!0})},(h,o,s)=>{var i=s(85),l=s(90).findLast,d=i.aTypedArray,e=i.exportTypedArrayMethod;e("findLast",function(p){return l(d(this),p,arguments.length>1?arguments[1]:void 0)})},(h,o,s)=>{var i=s(86),l=s(6),d=s(4),e=s(21),r=s(20),p=s(39),x=s(78),y=s(32),v=s(44),b=s(48),g=s(87),w=s(25),f=s(88),E=s(71),A=s(34),O=s(41),T=s(52),D=T.enforce,F=T.get,C=d.Int8Array,B=C&&C.prototype,M=d.Uint8ClampedArray,I=M&&M.prototype,W=C&&f(C),J=B&&f(B),H=Object.prototype,N=d.TypeError,U=A("toStringTag"),Y=O("TYPED_ARRAY_TAG"),_="TypedArrayConstructor",V=i&&!!E&&x(d.opera)!=="Opera",Z=!1,q,re,oe,ae={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R={BigInt64Array:8,BigUint64Array:8},S=function(ee){if(!r(ee))return!1;var G=x(ee);return G==="DataView"||p(ae,G)||p(R,G)},L=function(X){var ee=f(X);if(!!r(ee)){var G=F(ee);return G&&p(G,_)?G[_]:L(ee)}},k=function(X){if(!r(X))return!1;var ee=x(X);return p(ae,ee)||p(R,ee)},z=function(X){if(k(X))return X;throw N("Target is not a typed array")},P=function(X){if(e(X)&&(!E||w(W,X)))return X;throw N(y(X)+" is not a typed array constructor")},K=function(X,ee,G,ne){if(!!l){if(G)for(var se in ae){var le=d[se];if(le&&p(le.prototype,X))try{delete le.prototype[X]}catch{try{le.prototype[X]=ee}catch{}}}(!J[X]||G)&&b(J,X,G?ee:V&&B[X]||ee,ne)}},te=function(X,ee,G){var ne,se;if(!!l){if(E){if(G){for(ne in ae)if(se=d[ne],se&&p(se,X))try{delete se[X]}catch{}}if(!W[X]||G)try{return b(W,X,G?ee:V&&W[X]||ee)}catch{}else return}for(ne in ae)se=d[ne],se&&(!se[X]||G)&&b(se,X,ee)}};for(q in ae)re=d[q],oe=re&&re.prototype,oe?D(oe)[_]=re:V=!1;for(q in R)re=d[q],oe=re&&re.prototype,oe&&(D(oe)[_]=re);if((!V||!e(W)||W===Function.prototype)&&(W=function(){throw N("Incorrect invocation")},V))for(q in ae)d[q]&&E(d[q],W);if((!V||!J||J===H)&&(J=W.prototype,V))for(q in ae)d[q]&&E(d[q].prototype,J);if(V&&f(I)!==J&&E(I,J),l&&!p(J,U)){Z=!0,g(J,U,{configurable:!0,get:function(){return r(this)?this[Y]:void 0}});for(q in ae)d[q]&&v(d[q],Y,q)}h.exports={NATIVE_ARRAY_BUFFER_VIEWS:V,TYPED_ARRAY_TAG:Z&&Y,aTypedArray:z,aTypedArrayConstructor:P,exportTypedArrayMethod:K,exportTypedArrayStaticMethod:te,getTypedArrayConstructor:L,isView:S,isTypedArray:k,TypedArray:W,TypedArrayPrototype:J}},h=>{h.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(h,o,s)=>{var i=s(49),l=s(45);h.exports=function(d,e,r){return r.get&&i(r.get,e,{getter:!0}),r.set&&i(r.set,e,{setter:!0}),l.f(d,e,r)}},(h,o,s)=>{var i=s(39),l=s(21),d=s(40),e=s(54),r=s(89),p=e("IE_PROTO"),x=Object,y=x.prototype;h.exports=r?x.getPrototypeOf:function(v){var b=d(v);if(i(b,p))return b[p];var g=b.constructor;return l(g)&&b instanceof g?g.prototype:b instanceof x?y:null}},(h,o,s)=>{var i=s(7);h.exports=!i(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},(h,o,s)=>{var i=s(91),l=s(13),d=s(40),e=s(64),r=function(p){var x=p===1;return function(y,v,b){for(var g=d(y),w=l(g),f=i(v,b),E=e(w),A,O;E-- >0;)if(A=w[E],O=f(A,E,g),O)switch(p){case 0:return A;case 1:return E}return x?-1:void 0}};h.exports={findLast:r(0),findLastIndex:r(1)}},(h,o,s)=>{var i=s(92),l=s(31),d=s(9),e=i(i.bind);h.exports=function(r,p){return l(r),p===void 0?r:d?e(r,p):function(){return r.apply(p,arguments)}}},(h,o,s)=>{var i=s(15),l=s(14);h.exports=function(d){if(i(d)==="Function")return l(d)}},(h,o,s)=>{var i=s(85),l=s(90).findLastIndex,d=i.aTypedArray,e=i.exportTypedArrayMethod;e("findLastIndex",function(p){return l(d(this),p,arguments.length>1?arguments[1]:void 0)})},(h,o,s)=>{var i=s(4),l=s(8),d=s(85),e=s(64),r=s(95),p=s(40),x=s(7),y=i.RangeError,v=i.Int8Array,b=v&&v.prototype,g=b&&b.set,w=d.aTypedArray,f=d.exportTypedArrayMethod,E=!x(function(){var O=new Uint8ClampedArray(2);return l(g,O,{length:1,0:3},1),O[1]!==3}),A=E&&d.NATIVE_ARRAY_BUFFER_VIEWS&&x(function(){var O=new v(2);return O.set(1),O.set("2",1),O[0]!==0||O[1]!==2});f("set",function(T){w(this);var D=r(arguments.length>1?arguments[1]:void 0,1),F=p(T);if(E)return l(g,this,F,D);var C=this.length,B=e(F),M=0;if(B+D>C)throw y("Wrong length");for(;M<B;)this[D+M]=F[M++]},!E||A)},(h,o,s)=>{var i=s(96),l=RangeError;h.exports=function(d,e){var r=i(d);if(r%e)throw l("Wrong offset");return r}},(h,o,s)=>{var i=s(62),l=RangeError;h.exports=function(d){var e=i(d);if(e<0)throw l("The argument can't be less than 0");return e}},(h,o,s)=>{var i=s(98),l=s(85),d=l.aTypedArray,e=l.exportTypedArrayMethod,r=l.getTypedArrayConstructor;e("toReversed",function(){return i(d(this),r(this))})},(h,o,s)=>{var i=s(64);h.exports=function(l,d){for(var e=i(l),r=new d(e),p=0;p<e;p++)r[p]=l[e-p-1];return r}},(h,o,s)=>{var i=s(85),l=s(14),d=s(31),e=s(100),r=i.aTypedArray,p=i.getTypedArrayConstructor,x=i.exportTypedArrayMethod,y=l(i.TypedArrayPrototype.sort);x("toSorted",function(b){b!==void 0&&d(b);var g=r(this),w=e(p(g),g);return y(w,b)})},(h,o,s)=>{var i=s(64);h.exports=function(l,d){for(var e=0,r=i(d),p=new l(r);r>e;)p[e]=d[e++];return p}},(h,o,s)=>{var i=s(102),l=s(85),d=s(103),e=s(62),r=s(104),p=l.aTypedArray,x=l.getTypedArrayConstructor,y=l.exportTypedArrayMethod,v=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(b){return b===8}}();y("with",function(b,g){var w=p(this),f=e(b),E=d(w)?r(g):+g;return i(w,x(w),f,E)},!v)},(h,o,s)=>{var i=s(64),l=s(62),d=RangeError;h.exports=function(e,r,p,x){var y=i(e),v=l(p),b=v<0?y+v:v;if(b>=y||b<0)throw d("Incorrect index");for(var g=new r(y),w=0;w<y;w++)g[w]=w===b?x:e[w];return g}},(h,o,s)=>{var i=s(78);h.exports=function(l){var d=i(l);return d==="BigInt64Array"||d==="BigUint64Array"}},(h,o,s)=>{var i=s(19),l=TypeError;h.exports=function(d){var e=i(d,"number");if(typeof e=="number")throw l("Can't convert number to bigint");return BigInt(e)}},(h,o,s)=>{var i=s(6),l=s(87),d=s(106),e=ArrayBuffer.prototype;i&&!("detached"in e)&&l(e,"detached",{configurable:!0,get:function(){return d(this)}})},(h,o,s)=>{var i=s(14),l=s(107),d=i(ArrayBuffer.prototype.slice);h.exports=function(e){if(l(e)!==0)return!1;try{return d(e,0,0),!1}catch{return!0}}},(h,o,s)=>{var i=s(72),l=s(15),d=TypeError;h.exports=i(ArrayBuffer.prototype,"byteLength","get")||function(e){if(l(e)!=="ArrayBuffer")throw d("ArrayBuffer expected");return e.byteLength}},(h,o,s)=>{var i=s(3),l=s(109);l&&i({target:"ArrayBuffer",proto:!0},{transfer:function(){return l(this,arguments.length?arguments[0]:void 0,!0)}})},(h,o,s)=>{var i=s(4),l=s(14),d=s(72),e=s(110),r=s(106),p=s(107),x=s(111),y=i.TypeError,v=i.structuredClone,b=i.ArrayBuffer,g=i.DataView,w=Math.min,f=b.prototype,E=g.prototype,A=l(f.slice),O=d(f,"resizable","get"),T=d(f,"maxByteLength","get"),D=l(E.getInt8),F=l(E.setInt8);h.exports=x&&function(C,B,M){var I=p(C),W=B===void 0?I:e(B),J=!O||!O(C);if(r(C))throw y("ArrayBuffer is detached");var H=v(C,{transfer:[C]});if(I===W&&(M||J))return H;if(I>=W&&(!M||J))return A(H,0,W);for(var N=M&&!J&&T?{maxByteLength:T(H)}:void 0,U=new b(W,N),Y=new g(H),_=new g(U),V=w(W,I),Z=0;Z<V;Z++)F(_,Z,D(Y,Z));return U}},(h,o,s)=>{var i=s(62),l=s(65),d=RangeError;h.exports=function(e){if(e===void 0)return 0;var r=i(e),p=l(r);if(r!==p)throw d("Wrong length or index");return p}},(h,o,s)=>{var i=s(4),l=s(7),d=s(28),e=s(112),r=s(113),p=s(114),x=i.structuredClone;h.exports=!!x&&!l(function(){if(r&&d>92||p&&d>94||e&&d>97)return!1;var y=new ArrayBuffer(8),v=x(y,{transfer:[y]});return y.byteLength!==0||v.byteLength!==8})},(h,o,s)=>{var i=s(113),l=s(114);h.exports=!i&&!l&&typeof window=="object"&&typeof document=="object"},h=>{h.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(h,o,s)=>{var i=s(4),l=s(15);h.exports=l(i.process)==="process"},(h,o,s)=>{var i=s(3),l=s(109);l&&i({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return l(this,arguments.length?arguments[0]:void 0,!1)}})},(h,o,s)=>{var i=s(3),l=s(117),d=s(126);i({target:"Set",proto:!0,real:!0,forced:!d("difference")},{difference:l})},(h,o,s)=>{var i=s(118),l=s(119),d=s(120),e=s(123),r=s(124),p=s(121),x=s(122),y=l.has,v=l.remove;h.exports=function(g){var w=i(this),f=r(g),E=d(w);return e(w)<=f.size?p(w,function(A){f.includes(A)&&v(E,A)}):x(f.getIterator(),function(A){y(w,A)&&v(E,A)}),E}},(h,o,s)=>{var i=s(119).has;h.exports=function(l){return i(l),l}},(h,o,s)=>{var i=s(14),l=Set.prototype;h.exports={Set,add:i(l.add),has:i(l.has),remove:i(l.delete),proto:l}},(h,o,s)=>{var i=s(119),l=s(121),d=i.Set,e=i.add;h.exports=function(r){var p=new d;return l(r,function(x){e(p,x)}),p}},(h,o,s)=>{var i=s(14),l=s(122),d=s(119),e=d.Set,r=d.proto,p=i(r.forEach),x=i(r.keys),y=x(new e).next;h.exports=function(v,b,g){return g?l({iterator:x(v),next:y},b):p(v,b)}},(h,o,s)=>{var i=s(8);h.exports=function(l,d,e){for(var r=e?l:l.iterator,p=l.next,x,y;!(x=i(p,r)).done;)if(y=d(x.value),y!==void 0)return y}},(h,o,s)=>{var i=s(72),l=s(119);h.exports=i(l.proto,"size","get")||function(d){return d.size}},(h,o,s)=>{var i=s(31),l=s(47),d=s(8),e=s(62),r=s(125),p="Invalid size",x=RangeError,y=TypeError,v=Math.max,b=function(g,w,f,E){this.set=g,this.size=w,this.has=f,this.keys=E};b.prototype={getIterator:function(){return r(l(d(this.keys,this.set)))},includes:function(g){return d(this.has,this.set,g)}},h.exports=function(g){l(g);var w=+g.size;if(w!==w)throw y(p);var f=e(w);if(f<0)throw x(p);return new b(g,v(f,0),i(g.has),i(g.keys))}},h=>{h.exports=function(o){return{iterator:o,next:o.next,done:!1}}},(h,o,s)=>{var i=s(24),l=function(d){return{size:d,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};h.exports=function(d){var e=i("Set");try{new e()[d](l(0));try{return new e()[d](l(-1)),!1}catch{return!0}}catch{return!1}}},(h,o,s)=>{var i=s(3),l=s(7),d=s(128),e=s(126),r=!e("intersection")||l(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});i({target:"Set",proto:!0,real:!0,forced:r},{intersection:d})},(h,o,s)=>{var i=s(118),l=s(119),d=s(123),e=s(124),r=s(121),p=s(122),x=l.Set,y=l.add,v=l.has;h.exports=function(g){var w=i(this),f=e(g),E=new x;return d(w)>f.size?p(f.getIterator(),function(A){v(w,A)&&y(E,A)}):r(w,function(A){f.includes(A)&&y(E,A)}),E}},(h,o,s)=>{var i=s(3),l=s(130),d=s(126);i({target:"Set",proto:!0,real:!0,forced:!d("isDisjointFrom")},{isDisjointFrom:l})},(h,o,s)=>{var i=s(118),l=s(119).has,d=s(123),e=s(124),r=s(121),p=s(122),x=s(131);h.exports=function(v){var b=i(this),g=e(v);if(d(b)<=g.size)return r(b,function(f){if(g.includes(f))return!1},!0)!==!1;var w=g.getIterator();return p(w,function(f){if(l(b,f))return x(w,"normal",!1)})!==!1}},(h,o,s)=>{var i=s(8),l=s(47),d=s(30);h.exports=function(e,r,p){var x,y;l(e);try{if(x=d(e,"return"),!x){if(r==="throw")throw p;return p}x=i(x,e)}catch(v){y=!0,x=v}if(r==="throw")throw p;if(y)throw x;return l(x),p}},(h,o,s)=>{var i=s(3),l=s(133),d=s(126);i({target:"Set",proto:!0,real:!0,forced:!d("isSubsetOf")},{isSubsetOf:l})},(h,o,s)=>{var i=s(118),l=s(123),d=s(121),e=s(124);h.exports=function(p){var x=i(this),y=e(p);return l(x)>y.size?!1:d(x,function(v){if(!y.includes(v))return!1},!0)!==!1}},(h,o,s)=>{var i=s(3),l=s(135),d=s(126);i({target:"Set",proto:!0,real:!0,forced:!d("isSupersetOf")},{isSupersetOf:l})},(h,o,s)=>{var i=s(118),l=s(119).has,d=s(123),e=s(124),r=s(122),p=s(131);h.exports=function(y){var v=i(this),b=e(y);if(d(v)<b.size)return!1;var g=b.getIterator();return r(g,function(w){if(!l(v,w))return p(g,"normal",!1)})!==!1}},(h,o,s)=>{var i=s(3),l=s(137),d=s(126);i({target:"Set",proto:!0,real:!0,forced:!d("symmetricDifference")},{symmetricDifference:l})},(h,o,s)=>{var i=s(118),l=s(119),d=s(120),e=s(124),r=s(122),p=l.add,x=l.has,y=l.remove;h.exports=function(b){var g=i(this),w=e(b).getIterator(),f=d(g);return r(w,function(E){x(g,E)?y(f,E):p(f,E)}),f}},(h,o,s)=>{var i=s(3),l=s(139),d=s(126);i({target:"Set",proto:!0,real:!0,forced:!d("union")},{union:l})},(h,o,s)=>{var i=s(118),l=s(119).add,d=s(120),e=s(124),r=s(122);h.exports=function(x){var y=i(this),v=e(x).getIterator(),b=d(y);return r(v,function(g){l(b,g)}),b}},(h,o,s)=>{var i=s(3),l=s(40),d=s(64),e=s(141),r=s(143),p=s(7),x=p(function(){return[].push.call({length:4294967296},1)!==4294967297}),y=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(b){return b instanceof TypeError}},v=x||!y();i({target:"Array",proto:!0,arity:1,forced:v},{push:function(g){var w=l(this),f=d(w),E=arguments.length;r(f+E);for(var A=0;A<E;A++)w[f]=arguments[A],f++;return e(w,f),f}})},(h,o,s)=>{var i=s(6),l=s(142),d=TypeError,e=Object.getOwnPropertyDescriptor,r=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(p){return p instanceof TypeError}}();h.exports=r?function(p,x){if(l(p)&&!e(p,"length").writable)throw d("Cannot set read only .length");return p.length=x}:function(p,x){return p.length=x}},(h,o,s)=>{var i=s(15);h.exports=Array.isArray||function(d){return i(d)==="Array"}},h=>{var o=TypeError,s=9007199254740991;h.exports=function(i){if(i>s)throw o("Maximum allowed index exceeded");return i}},(h,o,s)=>{var i=s(3),l=s(4),d=s(87),e=s(6),r=TypeError,p=Object.defineProperty,x=l.self!==l;try{if(e){var y=Object.getOwnPropertyDescriptor(l,"self");(x||!y||!y.get||!y.enumerable)&&d(l,"self",{get:function(){return l},set:function(b){if(this!==l)throw r("Illegal invocation");p(l,"self",{value:b,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else i({global:!0,simple:!0,forced:x},{self:l})}catch{}},(h,o,s)=>{var Te;Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.RenderingIntentFlag=o.PromiseCapability=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.MAX_IMAGE_SIZE_TO_CACHE=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.BASELINE_FACTOR=o.AnnotationType=o.AnnotationReplyType=o.AnnotationPrefix=o.AnnotationMode=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.assert=re,o.bytesToString=ee,o.createValidAbsoluteUrl=ae,o.getModificationDate=_e,o.getUuid=ke,o.getVerbosityLevel=_,o.info=V,o.isArrayBuffer=Ee,o.isArrayEqual=Me,o.isNodeJS=void 0,o.normalizeUnicode=Ne,o.objectFromMap=le,o.objectSize=se,o.setVerbosityLevel=Y,o.shadow=R,o.string32=ne,o.stringToBytes=G,o.stringToPDFString=ce,o.stringToUTF8String=ue,o.unreachable=q,o.utf8StringToString=ve,o.warn=Z,s(2),s(146),s(148),s(149),s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=i;const l=[1,0,0,1,0,0];o.IDENTITY_MATRIX=l;const d=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=d;const e=1e7;o.MAX_IMAGE_SIZE_TO_CACHE=e;const r=1.35;o.LINE_FACTOR=r;const p=.35;o.LINE_DESCENT_FACTOR=p;const x=p/r;o.BASELINE_FACTOR=x;const y={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=y;const v={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=v;const b="pdfjs_internal_editor_";o.AnnotationEditorPrefix=b;const g={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};o.AnnotationEditorType=g;const w={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};o.AnnotationEditorParamsType=w;const f={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=f;const E={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=E;const A={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=A;const O={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=O;const T={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=T;const D={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=D;const F={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=F;const C={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=C;const B={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=B;const M={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=M;const I={O:"PageOpen",C:"PageClose"};o.PageActionEventType=I;const W={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=W;const J={NONE:0,BINARY:1};o.CMapCompressionType=J;const H={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=H;const N={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=N;let U=W.WARNINGS;function Y(Ae){Number.isInteger(Ae)&&(U=Ae)}function _(){return U}function V(Ae){U>=W.INFOS&&console.log(`Info: ${Ae}`)}function Z(Ae){U>=W.WARNINGS&&console.log(`Warning: ${Ae}`)}function q(Ae){throw new Error(Ae)}function re(Ae,ge){Ae||q(ge)}function oe(Ae){switch(Ae==null?void 0:Ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ae(Ae){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Ae)return null;try{if(Ce&&typeof Ae=="string"){if(Ce.addDefaultProtocol&&Ae.startsWith("www.")){const Ye=Ae.match(/\./g);(Ye==null?void 0:Ye.length)>=2&&(Ae=`http://${Ae}`)}if(Ce.tryConvertEncoding)try{Ae=ue(Ae)}catch{}}const Be=ge?new URL(Ae,ge):new URL(Ae);if(oe(Be))return Be}catch{}return null}function R(Ae,ge,Ce){let Be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(Ae,ge,{value:Ce,enumerable:!Be,configurable:!0,writable:!1}),Ce}const S=function(){function ge(Ce,Be){this.constructor===ge&&q("Cannot initialize BaseException."),this.message=Ce,this.name=Be}return ge.prototype=new Error,ge.constructor=ge,ge}();o.BaseException=S;class L extends S{constructor(ge,Ce){super(ge,"PasswordException"),this.code=Ce}}o.PasswordException=L;class k extends S{constructor(ge,Ce){super(ge,"UnknownErrorException"),this.details=Ce}}o.UnknownErrorException=k;class z extends S{constructor(ge){super(ge,"InvalidPDFException")}}o.InvalidPDFException=z;class P extends S{constructor(ge){super(ge,"MissingPDFException")}}o.MissingPDFException=P;class K extends S{constructor(ge,Ce){super(ge,"UnexpectedResponseException"),this.status=Ce}}o.UnexpectedResponseException=K;class te extends S{constructor(ge){super(ge,"FormatError")}}o.FormatError=te;class X extends S{constructor(ge){super(ge,"AbortException")}}o.AbortException=X;function ee(Ae){(typeof Ae!="object"||(Ae==null?void 0:Ae.length)===void 0)&&q("Invalid argument for bytesToString");const ge=Ae.length,Ce=8192;if(ge<Ce)return String.fromCharCode.apply(null,Ae);const Be=[];for(let Ye=0;Ye<ge;Ye+=Ce){const Je=Math.min(Ye+Ce,ge),Re=Ae.subarray(Ye,Je);Be.push(String.fromCharCode.apply(null,Re))}return Be.join("")}function G(Ae){typeof Ae!="string"&&q("Invalid argument for stringToBytes");const ge=Ae.length,Ce=new Uint8Array(ge);for(let Be=0;Be<ge;++Be)Ce[Be]=Ae.charCodeAt(Be)&255;return Ce}function ne(Ae){return String.fromCharCode(Ae>>24&255,Ae>>16&255,Ae>>8&255,Ae&255)}function se(Ae){return Object.keys(Ae).length}function le(Ae){const ge=Object.create(null);for(const[Ce,Be]of Ae)ge[Ce]=Be;return ge}function he(){const Ae=new Uint8Array(4);return Ae[0]=1,new Uint32Array(Ae.buffer,0,1)[0]===1}function be(){try{return new Function(""),!0}catch{return!1}}class ye{static get isLittleEndian(){return R(this,"isLittleEndian",he())}static get isEvalSupported(){return R(this,"isEvalSupported",be())}static get isOffscreenCanvasSupported(){return R(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?R(this,"platform",{isWin:!1,isMac:!1}):R(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ge,Ce;return R(this,"isCSSRoundSupported",(Ce=(ge=globalThis.CSS)==null?void 0:ge.supports)==null?void 0:Ce.call(ge,"width: round(1.5px, 1px)"))}}o.FeatureTest=ye;const de=[...Array(256).keys()].map(Ae=>Ae.toString(16).padStart(2,"0"));class xe{static makeHexColor(ge,Ce,Be){return`#${de[ge]}${de[Ce]}${de[Be]}`}static scaleMinMax(ge,Ce){let Be;ge[0]?(ge[0]<0&&(Be=Ce[0],Ce[0]=Ce[1],Ce[1]=Be),Ce[0]*=ge[0],Ce[1]*=ge[0],ge[3]<0&&(Be=Ce[2],Ce[2]=Ce[3],Ce[3]=Be),Ce[2]*=ge[3],Ce[3]*=ge[3]):(Be=Ce[0],Ce[0]=Ce[2],Ce[2]=Be,Be=Ce[1],Ce[1]=Ce[3],Ce[3]=Be,ge[1]<0&&(Be=Ce[2],Ce[2]=Ce[3],Ce[3]=Be),Ce[2]*=ge[1],Ce[3]*=ge[1],ge[2]<0&&(Be=Ce[0],Ce[0]=Ce[1],Ce[1]=Be),Ce[0]*=ge[2],Ce[1]*=ge[2]),Ce[0]+=ge[4],Ce[1]+=ge[4],Ce[2]+=ge[5],Ce[3]+=ge[5]}static transform(ge,Ce){return[ge[0]*Ce[0]+ge[2]*Ce[1],ge[1]*Ce[0]+ge[3]*Ce[1],ge[0]*Ce[2]+ge[2]*Ce[3],ge[1]*Ce[2]+ge[3]*Ce[3],ge[0]*Ce[4]+ge[2]*Ce[5]+ge[4],ge[1]*Ce[4]+ge[3]*Ce[5]+ge[5]]}static applyTransform(ge,Ce){const Be=ge[0]*Ce[0]+ge[1]*Ce[2]+Ce[4],Ye=ge[0]*Ce[1]+ge[1]*Ce[3]+Ce[5];return[Be,Ye]}static applyInverseTransform(ge,Ce){const Be=Ce[0]*Ce[3]-Ce[1]*Ce[2],Ye=(ge[0]*Ce[3]-ge[1]*Ce[2]+Ce[2]*Ce[5]-Ce[4]*Ce[3])/Be,Je=(-ge[0]*Ce[1]+ge[1]*Ce[0]+Ce[4]*Ce[1]-Ce[5]*Ce[0])/Be;return[Ye,Je]}static getAxialAlignedBoundingBox(ge,Ce){const Be=this.applyTransform(ge,Ce),Ye=this.applyTransform(ge.slice(2,4),Ce),Je=this.applyTransform([ge[0],ge[3]],Ce),Re=this.applyTransform([ge[2],ge[1]],Ce);return[Math.min(Be[0],Ye[0],Je[0],Re[0]),Math.min(Be[1],Ye[1],Je[1],Re[1]),Math.max(Be[0],Ye[0],Je[0],Re[0]),Math.max(Be[1],Ye[1],Je[1],Re[1])]}static inverseTransform(ge){const Ce=ge[0]*ge[3]-ge[1]*ge[2];return[ge[3]/Ce,-ge[1]/Ce,-ge[2]/Ce,ge[0]/Ce,(ge[2]*ge[5]-ge[4]*ge[3])/Ce,(ge[4]*ge[1]-ge[5]*ge[0])/Ce]}static singularValueDecompose2dScale(ge){const Ce=[ge[0],ge[2],ge[1],ge[3]],Be=ge[0]*Ce[0]+ge[1]*Ce[2],Ye=ge[0]*Ce[1]+ge[1]*Ce[3],Je=ge[2]*Ce[0]+ge[3]*Ce[2],Re=ge[2]*Ce[1]+ge[3]*Ce[3],He=(Be+Re)/2,nt=Math.sqrt((Be+Re)**2-4*(Be*Re-Je*Ye))/2,et=He+nt||1,it=He-nt||1;return[Math.sqrt(et),Math.sqrt(it)]}static normalizeRect(ge){const Ce=ge.slice(0);return ge[0]>ge[2]&&(Ce[0]=ge[2],Ce[2]=ge[0]),ge[1]>ge[3]&&(Ce[1]=ge[3],Ce[3]=ge[1]),Ce}static intersect(ge,Ce){const Be=Math.max(Math.min(ge[0],ge[2]),Math.min(Ce[0],Ce[2])),Ye=Math.min(Math.max(ge[0],ge[2]),Math.max(Ce[0],Ce[2]));if(Be>Ye)return null;const Je=Math.max(Math.min(ge[1],ge[3]),Math.min(Ce[1],Ce[3])),Re=Math.min(Math.max(ge[1],ge[3]),Math.max(Ce[1],Ce[3]));return Je>Re?null:[Be,Je,Ye,Re]}static bezierBoundingBox(ge,Ce,Be,Ye,Je,Re,He,nt){const et=[],it=[[],[]];let qe,lt,rt,Oe,$e,me,Q,pe;for(let De=0;De<2;++De){if(De===0?(lt=6*ge-12*Be+6*Je,qe=-3*ge+9*Be-9*Je+3*He,rt=3*Be-3*ge):(lt=6*Ce-12*Ye+6*Re,qe=-3*Ce+9*Ye-9*Re+3*nt,rt=3*Ye-3*Ce),Math.abs(qe)<1e-12){if(Math.abs(lt)<1e-12)continue;Oe=-rt/lt,0<Oe&&Oe<1&&et.push(Oe);continue}Q=lt*lt-4*rt*qe,pe=Math.sqrt(Q),!(Q<0)&&($e=(-lt+pe)/(2*qe),0<$e&&$e<1&&et.push($e),me=(-lt-pe)/(2*qe),0<me&&me<1&&et.push(me))}let we=et.length,Fe;const Pe=we;for(;we--;)Oe=et[we],Fe=1-Oe,it[0][we]=Fe*Fe*Fe*ge+3*Fe*Fe*Oe*Be+3*Fe*Oe*Oe*Je+Oe*Oe*Oe*He,it[1][we]=Fe*Fe*Fe*Ce+3*Fe*Fe*Oe*Ye+3*Fe*Oe*Oe*Re+Oe*Oe*Oe*nt;return it[0][Pe]=ge,it[1][Pe]=Ce,it[0][Pe+1]=He,it[1][Pe+1]=nt,it[0].length=it[1].length=Pe+2,[Math.min(...it[0]),Math.min(...it[1]),Math.max(...it[0]),Math.max(...it[1])]}}o.Util=xe;const fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ce(Ae){if(Ae[0]>="\xEF"){let Ce;if(Ae[0]==="\xFE"&&Ae[1]==="\xFF"?Ce="utf-16be":Ae[0]==="\xFF"&&Ae[1]==="\xFE"?Ce="utf-16le":Ae[0]==="\xEF"&&Ae[1]==="\xBB"&&Ae[2]==="\xBF"&&(Ce="utf-8"),Ce)try{const Be=new TextDecoder(Ce,{fatal:!0}),Ye=G(Ae);return Be.decode(Ye)}catch(Be){Z(`stringToPDFString: "${Be}".`)}}const ge=[];for(let Ce=0,Be=Ae.length;Ce<Be;Ce++){const Ye=fe[Ae.charCodeAt(Ce)];ge.push(Ye?String.fromCharCode(Ye):Ae.charAt(Ce))}return ge.join("")}function ue(Ae){return decodeURIComponent(escape(Ae))}function ve(Ae){return unescape(encodeURIComponent(Ae))}function Ee(Ae){return typeof Ae=="object"&&(Ae==null?void 0:Ae.byteLength)!==void 0}function Me(Ae,ge){if(Ae.length!==ge.length)return!1;for(let Ce=0,Be=Ae.length;Ce<Be;Ce++)if(Ae[Ce]!==ge[Ce])return!1;return!0}function _e(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Ae.getUTCFullYear().toString(),(Ae.getUTCMonth()+1).toString().padStart(2,"0"),Ae.getUTCDate().toString().padStart(2,"0"),Ae.getUTCHours().toString().padStart(2,"0"),Ae.getUTCMinutes().toString().padStart(2,"0"),Ae.getUTCSeconds().toString().padStart(2,"0")].join("")}class ze{constructor(){Le(this,Te,!1);this.promise=new Promise((ge,Ce)=>{this.resolve=Be=>{Qe(this,Te,!0),ge(Be)},this.reject=Be=>{Qe(this,Te,!0),Ce(Be)}})}get settled(){return ie(this,Te)}}Te=new WeakMap,o.PromiseCapability=ze;let We=null,Ve=null;function Ne(Ae){return We||(We=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ve=new Map([["\uFB05","\u017Ft"]])),Ae.replaceAll(We,(ge,Ce,Be)=>Ce?Ce.normalize("NFKC"):Ve.get(Be))}function ke(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ae=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ae);else for(let ge=0;ge<32;ge++)Ae[ge]=Math.floor(Math.random()*255);return ee(Ae)}const Ie="pdfjs_internal_id_";o.AnnotationPrefix=Ie},(h,o,s)=>{var i=s(48),l=s(14),d=s(77),e=s(147),r=URLSearchParams,p=r.prototype,x=l(p.append),y=l(p.delete),v=l(p.forEach),b=l([].push),g=new r("a=1&a=2&b=3");g.delete("a",1),g.delete("b",void 0),g+""!="a=2"&&i(p,"delete",function(w){var f=arguments.length,E=f<2?void 0:arguments[1];if(f&&E===void 0)return y(this,w);var A=[];v(this,function(I,W){b(A,{key:W,value:I})}),e(f,1);for(var O=d(w),T=d(E),D=0,F=0,C=!1,B=A.length,M;D<B;)M=A[D++],C||M.key===O?(C=!0,y(this,M.key)):F++;for(;F<B;)M=A[F++],M.key===O&&M.value===T||x(this,M.key,M.value)},{enumerable:!0,unsafe:!0})},h=>{var o=TypeError;h.exports=function(s,i){if(s<i)throw o("Not enough arguments");return s}},(h,o,s)=>{var i=s(48),l=s(14),d=s(77),e=s(147),r=URLSearchParams,p=r.prototype,x=l(p.getAll),y=l(p.has),v=new r("a=1");(v.has("a",2)||!v.has("a",void 0))&&i(p,"has",function(g){var w=arguments.length,f=w<2?void 0:arguments[1];if(w&&f===void 0)return y(this,g);var E=x(this,g);e(w,1);for(var A=d(f),O=0;O<E.length;)if(E[O++]===A)return!0;return!1},{enumerable:!0,unsafe:!0})},(h,o,s)=>{var i=s(6),l=s(14),d=s(87),e=URLSearchParams.prototype,r=l(e.forEach);i&&!("size"in e)&&d(e,"size",{get:function(){var x=0;return r(this,function(){x++}),x},configurable:!0,enumerable:!0})},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XRefParseException=o.XRefEntryException=o.ParserEOFException=o.PDF_VERSION_REGEXP=o.MissingDataException=void 0,o.arrayBuffersToBytes=b,o.collectActions=I,o.encodeToXmlString=J,o.escapePDFName=C,o.escapeString=B,o.getInheritableProperty=g,o.getLookupTableFactory=r,o.getNewAnnotationsMap=_,o.getRotationMatrix=re,o.isAscii=V,o.isWhiteSpace=D,o.log2=E,o.numberToString=Y,o.parseXFAPath=F,o.readInt8=A,o.readUint16=O,o.readUint32=T,o.recoverJsURL=U,o.stringToUTF16HexString=Z,o.stringToUTF16String=q,o.toRomanNumerals=f,o.validateCSSFont=N,o.validateFontName=H,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140),s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(2);var i=s(145),l=s(151),d=s(152);const e=/^[1-9]\.\d$/;o.PDF_VERSION_REGEXP=e;function r(oe){let ae;return function(){return oe&&(ae=Object.create(null),oe(ae),oe=null),ae}}class p extends i.BaseException{constructor(ae,R){super(`Missing data [${ae}, ${R})`,"MissingDataException"),this.begin=ae,this.end=R}}o.MissingDataException=p;class x extends i.BaseException{constructor(ae){super(ae,"ParserEOFException")}}o.ParserEOFException=x;class y extends i.BaseException{constructor(ae){super(ae,"XRefEntryException")}}o.XRefEntryException=y;class v extends i.BaseException{constructor(ae){super(ae,"XRefParseException")}}o.XRefParseException=v;function b(oe){const ae=oe.length;if(ae===0)return new Uint8Array(0);if(ae===1)return new Uint8Array(oe[0]);let R=0;for(let k=0;k<ae;k++)R+=oe[k].byteLength;const S=new Uint8Array(R);let L=0;for(let k=0;k<ae;k++){const z=new Uint8Array(oe[k]);S.set(z,L),L+=z.byteLength}return S}function g(oe){let{dict:ae,key:R,getArray:S=!1,stopWhenFound:L=!0}=oe,k;const z=new l.RefSet;for(;ae instanceof l.Dict&&!(ae.objId&&z.has(ae.objId));){ae.objId&&z.put(ae.objId);const P=S?ae.getArray(R):ae.get(R);if(P!==void 0){if(L)return P;(k||(k=[])).push(P)}ae=ae.get("Parent")}return k}const w=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function f(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(0,i.assert)(Number.isInteger(oe)&&oe>0,"The number should be a positive integer.");const R=[];let S;for(;oe>=1e3;)oe-=1e3,R.push("M");S=oe/100|0,oe%=100,R.push(w[S]),S=oe/10|0,oe%=10,R.push(w[10+S]),R.push(w[20+oe]);const L=R.join("");return ae?L.toLowerCase():L}function E(oe){return oe<=0?0:Math.ceil(Math.log2(oe))}function A(oe,ae){return oe[ae]<<24>>24}function O(oe,ae){return oe[ae]<<8|oe[ae+1]}function T(oe,ae){return(oe[ae]<<24|oe[ae+1]<<16|oe[ae+2]<<8|oe[ae+3])>>>0}function D(oe){return oe===32||oe===9||oe===13||oe===10}function F(oe){const ae=/(.+)\[(\d+)\]$/;return oe.split(".").map(R=>{const S=R.match(ae);return S?{name:S[1],pos:parseInt(S[2],10)}:{name:R,pos:0}})}function C(oe){const ae=[];let R=0;for(let S=0,L=oe.length;S<L;S++){const k=oe.charCodeAt(S);(k<33||k>126||k===35||k===40||k===41||k===60||k===62||k===91||k===93||k===123||k===125||k===47||k===37)&&(R<S&&ae.push(oe.substring(R,S)),ae.push(`#${k.toString(16)}`),R=S+1)}return ae.length===0?oe:(R<oe.length&&ae.push(oe.substring(R,oe.length)),ae.join(""))}function B(oe){return oe.replaceAll(/([()\\\n\r])/g,ae=>ae===`
`?"\\n":ae==="\r"?"\\r":`\\${ae}`)}function M(oe,ae,R,S){if(!oe)return;let L=null;if(oe instanceof l.Ref){if(S.has(oe))return;L=oe,S.put(L),oe=ae.fetch(oe)}if(Array.isArray(oe))for(const k of oe)M(k,ae,R,S);else if(oe instanceof l.Dict){if((0,l.isName)(oe.get("S"),"JavaScript")){const k=oe.get("JS");let z;k instanceof d.BaseStream?z=k.getString():typeof k=="string"&&(z=k),z&&(z=(0,i.stringToPDFString)(z).replaceAll("\0","")),z&&R.push(z)}M(oe.getRaw("Next"),ae,R,S)}L&&S.remove(L)}function I(oe,ae,R){const S=Object.create(null),L=g({dict:ae,key:"AA",stopWhenFound:!1});if(L)for(let k=L.length-1;k>=0;k--){const z=L[k];if(z instanceof l.Dict)for(const P of z.getKeys()){const K=R[P];if(!K)continue;const te=z.getRaw(P),X=new l.RefSet,ee=[];M(te,oe,ee,X),ee.length>0&&(S[K]=ee)}}if(ae.has("A")){const k=ae.get("A"),z=new l.RefSet,P=[];M(k,oe,P,z),P.length>0&&(S.Action=P)}return(0,i.objectSize)(S)>0?S:null}const W={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function J(oe){const ae=[];let R=0;for(let S=0,L=oe.length;S<L;S++){const k=oe.codePointAt(S);if(32<=k&&k<=126){const z=W[k];z&&(R<S&&ae.push(oe.substring(R,S)),ae.push(z),R=S+1)}else R<S&&ae.push(oe.substring(R,S)),ae.push(`&#x${k.toString(16).toUpperCase()};`),k>55295&&(k<57344||k>65533)&&S++,R=S+1}return ae.length===0?oe:(R<oe.length&&ae.push(oe.substring(R,oe.length)),ae.join(""))}function H(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const R=/^("|').*("|')$/.exec(oe);if(R&&R[1]===R[2]){if(new RegExp(`[^\\\\]${R[1]}`).test(oe.slice(1,-1)))return ae&&(0,i.warn)(`FontFamily contains unescaped ${R[1]}: ${oe}.`),!1}else for(const S of oe.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(S)||!/^[\w-\\]+$/.test(S))return ae&&(0,i.warn)(`FontFamily contains invalid <custom-ident>: ${oe}.`),!1;return!0}function N(oe){const ae="14",R="400",S=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:L,fontWeight:k,italicAngle:z}=oe;if(!H(L,!0))return!1;const P=k?k.toString():"";oe.fontWeight=S.has(P)?P:R;const K=parseFloat(z);return oe.italicAngle=isNaN(K)||K<-90||K>90?ae:z.toString(),!0}function U(oe){const ae=["app.launchURL","window.open","xfa.host.gotoURL"],S=new RegExp("^\\s*("+ae.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(oe);if(S!=null&&S[2]){const L=S[2];let k=!1;return S[3]==="true"&&S[1]==="app.launchURL"&&(k=!0),{url:L,newWindow:k}}return null}function Y(oe){if(Number.isInteger(oe))return oe.toString();const ae=Math.round(oe*100);return ae%100===0?(ae/100).toString():ae%10===0?oe.toFixed(1):oe.toFixed(2)}function _(oe){if(!oe)return null;const ae=new Map;for(const[R,S]of oe){if(!R.startsWith(i.AnnotationEditorPrefix))continue;let L=ae.get(S.pageIndex);L||(L=[],ae.set(S.pageIndex,L)),L.push(S)}return ae.size>0?ae:null}function V(oe){return/^[\x00-\x7F]*$/.test(oe)}function Z(oe){const ae=[];for(let R=0,S=oe.length;R<S;R++){const L=oe.charCodeAt(R);ae.push((L>>8&255).toString(16).padStart(2,"0"),(L&255).toString(16).padStart(2,"0"))}return ae.join("")}function q(oe){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const R=[];ae&&R.push("\xFE\xFF");for(let S=0,L=oe.length;S<L;S++){const k=oe.charCodeAt(S);R.push(String.fromCharCode(k>>8&255),String.fromCharCode(k&255))}return R.join("")}function re(oe,ae,R){switch(oe){case 90:return[0,1,-1,0,ae,0];case 180:return[-1,0,0,-1,ae,R];case 270:return[0,-1,1,0,0,R];default:throw new Error("Invalid rotation")}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RefSetCache=o.RefSet=o.Ref=o.Name=o.EOF=o.Dict=o.Cmd=o.CIRCULAR_REF=void 0,o.clearPrimitiveCaches=x,o.isCmd=O,o.isDict=T,o.isName=A,o.isRefsEqual=D,s(140),s(116),s(127),s(129),s(132),s(134),s(136),s(138);var i=s(145);const l=Symbol("CIRCULAR_REF");o.CIRCULAR_REF=l;const d=Symbol("EOF");o.EOF=d;let e=Object.create(null),r=Object.create(null),p=Object.create(null);function x(){e=Object.create(null),r=Object.create(null),p=Object.create(null)}class y{constructor(C){this.name=C}static get(C){return r[C]||(r[C]=new y(C))}}o.Name=y;class v{constructor(C){this.cmd=C}static get(C){return e[C]||(e[C]=new v(C))}}o.Cmd=v;const b=function(){return b};class g{constructor(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._map=Object.create(null),this.xref=C,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=b}assignXref(C){this.xref=C}get size(){return Object.keys(this._map).length}get(C,B,M){let I=this._map[C];return I===void 0&&B!==void 0&&(I=this._map[B],I===void 0&&M!==void 0&&(I=this._map[M])),I instanceof w&&this.xref?this.xref.fetch(I,this.suppressEncryption):I}async getAsync(C,B,M){let I=this._map[C];return I===void 0&&B!==void 0&&(I=this._map[B],I===void 0&&M!==void 0&&(I=this._map[M])),I instanceof w&&this.xref?this.xref.fetchAsync(I,this.suppressEncryption):I}getArray(C,B,M){let I=this._map[C];if(I===void 0&&B!==void 0&&(I=this._map[B],I===void 0&&M!==void 0&&(I=this._map[M])),I instanceof w&&this.xref&&(I=this.xref.fetch(I,this.suppressEncryption)),Array.isArray(I)){I=I.slice();for(let W=0,J=I.length;W<J;W++)I[W]instanceof w&&this.xref&&(I[W]=this.xref.fetch(I[W],this.suppressEncryption))}return I}getRaw(C){return this._map[C]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(C,B){this._map[C]=B}has(C){return this._map[C]!==void 0}forEach(C){for(const B in this._map)C(B,this.get(B))}static get empty(){const C=new g(null);return C.set=(B,M)=>{(0,i.unreachable)("Should not call `set` on the empty dictionary.")},(0,i.shadow)(this,"empty",C)}static merge(C){let{xref:B,dictArray:M,mergeSubDicts:I=!1}=C;const W=new g(B),J=new Map;for(const H of M)if(H instanceof g)for(const[N,U]of Object.entries(H._map)){let Y=J.get(N);if(Y===void 0)Y=[],J.set(N,Y);else if(!I||!(U instanceof g))continue;Y.push(U)}for(const[H,N]of J){if(N.length===1||!(N[0]instanceof g)){W._map[H]=N[0];continue}const U=new g(B);for(const Y of N)for(const[_,V]of Object.entries(Y._map))U._map[_]===void 0&&(U._map[_]=V);U.size>0&&(W._map[H]=U)}return J.clear(),W.size>0?W:g.empty}clone(){const C=new g(this.xref);for(const B of this.getKeys())C.set(B,this.getRaw(B));return C}}o.Dict=g;class w{constructor(C,B){this.num=C,this.gen=B}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(C){const B=p[C];if(B)return B;const M=/^(\d+)R(\d*)$/.exec(C);return!M||M[1]==="0"?null:p[C]=new w(parseInt(M[1]),M[2]?parseInt(M[2]):0)}static get(C,B){const M=B===0?`${C}R`:`${C}R${B}`;return p[M]||(p[M]=new w(C,B))}}o.Ref=w;class f{constructor(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._set=new Set(C==null?void 0:C._set)}has(C){return this._set.has(C.toString())}put(C){this._set.add(C.toString())}remove(C){this._set.delete(C.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}o.RefSet=f;class E{constructor(){this._map=new Map}get size(){return this._map.size}get(C){return this._map.get(C.toString())}has(C){return this._map.has(C.toString())}put(C,B){this._map.set(C.toString(),B)}putAlias(C,B){this._map.set(C.toString(),this.get(B))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}o.RefSetCache=E;function A(F,C){return F instanceof y&&(C===void 0||F.name===C)}function O(F,C){return F instanceof v&&(C===void 0||F.cmd===C)}function T(F,C){return F instanceof g&&(C===void 0||A(F.get("Type"),C))}function D(F,C){return F.num===C.num&&F.gen===C.gen}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStream=void 0;var i=s(145);class l{constructor(){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseStream.")}get length(){(0,i.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,i.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,i.shadow)(this,"isDataLoaded",!0)}getByte(){(0,i.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,i.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const r=this.getBytes(e);return this.pos-=r.length,r}getUint16(){const e=this.getByte(),r=this.getByte();return e===-1||r===-1?-1:(e<<8)+r}getInt32(){const e=this.getByte(),r=this.getByte(),p=this.getByte(),x=this.getByte();return(e<<24)+(r<<16)+(p<<8)+x}getByteRange(e,r){(0,i.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,i.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,i.unreachable)("Abstract method `reset` called")}moveStart(){(0,i.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,r){(0,i.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}o.BaseStream=l},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NetworkPdfManager=o.LocalPdfManager=void 0;var i=s(145),l=s(154),d=s(150),e=s(156),r=s(155);function p(b){if(b){const g=(0,i.createValidAbsoluteUrl)(b);if(g)return g.href;(0,i.warn)(`Invalid absolute docBaseUrl: "${b}".`)}return null}class x{constructor(g){var w;this.constructor===x&&(0,i.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=p(g.docBaseUrl),this._docId=g.docId,this._password=g.password,this.enableXfa=g.enableXfa,(w=g.evaluatorOptions).isOffscreenCanvasSupported&&(w.isOffscreenCanvasSupported=i.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=g.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(g,w){return this.ensure(this.pdfDocument,g,w)}ensureXRef(g,w){return this.ensure(this.pdfDocument.xref,g,w)}ensureCatalog(g,w){return this.ensure(this.pdfDocument.catalog,g,w)}getPage(g){return this.pdfDocument.getPage(g)}fontFallback(g,w){return this.pdfDocument.fontFallback(g,w)}loadXfaFonts(g,w){return this.pdfDocument.loadXfaFonts(g,w)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(g){return this.pdfDocument.serializeXfaData(g)}cleanup(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pdfDocument.cleanup(g)}async ensure(g,w,f){(0,i.unreachable)("Abstract method `ensure` called")}requestRange(g,w){(0,i.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,i.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(g){(0,i.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(g){this._password=g}terminate(g){(0,i.unreachable)("Abstract method `terminate` called")}}class y extends x{constructor(g){super(g);const w=new r.Stream(g.source);this.pdfDocument=new e.PDFDocument(this,w),this._loadedStreamPromise=Promise.resolve(w)}async ensure(g,w,f){const E=g[w];return typeof E=="function"?E.apply(g,f):E}requestRange(g,w){return Promise.resolve()}requestLoadedStream(){return this._loadedStreamPromise}terminate(g){}}o.LocalPdfManager=y;class v extends x{constructor(g){super(g),this.streamManager=new l.ChunkedStreamManager(g.source,{msgHandler:g.handler,length:g.length,disableAutoFetch:g.disableAutoFetch,rangeChunkSize:g.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(g,w,f){try{const E=g[w];return typeof E=="function"?E.apply(g,f):E}catch(E){if(!(E instanceof d.MissingDataException))throw E;return await this.requestRange(E.begin,E.end),this.ensure(g,w,f)}}requestRange(g,w){return this.streamManager.requestRange(g,w)}requestLoadedStream(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.streamManager.requestAllChunks(g)}sendProgressiveData(g){this.streamManager.onReceiveData({chunk:g})}terminate(g){this.streamManager.abort(g)}}o.NetworkPdfManager=v},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ChunkedStreamManager=o.ChunkedStream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(140),s(2);var i=s(150),l=s(145),d=s(155);class e extends d.Stream{constructor(x,y,v){super(new Uint8Array(x),0,x,null),this.chunkSize=y,this._loadedChunks=new Set,this.numChunks=Math.ceil(x/y),this.manager=v,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const x=[];for(let y=0,v=this.numChunks;y<v;++y)this._loadedChunks.has(y)||x.push(y);return x}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(x,y){const v=this.chunkSize;if(x%v!==0)throw new Error(`Bad begin offset: ${x}`);const b=x+y.byteLength;if(b%v!==0&&b!==this.bytes.length)throw new Error(`Bad end offset: ${b}`);this.bytes.set(new Uint8Array(y),x);const g=Math.floor(x/v),w=Math.floor((b-1)/v)+1;for(let f=g;f<w;++f)this._loadedChunks.add(f)}onReceiveProgressiveData(x){let y=this.progressiveDataLength;const v=Math.floor(y/this.chunkSize);this.bytes.set(new Uint8Array(x),y),y+=x.byteLength,this.progressiveDataLength=y;const b=y>=this.end?this.numChunks:Math.floor(y/this.chunkSize);for(let g=v;g<b;++g)this._loadedChunks.add(g)}ensureByte(x){if(x<this.progressiveDataLength)return;const y=Math.floor(x/this.chunkSize);if(!(y>this.numChunks)&&y!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(y))throw new i.MissingDataException(x,x+1);this.lastSuccessfulEnsureByteChunk=y}}ensureRange(x,y){if(x>=y||y<=this.progressiveDataLength)return;const v=Math.floor(x/this.chunkSize);if(v>this.numChunks)return;const b=Math.min(Math.floor((y-1)/this.chunkSize)+1,this.numChunks);for(let g=v;g<b;++g)if(!this._loadedChunks.has(g))throw new i.MissingDataException(x,y)}nextEmptyChunk(x){const y=this.numChunks;for(let v=0;v<y;++v){const b=(x+v)%y;if(!this._loadedChunks.has(b))return b}return null}hasChunk(x){return this._loadedChunks.has(x)}getByte(){const x=this.pos;return x>=this.end?-1:(x>=this.progressiveDataLength&&this.ensureByte(x),this.bytes[this.pos++])}getBytes(x){const y=this.bytes,v=this.pos,b=this.end;if(!x)return b>this.progressiveDataLength&&this.ensureRange(v,b),y.subarray(v,b);let g=v+x;return g>b&&(g=b),g>this.progressiveDataLength&&this.ensureRange(v,g),this.pos=g,y.subarray(v,g)}getByteRange(x,y){return x<0&&(x=0),y>this.end&&(y=this.end),y>this.progressiveDataLength&&this.ensureRange(x,y),this.bytes.subarray(x,y)}makeSubStream(x,y){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;y?x+y>this.progressiveDataLength&&this.ensureRange(x,x+y):x>=this.progressiveDataLength&&this.ensureByte(x);function b(){}b.prototype=Object.create(this),b.prototype.getMissingChunks=function(){const w=this.chunkSize,f=Math.floor(this.start/w),E=Math.floor((this.end-1)/w)+1,A=[];for(let O=f;O<E;++O)this._loadedChunks.has(O)||A.push(O);return A},Object.defineProperty(b.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const g=new b;return g.pos=g.start=x,g.end=x+y||this.end,g.dict=v,g}getBaseStreams(){return[this]}}o.ChunkedStream=e;class r{constructor(x,y){this.length=y.length,this.chunkSize=y.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=x,this.disableAutoFetch=y.disableAutoFetch,this.msgHandler=y.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new l.PromiseCapability}sendRequest(x,y){const v=this.pdfNetworkStream.getRangeReader(x,y);v.isStreamingSupported||(v.onProgress=this.onProgress.bind(this));let b=[],g=0;return new Promise((w,f)=>{const E=A=>{let{value:O,done:T}=A;try{if(T){const D=(0,i.arrayBuffersToBytes)(b);b=null,w(D);return}g+=O.byteLength,v.isStreamingSupported&&this.onProgress({loaded:g}),b.push(O),v.read().then(E,f)}catch(D){f(D)}};v.read().then(E,f)}).then(w=>{this.aborted||this.onReceiveData({chunk:w,begin:x})})}requestAllChunks(){if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)){const y=this.stream.getMissingChunks();this._requestChunks(y)}return this._loadedStreamCapability.promise}_requestChunks(x){const y=this.currRequestId++,v=new Set;this._chunksNeededByRequest.set(y,v);for(const w of x)this.stream.hasChunk(w)||v.add(w);if(v.size===0)return Promise.resolve();const b=new l.PromiseCapability;this._promisesByRequest.set(y,b);const g=[];for(const w of v){let f=this._requestsByChunk.get(w);f||(f=[],this._requestsByChunk.set(w,f),g.push(w)),f.push(y)}if(g.length>0){const w=this.groupChunks(g);for(const f of w){const E=f.beginChunk*this.chunkSize,A=Math.min(f.endChunk*this.chunkSize,this.length);this.sendRequest(E,A).catch(b.reject)}}return b.promise.catch(w=>{if(!this.aborted)throw w})}getStream(){return this.stream}requestRange(x,y){y=Math.min(y,this.length);const v=this.getBeginChunk(x),b=this.getEndChunk(y),g=[];for(let w=v;w<b;++w)g.push(w);return this._requestChunks(g)}requestRanges(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const y=[];for(const v of x){const b=this.getBeginChunk(v.begin),g=this.getEndChunk(v.end);for(let w=b;w<g;++w)y.includes(w)||y.push(w)}return y.sort(function(v,b){return v-b}),this._requestChunks(y)}groupChunks(x){const y=[];let v=-1,b=-1;for(let g=0,w=x.length;g<w;++g){const f=x[g];v<0&&(v=f),b>=0&&b+1!==f&&(y.push({beginChunk:v,endChunk:b+1}),v=f),g+1===x.length&&y.push({beginChunk:v,endChunk:f+1}),b=f}return y}onProgress(x){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+x.loaded,total:this.length})}onReceiveData(x){const y=x.chunk,v=x.begin===void 0,b=v?this.progressiveDataLength:x.begin,g=b+y.byteLength,w=Math.floor(b/this.chunkSize),f=g<this.length?Math.floor(g/this.chunkSize):Math.ceil(g/this.chunkSize);v?(this.stream.onReceiveProgressiveData(y),this.progressiveDataLength=g):this.stream.onReceiveData(b,y),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const E=[];for(let A=w;A<f;++A){const O=this._requestsByChunk.get(A);if(!!O){this._requestsByChunk.delete(A);for(const T of O){const D=this._chunksNeededByRequest.get(T);D.has(A)&&D.delete(A),!(D.size>0)&&E.push(T)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let A;if(this.stream.numChunksLoaded===1){const O=this.stream.numChunks-1;this.stream.hasChunk(O)||(A=O)}else A=this.stream.nextEmptyChunk(f);Number.isInteger(A)&&this._requestChunks([A])}for(const A of E){const O=this._promisesByRequest.get(A);this._promisesByRequest.delete(A),O.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(x){this._loadedStreamCapability.reject(x)}getBeginChunk(x){return Math.floor(x/this.chunkSize)}getEndChunk(x){return Math.floor((x-1)/this.chunkSize)+1}abort(x){var y;this.aborted=!0,(y=this.pdfNetworkStream)==null||y.cancelAllRequests(x);for(const v of this._promisesByRequest.values())v.reject(x)}}o.ChunkedStreamManager=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StringStream=o.Stream=o.NullStream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(152),l=s(145);class d extends i.BaseStream{constructor(x,y,v,b){super(),this.bytes=x instanceof Uint8Array?x:new Uint8Array(x),this.start=y||0,this.pos=this.start,this.end=y+v||this.bytes.length,this.dict=b}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(x){const y=this.bytes,v=this.pos,b=this.end;if(!x)return y.subarray(v,b);let g=v+x;return g>b&&(g=b),this.pos=g,y.subarray(v,g)}getByteRange(x,y){return x<0&&(x=0),y>this.end&&(y=this.end),this.bytes.subarray(x,y)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(x,y){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new d(this.bytes.buffer,x,y,v)}}o.Stream=d;class e extends d{constructor(x){super((0,l.stringToBytes)(x))}}o.StringStream=e;class r extends d{constructor(){super(new Uint8Array(0))}}o.NullStream=r},(h,o,s)=>{var V,Hd,q,zd;Object.defineProperty(o,"__esModule",{value:!0}),o.Page=o.PDFDocument=void 0,s(2),s(140),s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(145),l=s(157),d=s(150),e=s(151),r=s(202),p=s(152),x=s(225),y=s(217),v=s(219),b=s(256),g=s(167),w=s(155),f=s(227),E=s(215),A=s(164),O=s(169),T=s(223),D=s(224),F=s(228),C=s(257);const B=1,M=[0,0,612,792];class I{constructor(ae){Le(this,V);let{pdfManager:R,xref:S,pageIndex:L,pageDict:k,ref:z,globalIdFactory:P,fontCache:K,builtInCMapCache:te,standardFontDataCache:X,globalImageCache:ee,systemFontCache:G,nonBlendModesSet:ne,xfaFactory:se}=ae;this.pdfManager=R,this.pageIndex=L,this.pageDict=k,this.xref=S,this.ref=z,this.fontCache=K,this.builtInCMapCache=te,this.standardFontDataCache=X,this.globalImageCache=ee,this.systemFontCache=G,this.nonBlendModesSet=ne,this.evaluatorOptions=R.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=se;const le={obj:0};this._localIdFactory=class extends P{static createObjId(){return`p${L}_${++le.obj}`}static getPageObjId(){return`p${z.toString()}`}}}_getInheritableProperty(ae){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const S=(0,d.getInheritableProperty)({dict:this.pageDict,key:ae,getArray:R,stopWhenFound:!1});return Array.isArray(S)?S.length===1||!(S[0]instanceof e.Dict)?S[0]:e.Dict.merge({xref:this.xref,dictArray:S}):S}get content(){return this.pageDict.getArray("Contents")}get resources(){const ae=this._getInheritableProperty("Resources");return(0,i.shadow)(this,"resources",ae instanceof e.Dict?ae:e.Dict.empty)}_getBoundingBox(ae){if(this.xfaData)return this.xfaData.bbox;let R=this._getInheritableProperty(ae,!0);if(Array.isArray(R)&&R.length===4){if(R=i.Util.normalizeRect(R),R[2]-R[0]>0&&R[3]-R[1]>0)return R;(0,i.warn)(`Empty, or invalid, /${ae} entry.`)}return null}get mediaBox(){return(0,i.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||M)}get cropBox(){return(0,i.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let ae=this.pageDict.get("UserUnit");return(typeof ae!="number"||ae<=0)&&(ae=B),(0,i.shadow)(this,"userUnit",ae)}get view(){const{cropBox:ae,mediaBox:R}=this;if(ae!==R&&!(0,i.isArrayEqual)(ae,R)){const S=i.Util.intersect(ae,R);if(S&&S[2]-S[0]>0&&S[3]-S[1]>0)return(0,i.shadow)(this,"view",S);(0,i.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,i.shadow)(this,"view",R)}get rotate(){let ae=this._getInheritableProperty("Rotate")||0;return ae%90!==0?ae=0:ae>=360?ae%=360:ae<0&&(ae=(ae%360+360)%360),(0,i.shadow)(this,"rotate",ae)}_onSubStreamError(ae,R){if(this.evaluatorOptions.ignoreErrors){(0,i.warn)(`getContentStream - ignoring sub-stream (${R}): "${ae}".`);return}throw ae}getContentStream(){return this.pdfManager.ensure(this,"content").then(ae=>ae instanceof p.BaseStream?ae:Array.isArray(ae)?new O.StreamsSequenceStream(ae,this._onSubStreamError.bind(this)):new w.NullStream)}get xfaData(){return(0,i.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(ae,R,S,L){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const k=new A.PartialEvaluator({xref:this.xref,handler:ae,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),z=new e.RefSet,P=new e.RefSet;Ue(this,V,Hd).call(this,S,z,P);const K=this.pageDict,te=this.annotations.filter(se=>!(se instanceof e.Ref&&z.has(se))),X=await l.AnnotationFactory.saveNewAnnotations(k,R,S,L);for(const{ref:se}of X.annotations)se instanceof e.Ref&&!P.has(se)&&te.push(se);const ee=K.get("Annots");K.set("Annots",te);const G=[];await(0,D.writeObject)(this.ref,K,G,this.xref),ee&&K.set("Annots",ee);const ne=X.dependencies;return ne.push({ref:this.ref,data:G.join("")},...X.annotations),ne}save(ae,R,S){const L=new A.PartialEvaluator({xref:this.xref,handler:ae,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(k){const z=[];for(const P of k)!P.mustBePrinted(S)||z.push(P.save(L,R,S).catch(function(K){return(0,i.warn)(`save - ignoring annotation data during "${R.name}" task: "${K}".`),null}));return Promise.all(z).then(function(P){return P.filter(K=>!!K)})})}loadResources(ae){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new f.ObjectLoader(this.resources,ae,this.xref).load())}getOperatorList(ae){let{handler:R,sink:S,task:L,intent:k,cacheKey:z,annotationStorage:P=null}=ae;const K=this.getContentStream(),te=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),X=new A.PartialEvaluator({xref:this.xref,handler:R,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),ee=this.xfaFactory?null:(0,d.getNewAnnotationsMap)(P);let G=null,ne=Promise.resolve(null);if(ee){const he=ee.get(this.pageIndex);if(he){const be=this.pdfManager.ensureDoc("annotationGlobals");let ye;const de=new Set;for(const{bitmapId:fe,bitmap:ce}of he)fe&&!ce&&!de.has(fe)&&de.add(fe);const{isOffscreenCanvasSupported:xe}=this.evaluatorOptions;if(de.size>0){const fe=he.slice();for(const[ce,ue]of P)!ce.startsWith(i.AnnotationEditorPrefix)||ue.bitmap&&de.has(ue.bitmapId)&&fe.push(ue);ye=l.AnnotationFactory.generateImages(fe,this.xref,xe)}else ye=l.AnnotationFactory.generateImages(he,this.xref,xe);G=new e.RefSet,Ue(this,V,Hd).call(this,he,G,null),ne=be.then(fe=>fe?l.AnnotationFactory.printNewAnnotations(fe,X,L,he,ye):null)}}const le=Promise.all([K,te]).then(he=>{let[be]=he;const ye=new E.OperatorList(k,S);return R.send("StartRenderPage",{transparency:X.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:z}),X.getOperatorList({stream:be,task:L,resources:this.resources,operatorList:ye}).then(function(){return ye})});return Promise.all([le,this._parsedAnnotations,ne]).then(function(he){let[be,ye,de]=he;if(de){ye=ye.filter(Ee=>!(Ee.ref&&G.has(Ee.ref)));for(let Ee=0,Me=de.length;Ee<Me;Ee++){const _e=de[Ee];if(_e.refToReplace){const ze=ye.findIndex(We=>We.ref&&(0,e.isRefsEqual)(We.ref,_e.refToReplace));ze>=0&&(ye.splice(ze,1,_e),de.splice(Ee--,1),Me--)}}ye=ye.concat(de)}if(ye.length===0||k&i.RenderingIntentFlag.ANNOTATIONS_DISABLE)return be.flush(!0),{length:be.totalLength};const xe=!!(k&i.RenderingIntentFlag.ANNOTATIONS_FORMS),fe=!!(k&i.RenderingIntentFlag.ANY),ce=!!(k&i.RenderingIntentFlag.DISPLAY),ue=!!(k&i.RenderingIntentFlag.PRINT),ve=[];for(const Ee of ye)(fe||ce&&Ee.mustBeViewed(P,xe)||ue&&Ee.mustBePrinted(P))&&ve.push(Ee.getOperatorList(X,L,k,xe,P).catch(function(Me){return(0,i.warn)(`getOperatorList - ignoring annotation data during "${L.name}" task: "${Me}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(ve).then(function(Ee){let Me=!1,_e=!1;for(const{opList:ze,separateForm:We,separateCanvas:Ve}of Ee)be.addOpList(ze),Me||(Me=We),_e||(_e=Ve);return be.flush(!0,{form:Me,canvas:_e}),{length:be.totalLength}})})}extractTextContent(ae){let{handler:R,task:S,includeMarkedContent:L,disableNormalization:k,sink:z}=ae;const P=this.getContentStream(),K=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([P,K]).then(X=>{let[ee]=X;return new A.PartialEvaluator({xref:this.xref,handler:R,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:ee,task:S,resources:this.resources,includeMarkedContent:L,disableNormalization:k,sink:z,viewBox:this.view})})}async getStructTree(){const ae=await this.pdfManager.ensureCatalog("structTreeRoot");return ae?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[ae])).serializable):null}_parseStructTree(ae){const R=new T.StructTreePage(ae,this.pageDict);return R.parse(this.ref),R}async getAnnotationsData(ae,R,S){const L=await this._parsedAnnotations;if(L.length===0)return L;const k=[],z=[];let P;const K=!!(S&i.RenderingIntentFlag.ANY),te=!!(S&i.RenderingIntentFlag.DISPLAY),X=!!(S&i.RenderingIntentFlag.PRINT);for(const ee of L){const G=K||te&&ee.viewable;(G||X&&ee.printable)&&k.push(ee.data),ee.hasTextContent&&G&&(P||(P=new A.PartialEvaluator({xref:this.xref,handler:ae,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),z.push(ee.extractTextContent(P,R,[-1/0,-1/0,1/0,1/0]).catch(function(ne){(0,i.warn)(`getAnnotationsData - ignoring textContent during "${R.name}" task: "${ne}".`)})))}return await Promise.all(z),k}get annotations(){const ae=this._getInheritableProperty("Annots");return(0,i.shadow)(this,"annotations",Array.isArray(ae)?ae:[])}get _parsedAnnotations(){const ae=this.pdfManager.ensure(this,"annotations").then(async R=>{if(R.length===0)return R;const S=await this.pdfManager.ensureDoc("annotationGlobals");if(!S)return[];const L=[];for(const P of R)L.push(l.AnnotationFactory.create(this.xref,P,S,this._localIdFactory,!1,this.ref).catch(function(K){return(0,i.warn)(`_parsedAnnotations: "${K}".`),null}));const k=[];let z;for(const P of await Promise.all(L))if(!!P){if(P instanceof l.PopupAnnotation){(z||(z=[])).push(P);continue}k.push(P)}return z&&k.push(...z),k});return(0,i.shadow)(this,"_parsedAnnotations",ae)}get jsActions(){const ae=(0,d.collectActions)(this.xref,this.pageDict,i.PageActionEventType);return(0,i.shadow)(this,"jsActions",ae)}}V=new WeakSet,Hd=function(ae,R,S){for(const L of ae)if(L.id){const k=e.Ref.fromString(L.id);if(!k){(0,i.warn)(`A non-linked annotation cannot be modified: ${L.id}`);continue}if(L.deleted){R.put(k);continue}S==null||S.put(k),L.ref=k,delete L.id}},o.Page=I;const W=new Uint8Array([37,80,68,70,45]),J=new Uint8Array([115,116,97,114,116,120,114,101,102]),H=new Uint8Array([101,110,100,111,98,106]),N=1024,U="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function Y(oe,ae){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1024,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const L=ae.length,k=oe.peekBytes(R),z=k.length-L;if(z<=0)return!1;if(S){const P=L-1;let K=k.length-1;for(;K>=P;){let te=0;for(;te<L&&k[K-te]===ae[P-te];)te++;if(te>=L)return oe.pos+=K-P,!0;K--}}else{let P=0;for(;P<=z;){let K=0;for(;K<L&&k[P+K]===ae[K];)K++;if(K>=L)return oe.pos+=P,!0;P++}}return!1}class _{constructor(ae,R){Le(this,q);if(R.length<=0)throw new i.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=ae,this.stream=R,this.xref=new C.XRef(R,ae),this._pagePromises=new Map,this._version=null;const S={font:0};this._globalIdFactory=class{static getDocId(){return`g_${ae.docId}`}static createFontId(){return`f${++S.font}`}static createObjId(){(0,i.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,i.unreachable)("Abstract method `getPageObjId` called.")}}}parse(ae){this.xref.parse(ae),this.catalog=new y.Catalog(this.pdfManager,this.xref)}get linearization(){let ae=null;try{ae=g.Linearization.create(this.stream)}catch(R){if(R instanceof d.MissingDataException)throw R;(0,i.info)(R)}return(0,i.shadow)(this,"linearization",ae)}get startXRef(){const ae=this.stream;let R=0;if(this.linearization)ae.reset(),Y(ae,H)&&(R=ae.pos+6-ae.start);else{const L=J.length;let k=!1,z=ae.end;for(;!k&&z>0;)z-=1024-L,z<0&&(z=0),ae.pos=z,k=Y(ae,J,1024,!0);if(k){ae.skip(9);let P;do P=ae.getByte();while((0,d.isWhiteSpace)(P));let K="";for(;P>=32&&P<=57;)K+=String.fromCharCode(P),P=ae.getByte();R=parseInt(K,10),isNaN(R)&&(R=0)}}return(0,i.shadow)(this,"startXRef",R)}checkHeader(){const ae=this.stream;if(ae.reset(),!Y(ae,W))return;ae.moveStart(),ae.skip(W.length);let R="",S;for(;(S=ae.getByte())>32&&R.length<7;)R+=String.fromCharCode(S);d.PDF_VERSION_REGEXP.test(R)?this._version=R:(0,i.warn)(`Invalid PDF header version: ${R}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let ae=0;return this.catalog.hasActualNumPages?ae=this.catalog.numPages:this.xfaFactory?ae=this.xfaFactory.getNumPages():this.linearization?ae=this.linearization.numPages:ae=this.catalog.numPages,(0,i.shadow)(this,"numPages",ae)}_hasOnlyDocumentSignatures(ae){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const S=10;return Array.isArray(ae)?ae.every(L=>{if(L=this.xref.fetchIfRef(L),!(L instanceof e.Dict))return!1;if(L.has("Kids"))return++R>S?((0,i.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(L.get("Kids"),R);const k=(0,e.isName)(L.get("FT"),"Sig"),z=L.get("Rect"),P=Array.isArray(z)&&z.every(K=>K===0);return k&&P}):!1}get _xfaStreams(){const ae=this.catalog.acroForm;if(!ae)return null;const R=ae.get("XFA"),S={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(R instanceof p.BaseStream&&!R.isEmpty)return S["xdp:xdp"]=R,S;if(!Array.isArray(R)||R.length===0)return null;for(let L=0,k=R.length;L<k;L+=2){let z;if(L===0?z="xdp:xdp":L===k-2?z="/xdp:xdp":z=R[L],!S.hasOwnProperty(z))continue;const P=this.xref.fetchIfRef(R[L+1]);!(P instanceof p.BaseStream)||P.isEmpty||(S[z]=P)}return S}get xfaDatasets(){const ae=this._xfaStreams;if(!ae)return(0,i.shadow)(this,"xfaDatasets",null);for(const R of["datasets","xdp:xdp"]){const S=ae[R];if(!!S)try{const L=(0,i.stringToUTF8String)(S.getString()),k={[R]:L};return(0,i.shadow)(this,"xfaDatasets",new b.DatasetReader(k))}catch{(0,i.warn)("XFA - Invalid utf-8 string.");break}}return(0,i.shadow)(this,"xfaDatasets",null)}get xfaData(){const ae=this._xfaStreams;if(!ae)return null;const R=Object.create(null);for(const[S,L]of Object.entries(ae))if(!!L)try{R[S]=(0,i.stringToUTF8String)(L.getString())}catch{return(0,i.warn)("XFA - Invalid utf-8 string."),null}return R}get xfaFactory(){let ae;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(ae=this.xfaData),(0,i.shadow)(this,"xfaFactory",ae?new F.XFAFactory(ae):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const ae=await this.pdfManager.ensureCatalog("xfaImages");if(!ae)return;const R=ae.getKeys();await new f.ObjectLoader(ae,R,this.xref).load();const L=new Map;for(const k of R){const z=ae.get(k);z instanceof p.BaseStream&&L.set(k,z.getBytes())}this.xfaFactory.setImages(L)}async loadXfaFonts(ae,R){const S=await this.pdfManager.ensureCatalog("acroForm");if(!S)return;const L=await S.getAsync("DR");if(!(L instanceof e.Dict))return;await new f.ObjectLoader(L,["Font"],this.xref).load();const z=L.get("Font");if(!(z instanceof e.Dict))return;const P=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);P.useSystemFonts=!1;const K=new A.PartialEvaluator({xref:this.xref,handler:ae,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:P}),te=new E.OperatorList,X=[],ee={get font(){return X.at(-1)},set font(he){X.push(he)},clone(){return this}},G=new Map;z.forEach((he,be)=>{G.set(he,be)});const ne=[];for(const[he,be]of G){const ye=be.get("FontDescriptor");if(!(ye instanceof e.Dict))continue;let de=ye.get("FontFamily");de=de.replaceAll(/[ ]+(\d)/g,"$1");const xe=ye.get("FontWeight"),fe=-ye.get("ItalicAngle"),ce={fontFamily:de,fontWeight:xe,italicAngle:fe};!(0,d.validateCSSFont)(ce)||ne.push(K.handleSetFont(L,[e.Name.get(he),1],null,te,R,ee,null,ce).catch(function(ue){return(0,i.warn)(`loadXfaFonts: "${ue}".`),null}))}await Promise.all(ne);const se=this.xfaFactory.setFonts(X);if(!se)return;P.ignoreErrors=!0,ne.length=0,X.length=0;const le=new Set;for(const he of se)(0,r.getXfaFontName)(`${he}-Regular`)||le.add(he);le.size&&se.push("PdfJS-Fallback");for(const he of se)if(!le.has(he))for(const be of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const ye=`${he}-${be.name}`,de=(0,r.getXfaFontDict)(ye);ne.push(K.handleSetFont(L,[e.Name.get(ye),1],null,te,R,ee,de,{fontFamily:he,fontWeight:be.fontWeight,italicAngle:be.italicAngle}).catch(function(xe){return(0,i.warn)(`loadXfaFonts: "${xe}".`),null}))}await Promise.all(ne),this.xfaFactory.appendFonts(X,le)}async serializeXfaData(ae){return this.xfaFactory?this.xfaFactory.serializeData(ae):null}get version(){return this.catalog.version||this._version}get formInfo(){const ae={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},R=this.catalog.acroForm;if(!R)return(0,i.shadow)(this,"formInfo",ae);try{const S=R.get("Fields"),L=Array.isArray(S)&&S.length>0;ae.hasFields=L;const k=R.get("XFA");ae.hasXfa=Array.isArray(k)&&k.length>0||k instanceof p.BaseStream&&!k.isEmpty;const P=!!(R.get("SigFlags")&1),K=P&&this._hasOnlyDocumentSignatures(S);ae.hasAcroForm=L&&!K,ae.hasSignatures=P}catch(S){if(S instanceof d.MissingDataException)throw S;(0,i.warn)(`Cannot fetch form information: "${S}".`)}return(0,i.shadow)(this,"formInfo",ae)}get documentInfo(){const ae={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let R;try{R=this.xref.trailer.get("Info")}catch(S){if(S instanceof d.MissingDataException)throw S;(0,i.info)("The document information dictionary is invalid.")}if(!(R instanceof e.Dict))return(0,i.shadow)(this,"documentInfo",ae);for(const S of R.getKeys()){const L=R.get(S);switch(S){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof L=="string"){ae[S]=(0,i.stringToPDFString)(L);continue}break;case"Trapped":if(L instanceof e.Name){ae[S]=L;continue}break;default:let k;switch(typeof L){case"string":k=(0,i.stringToPDFString)(L);break;case"number":case"boolean":k=L;break;default:L instanceof e.Name&&(k=L);break}if(k===void 0){(0,i.warn)(`Bad value, for custom key "${S}", in Info: ${L}.`);continue}ae.Custom||(ae.Custom=Object.create(null)),ae.Custom[S]=k;continue}(0,i.warn)(`Bad value, for key "${S}", in Info: ${L}.`)}return(0,i.shadow)(this,"documentInfo",ae)}get fingerprints(){function ae(z){return typeof z=="string"&&z.length>0&&z!==U}function R(z){const P=[];for(const K of z){const te=K.toString(16);P.push(te.padStart(2,"0"))}return P.join("")}const S=this.xref.trailer.get("ID");let L,k;return Array.isArray(S)&&ae(S[0])?(L=(0,i.stringToBytes)(S[0]),S[1]!==S[0]&&ae(S[1])&&(k=(0,i.stringToBytes)(S[1]))):L=(0,x.calculateMD5)(this.stream.getByteRange(0,N),0,N),(0,i.shadow)(this,"fingerprints",[R(L),k?R(k):null])}async _getLinearizationPage(ae){const{catalog:R,linearization:S,xref:L}=this,k=e.Ref.get(S.objectNumberFirst,0);try{const z=await L.fetchAsync(k);if(z instanceof e.Dict){let P=z.getRaw("Type");if(P instanceof e.Ref&&(P=await L.fetchAsync(P)),(0,e.isName)(P,"Page")||!z.has("Type")&&!z.has("Kids"))return R.pageKidsCountCache.has(k)||R.pageKidsCountCache.put(k,1),R.pageIndexCache.has(k)||R.pageIndexCache.put(k,0),[z,k]}throw new i.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(z){return(0,i.warn)(`_getLinearizationPage: "${z.message}".`),R.getPageDict(ae)}}getPage(ae){const R=this._pagePromises.get(ae);if(R)return R;const{catalog:S,linearization:L,xfaFactory:k}=this;let z;return k?z=Promise.resolve([e.Dict.empty,null]):(L==null?void 0:L.pageFirst)===ae?z=this._getLinearizationPage(ae):z=S.getPageDict(ae),z=z.then(P=>{let[K,te]=P;return new I({pdfManager:this.pdfManager,xref:this.xref,pageIndex:ae,pageDict:K,ref:te,globalIdFactory:this._globalIdFactory,fontCache:S.fontCache,builtInCMapCache:S.builtInCMapCache,standardFontDataCache:S.standardFontDataCache,globalImageCache:S.globalImageCache,systemFontCache:S.systemFontCache,nonBlendModesSet:S.nonBlendModesSet,xfaFactory:k})}),this._pagePromises.set(ae,z),z}async checkFirstPage(){if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1))try{await this.getPage(0)}catch(R){if(R instanceof d.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new d.XRefParseException}}async checkLastPage(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{catalog:R,pdfManager:S}=this;R.setActualNumPages();let L;try{if(await Promise.all([S.ensureDoc("xfaFactory"),S.ensureDoc("linearization"),S.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?L=this.linearization.numPages:L=R.numPages,Number.isInteger(L)){if(L<=1)return}else throw new i.FormatError("Page count is not an integer.");await this.getPage(L-1)}catch(k){if(this._pagePromises.delete(L-1),await this.cleanup(),k instanceof d.XRefEntryException&&!ae)throw new d.XRefParseException;(0,i.warn)(`checkLastPage - invalid /Pages tree /Count: ${L}.`);let z;try{z=await R.getAllPageDicts(ae)}catch(P){if(P instanceof d.XRefEntryException&&!ae)throw new d.XRefParseException;R.setActualNumPages(1);return}for(const[P,[K,te]]of z){let X;K instanceof Error?(X=Promise.reject(K),X.catch(()=>{})):X=Promise.resolve(new I({pdfManager:S,xref:this.xref,pageIndex:P,pageDict:K,ref:te,globalIdFactory:this._globalIdFactory,fontCache:R.fontCache,builtInCMapCache:R.builtInCMapCache,standardFontDataCache:R.standardFontDataCache,globalImageCache:R.globalImageCache,systemFontCache:R.systemFontCache,nonBlendModesSet:R.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(P,X)}R.setActualNumPages(z.size)}}fontFallback(ae,R){return this.catalog.fontFallback(ae,R)}async cleanup(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.catalog?this.catalog.cleanup(ae):(0,v.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,i.shadow)(this,"fieldObjects",Promise.resolve(null));const ae=this.pdfManager.ensureDoc("annotationGlobals").then(async R=>{if(!R)return null;const S=Object.create(null),L=new Map;for(const z of this.catalog.acroForm.get("Fields"))Ue(this,q,zd).call(this,"",z,L,R);const k=[];for(const[z,P]of L)k.push(Promise.all(P).then(K=>{K=K.filter(te=>!!te),K.length>0&&(S[z]=K)}));return await Promise.all(k),S});return(0,i.shadow)(this,"fieldObjects",ae)}get hasJSActions(){const ae=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,i.shadow)(this,"hasJSActions",ae)}async _parseHasJSActions(){const[ae,R]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return ae?!0:R?Object.values(R).some(S=>S.some(L=>L.actions!==null)):!1}get calculationOrderIds(){const ae=this.catalog.acroForm;if(!(ae!=null&&ae.has("CO")))return(0,i.shadow)(this,"calculationOrderIds",null);const R=ae.get("CO");if(!Array.isArray(R)||R.length===0)return(0,i.shadow)(this,"calculationOrderIds",null);const S=[];for(const L of R)L instanceof e.Ref&&S.push(L.toString());return S.length===0?(0,i.shadow)(this,"calculationOrderIds",null):(0,i.shadow)(this,"calculationOrderIds",S)}get annotationGlobals(){return(0,i.shadow)(this,"annotationGlobals",l.AnnotationFactory.createGlobals(this.pdfManager))}}q=new WeakSet,zd=function(ae,R,S,L){const k=this.xref.fetchIfRef(R);if(k.has("T")){const z=(0,i.stringToPDFString)(k.get("T"));ae=ae===""?z:`${ae}.${z}`}if(S.has(ae)||S.set(ae,[]),S.get(ae).push(l.AnnotationFactory.create(this.xref,R,L,this._localIdFactory,!0,null).then(z=>z==null?void 0:z.getFieldObject()).catch(function(z){return(0,i.warn)(`#collectFieldObjects: "${z}".`),null})),k.has("Kids"))for(const z of k.get("Kids"))Ue(this,q,zd).call(this,ae,z,S,L)},o.PDFDocument=_},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PopupAnnotation=o.MarkupAnnotation=o.AnnotationFactory=o.AnnotationBorderStyle=o.Annotation=void 0,o.getQuadPoints=F,s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(158),s(160);var i=s(145),l=s(150),d=s(162),e=s(151),r=s(155),p=s(152),x=s(211),y=s(217),v=s(163),b=s(220),g=s(177),w=s(227),f=s(215),E=s(224),A=s(228);class O{static createGlobals(G){return Promise.all([G.ensureCatalog("acroForm"),G.ensureDoc("xfaDatasets"),G.ensureCatalog("structTreeRoot"),G.ensureCatalog("baseUrl"),G.ensureCatalog("attachments")]).then(ne=>{let[se,le,he,be,ye]=ne;return{pdfManager:G,acroForm:se instanceof e.Dict?se:e.Dict.empty,xfaDatasets:le,structTreeRoot:he,baseUrl:be,attachments:ye}},ne=>((0,i.warn)(`createGlobals: "${ne}".`),null))}static async create(G,ne,se,le,he,be){const ye=he?await this._getPageIndex(G,ne,se.pdfManager):null;return se.pdfManager.ensure(this,"_create",[G,ne,se,le,he,ye,be])}static _create(G,ne,se,le){let he=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,be=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,ye=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;const de=G.fetchIfRef(ne);if(!(de instanceof e.Dict))return;const{acroForm:xe,pdfManager:fe}=se,ce=ne instanceof e.Ref?ne.toString():`annot_${le.createObjId()}`;let ue=de.get("Subtype");ue=ue instanceof e.Name?ue.name:null;const ve={xref:G,ref:ne,dict:de,subtype:ue,id:ce,annotationGlobals:se,collectFields:he,needAppearances:!he&&xe.get("NeedAppearances")===!0,pageIndex:be,evaluatorOptions:fe.evaluatorOptions,pageRef:ye};switch(ue){case"Link":return new _(ve);case"Text":return new Y(ve);case"Widget":let Ee=(0,l.getInheritableProperty)({dict:de,key:"FT"});switch(Ee=Ee instanceof e.Name?Ee.name:null,Ee){case"Tx":return new J(ve);case"Btn":return new H(ve);case"Ch":return new N(ve);case"Sig":return new U(ve)}return(0,i.warn)(`Unimplemented widget field type "${Ee}", falling back to base field type.`),new W(ve);case"Popup":return new V(ve);case"FreeText":return new Z(ve);case"Line":return new q(ve);case"Square":return new re(ve);case"Circle":return new oe(ve);case"PolyLine":return new ae(ve);case"Polygon":return new R(ve);case"Caret":return new S(ve);case"Ink":return new L(ve);case"Highlight":return new k(ve);case"Underline":return new z(ve);case"Squiggly":return new P(ve);case"StrikeOut":return new K(ve);case"Stamp":return new te(ve);case"FileAttachment":return new X(ve);default:return he||(ue?(0,i.warn)(`Unimplemented annotation type "${ue}", falling back to base annotation.`):(0,i.warn)("Annotation is missing the required /Subtype.")),new B(ve)}}static async _getPageIndex(G,ne,se){try{const le=await G.fetchIfRefAsync(ne);if(!(le instanceof e.Dict))return-1;const he=le.getRaw("P");if(he instanceof e.Ref)try{return await se.ensureCatalog("getPageIndex",[he])}catch(ye){(0,i.info)(`_getPageIndex -- not a valid page reference: "${ye}".`)}if(le.has("Kids"))return-1;const be=await se.ensureDoc("numPages");for(let ye=0;ye<be;ye++){const de=await se.getPage(ye),xe=await se.ensure(de,"annotations");for(const fe of xe)if(fe instanceof e.Ref&&(0,e.isRefsEqual)(fe,ne))return ye}}catch(le){(0,i.warn)(`_getPageIndex: "${le}".`)}return-1}static generateImages(G,ne,se){if(!se)return(0,i.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let le;for(const{bitmapId:he,bitmap:be}of G)!be||(le||(le=new Map),le.set(he,te.createImage(be,ne)));return le}static async saveNewAnnotations(G,ne,se,le){const he=G.xref;let be;const ye=[],de=[],{isOffscreenCanvasSupported:xe}=G.options;for(const fe of se)if(!fe.deleted)switch(fe.annotationType){case i.AnnotationEditorType.FREETEXT:if(!be){const ue=new e.Dict(he);ue.set("BaseFont",e.Name.get("Helvetica")),ue.set("Type",e.Name.get("Font")),ue.set("Subtype",e.Name.get("Type1")),ue.set("Encoding",e.Name.get("WinAnsiEncoding"));const ve=[];be=he.getNewTemporaryRef(),await(0,E.writeObject)(be,ue,ve,he),ye.push({ref:be,data:ve.join("")})}de.push(Z.createNewAnnotation(he,fe,ye,{evaluator:G,task:ne,baseFontRef:be}));break;case i.AnnotationEditorType.INK:de.push(L.createNewAnnotation(he,fe,ye));break;case i.AnnotationEditorType.STAMP:if(!xe)break;const ce=await le.get(fe.bitmapId);if(ce.imageStream){const{imageStream:ue,smaskStream:ve}=ce,Ee=[];if(ve){const _e=he.getNewTemporaryRef();await(0,E.writeObject)(_e,ve,Ee,he),ye.push({ref:_e,data:Ee.join("")}),ue.dict.set("SMask",_e),Ee.length=0}const Me=ce.imageRef=he.getNewTemporaryRef();await(0,E.writeObject)(Me,ue,Ee,he),ye.push({ref:Me,data:Ee.join("")}),ce.imageStream=ce.smaskStream=null}de.push(te.createNewAnnotation(he,fe,ye,{image:ce}));break}return{annotations:await Promise.all(de),dependencies:ye}}static async printNewAnnotations(G,ne,se,le,he){if(!le)return null;const{options:be,xref:ye}=ne,de=[];for(const xe of le)if(!xe.deleted)switch(xe.annotationType){case i.AnnotationEditorType.FREETEXT:de.push(Z.createNewPrintAnnotation(G,ye,xe,{evaluator:ne,task:se,evaluatorOptions:be}));break;case i.AnnotationEditorType.INK:de.push(L.createNewPrintAnnotation(G,ye,xe,{evaluatorOptions:be}));break;case i.AnnotationEditorType.STAMP:if(!be.isOffscreenCanvasSupported)break;const fe=await he.get(xe.bitmapId);if(fe.imageStream){const{imageStream:ce,smaskStream:ue}=fe;ue&&ce.dict.set("SMask",ue),fe.imageRef=new g.JpegStream(ce,ce.length),fe.imageStream=fe.smaskStream=null}de.push(te.createNewPrintAnnotation(G,ye,xe,{image:fe,evaluatorOptions:be}));break}return Promise.all(de)}}o.AnnotationFactory=O;function T(ee){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Uint8ClampedArray(3);if(!Array.isArray(ee))return G;const ne=G||new Uint8ClampedArray(3);switch(ee.length){case 0:return null;case 1:return v.ColorSpace.singletons.gray.getRgbItem(ee,0,ne,0),ne;case 3:return v.ColorSpace.singletons.rgb.getRgbItem(ee,0,ne,0),ne;case 4:return v.ColorSpace.singletons.cmyk.getRgbItem(ee,0,ne,0),ne;default:return G}}function D(ee){return Array.from(ee,G=>G/255)}function F(ee,G){const ne=ee.getArray("QuadPoints");if(!Array.isArray(ne)||ne.length===0||ne.length%8>0)return null;const se=[];for(let le=0,he=ne.length/8;le<he;le++){let be=1/0,ye=-1/0,de=1/0,xe=-1/0;for(let fe=le*8,ce=le*8+8;fe<ce;fe+=2){const ue=ne[fe],ve=ne[fe+1];be=Math.min(ue,be),ye=Math.max(ue,ye),de=Math.min(ve,de),xe=Math.max(ve,xe)}if(G!==null&&(be<G[0]||ye>G[2]||de<G[1]||xe>G[3]))return null;se.push([{x:be,y:xe},{x:ye,y:xe},{x:be,y:de},{x:ye,y:de}])}return se}function C(ee,G,ne){const[se,le,he,be]=i.Util.getAxialAlignedBoundingBox(G,ne);if(se===he||le===be)return[1,0,0,1,ee[0],ee[1]];const ye=(ee[2]-ee[0])/(he-se),de=(ee[3]-ee[1])/(be-le);return[ye,0,0,de,ee[0]-se*ye,ee[1]-le*de]}class B{constructor(G){const{dict:ne,xref:se,annotationGlobals:le}=G;this.setTitle(ne.get("T")),this.setContents(ne.get("Contents")),this.setModificationDate(ne.get("M")),this.setFlags(ne.get("F")),this.setRectangle(ne.getArray("Rect")),this.setColor(ne.getArray("C")),this.setBorderStyle(ne),this.setAppearance(ne),this.setOptionalContent(ne);const he=ne.get("MK");this.setBorderAndBackgroundColors(he),this.setRotation(he,ne),this.ref=G.ref instanceof e.Ref?G.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const be=!!(this.flags&i.AnnotationFlag.LOCKED),ye=!!(this.flags&i.AnnotationFlag.LOCKEDCONTENTS);if(le.structTreeRoot){let de=ne.get("StructParent");de=Number.isInteger(de)&&de>=0?de:-1,le.structTreeRoot.addAnnotationIdToPage(G.pageRef,de)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:G.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:G.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&i.AnnotationFlag.NOROTATE),noHTML:be&&ye},G.collectFields){const de=ne.get("Kids");if(Array.isArray(de)){const xe=[];for(const fe of de)fe instanceof e.Ref&&xe.push(fe.toString());xe.length!==0&&(this.data.kidIds=xe)}this.data.actions=(0,l.collectActions)(se,ne,i.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(ne),this.data.pageIndex=G.pageIndex}this._isOffscreenCanvasSupported=G.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(G,ne){return!!(G&ne)}_isViewable(G){return!this._hasFlag(G,i.AnnotationFlag.INVISIBLE)&&!this._hasFlag(G,i.AnnotationFlag.NOVIEW)}_isPrintable(G){return this._hasFlag(G,i.AnnotationFlag.PRINT)&&!this._hasFlag(G,i.AnnotationFlag.HIDDEN)&&!this._hasFlag(G,i.AnnotationFlag.INVISIBLE)}mustBeViewed(G,ne){var le;const se=(le=G==null?void 0:G.get(this.data.id))==null?void 0:le.noView;return se!==void 0?!se:this.viewable&&!this._hasFlag(this.flags,i.AnnotationFlag.HIDDEN)}mustBePrinted(G){var se;const ne=(se=G==null?void 0:G.get(this.data.id))==null?void 0:se.noPrint;return ne!==void 0?!ne:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(G){const ne=typeof G=="string"?(0,i.stringToPDFString)(G):"",se=ne&&(0,x.bidi)(ne).dir==="rtl"?"rtl":"ltr";return{str:ne,dir:se}}setDefaultAppearance(G){const{dict:ne,annotationGlobals:se}=G,le=(0,l.getInheritableProperty)({dict:ne,key:"DA"})||se.acroForm.get("DA");this._defaultAppearance=typeof le=="string"?le:"",this.data.defaultAppearanceData=(0,d.parseDefaultAppearance)(this._defaultAppearance)}setTitle(G){this._title=this._parseStringHelper(G)}setContents(G){this._contents=this._parseStringHelper(G)}setModificationDate(G){this.modificationDate=typeof G=="string"?G:null}setFlags(G){this.flags=Number.isInteger(G)&&G>0?G:0}hasFlag(G){return this._hasFlag(this.flags,G)}setRectangle(G){this.rectangle=Array.isArray(G)&&G.length===4?i.Util.normalizeRect(G):[0,0,0,0]}setColor(G){this.color=T(G)}setLineEndings(G){if(this.lineEndings=["None","None"],Array.isArray(G)&&G.length===2)for(let ne=0;ne<2;ne++){const se=G[ne];if(se instanceof e.Name)switch(se.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[ne]=se.name;continue}(0,i.warn)(`Ignoring invalid lineEnding: ${se}`)}}setRotation(G,ne){this.rotation=0;let se=G instanceof e.Dict?G.get("R")||0:ne.get("Rotate")||0;Number.isInteger(se)&&se!==0&&(se%=360,se<0&&(se+=360),se%90===0&&(this.rotation=se))}setBorderAndBackgroundColors(G){G instanceof e.Dict?(this.borderColor=T(G.getArray("BC"),null),this.backgroundColor=T(G.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(G){if(this.borderStyle=new M,G instanceof e.Dict)if(G.has("BS")){const ne=G.get("BS"),se=ne.get("Type");(!se||(0,e.isName)(se,"Border"))&&(this.borderStyle.setWidth(ne.get("W"),this.rectangle),this.borderStyle.setStyle(ne.get("S")),this.borderStyle.setDashArray(ne.getArray("D")))}else if(G.has("Border")){const ne=G.getArray("Border");Array.isArray(ne)&&ne.length>=3&&(this.borderStyle.setHorizontalCornerRadius(ne[0]),this.borderStyle.setVerticalCornerRadius(ne[1]),this.borderStyle.setWidth(ne[2],this.rectangle),ne.length===4&&this.borderStyle.setDashArray(ne[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(G){this.appearance=null;const ne=G.get("AP");if(!(ne instanceof e.Dict))return;const se=ne.get("N");if(se instanceof p.BaseStream){this.appearance=se;return}if(!(se instanceof e.Dict))return;const le=G.get("AS");if(!(le instanceof e.Name)||!se.has(le.name))return;const he=se.get(le.name);he instanceof p.BaseStream&&(this.appearance=he)}setOptionalContent(G){this.oc=null;const ne=G.get("OC");ne instanceof e.Name?(0,i.warn)("setOptionalContent: Support for /Name-entry is not implemented."):ne instanceof e.Dict&&(this.oc=ne)}loadResources(G,ne){return ne.dict.getAsync("Resources").then(se=>se?new w.ObjectLoader(se,G,se.xref).load().then(function(){return se}):void 0)}async getOperatorList(G,ne,se,le,he){const be=this.data;let ye=this.appearance;const de=!!(this.data.hasOwnCanvas&&se&i.RenderingIntentFlag.DISPLAY);if(!ye){if(!de)return{opList:new f.OperatorList,separateForm:!1,separateCanvas:!1};ye=new r.StringStream(""),ye.dict=new e.Dict}const xe=ye.dict,fe=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],ye),ce=xe.getArray("BBox")||[0,0,1,1],ue=xe.getArray("Matrix")||[1,0,0,1,0,0],ve=C(be.rect,ce,ue),Ee=new f.OperatorList;let Me;return this.oc&&(Me=await G.parseMarkedContentProps(this.oc,null)),Me!==void 0&&Ee.addOp(i.OPS.beginMarkedContentProps,["OC",Me]),Ee.addOp(i.OPS.beginAnnotation,[be.id,be.rect,ve,ue,de]),await G.getOperatorList({stream:ye,task:ne,resources:fe,operatorList:Ee,fallbackFontDict:this._fallbackFontDict}),Ee.addOp(i.OPS.endAnnotation,[]),Me!==void 0&&Ee.addOp(i.OPS.endMarkedContent,[]),this.reset(),{opList:Ee,separateForm:!1,separateCanvas:de}}async save(G,ne,se){return null}get hasTextContent(){return!1}async extractTextContent(G,ne,se){if(!this.appearance)return;const le=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),he=[],be=[];let ye=null;const de={desiredSize:Math.Infinity,ready:!0,enqueue(xe,fe){for(const ce of xe.items)ce.str!==void 0&&(ye||(ye=ce.transform.slice(-2)),be.push(ce.str),ce.hasEOL&&(he.push(be.join("")),be.length=0))}};if(await G.getTextContent({stream:this.appearance,task:ne,resources:le,includeMarkedContent:!0,sink:de,viewBox:se}),this.reset(),be.length&&he.push(be.join("")),he.length>1||he[0]){const xe=this.appearance.dict,fe=xe.getArray("BBox")||[0,0,1,1],ce=xe.getArray("Matrix")||[1,0,0,1,0,0],ue=this.data.rect,ve=C(ue,fe,ce);ve[4]-=ue[0],ve[5]-=ue[1],ye=i.Util.applyTransform(ye,ve),ye=i.Util.applyTransform(ye,ce),this.data.textPosition=ye,this.data.textContent=he}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const G of this._streams)G.reset()}_constructFieldName(G){if(!G.has("T")&&!G.has("Parent"))return(0,i.warn)("Unknown field name, falling back to empty field name."),"";if(!G.has("Parent"))return(0,i.stringToPDFString)(G.get("T"));const ne=[];G.has("T")&&ne.unshift((0,i.stringToPDFString)(G.get("T")));let se=G;const le=new e.RefSet;for(G.objId&&le.put(G.objId);se.has("Parent")&&(se=se.get("Parent"),!(!(se instanceof e.Dict)||se.objId&&le.has(se.objId)));)se.objId&&le.put(se.objId),se.has("T")&&ne.unshift((0,i.stringToPDFString)(se.get("T")));return ne.join(".")}}o.Annotation=B;class M{constructor(){this.width=1,this.style=i.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(G){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0,0];if(G instanceof e.Name){this.width=0;return}if(typeof G=="number"){if(G>0){const se=(ne[2]-ne[0])/2,le=(ne[3]-ne[1])/2;se>0&&le>0&&(G>se||G>le)&&((0,i.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${G}`),G=1)}this.width=G}}setStyle(G){if(G instanceof e.Name)switch(G.name){case"S":this.style=i.AnnotationBorderStyleType.SOLID;break;case"D":this.style=i.AnnotationBorderStyleType.DASHED;break;case"B":this.style=i.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=i.AnnotationBorderStyleType.INSET;break;case"U":this.style=i.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(G){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Array.isArray(G)&&G.length>0){let se=!0,le=!0;for(const he of G)if(+he>=0)he>0&&(le=!1);else{se=!1;break}se&&!le?(this.dashArray=G,ne&&this.setStyle(e.Name.get("D"))):this.width=0}else G&&(this.width=0)}setHorizontalCornerRadius(G){Number.isInteger(G)&&(this.horizontalCornerRadius=G)}setVerticalCornerRadius(G){Number.isInteger(G)&&(this.verticalCornerRadius=G)}}o.AnnotationBorderStyle=M;class I extends B{constructor(G){super(G);const{dict:ne}=G;if(ne.has("IRT")){const le=ne.getRaw("IRT");this.data.inReplyTo=le instanceof e.Ref?le.toString():null;const he=ne.get("RT");this.data.replyType=he instanceof e.Name?he.name:i.AnnotationReplyType.REPLY}let se=null;if(this.data.replyType===i.AnnotationReplyType.GROUP){const le=ne.get("IRT");this.setTitle(le.get("T")),this.data.titleObj=this._title,this.setContents(le.get("Contents")),this.data.contentsObj=this._contents,le.has("CreationDate")?(this.setCreationDate(le.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,le.has("M")?(this.setModificationDate(le.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,se=le.getRaw("Popup"),le.has("C")?(this.setColor(le.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(ne.get("CreationDate")),this.data.creationDate=this.creationDate,se=ne.getRaw("Popup"),ne.has("C")||(this.data.color=null);this.data.popupRef=se instanceof e.Ref?se.toString():null,ne.has("RC")&&(this.data.richText=A.XFAFactory.getRichTextAsHtml(ne.get("RC")))}setCreationDate(G){this.creationDate=typeof G=="string"?G:null}_setDefaultAppearance(G){let{xref:ne,extra:se,strokeColor:le,fillColor:he,blendMode:be,strokeAlpha:ye,fillAlpha:de,pointsCallback:xe}=G,fe=Number.MAX_VALUE,ce=Number.MAX_VALUE,ue=Number.MIN_VALUE,ve=Number.MIN_VALUE;const Ee=["q"];se&&Ee.push(se),le&&Ee.push(`${le[0]} ${le[1]} ${le[2]} RG`),he&&Ee.push(`${he[0]} ${he[1]} ${he[2]} rg`);let Me=this.data.quadPoints;Me||(Me=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Ae of Me){const[ge,Ce,Be,Ye]=xe(Ee,Ae);fe=Math.min(fe,ge),ue=Math.max(ue,Ce),ce=Math.min(ce,Be),ve=Math.max(ve,Ye)}Ee.push("Q");const _e=new e.Dict(ne),ze=new e.Dict(ne);ze.set("Subtype",e.Name.get("Form"));const We=new r.StringStream(Ee.join(" "));We.dict=ze,_e.set("Fm0",We);const Ve=new e.Dict(ne);be&&Ve.set("BM",e.Name.get(be)),typeof ye=="number"&&Ve.set("CA",ye),typeof de=="number"&&Ve.set("ca",de);const Ne=new e.Dict(ne);Ne.set("GS0",Ve);const ke=new e.Dict(ne);ke.set("ExtGState",Ne),ke.set("XObject",_e);const Ie=new e.Dict(ne);Ie.set("Resources",ke);const Te=this.data.rect=[fe,ce,ue,ve];Ie.set("BBox",Te),this.appearance=new r.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Ie,this._streams.push(this.appearance,We)}static async createNewAnnotation(G,ne,se,le){const he=ne.ref||(ne.ref=G.getNewTemporaryRef()),be=await this.createNewAppearanceStream(ne,G,le),ye=[];let de;if(be){const xe=G.getNewTemporaryRef();de=this.createNewDict(ne,G,{apRef:xe}),await(0,E.writeObject)(xe,be,ye,G),se.push({ref:xe,data:ye.join("")})}else de=this.createNewDict(ne,G,{});return Number.isInteger(ne.parentTreeId)&&de.set("StructParent",ne.parentTreeId),ye.length=0,await(0,E.writeObject)(he,de,ye,G),{ref:he,data:ye.join("")}}static async createNewPrintAnnotation(G,ne,se,le){const he=await this.createNewAppearanceStream(se,ne,le),be=this.createNewDict(se,ne,{ap:he}),ye=new this.prototype.constructor({dict:be,xref:ne,annotationGlobals:G,evaluatorOptions:le.evaluatorOptions});return se.ref&&(ye.ref=ye.refToReplace=se.ref),ye}}o.MarkupAnnotation=I;class W extends B{constructor(G){var ue;super(G);const{dict:ne,xref:se,annotationGlobals:le}=G,he=this.data;this._needAppearances=G.needAppearances,he.annotationType=i.AnnotationType.WIDGET,he.fieldName===void 0&&(he.fieldName=this._constructFieldName(ne)),he.actions===void 0&&(he.actions=(0,l.collectActions)(se,ne,i.AnnotationActionEventType));let be=(0,l.getInheritableProperty)({dict:ne,key:"V",getArray:!0});he.fieldValue=this._decodeFormValue(be);const ye=(0,l.getInheritableProperty)({dict:ne,key:"DV",getArray:!0});if(he.defaultFieldValue=this._decodeFormValue(ye),be===void 0&&le.xfaDatasets){const ve=this._title.str;ve&&(this._hasValueFromXFA=!0,he.fieldValue=be=le.xfaDatasets.getValue(ve))}be===void 0&&he.defaultFieldValue!==null&&(he.fieldValue=he.defaultFieldValue),he.alternativeText=(0,i.stringToPDFString)(ne.get("TU")||""),this.setDefaultAppearance(G),he.hasAppearance||(he.hasAppearance=this._needAppearances&&he.fieldValue!==void 0&&he.fieldValue!==null);const de=(0,l.getInheritableProperty)({dict:ne,key:"FT"});he.fieldType=de instanceof e.Name?de.name:null;const xe=(0,l.getInheritableProperty)({dict:ne,key:"DR"}),fe=le.acroForm.get("DR"),ce=(ue=this.appearance)==null?void 0:ue.dict.get("Resources");this._fieldResources={localResources:xe,acroFormResources:fe,appearanceResources:ce,mergedResources:e.Dict.merge({xref:se,dictArray:[xe,ce,fe],mergeSubDicts:!0})},he.fieldFlags=(0,l.getInheritableProperty)({dict:ne,key:"Ff"}),(!Number.isInteger(he.fieldFlags)||he.fieldFlags<0)&&(he.fieldFlags=0),he.readOnly=this.hasFieldFlag(i.AnnotationFieldFlag.READONLY),he.required=this.hasFieldFlag(i.AnnotationFieldFlag.REQUIRED),he.hidden=this._hasFlag(he.annotationFlags,i.AnnotationFlag.HIDDEN)||this._hasFlag(he.annotationFlags,i.AnnotationFlag.NOVIEW)}_decodeFormValue(G){return Array.isArray(G)?G.filter(ne=>typeof ne=="string").map(ne=>(0,i.stringToPDFString)(ne)):G instanceof e.Name?(0,i.stringToPDFString)(G.name):typeof G=="string"?(0,i.stringToPDFString)(G):null}hasFieldFlag(G){return!!(this.data.fieldFlags&G)}_isViewable(G){return!this._hasFlag(G,i.AnnotationFlag.INVISIBLE)}mustBeViewed(G,ne){return ne?this.viewable:super.mustBeViewed(G,ne)&&!this._hasFlag(this.flags,i.AnnotationFlag.NOVIEW)}getRotationMatrix(G){var he;let ne=(he=G==null?void 0:G.get(this.data.id))==null?void 0:he.rotation;if(ne===void 0&&(ne=this.rotation),ne===0)return i.IDENTITY_MATRIX;const se=this.data.rect[2]-this.data.rect[0],le=this.data.rect[3]-this.data.rect[1];return(0,l.getRotationMatrix)(ne,se,le)}getBorderAndBackgroundAppearances(G){var ye;let ne=(ye=G==null?void 0:G.get(this.data.id))==null?void 0:ye.rotation;if(ne===void 0&&(ne=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const se=this.data.rect[2]-this.data.rect[0],le=this.data.rect[3]-this.data.rect[1],he=ne===0||ne===180?`0 0 ${se} ${le} re`:`0 0 ${le} ${se} re`;let be="";if(this.backgroundColor&&(be=`${(0,d.getPdfColor)(this.backgroundColor,!0)} ${he} f `),this.borderColor){const de=this.borderStyle.width||1;be+=`${de} w ${(0,d.getPdfColor)(this.borderColor,!1)} ${he} S `}return be}async getOperatorList(G,ne,se,le,he){if(le&&!(this instanceof U)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new f.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(G,ne,se,le,he);const be=await this._getAppearance(G,ne,se,he);if(this.appearance&&be===null)return super.getOperatorList(G,ne,se,le,he);const ye=new f.OperatorList;if(!this._defaultAppearance||be===null)return{opList:ye,separateForm:!1,separateCanvas:!1};const de=!!(this.data.hasOwnCanvas&&se&i.RenderingIntentFlag.DISPLAY),xe=[1,0,0,1,0,0],fe=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],ce=C(this.data.rect,fe,xe);let ue;this.oc&&(ue=await G.parseMarkedContentProps(this.oc,null)),ue!==void 0&&ye.addOp(i.OPS.beginMarkedContentProps,["OC",ue]),ye.addOp(i.OPS.beginAnnotation,[this.data.id,this.data.rect,ce,this.getRotationMatrix(he),de]);const ve=new r.StringStream(be);return await G.getOperatorList({stream:ve,task:ne,resources:this._fieldResources.mergedResources,operatorList:ye}),ye.addOp(i.OPS.endAnnotation,[]),ue!==void 0&&ye.addOp(i.OPS.endMarkedContent,[]),{opList:ye,separateForm:!1,separateCanvas:de}}_getMKDict(G){const ne=new e.Dict(null);return G&&ne.set("R",G),this.borderColor&&ne.set("BC",D(this.borderColor)),this.backgroundColor&&ne.set("BG",D(this.backgroundColor)),ne.size>0?ne:null}amendSavedDict(G,ne){}async save(G,ne,se){const le=se==null?void 0:se.get(this.data.id);let he=le==null?void 0:le.value,be=le==null?void 0:le.rotation;if(he===this.data.fieldValue||he===void 0){if(!this._hasValueFromXFA&&be===void 0)return null;he||(he=this.data.fieldValue)}if(be===void 0&&!this._hasValueFromXFA&&Array.isArray(he)&&Array.isArray(this.data.fieldValue)&&he.length===this.data.fieldValue.length&&he.every((ze,We)=>ze===this.data.fieldValue[We]))return null;be===void 0&&(be=this.rotation);let ye=null;if(!this._needAppearances&&(ye=await this._getAppearance(G,ne,i.RenderingIntentFlag.SAVE,se),ye===null))return null;let de=!1;ye!=null&&ye.needAppearances&&(de=!0,ye=null);const{xref:xe}=G,fe=xe.fetchIfRef(this.ref);if(!(fe instanceof e.Dict))return null;const ce=new e.Dict(xe);for(const ze of fe.getKeys())ze!=="AP"&&ce.set(ze,fe.getRaw(ze));const ue={path:this.data.fieldName,value:he},ve=ze=>(0,l.isAscii)(ze)?ze:(0,l.stringToUTF16String)(ze,!0);ce.set("V",Array.isArray(he)?he.map(ve):ve(he)),this.amendSavedDict(se,ce);const Ee=this._getMKDict(be);Ee&&ce.set("MK",Ee);const Me=[],_e=[{ref:this.ref,data:"",xfa:ue,needAppearances:de}];if(ye!==null){const ze=xe.getNewTemporaryRef(),We=new e.Dict(xe);ce.set("AP",We),We.set("N",ze);const Ve=this._getSaveFieldResources(xe),Ne=new r.StringStream(ye),ke=Ne.dict=new e.Dict(xe);ke.set("Subtype",e.Name.get("Form")),ke.set("Resources",Ve),ke.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const Ie=this.getRotationMatrix(se);Ie!==i.IDENTITY_MATRIX&&ke.set("Matrix",Ie),await(0,E.writeObject)(ze,Ne,Me,xe),_e.push({ref:ze,data:Me.join(""),xfa:null,needAppearances:!1}),Me.length=0}return ce.set("M",`D:${(0,i.getModificationDate)()}`),await(0,E.writeObject)(this.ref,ce,Me,xe),_e[0].data=Me.join(""),_e}async _getAppearance(G,ne,se,le){if(this.hasFieldFlag(i.AnnotationFieldFlag.PASSWORD))return null;const be=le==null?void 0:le.get(this.data.id);let ye,de;if(be&&(ye=be.formattedValue||be.value,de=be.rotation),de===void 0&&ye===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const xe=this.getBorderAndBackgroundAppearances(le);if(ye===void 0&&(ye=this.data.fieldValue,!ye))return`/Tx BMC q ${xe}Q EMC`;if(Array.isArray(ye)&&ye.length===1&&(ye=ye[0]),(0,i.assert)(typeof ye=="string","Expected `value` to be a string."),ye=ye.trim(),this.data.combo){const Ye=this.data.options.find(Je=>{let{exportValue:Re}=Je;return ye===Re});ye=(Ye==null?void 0:Ye.displayValue)||ye}if(ye==="")return`/Tx BMC q ${xe}Q EMC`;de===void 0&&(de=this.rotation);let fe=-1,ce;this.data.multiLine?(ce=ye.split(/\r\n?|\n/).map(Ye=>Ye.normalize("NFC")),fe=ce.length):ce=[ye.replace(/\r\n?|\n/,"").normalize("NFC")];const ue=1,ve=2;let Ee=this.data.rect[3]-this.data.rect[1],Me=this.data.rect[2]-this.data.rect[0];(de===90||de===270)&&([Me,Ee]=[Ee,Me]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,d.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let _e=await W._getFontData(G,ne,this.data.defaultAppearanceData,this._fieldResources.mergedResources),ze,We,Ve;const Ne=[];let ke=!1;for(const Ye of ce){const Je=_e.encodeString(Ye);Je.length>1&&(ke=!0),Ne.push(Je.join(""))}if(ke&&se&i.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(ke&&this._isOffscreenCanvasSupported){const Ye=this.data.comb?"monospace":"sans-serif",Je=new d.FakeUnicodeFont(G.xref,Ye),Re=Je.createFontResources(ce.join("")),He=Re.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const it=this._fieldResources.mergedResources.get("Font");for(const qe of He.getKeys())it.set(qe,He.getRaw(qe))}else this._fieldResources.mergedResources.set("Font",He);const nt=Je.fontName.name;_e=await W._getFontData(G,ne,{fontName:nt,fontSize:0},Re);for(let it=0,qe=Ne.length;it<qe;it++)Ne[it]=(0,l.stringToUTF16String)(ce[it]);const et=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=nt,[ze,We,Ve]=this._computeFontSize(Ee-2*ue,Me-2*ve,ye,_e,fe),this.data.defaultAppearanceData=et}else this._isOffscreenCanvasSupported||(0,i.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[ze,We,Ve]=this._computeFontSize(Ee-2*ue,Me-2*ve,ye,_e,fe);let Ie=_e.descent;isNaN(Ie)?Ie=i.BASELINE_FACTOR*Ve:Ie=Math.max(i.BASELINE_FACTOR*Ve,Math.abs(Ie)*We);const Te=Math.min(Math.floor((Ee-We)/2),ue),Ae=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(ze,Ne,_e,We,Me,Ee,Ae,ve,Te,Ie,Ve,le);if(this.data.comb)return this._getCombAppearance(ze,_e,Ne[0],We,Me,Ee,ve,Te,Ie,Ve,le);const ge=Te+Ie;if(Ae===0||Ae>2)return`/Tx BMC q ${xe}BT `+ze+` 1 0 0 1 ${(0,l.numberToString)(ve)} ${(0,l.numberToString)(ge)} Tm (${(0,l.escapeString)(Ne[0])}) Tj ET Q EMC`;const Ce={shift:0},Be=this._renderText(Ne[0],_e,We,Me,Ae,Ce,ve,ge);return`/Tx BMC q ${xe}BT `+ze+` 1 0 0 1 0 0 Tm ${Be} ET Q EMC`}static async _getFontData(G,ne,se,le){const he=new f.OperatorList,be={font:null,clone(){return this}},{fontName:ye,fontSize:de}=se;return await G.handleSetFont(le,[ye&&e.Name.get(ye),de],null,he,ne,be,null),be.font}_getTextWidth(G,ne){return ne.charsToGlyphs(G).reduce((se,le)=>se+le.width,0)/1e3}_computeFontSize(G,ne,se,le,he){let{fontSize:be}=this.data.defaultAppearanceData,ye=(be||12)*i.LINE_FACTOR,de=Math.round(G/ye);if(!be){const xe=ue=>Math.floor(ue*100)/100;if(he===-1){const ue=this._getTextWidth(se,le);be=xe(Math.min(G/i.LINE_FACTOR,ue>ne?ne/ue:1/0)),de=1}else{const ue=se.split(/\r\n?|\n/),ve=[];for(const Me of ue){const _e=le.encodeString(Me).join(""),ze=le.charsToGlyphs(_e),We=le.getCharPositions(_e);ve.push({line:_e,glyphs:ze,positions:We})}const Ee=Me=>{let _e=0;for(const ze of ve){const We=this._splitLine(null,le,Me,ne,ze);if(_e+=We.length*Me,_e>G)return!0}return!1};for(de=Math.max(de,he);;){if(ye=G/de,be=xe(ye/i.LINE_FACTOR),Ee(be)){de++;continue}break}}const{fontName:fe,fontColor:ce}=this.data.defaultAppearanceData;this._defaultAppearance=(0,d.createDefaultAppearance)({fontSize:be,fontName:fe,fontColor:ce})}return[this._defaultAppearance,be,G/de]}_renderText(G,ne,se,le,he,be,ye,de){let xe;if(he===1){const ce=this._getTextWidth(G,ne)*se;xe=(le-ce)/2}else if(he===2){const ce=this._getTextWidth(G,ne)*se;xe=le-ce-ye}else xe=ye;const fe=(0,l.numberToString)(xe-be.shift);return be.shift=xe,de=(0,l.numberToString)(de),`${fe} ${de} Td (${(0,l.escapeString)(G)}) Tj`}_getSaveFieldResources(G){var be;const{localResources:ne,appearanceResources:se,acroFormResources:le}=this._fieldResources,he=(be=this.data.defaultAppearanceData)==null?void 0:be.fontName;if(!he)return ne||e.Dict.empty;for(const ye of[ne,se])if(ye instanceof e.Dict){const de=ye.get("Font");if(de instanceof e.Dict&&de.has(he))return ye}if(le instanceof e.Dict){const ye=le.get("Font");if(ye instanceof e.Dict&&ye.has(he)){const de=new e.Dict(G);de.set(he,ye.getRaw(he));const xe=new e.Dict(G);return xe.set("Font",de),e.Dict.merge({xref:G,dictArray:[xe,ne],mergeSubDicts:!0})}}return ne||e.Dict.empty}getFieldObject(){return null}}class J extends W{constructor(G){super(G),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const ne=G.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let se=(0,l.getInheritableProperty)({dict:ne,key:"Q"});(!Number.isInteger(se)||se<0||se>2)&&(se=null),this.data.textAlignment=se;let le=(0,l.getInheritableProperty)({dict:ne,key:"MaxLen"});(!Number.isInteger(le)||le<0)&&(le=0),this.data.maxLen=le,this.data.multiLine=this.hasFieldFlag(i.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(i.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(i.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(i.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(i.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(i.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(G,ne,se,le,he,be,ye,de,xe,fe,ce){const ue=he/this.data.maxLen,ve=this.getBorderAndBackgroundAppearances(ce),Ee=[],Me=ne.getCharPositions(se);for(const[ze,We]of Me)Ee.push(`(${(0,l.escapeString)(se.substring(ze,We))}) Tj`);const _e=Ee.join(` ${(0,l.numberToString)(ue)} 0 Td `);return`/Tx BMC q ${ve}BT `+G+` 1 0 0 1 ${(0,l.numberToString)(ye)} ${(0,l.numberToString)(de+xe)} Tm ${_e} ET Q EMC`}_getMultilineAppearance(G,ne,se,le,he,be,ye,de,xe,fe,ce,ue){const ve=[],Ee=he-2*de,Me={shift:0};for(let We=0,Ve=ne.length;We<Ve;We++){const Ne=ne[We],ke=this._splitLine(Ne,se,le,Ee);for(let Ie=0,Te=ke.length;Ie<Te;Ie++){const Ae=ke[Ie],ge=We===0&&Ie===0?-xe-(ce-fe):-ce;ve.push(this._renderText(Ae,se,le,he,ye,Me,de,ge))}}const _e=this.getBorderAndBackgroundAppearances(ue),ze=ve.join(`
`);return`/Tx BMC q ${_e}BT `+G+` 1 0 0 1 0 ${(0,l.numberToString)(be)} Tm ${ze} ET Q EMC`}_splitLine(G,ne,se,le){let he=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};G=he.line||G;const be=he.glyphs||ne.charsToGlyphs(G);if(be.length<=1)return[G];const ye=he.positions||ne.getCharPositions(G),de=se/1e3,xe=[];let fe=-1,ce=-1,ue=-1,ve=0,Ee=0;for(let Me=0,_e=be.length;Me<_e;Me++){const[ze,We]=ye[Me],Ve=be[Me],Ne=Ve.width*de;Ve.unicode===" "?Ee+Ne>le?(xe.push(G.substring(ve,ze)),ve=ze,Ee=Ne,fe=-1,ue=-1):(Ee+=Ne,fe=ze,ce=We,ue=Me):Ee+Ne>le?fe!==-1?(xe.push(G.substring(ve,ce)),ve=ce,Me=ue+1,fe=-1,Ee=0):(xe.push(G.substring(ve,ze)),ve=ze,Ee=Ne):Ee+=Ne}return ve<G.length&&xe.push(G.substring(ve,G.length)),xe}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(i.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class H extends W{constructor(G){super(G),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(i.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(i.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(i.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(i.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(i.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(G):this.data.radioButton?this._processRadioButton(G):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(G)):(0,i.warn)("Invalid field flags for button widget annotation")}async getOperatorList(G,ne,se,le,he){if(this.data.pushButton)return super.getOperatorList(G,ne,se,!1,he);let be=null,ye=null;if(he){const xe=he.get(this.data.id);be=xe?xe.value:null,ye=xe?xe.rotation:null}if(be===null&&this.appearance)return super.getOperatorList(G,ne,se,le,he);be==null&&(be=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const de=be?this.checkedAppearance:this.uncheckedAppearance;if(de){const xe=this.appearance,fe=de.dict.getArray("Matrix")||i.IDENTITY_MATRIX;ye&&de.dict.set("Matrix",this.getRotationMatrix(he)),this.appearance=de;const ce=super.getOperatorList(G,ne,se,le,he);return this.appearance=xe,de.dict.set("Matrix",fe),ce}return{opList:new f.OperatorList,separateForm:!1,separateCanvas:!1}}async save(G,ne,se){return this.data.checkBox?this._saveCheckbox(G,ne,se):this.data.radioButton?this._saveRadioButton(G,ne,se):null}async _saveCheckbox(G,ne,se){if(!se)return null;const le=se.get(this.data.id);let he=le==null?void 0:le.rotation,be=le==null?void 0:le.value;if(he===void 0&&(be===void 0||this.data.fieldValue===this.data.exportValue===be))return null;const ye=G.xref.fetchIfRef(this.ref);if(!(ye instanceof e.Dict))return null;he===void 0&&(he=this.rotation),be===void 0&&(be=this.data.fieldValue===this.data.exportValue);const de={path:this.data.fieldName,value:be?this.data.exportValue:""},xe=e.Name.get(be?this.data.exportValue:"Off");ye.set("V",xe),ye.set("AS",xe),ye.set("M",`D:${(0,i.getModificationDate)()}`);const fe=this._getMKDict(he);fe&&ye.set("MK",fe);const ce=[];return await(0,E.writeObject)(this.ref,ye,ce,G.xref),[{ref:this.ref,data:ce.join(""),xfa:de}]}async _saveRadioButton(G,ne,se){if(!se)return null;const le=se.get(this.data.id);let he=le==null?void 0:le.rotation,be=le==null?void 0:le.value;if(he===void 0&&(be===void 0||this.data.fieldValue===this.data.buttonValue===be))return null;const ye=G.xref.fetchIfRef(this.ref);if(!(ye instanceof e.Dict))return null;be===void 0&&(be=this.data.fieldValue===this.data.buttonValue),he===void 0&&(he=this.rotation);const de={path:this.data.fieldName,value:be?this.data.buttonValue:""},xe=e.Name.get(be?this.data.buttonValue:"Off"),fe=[];let ce=null;if(be)if(this.parent instanceof e.Ref){const Ee=G.xref.fetch(this.parent);Ee.set("V",xe),await(0,E.writeObject)(this.parent,Ee,fe,G.xref),ce=fe.join(""),fe.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",xe);ye.set("AS",xe),ye.set("M",`D:${(0,i.getModificationDate)()}`);const ue=this._getMKDict(he);ue&&ye.set("MK",ue),await(0,E.writeObject)(this.ref,ye,fe,G.xref);const ve=[{ref:this.ref,data:fe.join(""),xfa:de}];return ce&&ve.push({ref:this.parent,data:ce,xfa:null}),ve}_getDefaultCheckedAppearance(G,ne){const se=this.data.rect[2]-this.data.rect[0],le=this.data.rect[3]-this.data.rect[1],he=[0,0,se,le],be=.8,ye=Math.min(se,le)*be;let de,xe;ne==="check"?(de={width:.755*ye,height:.705*ye},xe="3"):ne==="disc"?(de={width:.791*ye,height:.705*ye},xe="l"):(0,i.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${ne}`);const fe=(0,l.numberToString)((se-de.width)/2),ce=(0,l.numberToString)((le-de.height)/2),ue=`q BT /PdfJsZaDb ${ye} Tf 0 g ${fe} ${ce} Td (${xe}) Tj ET Q`,ve=new e.Dict(G.xref);ve.set("FormType",1),ve.set("Subtype",e.Name.get("Form")),ve.set("Type",e.Name.get("XObject")),ve.set("BBox",he),ve.set("Matrix",[1,0,0,1,0,0]),ve.set("Length",ue.length);const Ee=new e.Dict(G.xref),Me=new e.Dict(G.xref);Me.set("PdfJsZaDb",this.fallbackFontDict),Ee.set("Font",Me),ve.set("Resources",Ee),this.checkedAppearance=new r.StringStream(ue),this.checkedAppearance.dict=ve,this._streams.push(this.checkedAppearance)}_processCheckBox(G){const ne=G.dict.get("AP");if(!(ne instanceof e.Dict))return;const se=ne.get("N");if(!(se instanceof e.Dict))return;const le=this._decodeFormValue(G.dict.get("AS"));typeof le=="string"&&(this.data.fieldValue=le);const he=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",be=se.getKeys();if(be.length===0)be.push("Off",he);else if(be.length===1)be[0]==="Off"?be.push(he):be.unshift("Off");else if(be.includes(he))be.length=0,be.push("Off",he);else{const xe=be.find(fe=>fe!=="Off");be.length=0,be.push("Off",xe)}be.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=be[1];const ye=se.get(this.data.exportValue);this.checkedAppearance=ye instanceof p.BaseStream?ye:null;const de=se.get("Off");this.uncheckedAppearance=de instanceof p.BaseStream?de:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(G,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(G){this.data.fieldValue=this.data.buttonValue=null;const ne=G.dict.get("Parent");if(ne instanceof e.Dict){this.parent=G.dict.getRaw("Parent");const ye=ne.get("V");ye instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(ye))}const se=G.dict.get("AP");if(!(se instanceof e.Dict))return;const le=se.get("N");if(!(le instanceof e.Dict))return;for(const ye of le.getKeys())if(ye!=="Off"){this.data.buttonValue=this._decodeFormValue(ye);break}const he=le.get(this.data.buttonValue);this.checkedAppearance=he instanceof p.BaseStream?he:null;const be=le.get("Off");this.uncheckedAppearance=be instanceof p.BaseStream?be:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(G,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(G){const{dict:ne,annotationGlobals:se}=G;if(!ne.has("A")&&!ne.has("AA")&&!this.data.alternativeText){(0,i.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!ne.has("A")&&!ne.has("AA"),y.Catalog.parseDestDictionary({destDict:ne,resultObj:this.data,docBaseUrl:se.baseUrl,docAttachments:se.attachments})}getFieldObject(){let G="button",ne;return this.data.checkBox?(G="checkbox",ne=this.data.exportValue):this.data.radioButton&&(G="radiobutton",ne=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:ne,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:G}}get fallbackFontDict(){const G=new e.Dict;return G.set("BaseFont",e.Name.get("ZapfDingbats")),G.set("Type",e.Name.get("FallbackType")),G.set("Subtype",e.Name.get("FallbackType")),G.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,i.shadow)(this,"fallbackFontDict",G)}}class N extends W{constructor(G){super(G);const{dict:ne,xref:se}=G;this.indices=ne.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const le=(0,l.getInheritableProperty)({dict:ne,key:"Opt"});if(Array.isArray(le))for(let he=0,be=le.length;he<be;he++){const ye=se.fetchIfRef(le[he]),de=Array.isArray(ye);this.data.options[he]={exportValue:this._decodeFormValue(de?se.fetchIfRef(ye[0]):ye),displayValue:this._decodeFormValue(de?se.fetchIfRef(ye[1]):ye)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const he=this.data.options.length;for(const be of this.indices)Number.isInteger(be)&&be>=0&&be<he&&this.data.fieldValue.push(this.data.options[be].exportValue)}this.data.combo=this.hasFieldFlag(i.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(i.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const G=this.data.combo?"combobox":"listbox",ne=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:ne,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:G}}amendSavedDict(G,ne){var be;if(!this.hasIndices)return;let se=(be=G==null?void 0:G.get(this.data.id))==null?void 0:be.value;Array.isArray(se)||(se=[se]);const le=[],{options:he}=this.data;for(let ye=0,de=0,xe=he.length;ye<xe;ye++)he[ye].exportValue===se[de]&&(le.push(ye),de+=1);ne.set("I",le)}async _getAppearance(G,ne,se,le){if(this.data.combo)return super._getAppearance(G,ne,se,le);let he,be;const ye=le==null?void 0:le.get(this.data.id);if(ye&&(be=ye.rotation,he=ye.value),be===void 0&&he===void 0&&!this._needAppearances)return null;he===void 0?he=this.data.fieldValue:Array.isArray(he)||(he=[he]);const de=1,xe=2;let fe=this.data.rect[3]-this.data.rect[1],ce=this.data.rect[2]-this.data.rect[0];(be===90||be===270)&&([ce,fe]=[fe,ce]);const ue=this.data.options.length,ve=[];for(let Ae=0;Ae<ue;Ae++){const{exportValue:ge}=this.data.options[Ae];he.includes(ge)&&ve.push(Ae)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,d.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Ee=await W._getFontData(G,ne,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let Me,{fontSize:_e}=this.data.defaultAppearanceData;if(_e)Me=this._defaultAppearance;else{const Ae=(fe-de)/ue;let ge=-1,Ce;for(const{displayValue:Be}of this.data.options){const Ye=this._getTextWidth(Be,Ee);Ye>ge&&(ge=Ye,Ce=Be)}[Me,_e]=this._computeFontSize(Ae,ce-2*xe,Ce,Ee,-1)}const ze=_e*i.LINE_FACTOR,We=(ze-_e)/2,Ve=Math.floor(fe/ze);let Ne=0;if(ve.length>0){const Ae=Math.min(...ve),ge=Math.max(...ve);Ne=Math.max(0,ge-Ve+1),Ne>Ae&&(Ne=Ae)}const ke=Math.min(Ne+Ve+1,ue),Ie=["/Tx BMC q",`1 1 ${ce} ${fe} re W n`];if(ve.length){Ie.push("0.600006 0.756866 0.854904 rg");for(const Ae of ve)Ne<=Ae&&Ae<ke&&Ie.push(`1 ${fe-(Ae-Ne+1)*ze} ${ce} ${ze} re f`)}Ie.push("BT",Me,`1 0 0 1 0 ${fe} Tm`);const Te={shift:0};for(let Ae=Ne;Ae<ke;Ae++){const{displayValue:ge}=this.data.options[Ae],Ce=Ae===Ne?We:0;Ie.push(this._renderText(ge,Ee,_e,ce,0,Te,xe,-ze+Ce))}return Ie.push("ET Q EMC"),Ie.join(`
`)}}class U extends W{constructor(G){super(G),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class Y extends I{constructor(G){super(G),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:se}=G;this.data.annotationType=i.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=se.has("Name")?se.get("Name").name:"Note"),se.has("State")?(this.data.state=se.get("State")||null,this.data.stateModel=se.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class _ extends B{constructor(G){var he;super(G);const{dict:ne,annotationGlobals:se}=G;this.data.annotationType=i.AnnotationType.LINK;const le=F(ne,this.rectangle);le&&(this.data.quadPoints=le),(he=this.data).borderColor||(he.borderColor=this.data.color),y.Catalog.parseDestDictionary({destDict:ne,resultObj:this.data,docBaseUrl:se.baseUrl,docAttachments:se.attachments})}}class V extends B{constructor(G){super(G);const{dict:ne}=G;this.data.annotationType=i.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let se=ne.get("Parent");if(!se){(0,i.warn)("Popup annotation has a missing or invalid parent annotation.");return}const le=se.getArray("Rect");this.data.parentRect=Array.isArray(le)&&le.length===4?i.Util.normalizeRect(le):null;const he=se.get("RT");if((0,e.isName)(he,i.AnnotationReplyType.GROUP)&&(se=se.get("IRT")),se.has("M")?(this.setModificationDate(se.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,se.has("C")?(this.setColor(se.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const be=se.get("F");this._isViewable(be)&&this.setFlags(be)}this.setTitle(se.get("T")),this.data.titleObj=this._title,this.setContents(se.get("Contents")),this.data.contentsObj=this._contents,se.has("RC")&&(this.data.richText=A.XFAFactory.getRichTextAsHtml(se.get("RC"))),this.data.open=!!ne.get("Open")}}o.PopupAnnotation=V;class Z extends I{constructor(G){var le;super(G),this.data.hasOwnCanvas=!0;const{evaluatorOptions:ne,xref:se}=G;if(this.data.annotationType=i.AnnotationType.FREETEXT,this.setDefaultAppearance(G),this.appearance){const{fontColor:he,fontSize:be}=(0,d.parseAppearanceStream)(this.appearance,ne,se);this.data.defaultAppearanceData.fontColor=he,this.data.defaultAppearanceData.fontSize=be||10}else if(this._isOffscreenCanvasSupported){const he=G.dict.get("CA"),be=new d.FakeUnicodeFont(se,"sans-serif");(le=this.data.defaultAppearanceData).fontSize||(le.fontSize=10);const{fontColor:ye,fontSize:de}=this.data.defaultAppearanceData;this.appearance=be.createAppearance(this._contents.str,this.rectangle,this.rotation,de,ye,he),this._streams.push(this.appearance,d.FakeUnicodeFont.toUnicodeStream)}else(0,i.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(G,ne,se){let{apRef:le,ap:he}=se;const{color:be,fontSize:ye,rect:de,rotation:xe,user:fe,value:ce}=G,ue=new e.Dict(ne);ue.set("Type",e.Name.get("Annot")),ue.set("Subtype",e.Name.get("FreeText")),ue.set("CreationDate",`D:${(0,i.getModificationDate)()}`),ue.set("Rect",de);const ve=`/Helv ${ye} Tf ${(0,d.getPdfColor)(be,!0)}`;if(ue.set("DA",ve),ue.set("Contents",(0,l.isAscii)(ce)?ce:(0,l.stringToUTF16String)(ce,!0)),ue.set("F",4),ue.set("Border",[0,0,0]),ue.set("Rotate",xe),fe&&ue.set("T",(0,l.isAscii)(fe)?fe:(0,l.stringToUTF16String)(fe,!0)),le||he){const Ee=new e.Dict(ne);ue.set("AP",Ee),le?Ee.set("N",le):Ee.set("N",he)}return ue}static async createNewAppearanceStream(G,ne,se){const{baseFontRef:le,evaluator:he,task:be}=se,{color:ye,fontSize:de,rect:xe,rotation:fe,value:ce}=G,ue=new e.Dict(ne),ve=new e.Dict(ne);if(le)ve.set("Helv",le);else{const me=new e.Dict(ne);me.set("BaseFont",e.Name.get("Helvetica")),me.set("Type",e.Name.get("Font")),me.set("Subtype",e.Name.get("Type1")),me.set("Encoding",e.Name.get("WinAnsiEncoding")),ve.set("Helv",me)}ue.set("Font",ve);const Ee=await W._getFontData(he,be,{fontName:"Helv",fontSize:de},ue),[Me,_e,ze,We]=xe;let Ve=ze-Me,Ne=We-_e;fe%180!==0&&([Ve,Ne]=[Ne,Ve]);const ke=ce.split(`
`),Ie=de/1e3;let Te=-1/0;const Ae=[];for(let me of ke){const Q=Ee.encodeString(me);if(Q.length>1)return null;me=Q.join(""),Ae.push(me);let pe=0;const we=Ee.charsToGlyphs(me);for(const Fe of we)pe+=Fe.width*Ie;Te=Math.max(Te,pe)}let ge=1;Te>Ve&&(ge=Ve/Te);let Ce=1;const Be=i.LINE_FACTOR*de,Ye=(i.LINE_FACTOR-i.LINE_DESCENT_FACTOR)*de,Je=Be*ke.length;Je>Ne&&(Ce=Ne/Je);const Re=Math.min(ge,Ce),He=de*Re;let nt,et,it;switch(fe){case 0:it=[1,0,0,1],et=[xe[0],xe[1],Ve,Ne],nt=[xe[0],xe[3]-Ye];break;case 90:it=[0,1,-1,0],et=[xe[1],-xe[2],Ve,Ne],nt=[xe[1],-xe[0]-Ye];break;case 180:it=[-1,0,0,-1],et=[-xe[2],-xe[3],Ve,Ne],nt=[-xe[2],-xe[1]-Ye];break;case 270:it=[0,-1,1,0],et=[-xe[3],xe[0],Ve,Ne],nt=[-xe[3],xe[2]-Ye];break}const qe=["q",`${it.join(" ")} 0 0 cm`,`${et.join(" ")} re W n`,"BT",`${(0,d.getPdfColor)(ye,!0)}`,`0 Tc /Helv ${(0,l.numberToString)(He)} Tf`];qe.push(`${nt.join(" ")} Td (${(0,l.escapeString)(Ae[0])}) Tj`);const lt=(0,l.numberToString)(Be);for(let me=1,Q=Ae.length;me<Q;me++){const pe=Ae[me];qe.push(`0 -${lt} Td (${(0,l.escapeString)(pe)}) Tj`)}qe.push("ET","Q");const rt=qe.join(`
`),Oe=new e.Dict(ne);Oe.set("FormType",1),Oe.set("Subtype",e.Name.get("Form")),Oe.set("Type",e.Name.get("XObject")),Oe.set("BBox",xe),Oe.set("Resources",ue),Oe.set("Matrix",[1,0,0,1,-xe[0],-xe[1]]);const $e=new r.StringStream(rt);return $e.dict=Oe,$e}}class q extends I{constructor(G){super(G);const{dict:ne,xref:se}=G;this.data.annotationType=i.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const le=ne.getArray("L");if(this.data.lineCoordinates=i.Util.normalizeRect(le),this.setLineEndings(ne.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const he=this.color?D(this.color):[0,0,0],be=ne.get("CA"),ye=T(ne.getArray("IC"),null),de=ye?D(ye):null,xe=de?be:null,fe=this.borderStyle.width||1,ce=2*fe,ue=[this.data.lineCoordinates[0]-ce,this.data.lineCoordinates[1]-ce,this.data.lineCoordinates[2]+ce,this.data.lineCoordinates[3]+ce];i.Util.intersect(this.rectangle,ue)||(this.rectangle=ue),this._setDefaultAppearance({xref:se,extra:`${fe} w`,strokeColor:he,fillColor:de,strokeAlpha:be,fillAlpha:xe,pointsCallback:(ve,Ee)=>(ve.push(`${le[0]} ${le[1]} m`,`${le[2]} ${le[3]} l`,"S"),[Ee[0].x-fe,Ee[1].x+fe,Ee[3].y-fe,Ee[1].y+fe])})}}}class re extends I{constructor(G){super(G);const{dict:ne,xref:se}=G;if(this.data.annotationType=i.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const le=this.color?D(this.color):[0,0,0],he=ne.get("CA"),be=T(ne.getArray("IC"),null),ye=be?D(be):null,de=ye?he:null;if(this.borderStyle.width===0&&!ye)return;this._setDefaultAppearance({xref:se,extra:`${this.borderStyle.width} w`,strokeColor:le,fillColor:ye,strokeAlpha:he,fillAlpha:de,pointsCallback:(xe,fe)=>{const ce=fe[2].x+this.borderStyle.width/2,ue=fe[2].y+this.borderStyle.width/2,ve=fe[3].x-fe[2].x-this.borderStyle.width,Ee=fe[1].y-fe[3].y-this.borderStyle.width;return xe.push(`${ce} ${ue} ${ve} ${Ee} re`),ye?xe.push("B"):xe.push("S"),[fe[0].x,fe[1].x,fe[3].y,fe[1].y]}})}}}class oe extends I{constructor(G){super(G);const{dict:ne,xref:se}=G;if(this.data.annotationType=i.AnnotationType.CIRCLE,!this.appearance){const le=this.color?D(this.color):[0,0,0],he=ne.get("CA"),be=T(ne.getArray("IC"),null),ye=be?D(be):null,de=ye?he:null;if(this.borderStyle.width===0&&!ye)return;const xe=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:se,extra:`${this.borderStyle.width} w`,strokeColor:le,fillColor:ye,strokeAlpha:he,fillAlpha:de,pointsCallback:(fe,ce)=>{const ue=ce[0].x+this.borderStyle.width/2,ve=ce[0].y-this.borderStyle.width/2,Ee=ce[3].x-this.borderStyle.width/2,Me=ce[3].y+this.borderStyle.width/2,_e=ue+(Ee-ue)/2,ze=ve+(Me-ve)/2,We=(Ee-ue)/2*xe,Ve=(Me-ve)/2*xe;return fe.push(`${_e} ${Me} m`,`${_e+We} ${Me} ${Ee} ${ze+Ve} ${Ee} ${ze} c`,`${Ee} ${ze-Ve} ${_e+We} ${ve} ${_e} ${ve} c`,`${_e-We} ${ve} ${ue} ${ze-Ve} ${ue} ${ze} c`,`${ue} ${ze+Ve} ${_e-We} ${Me} ${_e} ${Me} c`,"h"),ye?fe.push("B"):fe.push("S"),[ce[0].x,ce[1].x,ce[3].y,ce[1].y]}})}}}class ae extends I{constructor(G){super(G);const{dict:ne,xref:se}=G;this.data.annotationType=i.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof R||(this.setLineEndings(ne.getArray("LE")),this.data.lineEndings=this.lineEndings);const le=ne.getArray("Vertices");if(!!Array.isArray(le)){for(let he=0,be=le.length;he<be;he+=2)this.data.vertices.push({x:le[he],y:le[he+1]});if(!this.appearance){const he=this.color?D(this.color):[0,0,0],be=ne.get("CA"),ye=this.borderStyle.width||1,de=2*ye,xe=[1/0,1/0,-1/0,-1/0];for(const fe of this.data.vertices)xe[0]=Math.min(xe[0],fe.x-de),xe[1]=Math.min(xe[1],fe.y-de),xe[2]=Math.max(xe[2],fe.x+de),xe[3]=Math.max(xe[3],fe.y+de);i.Util.intersect(this.rectangle,xe)||(this.rectangle=xe),this._setDefaultAppearance({xref:se,extra:`${ye} w`,strokeColor:he,strokeAlpha:be,pointsCallback:(fe,ce)=>{const ue=this.data.vertices;for(let ve=0,Ee=ue.length;ve<Ee;ve++)fe.push(`${ue[ve].x} ${ue[ve].y} ${ve===0?"m":"l"}`);return fe.push("S"),[ce[0].x,ce[1].x,ce[3].y,ce[1].y]}})}}}}class R extends ae{constructor(G){super(G),this.data.annotationType=i.AnnotationType.POLYGON}}class S extends I{constructor(G){super(G),this.data.annotationType=i.AnnotationType.CARET}}class L extends I{constructor(G){super(G),this.data.hasOwnCanvas=this.data.noRotate;const{dict:ne,xref:se}=G;this.data.annotationType=i.AnnotationType.INK,this.data.inkLists=[];const le=ne.getArray("InkList");if(!!Array.isArray(le)){for(let he=0,be=le.length;he<be;++he){this.data.inkLists.push([]);for(let ye=0,de=le[he].length;ye<de;ye+=2)this.data.inkLists[he].push({x:se.fetchIfRef(le[he][ye]),y:se.fetchIfRef(le[he][ye+1])})}if(!this.appearance){const he=this.color?D(this.color):[0,0,0],be=ne.get("CA"),ye=this.borderStyle.width||1,de=2*ye,xe=[1/0,1/0,-1/0,-1/0];for(const fe of this.data.inkLists)for(const ce of fe)xe[0]=Math.min(xe[0],ce.x-de),xe[1]=Math.min(xe[1],ce.y-de),xe[2]=Math.max(xe[2],ce.x+de),xe[3]=Math.max(xe[3],ce.y+de);i.Util.intersect(this.rectangle,xe)||(this.rectangle=xe),this._setDefaultAppearance({xref:se,extra:`${ye} w`,strokeColor:he,strokeAlpha:be,pointsCallback:(fe,ce)=>{for(const ue of this.data.inkLists){for(let ve=0,Ee=ue.length;ve<Ee;ve++)fe.push(`${ue[ve].x} ${ue[ve].y} ${ve===0?"m":"l"}`);fe.push("S")}return[ce[0].x,ce[1].x,ce[3].y,ce[1].y]}})}}}static createNewDict(G,ne,se){let{apRef:le,ap:he}=se;const{color:be,opacity:ye,paths:de,rect:xe,rotation:fe,thickness:ce}=G,ue=new e.Dict(ne);ue.set("Type",e.Name.get("Annot")),ue.set("Subtype",e.Name.get("Ink")),ue.set("CreationDate",`D:${(0,i.getModificationDate)()}`),ue.set("Rect",xe),ue.set("InkList",de.map(Me=>Me.points)),ue.set("F",4),ue.set("Rotate",fe);const ve=new e.Dict(ne);ue.set("BS",ve),ve.set("W",ce),ue.set("C",Array.from(be,Me=>Me/255)),ue.set("CA",ye);const Ee=new e.Dict(ne);return ue.set("AP",Ee),le?Ee.set("N",le):Ee.set("N",he),ue}static async createNewAppearanceStream(G,ne,se){const{color:le,rect:he,paths:be,thickness:ye,opacity:de}=G,xe=[`${ye} w 1 J 1 j`,`${(0,d.getPdfColor)(le,!1)}`];de!==1&&xe.push("/R0 gs");const fe=[];for(const{bezier:Ee}of be){fe.length=0,fe.push(`${(0,l.numberToString)(Ee[0])} ${(0,l.numberToString)(Ee[1])} m`);for(let Me=2,_e=Ee.length;Me<_e;Me+=6){const ze=Ee.slice(Me,Me+6).map(l.numberToString).join(" ");fe.push(`${ze} c`)}fe.push("S"),xe.push(fe.join(`
`))}const ce=xe.join(`
`),ue=new e.Dict(ne);if(ue.set("FormType",1),ue.set("Subtype",e.Name.get("Form")),ue.set("Type",e.Name.get("XObject")),ue.set("BBox",he),ue.set("Length",ce.length),de!==1){const Ee=new e.Dict(ne),Me=new e.Dict(ne),_e=new e.Dict(ne);_e.set("CA",de),_e.set("Type",e.Name.get("ExtGState")),Me.set("R0",_e),Ee.set("ExtGState",Me),ue.set("Resources",Ee)}const ve=new r.StringStream(ce);return ve.dict=ue,ve}}class k extends I{constructor(G){var he;super(G);const{dict:ne,xref:se}=G;if(this.data.annotationType=i.AnnotationType.HIGHLIGHT,this.data.quadPoints=F(ne,null)){const be=(he=this.appearance)==null?void 0:he.dict.get("Resources");if(!this.appearance||!(be!=null&&be.has("ExtGState"))){this.appearance&&(0,i.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const ye=this.color?D(this.color):[1,1,0],de=ne.get("CA");this._setDefaultAppearance({xref:se,fillColor:ye,blendMode:"Multiply",fillAlpha:de,pointsCallback:(xe,fe)=>(xe.push(`${fe[0].x} ${fe[0].y} m`,`${fe[1].x} ${fe[1].y} l`,`${fe[3].x} ${fe[3].y} l`,`${fe[2].x} ${fe[2].y} l`,"f"),[fe[0].x,fe[1].x,fe[3].y,fe[1].y])})}}else this.data.popupRef=null}}class z extends I{constructor(G){super(G);const{dict:ne,xref:se}=G;if(this.data.annotationType=i.AnnotationType.UNDERLINE,this.data.quadPoints=F(ne,null)){if(!this.appearance){const he=this.color?D(this.color):[0,0,0],be=ne.get("CA");this._setDefaultAppearance({xref:se,extra:"[] 0 d 0.571 w",strokeColor:he,strokeAlpha:be,pointsCallback:(ye,de)=>(ye.push(`${de[2].x} ${de[2].y+1.3} m`,`${de[3].x} ${de[3].y+1.3} l`,"S"),[de[0].x,de[1].x,de[3].y,de[1].y])})}}else this.data.popupRef=null}}class P extends I{constructor(G){super(G);const{dict:ne,xref:se}=G;if(this.data.annotationType=i.AnnotationType.SQUIGGLY,this.data.quadPoints=F(ne,null)){if(!this.appearance){const he=this.color?D(this.color):[0,0,0],be=ne.get("CA");this._setDefaultAppearance({xref:se,extra:"[] 0 d 1 w",strokeColor:he,strokeAlpha:be,pointsCallback:(ye,de)=>{const xe=(de[0].y-de[2].y)/6;let fe=xe,ce=de[2].x;const ue=de[2].y,ve=de[3].x;ye.push(`${ce} ${ue+fe} m`);do ce+=2,fe=fe===0?xe:0,ye.push(`${ce} ${ue+fe} l`);while(ce<ve);return ye.push("S"),[de[2].x,ve,ue-2*xe,ue+2*xe]}})}}else this.data.popupRef=null}}class K extends I{constructor(G){super(G);const{dict:ne,xref:se}=G;if(this.data.annotationType=i.AnnotationType.STRIKEOUT,this.data.quadPoints=F(ne,null)){if(!this.appearance){const he=this.color?D(this.color):[0,0,0],be=ne.get("CA");this._setDefaultAppearance({xref:se,extra:"[] 0 d 1 w",strokeColor:he,strokeAlpha:be,pointsCallback:(ye,de)=>(ye.push(`${(de[0].x+de[2].x)/2} ${(de[0].y+de[2].y)/2} m`,`${(de[1].x+de[3].x)/2} ${(de[1].y+de[3].y)/2} l`,"S"),[de[0].x,de[1].x,de[3].y,de[1].y])})}}else this.data.popupRef=null}}class te extends I{constructor(G){super(G),this.data.annotationType=i.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(G,ne){const{width:se,height:le}=G,he=new OffscreenCanvas(se,le),be=he.getContext("2d",{alpha:!0});be.drawImage(G,0,0);const ye=be.getImageData(0,0,se,le).data,de=new Uint32Array(ye.buffer),xe=de.some(i.FeatureTest.isLittleEndian?_e=>_e>>>24!==255:_e=>(_e&255)!==255);xe&&(be.fillStyle="white",be.fillRect(0,0,se,le),be.drawImage(G,0,0));const fe=he.convertToBlob({type:"image/jpeg",quality:1}).then(_e=>_e.arrayBuffer()),ce=e.Name.get("XObject"),ue=e.Name.get("Image"),ve=new e.Dict(ne);ve.set("Type",ce),ve.set("Subtype",ue),ve.set("BitsPerComponent",8),ve.set("ColorSpace",e.Name.get("DeviceRGB")),ve.set("Filter",e.Name.get("DCTDecode")),ve.set("BBox",[0,0,se,le]),ve.set("Width",se),ve.set("Height",le);let Ee=null;if(xe){const _e=new Uint8Array(de.length);if(i.FeatureTest.isLittleEndian)for(let We=0,Ve=de.length;We<Ve;We++)_e[We]=de[We]>>>24;else for(let We=0,Ve=de.length;We<Ve;We++)_e[We]=de[We]&255;const ze=new e.Dict(ne);ze.set("Type",ce),ze.set("Subtype",ue),ze.set("BitsPerComponent",8),ze.set("ColorSpace",e.Name.get("DeviceGray")),ze.set("Width",se),ze.set("Height",le),Ee=new r.Stream(_e,0,0,ze)}return{imageStream:new r.Stream(await fe,0,0,ve),smaskStream:Ee,width:se,height:le}}static createNewDict(G,ne,se){let{apRef:le,ap:he}=se;const{rect:be,rotation:ye,user:de}=G,xe=new e.Dict(ne);if(xe.set("Type",e.Name.get("Annot")),xe.set("Subtype",e.Name.get("Stamp")),xe.set("CreationDate",`D:${(0,i.getModificationDate)()}`),xe.set("Rect",be),xe.set("F",4),xe.set("Border",[0,0,0]),xe.set("Rotate",ye),de&&xe.set("T",(0,l.isAscii)(de)?de:(0,l.stringToUTF16String)(de,!0)),le||he){const fe=new e.Dict(ne);xe.set("AP",fe),le?fe.set("N",le):fe.set("N",he)}return xe}static async createNewAppearanceStream(G,ne,se){const{rotation:le}=G,{imageRef:he,width:be,height:ye}=se.image,de=new e.Dict(ne),xe=new e.Dict(ne);de.set("XObject",xe),xe.set("Im0",he);const fe=`q ${be} 0 0 ${ye} 0 0 cm /Im0 Do Q`,ce=new e.Dict(ne);if(ce.set("FormType",1),ce.set("Subtype",e.Name.get("Form")),ce.set("Type",e.Name.get("XObject")),ce.set("BBox",[0,0,be,ye]),ce.set("Resources",de),le){const ve=(0,l.getRotationMatrix)(le,be,ye);ce.set("Matrix",ve)}const ue=new r.StringStream(fe);return ue.dict=ce,ue}}class X extends I{constructor(G){super(G);const{dict:ne,xref:se}=G,le=new b.FileSpec(ne.get("FS"),se);this.data.annotationType=i.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=le.serializable;const he=ne.get("Name");this.data.name=he instanceof e.Name?(0,i.stringToPDFString)(he.name):"PushPin";const be=ne.get("ca");this.data.fillAlpha=typeof be=="number"&&be>=0&&be<=1?be:null}}},(h,o,s)=>{var i=s(4),l=s(6),d=s(87),e=s(159),r=s(7),p=i.RegExp,x=p.prototype,y=l&&r(function(){var v=!0;try{p(".","d")}catch{v=!1}var b={},g="",w=v?"dgimsy":"gimsy",f=function(T,D){Object.defineProperty(b,T,{get:function(){return g+=D,!0}})},E={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};v&&(E.hasIndices="d");for(var A in E)f(A,E[A]);var O=Object.getOwnPropertyDescriptor(x,"flags").get.call(b);return O!==w||g!==w});y&&d(x,"flags",{configurable:!0,get:e})},(h,o,s)=>{var i=s(47);h.exports=function(){var l=i(this),d="";return l.hasIndices&&(d+="d"),l.global&&(d+="g"),l.ignoreCase&&(d+="i"),l.multiline&&(d+="m"),l.dotAll&&(d+="s"),l.unicode&&(d+="u"),l.unicodeSets&&(d+="v"),l.sticky&&(d+="y"),d}},(h,o,s)=>{var i=s(3),l=s(40),d=s(64),e=s(141),r=s(161),p=s(143),x=[].unshift(0)!==1,y=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(b){return b instanceof TypeError}},v=x||!y();i({target:"Array",proto:!0,arity:1,forced:v},{unshift:function(g){var w=l(this),f=d(w),E=arguments.length;if(E){p(f+E);for(var A=f;A--;){var O=A+E;A in w?w[O]=w[A]:r(w,O)}for(var T=0;T<E;T++)w[T]=arguments[T]}return e(w,f+E)}})},(h,o,s)=>{var i=s(32),l=TypeError;h.exports=function(d,e){if(!delete d[e])throw l("Cannot delete property "+i(e)+" of "+i(d))}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FakeUnicodeFont=void 0,o.createDefaultAppearance=E,o.getPdfColor=f,o.parseAppearanceStream=w,o.parseDefaultAppearance=b,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140);var i=s(151),l=s(150),d=s(145),e=s(163),r=s(164),p=s(210),x=s(208),y=s(155);class v extends r.EvaluatorPreprocessor{constructor(T){super(new y.StringStream(T))}parse(){const T={fn:0,args:[]},D={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;T.args.length=0,!!this.read(T);){if(this.savedStatesDepth!==0)continue;const{fn:F,args:C}=T;switch(F|0){case d.OPS.setFont:const[B,M]=C;B instanceof i.Name&&(D.fontName=B.name),typeof M=="number"&&M>0&&(D.fontSize=M);break;case d.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(C,0,D.fontColor,0);break;case d.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(C,0,D.fontColor,0);break;case d.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(C,0,D.fontColor,0);break}}}catch(F){(0,d.warn)(`parseDefaultAppearance - ignoring errors: "${F}".`)}return D}}function b(O){return new v(O).parse()}class g extends r.EvaluatorPreprocessor{constructor(T,D,F){var C;super(T),this.stream=T,this.evaluatorOptions=D,this.xref=F,this.resources=(C=T.dict)==null?void 0:C.get("Resources")}parse(){const T={fn:0,args:[]};let D={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},F=!1;const C=[];try{for(;T.args.length=0,!(F||!this.read(T));){const{fn:B,args:M}=T;switch(B|0){case d.OPS.save:C.push({scaleFactor:D.scaleFactor,fontSize:D.fontSize,fontName:D.fontName,fontColor:D.fontColor.slice(),fillColorSpace:D.fillColorSpace});break;case d.OPS.restore:D=C.pop()||D;break;case d.OPS.setTextMatrix:D.scaleFactor*=Math.hypot(M[0],M[1]);break;case d.OPS.setFont:const[I,W]=M;I instanceof i.Name&&(D.fontName=I.name),typeof W=="number"&&W>0&&(D.fontSize=W*D.scaleFactor);break;case d.OPS.setFillColorSpace:D.fillColorSpace=e.ColorSpace.parse({cs:M[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case d.OPS.setFillColor:D.fillColorSpace.getRgbItem(M,0,D.fontColor,0);break;case d.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(M,0,D.fontColor,0);break;case d.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(M,0,D.fontColor,0);break;case d.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(M,0,D.fontColor,0);break;case d.OPS.showText:case d.OPS.showSpacedText:case d.OPS.nextLineShowText:case d.OPS.nextLineSetSpacingShowText:F=!0;break}}}catch(B){(0,d.warn)(`parseAppearanceStream - ignoring errors: "${B}".`)}return this.stream.reset(),delete D.scaleFactor,delete D.fillColorSpace,D}get _localColorSpaceCache(){return(0,d.shadow)(this,"_localColorSpaceCache",new p.LocalColorSpaceCache)}get _pdfFunctionFactory(){const T=new x.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,d.shadow)(this,"_pdfFunctionFactory",T)}}function w(O,T,D){return new g(O,T,D).parse()}function f(O,T){if(O[0]===O[1]&&O[1]===O[2]){const D=O[0]/255;return`${(0,l.numberToString)(D)} ${T?"g":"G"}`}return Array.from(O,D=>(0,l.numberToString)(D/255)).join(" ")+` ${T?"rg":"RG"}`}function E(O){let{fontSize:T,fontName:D,fontColor:F}=O;return`/${(0,l.escapePDFName)(D)} ${T} Tf ${f(F,!0)}`}class A{constructor(T,D){this.xref=T,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=D;const F=new OffscreenCanvas(1,1);this.ctxMeasure=F.getContext("2d"),A._fontNameId||(A._fontNameId=1),this.fontName=i.Name.get(`InvalidPDFjsFont_${D}_${A._fontNameId++}`)}get toUnicodeRef(){if(!A._toUnicodeRef){const T=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,D=A.toUnicodeStream=new y.StringStream(T),F=new i.Dict(this.xref);D.dict=F,F.set("Length",T.length),A._toUnicodeRef=this.xref.getNewPersistentRef(D)}return A._toUnicodeRef}get fontDescriptorRef(){if(!A._fontDescriptorRef){const T=new i.Dict(this.xref);T.set("Type",i.Name.get("FontDescriptor")),T.set("FontName",this.fontName),T.set("FontFamily","MyriadPro Regular"),T.set("FontBBox",[0,0,0,0]),T.set("FontStretch",i.Name.get("Normal")),T.set("FontWeight",400),T.set("ItalicAngle",0),A._fontDescriptorRef=this.xref.getNewPersistentRef(T)}return A._fontDescriptorRef}get descendantFontRef(){const T=new i.Dict(this.xref);T.set("BaseFont",this.fontName),T.set("Type",i.Name.get("Font")),T.set("Subtype",i.Name.get("CIDFontType0")),T.set("CIDToGIDMap",i.Name.get("Identity")),T.set("FirstChar",this.firstChar),T.set("LastChar",this.lastChar),T.set("FontDescriptor",this.fontDescriptorRef),T.set("DW",1e3);const D=[],F=[...this.widths.entries()].sort();let C=null,B=null;for(const[I,W]of F){if(!C){C=I,B=[W];continue}I===C+B.length?B.push(W):(D.push(C,B),C=I,B=[W])}C&&D.push(C,B),T.set("W",D);const M=new i.Dict(this.xref);return M.set("Ordering","Identity"),M.set("Registry","Adobe"),M.set("Supplement",0),T.set("CIDSystemInfo",M),this.xref.getNewPersistentRef(T)}get baseFontRef(){const T=new i.Dict(this.xref);return T.set("BaseFont",this.fontName),T.set("Type",i.Name.get("Font")),T.set("Subtype",i.Name.get("Type0")),T.set("Encoding",i.Name.get("Identity-H")),T.set("DescendantFonts",[this.descendantFontRef]),T.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(T)}get resources(){const T=new i.Dict(this.xref),D=new i.Dict(this.xref);return D.set(this.fontName.name,this.baseFontRef),T.set("Font",D),T}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(T){const D=this._createContext();for(const F of T.split(/\r\n?|\n/))for(const C of F.split("")){const B=C.charCodeAt(0);if(this.widths.has(B))continue;const M=D.measureText(C),I=Math.ceil(M.width);this.widths.set(B,I),this.firstChar=Math.min(B,this.firstChar),this.lastChar=Math.max(B,this.lastChar)}return this.resources}createAppearance(T,D,F,C,B,M){const I=this._createContext(),W=[];let J=-1/0;for(const X of T.split(/\r\n?|\n/)){W.push(X);const ee=I.measureText(X).width;J=Math.max(J,ee);for(const G of X.split("")){const ne=G.charCodeAt(0);let se=this.widths.get(ne);if(se===void 0){const le=I.measureText(G);se=Math.ceil(le.width),this.widths.set(ne,se),this.firstChar=Math.min(ne,this.firstChar),this.lastChar=Math.max(ne,this.lastChar)}}}J*=C/1e3;const[H,N,U,Y]=D;let _=U-H,V=Y-N;F%180!==0&&([_,V]=[V,_]);let Z=1;J>_&&(Z=_/J);let q=1;const re=d.LINE_FACTOR*C,oe=d.LINE_DESCENT_FACTOR*C,ae=re*W.length;ae>V&&(q=V/ae);const R=Math.min(Z,q),S=C*R,L=["q",`0 0 ${(0,l.numberToString)(_)} ${(0,l.numberToString)(V)} re W n`,"BT",`1 0 0 1 0 ${(0,l.numberToString)(V+oe)} Tm 0 Tc ${f(B,!0)}`,`/${this.fontName.name} ${(0,l.numberToString)(S)} Tf`],{resources:k}=this;if(M=typeof M=="number"&&M>=0&&M<=1?M:1,M!==1){L.push("/R0 gs");const X=new i.Dict(this.xref),ee=new i.Dict(this.xref);ee.set("ca",M),ee.set("CA",M),ee.set("Type",i.Name.get("ExtGState")),X.set("R0",ee),k.set("ExtGState",X)}const z=(0,l.numberToString)(re);for(const X of W)L.push(`0 -${z} Td <${(0,l.stringToUTF16HexString)(X)}> Tj`);L.push("ET","Q");const P=L.join(`
`),K=new i.Dict(this.xref);if(K.set("Subtype",i.Name.get("Form")),K.set("Type",i.Name.get("XObject")),K.set("BBox",[0,0,_,V]),K.set("Length",P.length),K.set("Resources",k),F){const X=(0,l.getRotationMatrix)(F,_,V);K.set("Matrix",X)}const te=new y.StringStream(P);return te.dict=K,te}}o.FakeUnicodeFont=A},(h,o,s)=>{var O,Xd,D,Wd,C,B,M,I,W,J,H,N,U,Ls,_,qy,Z,ev,re,T0,ae,Ns,S,Bs,k,tv,P,nv,te,rv,ee,Gd,se,F0,he,I0,ye,Vd;Object.defineProperty(o,"__esModule",{value:!0}),o.ColorSpace=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(2);var i=s(145),l=s(151),d=s(152),e=s(150);function r(xe,fe,ce,ue,ve,Ee,Me){Me=Me!==1?0:Me;const ze=ce/ve,We=ue/Ee;let Ve=0,Ne;const ke=new Uint16Array(ve),Ie=ce*3;for(let Te=0;Te<ve;Te++)ke[Te]=Math.floor(Te*ze)*3;for(let Te=0;Te<Ee;Te++){const Ae=Math.floor(Te*We)*Ie;for(let ge=0;ge<ve;ge++)Ne=Ae+ke[ge],fe[Ve++]=xe[Ne++],fe[Ve++]=xe[Ne++],fe[Ve++]=xe[Ne++],Ve+=Me}}class p{constructor(fe,ce){this.constructor===p&&(0,i.unreachable)("Cannot initialize ColorSpace."),this.name=fe,this.numComps=ce}getRgb(fe,ce){const ue=new Uint8ClampedArray(3);return this.getRgbItem(fe,ce,ue,0),ue}getRgbItem(fe,ce,ue,ve){(0,i.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(fe,ce,ue,ve,Ee,Me,_e){(0,i.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(fe,ce){(0,i.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(fe){return!1}isDefaultDecode(fe,ce){return p.isDefaultDecode(fe,this.numComps)}fillRgb(fe,ce,ue,ve,Ee,Me,_e,ze,We){const Ve=ce*ue;let Ne=null;const ke=1<<_e,Ie=ue!==Ee||ce!==ve;if(this.isPassthrough(_e))Ne=ze;else if(this.numComps===1&&Ve>ke&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Te=_e<=8?new Uint8Array(ke):new Uint16Array(ke);for(let ge=0;ge<ke;ge++)Te[ge]=ge;const Ae=new Uint8ClampedArray(ke*3);if(this.getRgbBuffer(Te,0,ke,Ae,0,_e,0),Ie){Ne=new Uint8Array(Ve*3);let ge=0;for(let Ce=0;Ce<Ve;++Ce){const Be=ze[Ce]*3;Ne[ge++]=Ae[Be],Ne[ge++]=Ae[Be+1],Ne[ge++]=Ae[Be+2]}}else{let ge=0;for(let Ce=0;Ce<Ve;++Ce){const Be=ze[Ce]*3;fe[ge++]=Ae[Be],fe[ge++]=Ae[Be+1],fe[ge++]=Ae[Be+2],ge+=We}}}else Ie?(Ne=new Uint8ClampedArray(Ve*3),this.getRgbBuffer(ze,0,Ve,Ne,0,_e,0)):this.getRgbBuffer(ze,0,ve*Me,fe,0,_e,We);if(Ne)if(Ie)r(Ne,fe,ce,ue,ve,Ee,We);else{let Te=0,Ae=0;for(let ge=0,Ce=ve*Me;ge<Ce;ge++)fe[Te++]=Ne[Ae++],fe[Te++]=Ne[Ae++],fe[Te++]=Ne[Ae++],Te+=We}}get usesZeroToOneRange(){return(0,i.shadow)(this,"usesZeroToOneRange",!0)}static _cache(fe,ce,ue,ve){if(!ue)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!ve)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let Ee,Me;fe instanceof l.Ref&&(Me=fe,fe=ce.fetch(fe)),fe instanceof l.Name&&(Ee=fe.name),(Ee||Me)&&ue.set(Ee,Me,ve)}static getCached(fe,ce,ue){if(!ue)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(fe instanceof l.Ref){const ve=ue.getByRef(fe);if(ve)return ve;try{fe=ce.fetch(fe)}catch(Ee){if(Ee instanceof e.MissingDataException)throw Ee}}if(fe instanceof l.Name){const ve=ue.getByName(fe.name);if(ve)return ve}return null}static async parseAsync(fe){let{cs:ce,xref:ue,resources:ve=null,pdfFunctionFactory:Ee,localColorSpaceCache:Me}=fe;const _e=this._parse(ce,ue,ve,Ee);return this._cache(ce,ue,Me,_e),_e}static parse(fe){let{cs:ce,xref:ue,resources:ve=null,pdfFunctionFactory:Ee,localColorSpaceCache:Me}=fe;const _e=this.getCached(ce,ue,Me);if(_e)return _e;const ze=this._parse(ce,ue,ve,Ee);return this._cache(ce,ue,Me,ze),ze}static _parse(fe,ce){let ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ve=arguments.length>3?arguments[3]:void 0;if(fe=ce.fetchIfRef(fe),fe instanceof l.Name)switch(fe.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new y(null);default:if(ue instanceof l.Dict){const Ee=ue.get("ColorSpace");if(Ee instanceof l.Dict){const Me=Ee.get(fe.name);if(Me){if(Me instanceof l.Name)return this._parse(Me,ce,ue,ve);fe=Me;break}}}throw new i.FormatError(`Unrecognized ColorSpace: ${fe.name}`)}if(Array.isArray(fe)){const Ee=ce.fetchIfRef(fe[0]).name;let Me,_e,ze,We,Ve,Ne;switch(Ee){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return Me=ce.fetchIfRef(fe[1]),We=Me.getArray("WhitePoint"),Ve=Me.getArray("BlackPoint"),Ne=Me.get("Gamma"),new f(We,Ve,Ne);case"CalRGB":Me=ce.fetchIfRef(fe[1]),We=Me.getArray("WhitePoint"),Ve=Me.getArray("BlackPoint"),Ne=Me.getArray("Gamma");const ke=Me.getArray("Matrix");return new E(We,Ve,Ne,ke);case"ICCBased":const Te=ce.fetchIfRef(fe[1]).dict;_e=Te.get("N");const Ae=Te.get("Alternate");if(Ae){const Re=this._parse(Ae,ce,ue,ve);if(Re.numComps===_e)return Re;(0,i.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(_e===1)return this.singletons.gray;if(_e===3)return this.singletons.rgb;if(_e===4)return this.singletons.cmyk;break;case"Pattern":return ze=fe[1]||null,ze&&(ze=this._parse(ze,ce,ue,ve)),new y(ze);case"I":case"Indexed":ze=this._parse(fe[1],ce,ue,ve);const ge=ce.fetchIfRef(fe[2])+1,Ce=ce.fetchIfRef(fe[3]);return new v(ze,ge,Ce);case"Separation":case"DeviceN":const Be=ce.fetchIfRef(fe[1]);_e=Array.isArray(Be)?Be.length:1,ze=this._parse(fe[2],ce,ue,ve);const Ye=ve.create(fe[3]);return new x(_e,ze,Ye);case"Lab":Me=ce.fetchIfRef(fe[1]),We=Me.getArray("WhitePoint"),Ve=Me.getArray("BlackPoint");const Je=Me.getArray("Range");return new A(We,Ve,Je);default:throw new i.FormatError(`Unimplemented ColorSpace object: ${Ee}`)}}throw new i.FormatError(`Unrecognized ColorSpace object: ${fe}`)}static isDefaultDecode(fe,ce){if(!Array.isArray(fe))return!0;if(ce*2!==fe.length)return(0,i.warn)("The decode map is not the correct length"),!0;for(let ue=0,ve=fe.length;ue<ve;ue+=2)if(fe[ue]!==0||fe[ue+1]!==1)return!1;return!0}static get singletons(){return(0,i.shadow)(this,"singletons",{get gray(){return(0,i.shadow)(this,"gray",new b)},get rgb(){return(0,i.shadow)(this,"rgb",new g)},get cmyk(){return(0,i.shadow)(this,"cmyk",new w)}})}}o.ColorSpace=p;class x extends p{constructor(fe,ce,ue){super("Alternate",fe),this.base=ce,this.tintFn=ue,this.tmpBuf=new Float32Array(ce.numComps)}getRgbItem(fe,ce,ue,ve){const Ee=this.tmpBuf;this.tintFn(fe,ce,Ee,0),this.base.getRgbItem(Ee,0,ue,ve)}getRgbBuffer(fe,ce,ue,ve,Ee,Me,_e){const ze=this.tintFn,We=this.base,Ve=1/((1<<Me)-1),Ne=We.numComps,ke=We.usesZeroToOneRange,Ie=(We.isPassthrough(8)||!ke)&&_e===0;let Te=Ie?Ee:0;const Ae=Ie?ve:new Uint8ClampedArray(Ne*ue),ge=this.numComps,Ce=new Float32Array(ge),Be=new Float32Array(Ne);let Ye,Je;for(Ye=0;Ye<ue;Ye++){for(Je=0;Je<ge;Je++)Ce[Je]=fe[ce++]*Ve;if(ze(Ce,0,Be,0),ke)for(Je=0;Je<Ne;Je++)Ae[Te++]=Be[Je]*255;else We.getRgbItem(Be,0,Ae,Te),Te+=Ne}Ie||We.getRgbBuffer(Ae,0,ue,ve,Ee,8,_e)}getOutputLength(fe,ce){return this.base.getOutputLength(fe*this.base.numComps/this.numComps,ce)}}class y extends p{constructor(fe){super("Pattern",null),this.base=fe}isDefaultDecode(fe,ce){(0,i.unreachable)("Should not call PatternCS.isDefaultDecode")}}class v extends p{constructor(fe,ce,ue){super("Indexed",1),this.base=fe,this.highVal=ce;const ve=fe.numComps*ce;if(this.lookup=new Uint8Array(ve),ue instanceof d.BaseStream){const Ee=ue.getBytes(ve);this.lookup.set(Ee)}else if(typeof ue=="string")for(let Ee=0;Ee<ve;++Ee)this.lookup[Ee]=ue.charCodeAt(Ee)&255;else throw new i.FormatError(`IndexedCS - unrecognized lookup table: ${ue}`)}getRgbItem(fe,ce,ue,ve){const Ee=this.base.numComps,Me=fe[ce]*Ee;this.base.getRgbBuffer(this.lookup,Me,1,ue,ve,8,0)}getRgbBuffer(fe,ce,ue,ve,Ee,Me,_e){const ze=this.base,We=ze.numComps,Ve=ze.getOutputLength(We,_e),Ne=this.lookup;for(let ke=0;ke<ue;++ke){const Ie=fe[ce++]*We;ze.getRgbBuffer(Ne,Ie,1,ve,Ee,8,_e),Ee+=Ve}}getOutputLength(fe,ce){return this.base.getOutputLength(fe*this.base.numComps,ce)}isDefaultDecode(fe,ce){return Array.isArray(fe)?fe.length!==2?((0,i.warn)("Decode map length is not correct"),!0):!Number.isInteger(ce)||ce<1?((0,i.warn)("Bits per component is not correct"),!0):fe[0]===0&&fe[1]===(1<<ce)-1:!0}}class b extends p{constructor(){super("DeviceGray",1)}getRgbItem(fe,ce,ue,ve){const Ee=fe[ce]*255;ue[ve]=ue[ve+1]=ue[ve+2]=Ee}getRgbBuffer(fe,ce,ue,ve,Ee,Me,_e){const ze=255/((1<<Me)-1);let We=ce,Ve=Ee;for(let Ne=0;Ne<ue;++Ne){const ke=ze*fe[We++];ve[Ve++]=ke,ve[Ve++]=ke,ve[Ve++]=ke,Ve+=_e}}getOutputLength(fe,ce){return fe*(3+ce)}}class g extends p{constructor(){super("DeviceRGB",3)}getRgbItem(fe,ce,ue,ve){ue[ve]=fe[ce]*255,ue[ve+1]=fe[ce+1]*255,ue[ve+2]=fe[ce+2]*255}getRgbBuffer(fe,ce,ue,ve,Ee,Me,_e){if(Me===8&&_e===0){ve.set(fe.subarray(ce,ce+ue*3),Ee);return}const ze=255/((1<<Me)-1);let We=ce,Ve=Ee;for(let Ne=0;Ne<ue;++Ne)ve[Ve++]=ze*fe[We++],ve[Ve++]=ze*fe[We++],ve[Ve++]=ze*fe[We++],Ve+=_e}getOutputLength(fe,ce){return fe*(3+ce)/3|0}isPassthrough(fe){return fe===8}}class w extends p{constructor(){super("DeviceCMYK",4);Le(this,O)}getRgbItem(ce,ue,ve,Ee){Ue(this,O,Xd).call(this,ce,ue,1,ve,Ee)}getRgbBuffer(ce,ue,ve,Ee,Me,_e,ze){const We=1/((1<<_e)-1);for(let Ve=0;Ve<ve;Ve++)Ue(this,O,Xd).call(this,ce,ue,We,Ee,Me),ue+=4,Me+=3+ze}getOutputLength(ce,ue){return ce/4*(3+ue)|0}}O=new WeakSet,Xd=function(ce,ue,ve,Ee,Me){const _e=ce[ue]*ve,ze=ce[ue+1]*ve,We=ce[ue+2]*ve,Ve=ce[ue+3]*ve;Ee[Me]=255+_e*(-4.387332384609988*_e+54.48615194189176*ze+18.82290502165302*We+212.25662451639585*Ve+-285.2331026137004)+ze*(1.7149763477362134*ze-5.6096736904047315*We+-17.873870861415444*Ve-5.497006427196366)+We*(-2.5217340131683033*We-21.248923337353073*Ve+17.5119270841813)+Ve*(-21.86122147463605*Ve-189.48180835922747),Ee[Me+1]=255+_e*(8.841041422036149*_e+60.118027045597366*ze+6.871425592049007*We+31.159100130055922*Ve+-79.2970844816548)+ze*(-15.310361306967817*ze+17.575251261109482*We+131.35250912493976*Ve-190.9453302588951)+We*(4.444339102852739*We+9.8632861493405*Ve-24.86741582555878)+Ve*(-20.737325471181034*Ve-187.80453709719578),Ee[Me+2]=255+_e*(.8842522430003296*_e+8.078677503112928*ze+30.89978309703729*We-.23883238689178934*Ve+-14.183576799673286)+ze*(10.49593273432072*ze+63.02378494754052*We+50.606957656360734*Ve-112.23884253719248)+We*(.03296041114873217*We+115.60384449646641*Ve+-193.58209356861505)+Ve*(-22.33816807309886*Ve-180.12613974708367)};class f extends p{constructor(ce,ue,ve){super("CalGray",1);Le(this,D);if(!ce)throw new i.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=ce,[this.XB,this.YB,this.ZB]=ue||[0,0,0],this.G=ve||1,this.XW<0||this.ZW<0||this.YW!==1)throw new i.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,i.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,i.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,i.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(ce,ue,ve,Ee){Ue(this,D,Wd).call(this,ce,ue,ve,Ee,1)}getRgbBuffer(ce,ue,ve,Ee,Me,_e,ze){const We=1/((1<<_e)-1);for(let Ve=0;Ve<ve;++Ve)Ue(this,D,Wd).call(this,ce,ue,Ee,Me,We),ue+=1,Me+=3+ze}getOutputLength(ce,ue){return ce*(3+ue)}}D=new WeakSet,Wd=function(ce,ue,ve,Ee,Me){const ze=(ce[ue]*Me)**this.G,We=this.YW*ze,Ve=Math.max(295.8*We**.3333333333333333-40.8,0);ve[Ee]=Ve,ve[Ee+1]=Ve,ve[Ee+2]=Ve};const ne=class extends p{constructor(ce,ue,ve,Ee){super("CalRGB",3);Le(this,U);Le(this,_);Le(this,Z);Le(this,re);Le(this,ae);Le(this,S);Le(this,k);Le(this,P);Le(this,te);Le(this,ee);if(!ce)throw new i.FormatError("WhitePoint missing - required for color space CalRGB");const[Me,_e,ze]=this.whitePoint=ce,[We,Ve,Ne]=this.blackPoint=ue||new Float32Array(3);if([this.GR,this.GG,this.GB]=ve||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=Ee||new Float32Array([1,0,0,0,1,0,0,0,1]),Me<0||ze<0||_e!==1)throw new i.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(We<0||Ve<0||Ne<0)&&((0,i.info)(`Invalid BlackPoint for ${this.name} [${We}, ${Ve}, ${Ne}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,i.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(ce,ue,ve,Ee){Ue(this,ee,Gd).call(this,ce,ue,ve,Ee,1)}getRgbBuffer(ce,ue,ve,Ee,Me,_e,ze){const We=1/((1<<_e)-1);for(let Ve=0;Ve<ve;++Ve)Ue(this,ee,Gd).call(this,ce,ue,Ee,Me,We),ue+=3,Me+=3+ze}getOutputLength(ce,ue){return ce*(3+ue)/3|0}};let E=ne;C=new WeakMap,B=new WeakMap,M=new WeakMap,I=new WeakMap,W=new WeakMap,J=new WeakMap,H=new WeakMap,N=new WeakMap,U=new WeakSet,Ls=function(ce,ue,ve){ve[0]=ce[0]*ue[0]+ce[1]*ue[1]+ce[2]*ue[2],ve[1]=ce[3]*ue[0]+ce[4]*ue[1]+ce[5]*ue[2],ve[2]=ce[6]*ue[0]+ce[7]*ue[1]+ce[8]*ue[2]},_=new WeakSet,qy=function(ce,ue,ve){ve[0]=ue[0]*1/ce[0],ve[1]=ue[1]*1/ce[1],ve[2]=ue[2]*1/ce[2]},Z=new WeakSet,ev=function(ce,ue,ve){ve[0]=ue[0]*.95047/ce[0],ve[1]=ue[1]*1/ce[1],ve[2]=ue[2]*1.08883/ce[2]},re=new WeakSet,T0=function(ce){return ce<=.0031308?Ue(this,ae,Ns).call(this,0,1,12.92*ce):ce>=.99554525?1:Ue(this,ae,Ns).call(this,0,1,1.055*ce**.4166666666666667-.055)},ae=new WeakSet,Ns=function(ce,ue,ve){return Math.max(ce,Math.min(ue,ve))},S=new WeakSet,Bs=function(ce){return ce<0?-Ue(this,S,Bs).call(this,-ce):ce>8?((ce+16)/116)**3:ce*ie(ne,N)},k=new WeakSet,tv=function(ce,ue,ve){if(ce[0]===0&&ce[1]===0&&ce[2]===0){ve[0]=ue[0],ve[1]=ue[1],ve[2]=ue[2];return}const Ee=Ue(this,S,Bs).call(this,0),Me=Ee,_e=Ue(this,S,Bs).call(this,ce[0]),ze=Ee,We=Ue(this,S,Bs).call(this,ce[1]),Ve=Ee,Ne=Ue(this,S,Bs).call(this,ce[2]),ke=(1-Me)/(1-_e),Ie=1-ke,Te=(1-ze)/(1-We),Ae=1-Te,ge=(1-Ve)/(1-Ne),Ce=1-ge;ve[0]=ue[0]*ke+Ie,ve[1]=ue[1]*Te+Ae,ve[2]=ue[2]*ge+Ce},P=new WeakSet,nv=function(ce,ue,ve){if(ce[0]===1&&ce[2]===1){ve[0]=ue[0],ve[1]=ue[1],ve[2]=ue[2];return}const Ee=ve;Ue(this,U,Ls).call(this,ie(ne,C),ue,Ee);const Me=ie(ne,W);Ue(this,_,qy).call(this,ce,Ee,Me),Ue(this,U,Ls).call(this,ie(ne,B),Me,ve)},te=new WeakSet,rv=function(ce,ue,ve){const Ee=ve;Ue(this,U,Ls).call(this,ie(ne,C),ue,Ee);const Me=ie(ne,W);Ue(this,Z,ev).call(this,ce,Ee,Me),Ue(this,U,Ls).call(this,ie(ne,B),Me,ve)},ee=new WeakSet,Gd=function(ce,ue,ve,Ee,Me){const _e=Ue(this,ae,Ns).call(this,0,1,ce[ue]*Me),ze=Ue(this,ae,Ns).call(this,0,1,ce[ue+1]*Me),We=Ue(this,ae,Ns).call(this,0,1,ce[ue+2]*Me),Ve=_e===1?1:_e**this.GR,Ne=ze===1?1:ze**this.GG,ke=We===1?1:We**this.GB,Ie=this.MXA*Ve+this.MXB*Ne+this.MXC*ke,Te=this.MYA*Ve+this.MYB*Ne+this.MYC*ke,Ae=this.MZA*Ve+this.MZB*Ne+this.MZC*ke,ge=ie(ne,J);ge[0]=Ie,ge[1]=Te,ge[2]=Ae;const Ce=ie(ne,H);Ue(this,P,nv).call(this,this.whitePoint,ge,Ce);const Be=ie(ne,J);Ue(this,k,tv).call(this,this.blackPoint,Ce,Be);const Ye=ie(ne,H);Ue(this,te,rv).call(this,ie(ne,I),Be,Ye);const Je=ie(ne,J);Ue(this,U,Ls).call(this,ie(ne,M),Ye,Je),ve[Ee]=Ue(this,re,T0).call(this,Je[0])*255,ve[Ee+1]=Ue(this,re,T0).call(this,Je[1])*255,ve[Ee+2]=Ue(this,re,T0).call(this,Je[2])*255},Le(E,C,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),Le(E,B,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),Le(E,M,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),Le(E,I,new Float32Array([1,1,1])),Le(E,W,new Float32Array(3)),Le(E,J,new Float32Array(3)),Le(E,H,new Float32Array(3)),Le(E,N,.0011070564598794539);class A extends p{constructor(ce,ue,ve){super("Lab",3);Le(this,se);Le(this,he);Le(this,ye);if(!ce)throw new i.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=ce,[this.amin,this.amax,this.bmin,this.bmax]=ve||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=ue||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new i.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,i.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,i.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(ce,ue,ve,Ee){Ue(this,ye,Vd).call(this,ce,ue,!1,ve,Ee)}getRgbBuffer(ce,ue,ve,Ee,Me,_e,ze){const We=(1<<_e)-1;for(let Ve=0;Ve<ve;Ve++)Ue(this,ye,Vd).call(this,ce,ue,We,Ee,Me),ue+=3,Me+=3+ze}getOutputLength(ce,ue){return ce*(3+ue)/3|0}isDefaultDecode(ce,ue){return!0}get usesZeroToOneRange(){return(0,i.shadow)(this,"usesZeroToOneRange",!1)}}se=new WeakSet,F0=function(ce){return ce>=.20689655172413793?ce**3:.12841854934601665*(ce-.13793103448275862)},he=new WeakSet,I0=function(ce,ue,ve,Ee){return ve+ce*(Ee-ve)/ue},ye=new WeakSet,Vd=function(ce,ue,ve,Ee,Me){let _e=ce[ue],ze=ce[ue+1],We=ce[ue+2];ve!==!1&&(_e=Ue(this,he,I0).call(this,_e,ve,0,100),ze=Ue(this,he,I0).call(this,ze,ve,this.amin,this.amax),We=Ue(this,he,I0).call(this,We,ve,this.bmin,this.bmax)),ze>this.amax?ze=this.amax:ze<this.amin&&(ze=this.amin),We>this.bmax?We=this.bmax:We<this.bmin&&(We=this.bmin);const Ve=(_e+16)/116,Ne=Ve+ze/500,ke=Ve-We/200,Ie=this.XW*Ue(this,se,F0).call(this,Ne),Te=this.YW*Ue(this,se,F0).call(this,Ve),Ae=this.ZW*Ue(this,se,F0).call(this,ke);let ge,Ce,Be;this.ZW<1?(ge=Ie*3.1339+Te*-1.617+Ae*-.4906,Ce=Ie*-.9785+Te*1.916+Ae*.0333,Be=Ie*.072+Te*-.229+Ae*1.4057):(ge=Ie*3.2406+Te*-1.5372+Ae*-.4986,Ce=Ie*-.9689+Te*1.8758+Ae*.0415,Be=Ie*.0557+Te*-.204+Ae*1.057),Ee[Me]=Math.sqrt(ge)*255,Ee[Me+1]=Math.sqrt(Ce)*255,Ee[Me+2]=Math.sqrt(Be)*255}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PartialEvaluator=o.EvaluatorPreprocessor=void 0,s(140),s(2),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(158),s(160);var i=s(145),l=s(165),d=s(151),e=s(185),r=s(188),p=s(192),x=s(201),y=s(202),v=s(193),b=s(208),g=s(167),w=s(210),f=s(155),E=s(152),A=s(211),O=s(163),T=s(169),D=s(189),F=s(212),C=s(190),B=s(196),M=s(191),I=s(213),W=s(214),J=s(215),H=s(216);const N=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),U={TILING:1,SHADING:2},Y=10,_=Promise.resolve();function V(P){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Array.isArray(P)){for(const te of P){const X=V(te,!0);if(X)return X}return(0,i.warn)(`Unsupported blend mode Array: ${P}`),"source-over"}if(!(P instanceof d.Name))return K?null:"source-over";switch(P.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return K?null:((0,i.warn)(`Unsupported blend mode: ${P.name}`),"source-over")}function Z(P){var K;P.fn===i.OPS.paintImageMaskXObject&&((K=P.args[0])==null?void 0:K.count)>0&&P.args[0].count++}const k=class{constructor(){this.reset()}check(){return++this.checked<k.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+k.TIME_SLOT_DURATION_MS,this.checked=0}};let q=k;Ct(q,"TIME_SLOT_DURATION_MS",20),Ct(q,"CHECK_TIME_EVERY",100);class re{constructor(K){let{xref:te,handler:X,pageIndex:ee,idFactory:G,fontCache:ne,builtInCMapCache:se,standardFontDataCache:le,globalImageCache:he,systemFontCache:be,options:ye=null}=K;this.xref=te,this.handler=X,this.pageIndex=ee,this.idFactory=G,this.fontCache=ne,this.builtInCMapCache=se,this.standardFontDataCache=le,this.globalImageCache=he,this.systemFontCache=be,this.options=ye||N,this.parsingType3Font=!1,this._regionalImageCache=new w.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),I.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const K=new b.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,i.shadow)(this,"_pdfFunctionFactory",K)}clone(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const te=Object.create(this);return te.options=Object.assign(Object.create(null),this.options,K),te}hasBlendModes(K,te){if(!(K instanceof d.Dict)||K.objId&&te.has(K.objId))return!1;const X=new d.RefSet(te);K.objId&&X.put(K.objId);const ee=[K],G=this.xref;for(;ee.length;){const ne=ee.shift(),se=ne.get("ExtGState");if(se instanceof d.Dict)for(let he of se.getRawValues()){if(he instanceof d.Ref){if(X.has(he))continue;try{he=G.fetch(he)}catch(ye){X.put(he),(0,i.info)(`hasBlendModes - ignoring ExtGState: "${ye}".`);continue}}if(!(he instanceof d.Dict))continue;he.objId&&X.put(he.objId);const be=he.get("BM");if(be instanceof d.Name){if(be.name!=="Normal")return!0;continue}if(be!==void 0&&Array.isArray(be)){for(const ye of be)if(ye instanceof d.Name&&ye.name!=="Normal")return!0}}const le=ne.get("XObject");if(le instanceof d.Dict)for(let he of le.getRawValues()){if(he instanceof d.Ref){if(X.has(he))continue;try{he=G.fetch(he)}catch(ye){X.put(he),(0,i.info)(`hasBlendModes - ignoring XObject: "${ye}".`);continue}}if(!(he instanceof E.BaseStream))continue;he.dict.objId&&X.put(he.dict.objId);const be=he.dict.get("Resources");be instanceof d.Dict&&(be.objId&&X.has(be.objId)||(ee.push(be),be.objId&&X.put(be.objId)))}}for(const ne of X)te.put(ne);return!1}async fetchBuiltInCMap(K){const te=this.builtInCMapCache.get(K);if(te)return te;let X;if(this.options.cMapUrl!==null){const ee=`${this.options.cMapUrl}${K}.bcmap`,G=await fetch(ee);if(!G.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${ee}" with "${G.statusText}".`);X={cMapData:new Uint8Array(await G.arrayBuffer()),compressionType:i.CMapCompressionType.BINARY}}else X=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:K});return X.compressionType!==i.CMapCompressionType.NONE&&this.builtInCMapCache.set(K,X),X}async fetchStandardFontData(K){const te=this.standardFontDataCache.get(K);if(te)return new f.Stream(te);if(this.options.useSystemFonts&&K!=="Symbol"&&K!=="ZapfDingbats")return null;const X=(0,p.getFontNameToFileMap)(),ee=X[K];let G;if(this.options.standardFontDataUrl!==null){const ne=`${this.options.standardFontDataUrl}${ee}`,se=await fetch(ne);se.ok?G=await se.arrayBuffer():(0,i.warn)(`fetchStandardFontData: failed to fetch file "${ne}" with "${se.statusText}".`)}else try{G=await this.handler.sendWithPromise("FetchStandardFontData",{filename:ee})}catch(ne){(0,i.warn)(`fetchStandardFontData: failed to fetch file "${ee}" with "${ne}".`)}return G?(this.standardFontDataCache.set(K,G),new f.Stream(G)):null}async buildFormXObject(K,te,X,ee,G,ne,se){const le=te.dict,he=le.getArray("Matrix");let be=le.getArray("BBox");be=Array.isArray(be)&&be.length===4?i.Util.normalizeRect(be):null;let ye,de;le.has("OC")&&(ye=await this.parseMarkedContentProps(le.get("OC"),K)),ye!==void 0&&ee.addOp(i.OPS.beginMarkedContentProps,["OC",ye]);const xe=le.get("Group");if(xe){de={matrix:he,bbox:be,smask:X,isolated:!1,knockout:!1};const ce=xe.get("S");let ue=null;if((0,d.isName)(ce,"Transparency")&&(de.isolated=xe.get("I")||!1,de.knockout=xe.get("K")||!1,xe.has("CS"))){const ve=xe.getRaw("CS"),Ee=O.ColorSpace.getCached(ve,this.xref,se);Ee?ue=Ee:ue=await this.parseColorSpace({cs:ve,resources:K,localColorSpaceCache:se})}X!=null&&X.backdrop&&(ue||(ue=O.ColorSpace.singletons.rgb),X.backdrop=ue.getRgb(X.backdrop,0)),ee.addOp(i.OPS.beginGroup,[de])}const fe=xe?[he,null]:[he,be];return ee.addOp(i.OPS.paintFormXObjectBegin,fe),this.getOperatorList({stream:te,task:G,resources:le.get("Resources")||K,operatorList:ee,initialState:ne}).then(function(){ee.addOp(i.OPS.paintFormXObjectEnd,[]),xe&&ee.addOp(i.OPS.endGroup,[de]),ye!==void 0&&ee.addOp(i.OPS.endMarkedContent,[])})}_sendImgData(K,te){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const ee=te?[te.bitmap||te.data.buffer]:null;return this.parsingType3Font||X?this.handler.send("commonobj",[K,"Image",te],ee):this.handler.send("obj",[K,this.pageIndex,"Image",te],ee)}async buildPaintImageXObject(K){let{resources:te,image:X,isInline:ee=!1,operatorList:G,cacheKey:ne,localImageCache:se,localColorSpaceCache:le}=K;const he=X.dict,be=he.objId,ye=he.get("W","Width"),de=he.get("H","Height");if(!(ye&&typeof ye=="number")||!(de&&typeof de=="number")){(0,i.warn)("Image dimensions are missing, or not numbers.");return}const xe=this.options.maxImageSize;if(xe!==-1&&ye*de>xe){const ze="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,i.warn)(ze);return}throw new Error(ze)}let fe;he.has("OC")&&(fe=await this.parseMarkedContentProps(he.get("OC"),te));const ce=he.get("IM","ImageMask")||!1;let ue,ve;if(ce){const ze=he.get("I","Interpolate"),We=ye+7>>3,Ve=X.getBytes(We*de),Ne=he.getArray("D","Decode");if(this.parsingType3Font){if(ue=H.PDFImage.createRawMask({imgArray:Ve,width:ye,height:de,imageIsFromDecodeStream:X instanceof T.DecodeStream,inverseDecode:(Ne==null?void 0:Ne[0])>0,interpolate:ze}),ue.cached=!!ne,ve=[ue],G.addImageOps(i.OPS.paintImageMaskXObject,ve,fe),ne){const Ie={fn:i.OPS.paintImageMaskXObject,args:ve,optionalContent:fe};se.set(ne,be,Ie),be&&this._regionalImageCache.set(null,be,Ie)}return}if(ue=await H.PDFImage.createMask({imgArray:Ve,width:ye,height:de,imageIsFromDecodeStream:X instanceof T.DecodeStream,inverseDecode:(Ne==null?void 0:Ne[0])>0,interpolate:ze,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),ue.isSingleOpaquePixel){if(G.addImageOps(i.OPS.paintSolidColorImageMask,[],fe),ne){const Ie={fn:i.OPS.paintSolidColorImageMask,args:[],optionalContent:fe};se.set(ne,be,Ie),be&&this._regionalImageCache.set(null,be,Ie)}return}const ke=`mask_${this.idFactory.createObjId()}`;if(G.addDependency(ke),this._sendImgData(ke,ue),ve=[{data:ke,width:ue.width,height:ue.height,interpolate:ue.interpolate,count:1}],G.addImageOps(i.OPS.paintImageMaskXObject,ve,fe),ne){const Ie={fn:i.OPS.paintImageMaskXObject,args:ve,optionalContent:fe};se.set(ne,be,Ie),be&&this._regionalImageCache.set(null,be,Ie)}return}const Ee=200;if(ee&&!he.has("SMask")&&!he.has("Mask")&&ye+de<Ee){ue=await new H.PDFImage({xref:this.xref,res:te,image:X,isInline:ee,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:le}).createImageData(!0,!1),G.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,G.addImageOps(i.OPS.paintInlineImageXObject,[ue],fe);return}let Me=`img_${this.idFactory.createObjId()}`,_e=!1;if(this.parsingType3Font?Me=`${this.idFactory.getDocId()}_type3_${Me}`:be&&(_e=this.globalImageCache.shouldCache(be,this.pageIndex),_e&&(Me=`${this.idFactory.getDocId()}_${Me}`)),G.addDependency(Me),ve=[Me,ye,de],H.PDFImage.buildImage({xref:this.xref,res:te,image:X,isInline:ee,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:le}).then(async ze=>{if(ue=await ze.createImageData(!1,this.options.isOffscreenCanvasSupported),ne&&be&&_e){const We=ue.bitmap?ue.width*ue.height*4:ue.data.length;this.globalImageCache.addByteSize(be,We)}return this._sendImgData(Me,ue,_e)}).catch(ze=>((0,i.warn)(`Unable to decode image "${Me}": "${ze}".`),this._sendImgData(Me,null,_e))),G.addImageOps(i.OPS.paintImageXObject,ve,fe),ne){const ze={fn:i.OPS.paintImageXObject,args:ve,optionalContent:fe};se.set(ne,be,ze),be&&(this._regionalImageCache.set(null,be,ze),_e&&((0,i.assert)(!ee,"Cannot cache an inline image globally."),this.globalImageCache.setData(be,{objId:Me,fn:i.OPS.paintImageXObject,args:ve,optionalContent:fe,byteSize:0})))}}handleSMask(K,te,X,ee,G,ne){const se=K.get("G"),le={subtype:K.get("S").name,backdrop:K.get("BC")},he=K.get("TR");if((0,b.isPDFFunction)(he)){const be=this._pdfFunctionFactory.create(he),ye=new Uint8Array(256),de=new Float32Array(1);for(let xe=0;xe<256;xe++)de[0]=xe/255,be(de,0,de,0),ye[xe]=de[0]*255|0;le.transferMap=ye}return this.buildFormXObject(te,se,le,X,ee,G.state.clone(),ne)}handleTransferFunction(K){let te;if(Array.isArray(K))te=K;else if((0,b.isPDFFunction)(K))te=[K];else return null;const X=[];let ee=0,G=0;for(const ne of te){const se=this.xref.fetchIfRef(ne);if(ee++,(0,d.isName)(se,"Identity")){X.push(null);continue}else if(!(0,b.isPDFFunction)(se))return null;const le=this._pdfFunctionFactory.create(se),he=new Uint8Array(256),be=new Float32Array(1);for(let ye=0;ye<256;ye++)be[0]=ye/255,le(be,0,be,0),he[ye]=be[0]*255|0;X.push(he),G++}return!(ee===1||ee===4)||G===0?null:X}handleTilingType(K,te,X,ee,G,ne,se,le){const he=new J.OperatorList,be=d.Dict.merge({xref:this.xref,dictArray:[G.get("Resources"),X]});return this.getOperatorList({stream:ee,task:se,resources:be,operatorList:he}).then(function(){const ye=he.getIR(),de=(0,x.getTilingPatternIR)(ye,G,te);ne.addDependencies(he.dependencies),ne.addOp(K,de),G.objId&&le.set(null,G.objId,{operatorListIR:ye,dict:G})}).catch(ye=>{if(!(ye instanceof i.AbortException)){if(this.options.ignoreErrors){(0,i.warn)(`handleTilingType - ignoring pattern: "${ye}".`);return}throw ye}})}handleSetFont(K,te,X,ee,G,ne){let se=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,le=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;const he=(te==null?void 0:te[0])instanceof d.Name?te[0].name:null;return this.loadFont(he,X,K,se,le).then(be=>be.font.isType3Font?be.loadType3Data(this,K,G).then(function(){return ee.addDependencies(be.type3Dependencies),be}).catch(ye=>new oe({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${ye}`),dict:be.font,evaluatorOptions:this.options})):be).then(be=>(ne.font=be.font,be.send(this.handler),be.loadedName))}handleText(K,te){const X=te.font,ee=X.charsToGlyphs(K);return X.data&&(!!(te.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG)||te.fillColorSpace.name==="Pattern"||X.disableFontFace||this.options.disableFontFace)&&re.buildFontPaths(X,ee,this.handler,this.options),ee}ensureStateFont(K){if(K.font)return;const te=new i.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,i.warn)(`ensureStateFont: "${te}".`);return}throw te}async setGState(K){let{resources:te,gState:X,operatorList:ee,cacheKey:G,task:ne,stateManager:se,localGStateCache:le,localColorSpaceCache:he}=K;const be=X.objId;let ye=!0;const de=[];let xe=Promise.resolve();for(const fe of X.getKeys()){const ce=X.get(fe);switch(fe){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":de.push([fe,ce]);break;case"Font":ye=!1,xe=xe.then(()=>this.handleSetFont(te,null,ce[0],ee,ne,se.state).then(function(ve){ee.addDependency(ve),de.push([fe,[ve,ce[1]]])}));break;case"BM":de.push([fe,V(ce)]);break;case"SMask":if((0,d.isName)(ce,"None")){de.push([fe,!1]);break}ce instanceof d.Dict?(ye=!1,xe=xe.then(()=>this.handleSMask(ce,te,ee,ne,se,he)),de.push([fe,!0])):(0,i.warn)("Unsupported SMask type");break;case"TR":const ue=this.handleTransferFunction(ce);de.push([fe,ue]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,i.info)("graphic state operator "+fe);break;default:(0,i.info)("Unknown graphic state operator "+fe);break}}return xe.then(function(){de.length>0&&ee.addOp(i.OPS.setGState,[de]),ye&&le.set(G,be,de)})}loadFont(K,te,X){let ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,G=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;const ne=async()=>new oe({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${K}" is not available.`),dict:te,evaluatorOptions:this.options});let se;if(te)te instanceof d.Ref&&(se=te);else{const fe=X.get("Font");fe&&(se=fe.getRaw(K))}if(se){if(this.parsingType3Font&&this.type3FontRefs.has(se))return ne();if(this.fontCache.has(se))return this.fontCache.get(se);te=this.xref.fetchIfRef(se)}if(!(te instanceof d.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,i.warn)(`Font "${K}" is not available.`),ne();(0,i.warn)(`Font "${K}" is not available -- attempting to fallback to a default font.`),te=ee||re.fallbackFontDict}if(te.cacheKey&&this.fontCache.has(te.cacheKey))return this.fontCache.get(te.cacheKey);const le=new i.PromiseCapability;let he;try{he=this.preEvaluateFont(te),he.cssFontInfo=G}catch(fe){return(0,i.warn)(`loadFont - preEvaluateFont failed: "${fe}".`),ne()}const{descriptor:be,hash:ye}=he,de=se instanceof d.Ref;let xe;if(ye&&be instanceof d.Dict){const fe=be.fontAliases||(be.fontAliases=Object.create(null));if(fe[ye]){const ce=fe[ye].aliasRef;if(de&&ce&&this.fontCache.has(ce))return this.fontCache.putAlias(se,ce),this.fontCache.get(se)}else fe[ye]={fontID:this.idFactory.createFontId()};de&&(fe[ye].aliasRef=se),xe=fe[ye].fontID}else xe=this.idFactory.createFontId();return(0,i.assert)(xe==null?void 0:xe.startsWith("f"),'The "fontID" must be (correctly) defined.'),de?this.fontCache.put(se,le.promise):(te.cacheKey=`cacheKey_${xe}`,this.fontCache.put(te.cacheKey,le.promise)),te.loadedName=`${this.idFactory.getDocId()}_${xe}`,this.translateFont(he).then(fe=>{le.resolve(new oe({loadedName:te.loadedName,font:fe,dict:te,evaluatorOptions:this.options}))}).catch(fe=>{(0,i.warn)(`loadFont - translateFont failed: "${fe}".`),le.resolve(new oe({loadedName:te.loadedName,font:new e.ErrorFont(fe instanceof Error?fe.message:fe),dict:te,evaluatorOptions:this.options}))}),le.promise}buildPath(K,te,X){let ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const G=K.length-1;if(X||(X=[]),G<0||K.fnArray[G]!==i.OPS.constructPath){ee&&((0,i.warn)(`Encountered path operator "${te}" inside of a text object.`),K.addOp(i.OPS.save,null));let ne;switch(te){case i.OPS.rectangle:const se=X[0]+X[2],le=X[1]+X[3];ne=[Math.min(X[0],se),Math.max(X[0],se),Math.min(X[1],le),Math.max(X[1],le)];break;case i.OPS.moveTo:case i.OPS.lineTo:ne=[X[0],X[0],X[1],X[1]];break;default:ne=[1/0,-1/0,1/0,-1/0];break}K.addOp(i.OPS.constructPath,[[te],X,ne]),ee&&K.addOp(i.OPS.restore,null)}else{const ne=K.argsArray[G];ne[0].push(te),ne[1].push(...X);const se=ne[2];switch(te){case i.OPS.rectangle:const le=X[0]+X[2],he=X[1]+X[3];se[0]=Math.min(se[0],X[0],le),se[1]=Math.max(se[1],X[0],le),se[2]=Math.min(se[2],X[1],he),se[3]=Math.max(se[3],X[1],he);break;case i.OPS.moveTo:case i.OPS.lineTo:se[0]=Math.min(se[0],X[0]),se[1]=Math.max(se[1],X[0]),se[2]=Math.min(se[2],X[1]),se[3]=Math.max(se[3],X[1]);break}}}parseColorSpace(K){let{cs:te,resources:X,localColorSpaceCache:ee}=K;return O.ColorSpace.parseAsync({cs:te,xref:this.xref,resources:X,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ee}).catch(G=>{if(G instanceof i.AbortException)return null;if(this.options.ignoreErrors)return(0,i.warn)(`parseColorSpace - ignoring ColorSpace: "${G}".`),null;throw G})}parseShading(K){let{shading:te,resources:X,localColorSpaceCache:ee,localShadingPatternCache:G}=K,ne=G.get(te);if(!ne){var se=x.Pattern.parseShading(te,this.xref,X,this._pdfFunctionFactory,ee);const le=se.getIR();ne=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(ne=`${this.idFactory.getDocId()}_type3_${ne}`),G.set(te,ne),this.parsingType3Font?this.handler.send("commonobj",[ne,"Pattern",le]):this.handler.send("obj",[ne,this.pageIndex,"Pattern",le])}return ne}handleColorN(K,te,X,ee,G,ne,se,le,he,be){const ye=X.pop();if(ye instanceof d.Name){const de=G.getRaw(ye.name),xe=de instanceof d.Ref&&he.getByRef(de);if(xe)try{const ce=ee.base?ee.base.getRgb(X,0):null,ue=(0,x.getTilingPatternIR)(xe.operatorListIR,xe.dict,ce);K.addOp(te,ue);return}catch{}const fe=this.xref.fetchIfRef(de);if(fe){const ce=fe instanceof E.BaseStream?fe.dict:fe,ue=ce.get("PatternType");if(ue===U.TILING){const ve=ee.base?ee.base.getRgb(X,0):null;return this.handleTilingType(te,ve,ne,fe,ce,K,se,he)}else if(ue===U.SHADING){const ve=ce.get("Shading"),Ee=ce.getArray("Matrix"),Me=this.parseShading({shading:ve,resources:ne,localColorSpaceCache:le,localShadingPatternCache:be});K.addOp(te,["Shading",Me,Ee]);return}throw new i.FormatError(`Unknown PatternType: ${ue}`)}}throw new i.FormatError(`Unknown PatternName: ${ye}`)}_parseVisibilityExpression(K,te,X){if(++te>10){(0,i.warn)("Visibility expression is too deeply nested");return}const G=K.length,ne=this.xref.fetchIfRef(K[0]);if(G<2||!(ne instanceof d.Name)){(0,i.warn)("Invalid visibility expression");return}switch(ne.name){case"And":case"Or":case"Not":X.push(ne.name);break;default:(0,i.warn)(`Invalid operator ${ne.name} in visibility expression`);return}for(let se=1;se<G;se++){const le=K[se],he=this.xref.fetchIfRef(le);if(Array.isArray(he)){const be=[];X.push(be),this._parseVisibilityExpression(he,te,be)}else le instanceof d.Ref&&X.push(le.toString())}}async parseMarkedContentProps(K,te){var G;let X;if(K instanceof d.Name)X=te.get("Properties").get(K.name);else if(K instanceof d.Dict)X=K;else throw new i.FormatError("Optional content properties malformed.");const ee=(G=X.get("Type"))==null?void 0:G.name;if(ee==="OCG")return{type:ee,id:X.objId};if(ee==="OCMD"){const ne=X.get("VE");if(Array.isArray(ne)){const le=[];if(this._parseVisibilityExpression(ne,0,le),le.length>0)return{type:"OCMD",expression:le}}const se=X.get("OCGs");if(Array.isArray(se)||se instanceof d.Dict){const le=[];if(Array.isArray(se))for(const he of se)le.push(he.toString());else le.push(se.objId);return{type:ee,ids:le,policy:X.get("P")instanceof d.Name?X.get("P").name:null,expression:null}}else if(se instanceof d.Ref)return{type:ee,id:se.toString()}}return null}getOperatorList(K){let{stream:te,task:X,resources:ee,operatorList:G,initialState:ne=null,fallbackFontDict:se=null}=K;if(ee||(ee=d.Dict.empty),ne||(ne=new S),!G)throw new Error('getOperatorList: missing "operatorList" parameter');const le=this,he=this.xref;let be=!1;const ye=new w.LocalImageCache,de=new w.LocalColorSpaceCache,xe=new w.LocalGStateCache,fe=new w.LocalTilingPatternCache,ce=new Map,ue=ee.get("XObject")||d.Dict.empty,ve=ee.get("Pattern")||d.Dict.empty,Ee=new ae(ne),Me=new L(te,he,Ee),_e=new q;function ze(We){for(let Ve=0,Ne=Me.savedStatesDepth;Ve<Ne;Ve++)G.addOp(i.OPS.restore,[])}return new Promise(function We(Ve,Ne){const ke=function(qe){Promise.all([qe,G.ready]).then(function(){try{We(Ve,Ne)}catch(lt){Ne(lt)}},Ne)};X.ensureNotTerminated(),_e.reset();const Ie={};let Te,Ae,ge,Ce,Be,Ye;for(;!(Te=_e.check())&&(Ie.args=null,!!Me.read(Ie));){let qe=Ie.args,lt=Ie.fn;switch(lt|0){case i.OPS.paintXObject:if(Ye=qe[0]instanceof d.Name,Be=qe[0].name,Ye){const Oe=ye.getByName(Be);if(Oe){G.addImageOps(Oe.fn,Oe.args,Oe.optionalContent),Z(Oe),qe=null;continue}}ke(new Promise(function(Oe,$e){if(!Ye)throw new i.FormatError("XObject must be referred to by name.");let me=ue.getRaw(Be);if(me instanceof d.Ref){const pe=ye.getByRef(me)||le._regionalImageCache.getByRef(me);if(pe){G.addImageOps(pe.fn,pe.args,pe.optionalContent),Z(pe),Oe();return}const we=le.globalImageCache.getData(me,le.pageIndex);if(we){G.addDependency(we.objId),G.addImageOps(we.fn,we.args,we.optionalContent),Oe();return}me=he.fetch(me)}if(!(me instanceof E.BaseStream))throw new i.FormatError("XObject should be a stream");const Q=me.dict.get("Subtype");if(!(Q instanceof d.Name))throw new i.FormatError("XObject should have a Name subtype");if(Q.name==="Form"){Ee.save(),le.buildFormXObject(ee,me,null,G,X,Ee.state.clone(),de).then(function(){Ee.restore(),Oe()},$e);return}else if(Q.name==="Image"){le.buildPaintImageXObject({resources:ee,image:me,operatorList:G,cacheKey:Be,localImageCache:ye,localColorSpaceCache:de}).then(Oe,$e);return}else if(Q.name==="PS")(0,i.info)("Ignored XObject subtype PS");else throw new i.FormatError(`Unhandled XObject subtype ${Q.name}`);Oe()}).catch(function(Oe){if(!(Oe instanceof i.AbortException)){if(le.options.ignoreErrors){(0,i.warn)(`getOperatorList - ignoring XObject: "${Oe}".`);return}throw Oe}}));return;case i.OPS.setFont:var Je=qe[1];ke(le.handleSetFont(ee,qe,null,G,X,Ee.state,se).then(function(Oe){G.addDependency(Oe),G.addOp(i.OPS.setFont,[Oe,Je])}));return;case i.OPS.beginText:be=!0;break;case i.OPS.endText:be=!1;break;case i.OPS.endInlineImage:var Re=qe[0].cacheKey;if(Re){const Oe=ye.getByName(Re);if(Oe){G.addImageOps(Oe.fn,Oe.args,Oe.optionalContent),Z(Oe),qe=null;continue}}ke(le.buildPaintImageXObject({resources:ee,image:qe[0],isInline:!0,operatorList:G,cacheKey:Re,localImageCache:ye,localColorSpaceCache:de}));return;case i.OPS.showText:if(!Ee.state.font){le.ensureStateFont(Ee.state);continue}qe[0]=le.handleText(qe[0],Ee.state);break;case i.OPS.showSpacedText:if(!Ee.state.font){le.ensureStateFont(Ee.state);continue}var He=[],nt=Ee.state;for(const Oe of qe[0])typeof Oe=="string"?He.push(...le.handleText(Oe,nt)):typeof Oe=="number"&&He.push(Oe);qe[0]=He,lt=i.OPS.showText;break;case i.OPS.nextLineShowText:if(!Ee.state.font){le.ensureStateFont(Ee.state);continue}G.addOp(i.OPS.nextLine),qe[0]=le.handleText(qe[0],Ee.state),lt=i.OPS.showText;break;case i.OPS.nextLineSetSpacingShowText:if(!Ee.state.font){le.ensureStateFont(Ee.state);continue}G.addOp(i.OPS.nextLine),G.addOp(i.OPS.setWordSpacing,[qe.shift()]),G.addOp(i.OPS.setCharSpacing,[qe.shift()]),qe[0]=le.handleText(qe[0],Ee.state),lt=i.OPS.showText;break;case i.OPS.setTextRenderingMode:Ee.state.textRenderingMode=qe[0];break;case i.OPS.setFillColorSpace:{const Oe=O.ColorSpace.getCached(qe[0],he,de);if(Oe){Ee.state.fillColorSpace=Oe;continue}ke(le.parseColorSpace({cs:qe[0],resources:ee,localColorSpaceCache:de}).then(function($e){$e&&(Ee.state.fillColorSpace=$e)}));return}case i.OPS.setStrokeColorSpace:{const Oe=O.ColorSpace.getCached(qe[0],he,de);if(Oe){Ee.state.strokeColorSpace=Oe;continue}ke(le.parseColorSpace({cs:qe[0],resources:ee,localColorSpaceCache:de}).then(function($e){$e&&(Ee.state.strokeColorSpace=$e)}));return}case i.OPS.setFillColor:Ce=Ee.state.fillColorSpace,qe=Ce.getRgb(qe,0),lt=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeColor:Ce=Ee.state.strokeColorSpace,qe=Ce.getRgb(qe,0),lt=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillGray:Ee.state.fillColorSpace=O.ColorSpace.singletons.gray,qe=O.ColorSpace.singletons.gray.getRgb(qe,0),lt=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeGray:Ee.state.strokeColorSpace=O.ColorSpace.singletons.gray,qe=O.ColorSpace.singletons.gray.getRgb(qe,0),lt=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillCMYKColor:Ee.state.fillColorSpace=O.ColorSpace.singletons.cmyk,qe=O.ColorSpace.singletons.cmyk.getRgb(qe,0),lt=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeCMYKColor:Ee.state.strokeColorSpace=O.ColorSpace.singletons.cmyk,qe=O.ColorSpace.singletons.cmyk.getRgb(qe,0),lt=i.OPS.setStrokeRGBColor;break;case i.OPS.setFillRGBColor:Ee.state.fillColorSpace=O.ColorSpace.singletons.rgb,qe=O.ColorSpace.singletons.rgb.getRgb(qe,0);break;case i.OPS.setStrokeRGBColor:Ee.state.strokeColorSpace=O.ColorSpace.singletons.rgb,qe=O.ColorSpace.singletons.rgb.getRgb(qe,0);break;case i.OPS.setFillColorN:if(Ce=Ee.state.fillColorSpace,Ce.name==="Pattern"){ke(le.handleColorN(G,i.OPS.setFillColorN,qe,Ce,ve,ee,X,de,fe,ce));return}qe=Ce.getRgb(qe,0),lt=i.OPS.setFillRGBColor;break;case i.OPS.setStrokeColorN:if(Ce=Ee.state.strokeColorSpace,Ce.name==="Pattern"){ke(le.handleColorN(G,i.OPS.setStrokeColorN,qe,Ce,ve,ee,X,de,fe,ce));return}qe=Ce.getRgb(qe,0),lt=i.OPS.setStrokeRGBColor;break;case i.OPS.shadingFill:var et=ee.get("Shading");if(!et)throw new i.FormatError("No shading resource found");var it=et.get(qe[0].name);if(!it)throw new i.FormatError("No shading object found");qe=[le.parseShading({shading:it,resources:ee,localColorSpaceCache:de,localShadingPatternCache:ce})],lt=i.OPS.shadingFill;break;case i.OPS.setGState:if(Ye=qe[0]instanceof d.Name,Be=qe[0].name,Ye){const Oe=xe.getByName(Be);if(Oe){Oe.length>0&&G.addOp(i.OPS.setGState,[Oe]),qe=null;continue}}ke(new Promise(function(Oe,$e){if(!Ye)throw new i.FormatError("GState must be referred to by name.");const me=ee.get("ExtGState");if(!(me instanceof d.Dict))throw new i.FormatError("ExtGState should be a dictionary.");const Q=me.get(Be);if(!(Q instanceof d.Dict))throw new i.FormatError("GState should be a dictionary.");le.setGState({resources:ee,gState:Q,operatorList:G,cacheKey:Be,task:X,stateManager:Ee,localGStateCache:xe,localColorSpaceCache:de}).then(Oe,$e)}).catch(function(Oe){if(!(Oe instanceof i.AbortException)){if(le.options.ignoreErrors){(0,i.warn)(`getOperatorList - ignoring ExtGState: "${Oe}".`);return}throw Oe}}));return;case i.OPS.moveTo:case i.OPS.lineTo:case i.OPS.curveTo:case i.OPS.curveTo2:case i.OPS.curveTo3:case i.OPS.closePath:case i.OPS.rectangle:le.buildPath(G,lt,qe,be);continue;case i.OPS.markPoint:case i.OPS.markPointProps:case i.OPS.beginCompat:case i.OPS.endCompat:continue;case i.OPS.beginMarkedContentProps:if(!(qe[0]instanceof d.Name)){(0,i.warn)(`Expected name for beginMarkedContentProps arg0=${qe[0]}`);continue}if(qe[0].name==="OC"){ke(le.parseMarkedContentProps(qe[1],ee).then(Oe=>{G.addOp(i.OPS.beginMarkedContentProps,["OC",Oe])}).catch(Oe=>{if(!(Oe instanceof i.AbortException)){if(le.options.ignoreErrors){(0,i.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Oe}".`);return}throw Oe}}));return}qe=[qe[0].name,qe[1]instanceof d.Dict?qe[1].get("MCID"):null];break;case i.OPS.beginMarkedContent:case i.OPS.endMarkedContent:default:if(qe!==null){for(Ae=0,ge=qe.length;Ae<ge&&!(qe[Ae]instanceof d.Dict);Ae++);if(Ae<ge){(0,i.warn)("getOperatorList - ignoring operator: "+lt);continue}}}G.addOp(lt,qe)}if(Te){ke(_);return}ze(),Ve()}).catch(We=>{if(!(We instanceof i.AbortException)){if(this.options.ignoreErrors){(0,i.warn)(`getOperatorList - ignoring errors during "${X.name}" task: "${We}".`),ze();return}throw We}})}getTextContent(K){let{stream:te,task:X,resources:ee,stateManager:G=null,includeMarkedContent:ne=!1,sink:se,seenStyles:le=new Set,viewBox:he,markedContentData:be=null,disableNormalization:ye=!1}=K;ee||(ee=d.Dict.empty),G||(G=new ae(new R)),ne&&(be||(be={level:0}));const de={items:[],styles:Object.create(null)},xe={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},fe=[" "," "];let ce=0;function ue(we){const Fe=(ce+1)%2,Pe=fe[ce]!==" "&&fe[Fe]===" ";return fe[ce]=we,ce=Fe,Pe}function ve(){return fe[ce]!==" "&&fe[(ce+1)%2]===" "}function Ee(){fe[0]=fe[1]=" ",ce=0}const Me=.102,_e=.03,ze=-.2,We=.102,Ve=.6,Ne=.25,ke=this,Ie=this.xref,Te=[];let Ae=null;const ge=new w.LocalImageCache,Ce=new w.LocalGStateCache,Be=new L(te,Ie,G);let Ye;function Je(we){let{width:Fe=0,height:Pe=0,transform:De=xe.prevTransform,fontName:Xe=xe.fontName}=we;de.items.push({str:" ",dir:"ltr",width:Fe,height:Pe,transform:De,fontName:Xe,hasEOL:!1})}function Re(){const we=Ye.font,Fe=[Ye.fontSize*Ye.textHScale,0,0,Ye.fontSize,0,Ye.textRise];if(we.isType3Font&&(Ye.fontSize<=1||we.isCharBBox)&&!(0,i.isArrayEqual)(Ye.fontMatrix,i.FONT_IDENTITY_MATRIX)){const Pe=we.bbox[3]-we.bbox[1];Pe>0&&(Fe[3]*=Pe*Ye.fontMatrix[3])}return i.Util.transform(Ye.ctm,i.Util.transform(Ye.textMatrix,Fe))}function He(){if(xe.initialized)return xe;const{font:we,loadedName:Fe}=Ye;le.has(Fe)||(le.add(Fe),de.styles[Fe]={fontFamily:we.fallbackName,ascent:we.ascent,descent:we.descent,vertical:we.vertical}),xe.fontName=Fe;const Pe=xe.transform=Re();we.vertical?(xe.width=xe.totalWidth=Math.hypot(Pe[0],Pe[1]),xe.height=xe.totalHeight=0,xe.vertical=!0):(xe.width=xe.totalWidth=0,xe.height=xe.totalHeight=Math.hypot(Pe[2],Pe[3]),xe.vertical=!1);const De=Math.hypot(Ye.textLineMatrix[0],Ye.textLineMatrix[1]),Xe=Math.hypot(Ye.ctm[0],Ye.ctm[1]);xe.textAdvanceScale=Xe*De;const{fontSize:je}=Ye;return xe.trackingSpaceMin=je*Me,xe.notASpace=je*_e,xe.negativeSpaceMax=je*ze,xe.spaceInFlowMin=je*We,xe.spaceInFlowMax=je*Ve,xe.hasEOL=!1,xe.initialized=!0,xe}function nt(){if(!xe.initialized)return;const we=Math.hypot(Ye.textLineMatrix[0],Ye.textLineMatrix[1]),Pe=Math.hypot(Ye.ctm[0],Ye.ctm[1])*we;Pe!==xe.textAdvanceScale&&(xe.vertical?(xe.totalHeight+=xe.height*xe.textAdvanceScale,xe.height=0):(xe.totalWidth+=xe.width*xe.textAdvanceScale,xe.width=0),xe.textAdvanceScale=Pe)}function et(we){let Fe=we.str.join("");ye||(Fe=(0,i.normalizeUnicode)(Fe));const Pe=(0,A.bidi)(Fe,-1,we.vertical);return{str:Pe.str,dir:Pe.dir,width:Math.abs(we.totalWidth),height:Math.abs(we.totalHeight),transform:we.transform,fontName:we.fontName,hasEOL:we.hasEOL}}function it(we,Fe){return ke.loadFont(we,Fe,ee).then(function(Pe){return Pe.font.isType3Font?Pe.loadType3Data(ke,ee,X).catch(function(){}).then(function(){return Pe}):Pe}).then(function(Pe){Ye.loadedName=Pe.loadedName,Ye.font=Pe.font,Ye.fontMatrix=Pe.font.fontMatrix||i.FONT_IDENTITY_MATRIX})}function qe(we,Fe,Pe){const De=Math.hypot(Pe[0],Pe[1]);return[(Pe[0]*we+Pe[1]*Fe)/De,(Pe[2]*we+Pe[3]*Fe)/De]}function lt(we){var tt;const Fe=Re();let Pe=Fe[4],De=Fe[5];if((tt=Ye.font)!=null&&tt.vertical){if(Pe<he[0]||Pe>he[2]||De+we<he[1]||De>he[3])return!1}else if(Pe+we<he[0]||Pe>he[2]||De<he[1]||De>he[3])return!1;if(!Ye.font||!xe.prevTransform)return!0;let Xe=xe.prevTransform[4],je=xe.prevTransform[5];if(Xe===Pe&&je===De)return!0;let Ze=-1;switch(Fe[0]&&Fe[1]===0&&Fe[2]===0?Ze=Fe[0]>0?0:180:Fe[1]&&Fe[0]===0&&Fe[3]===0&&(Ze=Fe[1]>0?90:270),Ze){case 0:break;case 90:[Pe,De]=[De,Pe],[Xe,je]=[je,Xe];break;case 180:[Pe,De,Xe,je]=[-Pe,-De,-Xe,-je];break;case 270:[Pe,De]=[-De,-Pe],[Xe,je]=[-je,-Xe];break;default:[Pe,De]=qe(Pe,De,Fe),[Xe,je]=qe(Xe,je,xe.prevTransform)}if(Ye.font.vertical){const at=(je-De)/xe.textAdvanceScale,st=Pe-Xe,ft=Math.sign(xe.height);return at<ft*xe.negativeSpaceMax?Math.abs(st)>.5*xe.width?(Oe(),!0):(Ee(),me(),!0):Math.abs(st)>xe.width?(Oe(),!0):(at<=ft*xe.notASpace&&Ee(),at<=ft*xe.trackingSpaceMin?ve()?(Ee(),me(),Je({height:Math.abs(at)})):xe.height+=at:$e(at,xe.prevTransform,ft)||(xe.str.length===0?(Ee(),Je({height:Math.abs(at)})):xe.height+=at),Math.abs(st)>xe.width*Ne&&me(),!0)}const ot=(Pe-Xe)/xe.textAdvanceScale,Ke=De-je,Ge=Math.sign(xe.width);return ot<Ge*xe.negativeSpaceMax?Math.abs(Ke)>.5*xe.height?(Oe(),!0):(Ee(),me(),!0):Math.abs(Ke)>xe.height?(Oe(),!0):(ot<=Ge*xe.notASpace&&Ee(),ot<=Ge*xe.trackingSpaceMin?ve()?(Ee(),me(),Je({width:Math.abs(ot)})):xe.width+=ot:$e(ot,xe.prevTransform,Ge)||(xe.str.length===0?(Ee(),Je({width:Math.abs(ot)})):xe.width+=ot),Math.abs(Ke)>xe.height*Ne&&me(),!0)}function rt(we){let{chars:Fe,extraSpacing:Pe}=we;const De=Ye.font;if(!Fe){const Ze=Ye.charSpacing+Pe;Ze&&(De.vertical?Ye.translateTextMatrix(0,-Ze):Ye.translateTextMatrix(Ze*Ye.textHScale,0));return}const Xe=De.charsToGlyphs(Fe),je=Ye.fontMatrix[0]*Ye.fontSize;for(let Ze=0,ot=Xe.length;Ze<ot;Ze++){const Ke=Xe[Ze],{category:Ge}=Ke;if(Ge.isInvisibleFormatMark)continue;let tt=Ye.charSpacing+(Ze+1===ot?Pe:0),at=Ke.width;De.vertical&&(at=Ke.vmetric?Ke.vmetric[0]:-at);let st=at*je;if(Ge.isWhitespace){De.vertical?(tt+=-st+Ye.wordSpacing,Ye.translateTextMatrix(0,-tt)):(tt+=st+Ye.wordSpacing,Ye.translateTextMatrix(tt*Ye.textHScale,0)),ue(" ");continue}if(!Ge.isZeroWidthDiacritic&&!lt(st)){De.vertical?Ye.translateTextMatrix(0,st):Ye.translateTextMatrix(st*Ye.textHScale,0);continue}const ft=He();Ge.isZeroWidthDiacritic&&(st=0),De.vertical?(Ye.translateTextMatrix(0,st),st=Math.abs(st),ft.height+=st):(st*=Ye.textHScale,Ye.translateTextMatrix(st,0),ft.width+=st),st&&(ft.prevTransform=Re());const pt=Ke.unicode;ue(pt)&&ft.str.push(" "),ft.str.push(pt),tt&&(De.vertical?Ye.translateTextMatrix(0,-tt):Ye.translateTextMatrix(tt*Ye.textHScale,0))}}function Oe(){Ee(),xe.initialized?(xe.hasEOL=!0,me()):de.items.push({str:"",dir:"ltr",width:0,height:0,transform:Re(),fontName:Ye.loadedName,hasEOL:!0})}function $e(we,Fe,Pe){if(Pe*xe.spaceInFlowMin<=we&&we<=Pe*xe.spaceInFlowMax)return xe.initialized&&(Ee(),xe.str.push(" ")),!1;const De=xe.fontName;let Xe=0;return xe.vertical&&(Xe=we,we=0),me(),Ee(),Je({width:Math.abs(we),height:Math.abs(Xe),transform:Fe||Re(),fontName:De}),!0}function me(){!xe.initialized||!xe.str||(xe.vertical?xe.totalHeight+=xe.height*xe.textAdvanceScale:xe.totalWidth+=xe.width*xe.textAdvanceScale,de.items.push(et(xe)),xe.initialized=!1,xe.str.length=0)}function Q(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Fe=de.items.length;Fe!==0&&(we&&Fe<Y||(se.enqueue(de,Fe),de.items=[],de.styles=Object.create(null)))}const pe=new q;return new Promise(function we(Fe,Pe){const De=function(at){Q(!0),Promise.all([at,se.ready]).then(function(){try{we(Fe,Pe)}catch(st){Pe(st)}},Pe)};X.ensureNotTerminated(),pe.reset();const Xe={};let je,Ze=[];for(;!(je=pe.check())&&(Ze.length=0,Xe.args=Ze,!!Be.read(Xe));){const at=Ye;Ye=G.state;const st=Xe.fn;switch(Ze=Xe.args,st|0){case i.OPS.setFont:var ot=Ze[0].name,Ke=Ze[1];if(Ye.font&&ot===Ye.fontName&&Ke===Ye.fontSize)break;me(),Ye.fontName=ot,Ye.fontSize=Ke,De(it(ot,null));return;case i.OPS.setTextRise:Ye.textRise=Ze[0];break;case i.OPS.setHScale:Ye.textHScale=Ze[0]/100;break;case i.OPS.setLeading:Ye.leading=Ze[0];break;case i.OPS.moveText:Ye.translateTextLineMatrix(Ze[0],Ze[1]),Ye.textMatrix=Ye.textLineMatrix.slice();break;case i.OPS.setLeadingMoveText:Ye.leading=-Ze[1],Ye.translateTextLineMatrix(Ze[0],Ze[1]),Ye.textMatrix=Ye.textLineMatrix.slice();break;case i.OPS.nextLine:Ye.carriageReturn();break;case i.OPS.setTextMatrix:Ye.setTextMatrix(Ze[0],Ze[1],Ze[2],Ze[3],Ze[4],Ze[5]),Ye.setTextLineMatrix(Ze[0],Ze[1],Ze[2],Ze[3],Ze[4],Ze[5]),nt();break;case i.OPS.setCharSpacing:Ye.charSpacing=Ze[0];break;case i.OPS.setWordSpacing:Ye.wordSpacing=Ze[0];break;case i.OPS.beginText:Ye.textMatrix=i.IDENTITY_MATRIX.slice(),Ye.textLineMatrix=i.IDENTITY_MATRIX.slice();break;case i.OPS.showSpacedText:if(!G.state.font){ke.ensureStateFont(G.state);continue}const ft=(Ye.font.vertical?1:-1)*Ye.fontSize/1e3,pt=Ze[0];for(let ct=0,yt=pt.length;ct<yt;ct++){const bt=pt[ct];if(typeof bt=="string")Te.push(bt);else if(typeof bt=="number"&&bt!==0){const Et=Te.join("");Te.length=0,rt({chars:Et,extraSpacing:bt*ft})}}if(Te.length>0){const ct=Te.join("");Te.length=0,rt({chars:ct,extraSpacing:0})}break;case i.OPS.showText:if(!G.state.font){ke.ensureStateFont(G.state);continue}rt({chars:Ze[0],extraSpacing:0});break;case i.OPS.nextLineShowText:if(!G.state.font){ke.ensureStateFont(G.state);continue}Ye.carriageReturn(),rt({chars:Ze[0],extraSpacing:0});break;case i.OPS.nextLineSetSpacingShowText:if(!G.state.font){ke.ensureStateFont(G.state);continue}Ye.wordSpacing=Ze[0],Ye.charSpacing=Ze[1],Ye.carriageReturn(),rt({chars:Ze[2],extraSpacing:0});break;case i.OPS.paintXObject:me(),Ae||(Ae=ee.get("XObject")||d.Dict.empty);var Ge=Ze[0]instanceof d.Name,tt=Ze[0].name;if(Ge&&ge.getByName(tt))break;De(new Promise(function(ct,yt){if(!Ge)throw new i.FormatError("XObject must be referred to by name.");let bt=Ae.getRaw(tt);if(bt instanceof d.Ref){if(ge.getByRef(bt)){ct();return}if(ke.globalImageCache.getData(bt,ke.pageIndex)){ct();return}bt=Ie.fetch(bt)}if(!(bt instanceof E.BaseStream))throw new i.FormatError("XObject should be a stream");const Et=bt.dict.get("Subtype");if(!(Et instanceof d.Name))throw new i.FormatError("XObject should have a Name subtype");if(Et.name!=="Form"){ge.set(tt,bt.dict.objId,!0),ct();return}const wt=G.state.clone(),Tt=new ae(wt),Mt=bt.dict.getArray("Matrix");Array.isArray(Mt)&&Mt.length===6&&Tt.transform(Mt),Q();const St={enqueueInvoked:!1,enqueue(Pt,vt){this.enqueueInvoked=!0,se.enqueue(Pt,vt)},get desiredSize(){return se.desiredSize},get ready(){return se.ready}};ke.getTextContent({stream:bt,task:X,resources:bt.dict.get("Resources")||ee,stateManager:Tt,includeMarkedContent:ne,sink:St,seenStyles:le,viewBox:he,markedContentData:be,disableNormalization:ye}).then(function(){St.enqueueInvoked||ge.set(tt,bt.dict.objId,!0),ct()},yt)}).catch(function(ct){if(!(ct instanceof i.AbortException)){if(ke.options.ignoreErrors){(0,i.warn)(`getTextContent - ignoring XObject: "${ct}".`);return}throw ct}}));return;case i.OPS.setGState:if(Ge=Ze[0]instanceof d.Name,tt=Ze[0].name,Ge&&Ce.getByName(tt))break;De(new Promise(function(ct,yt){if(!Ge)throw new i.FormatError("GState must be referred to by name.");const bt=ee.get("ExtGState");if(!(bt instanceof d.Dict))throw new i.FormatError("ExtGState should be a dictionary.");const Et=bt.get(tt);if(!(Et instanceof d.Dict))throw new i.FormatError("GState should be a dictionary.");const wt=Et.get("Font");if(!wt){Ce.set(tt,Et.objId,!0),ct();return}me(),Ye.fontName=null,Ye.fontSize=wt[1],it(null,wt[0]).then(ct,yt)}).catch(function(ct){if(!(ct instanceof i.AbortException)){if(ke.options.ignoreErrors){(0,i.warn)(`getTextContent - ignoring ExtGState: "${ct}".`);return}throw ct}}));return;case i.OPS.beginMarkedContent:me(),ne&&(be.level++,de.items.push({type:"beginMarkedContent",tag:Ze[0]instanceof d.Name?Ze[0].name:null}));break;case i.OPS.beginMarkedContentProps:if(me(),ne){be.level++;let ct=null;Ze[1]instanceof d.Dict&&(ct=Ze[1].get("MCID")),de.items.push({type:"beginMarkedContentProps",id:Number.isInteger(ct)?`${ke.idFactory.getPageObjId()}_mc${ct}`:null,tag:Ze[0]instanceof d.Name?Ze[0].name:null})}break;case i.OPS.endMarkedContent:if(me(),ne){if(be.level===0)break;be.level--,de.items.push({type:"endMarkedContent"})}break;case i.OPS.restore:at&&(at.font!==Ye.font||at.fontSize!==Ye.fontSize||at.fontName!==Ye.fontName)&&me();break}if(de.items.length>=se.desiredSize){je=!0;break}}if(je){De(_);return}me(),Q(),Fe()}).catch(we=>{if(!(we instanceof i.AbortException)){if(this.options.ignoreErrors){(0,i.warn)(`getTextContent - ignoring errors during "${X.name}" task: "${we}".`),me(),Q();return}throw we}})}extractDataStructures(K,te,X){const ee=this.xref;let G;const ne=this.readToUnicode(X.toUnicode||K.get("ToUnicode")||te.get("ToUnicode"));if(X.composite){const de=K.get("CIDSystemInfo");de instanceof d.Dict&&(X.cidSystemInfo={registry:(0,i.stringToPDFString)(de.get("Registry")),ordering:(0,i.stringToPDFString)(de.get("Ordering")),supplement:de.get("Supplement")});try{const xe=K.get("CIDToGIDMap");xe instanceof E.BaseStream&&(G=xe.getBytes())}catch(xe){if(!this.options.ignoreErrors)throw xe;(0,i.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${xe}".`)}}const se=[];let le=null,he;if(K.has("Encoding")){if(he=K.get("Encoding"),he instanceof d.Dict){if(le=he.get("BaseEncoding"),le=le instanceof d.Name?le.name:null,he.has("Differences")){const de=he.get("Differences");let xe=0;for(const fe of de){const ce=ee.fetchIfRef(fe);if(typeof ce=="number")xe=ce;else if(ce instanceof d.Name)se[xe++]=ce.name;else throw new i.FormatError(`Invalid entry in 'Differences' array: ${ce}`)}}}else if(he instanceof d.Name)le=he.name;else{const de="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new i.FormatError(de);(0,i.warn)(de)}le!=="MacRomanEncoding"&&le!=="MacExpertEncoding"&&le!=="WinAnsiEncoding"&&(le=null)}const be=!X.file||X.isInternalFont,ye=(0,p.getSymbolsFonts)()[X.name];if(le&&be&&ye&&(le=null),le)X.defaultEncoding=(0,r.getEncoding)(le);else{const de=!!(X.flags&D.FontFlags.Symbolic),xe=!!(X.flags&D.FontFlags.Nonsymbolic);he=r.StandardEncoding,X.type==="TrueType"&&!xe&&(he=r.WinAnsiEncoding),(de||ye)&&(he=r.MacRomanEncoding,be&&(/Symbol/i.test(X.name)?he=r.SymbolSetEncoding:/Dingbats/i.test(X.name)?he=r.ZapfDingbatsEncoding:/Wingdings/i.test(X.name)&&(he=r.WinAnsiEncoding))),X.defaultEncoding=he}return X.differences=se,X.baseEncodingName=le,X.hasEncoding=!!le||se.length>0,X.dict=K,ne.then(de=>(X.toUnicode=de,this.buildToUnicode(X))).then(de=>(X.toUnicode=de,G&&(X.cidToGidMap=this.readCidToGidMap(G,de)),X))}_simpleFontToUnicode(K){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(0,i.assert)(!K.composite,"Must be a simple font.");const X=[],ee=K.defaultEncoding.slice(),G=K.baseEncodingName,ne=K.differences;for(const le in ne){const he=ne[le];he!==".notdef"&&(ee[le]=he)}const se=(0,C.getGlyphsUnicode)();for(const le in ee){let he=ee[le];if(he==="")continue;let be=se[he];if(be!==void 0){X[le]=String.fromCharCode(be);continue}let ye=0;switch(he[0]){case"G":he.length===3&&(ye=parseInt(he.substring(1),16));break;case"g":he.length===5&&(ye=parseInt(he.substring(1),16));break;case"C":case"c":if(he.length>=3&&he.length<=4){const de=he.substring(1);if(te){ye=parseInt(de,16);break}if(ye=+de,Number.isNaN(ye)&&Number.isInteger(parseInt(de,16)))return this._simpleFontToUnicode(K,!0)}break;case"u":be=(0,M.getUnicodeForGlyph)(he,se),be!==-1&&(ye=be);break;default:switch(he){case"f_h":case"f_t":case"T_h":X[le]=he.replaceAll("_","");continue}break}if(ye>0&&ye<=1114111&&Number.isInteger(ye)){if(G&&ye===+le){const de=(0,r.getEncoding)(G);if(de&&(he=de[le])){X[le]=String.fromCharCode(se[he]);continue}}X[le]=String.fromCodePoint(ye)}}return X}async buildToUnicode(K){var te;if(K.hasIncludedToUnicodeMap=((te=K.toUnicode)==null?void 0:te.length)>0,K.hasIncludedToUnicodeMap)return!K.composite&&K.hasEncoding&&(K.fallbackToUnicode=this._simpleFontToUnicode(K)),K.toUnicode;if(!K.composite)return new v.ToUnicodeMap(this._simpleFontToUnicode(K));if(K.composite&&(K.cMap.builtInCMap&&!(K.cMap instanceof l.IdentityCMap)||K.cidSystemInfo.registry==="Adobe"&&(K.cidSystemInfo.ordering==="GB1"||K.cidSystemInfo.ordering==="CNS1"||K.cidSystemInfo.ordering==="Japan1"||K.cidSystemInfo.ordering==="Korea1"))){const{registry:X,ordering:ee}=K.cidSystemInfo,G=d.Name.get(`${X}-${ee}-UCS2`),ne=await l.CMapFactory.create({encoding:G,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),se=[],le=[];return K.cMap.forEach(function(he,be){if(be>65535)throw new i.FormatError("Max size of CID is 65,535");const ye=ne.lookup(be);if(ye){le.length=0;for(let de=0,xe=ye.length;de<xe;de+=2)le.push((ye.charCodeAt(de)<<8)+ye.charCodeAt(de+1));se[he]=String.fromCharCode(...le)}}),new v.ToUnicodeMap(se)}return new v.IdentityToUnicodeMap(K.firstChar,K.lastChar)}readToUnicode(K){return K?K instanceof d.Name?l.CMapFactory.create({encoding:K,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(te){return te instanceof l.IdentityCMap?new v.IdentityToUnicodeMap(0,65535):new v.ToUnicodeMap(te.getMap())}):K instanceof E.BaseStream?l.CMapFactory.create({encoding:K,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(te){if(te instanceof l.IdentityCMap)return new v.IdentityToUnicodeMap(0,65535);const X=new Array(te.length);return te.forEach(function(ee,G){if(typeof G=="number"){X[ee]=String.fromCodePoint(G);return}const ne=[];for(let se=0;se<G.length;se+=2){const le=G.charCodeAt(se)<<8|G.charCodeAt(se+1);if((le&63488)!==55296){ne.push(le);continue}se+=2;const he=G.charCodeAt(se)<<8|G.charCodeAt(se+1);ne.push(((le&1023)<<10)+(he&1023)+65536)}X[ee]=String.fromCodePoint(...ne)}),new v.ToUnicodeMap(X)},te=>{if(te instanceof i.AbortException)return null;if(this.options.ignoreErrors)return(0,i.warn)(`readToUnicode - ignoring ToUnicode data: "${te}".`),null;throw te}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(K,te){const X=[];for(let ee=0,G=K.length;ee<G;ee++){const ne=K[ee++]<<8|K[ee],se=ee>>1;ne===0&&!te.has(se)||(X[se]=ne)}return X}extractWidths(K,te,X){const ee=this.xref;let G=[],ne=0;const se=[];let le,he,be,ye,de,xe,fe,ce;if(X.composite){if(ne=K.has("DW")?K.get("DW"):1e3,ce=K.get("W"),ce)for(he=0,be=ce.length;he<be;he++)if(xe=ee.fetchIfRef(ce[he++]),fe=ee.fetchIfRef(ce[he]),Array.isArray(fe))for(ye=0,de=fe.length;ye<de;ye++)G[xe++]=ee.fetchIfRef(fe[ye]);else{const Ee=ee.fetchIfRef(ce[++he]);for(ye=xe;ye<=fe;ye++)G[ye]=Ee}if(X.vertical){let Ee=K.getArray("DW2")||[880,-1e3];if(le=[Ee[1],ne*.5,Ee[0]],Ee=K.get("W2"),Ee)for(he=0,be=Ee.length;he<be;he++)if(xe=ee.fetchIfRef(Ee[he++]),fe=ee.fetchIfRef(Ee[he]),Array.isArray(fe))for(ye=0,de=fe.length;ye<de;ye++)se[xe++]=[ee.fetchIfRef(fe[ye++]),ee.fetchIfRef(fe[ye++]),ee.fetchIfRef(fe[ye])];else{const Me=[ee.fetchIfRef(Ee[++he]),ee.fetchIfRef(Ee[++he]),ee.fetchIfRef(Ee[++he])];for(ye=xe;ye<=fe;ye++)se[ye]=Me}}}else{const Ee=X.firstChar;if(ce=K.get("Widths"),ce){for(ye=Ee,he=0,be=ce.length;he<be;he++)G[ye++]=ee.fetchIfRef(ce[he]);ne=parseFloat(te.get("MissingWidth"))||0}else{const Me=K.get("BaseFont");if(Me instanceof d.Name){const _e=this.getBaseFontMetrics(Me.name);G=this.buildCharCodeToWidth(_e.widths,X),ne=_e.defaultWidth}}}let ue=!0,ve=ne;for(const Ee in G){const Me=G[Ee];if(!!Me){if(!ve){ve=Me;continue}if(ve!==Me){ue=!1;break}}}ue?X.flags|=D.FontFlags.FixedPitch:X.flags&=~D.FontFlags.FixedPitch,X.defaultWidth=ne,X.widths=G,X.defaultVMetrics=le,X.vmetrics=se}isSerifFont(K){const te=K.split("-")[0];return te in(0,p.getSerifFonts)()||/serif/gi.test(te)}getBaseFontMetrics(K){let te=0,X=Object.create(null),ee=!1,ne=(0,p.getStdFontMap)()[K]||K;const se=(0,B.getMetrics)();ne in se||(ne=this.isSerifFont(K)?"Times-Roman":"Helvetica");const le=se[ne];return typeof le=="number"?(te=le,ee=!0):X=le(),{defaultWidth:te,monospace:ee,widths:X}}buildCharCodeToWidth(K,te){const X=Object.create(null),ee=te.differences,G=te.defaultEncoding;for(let ne=0;ne<256;ne++){if(ne in ee&&K[ee[ne]]){X[ne]=K[ee[ne]];continue}if(ne in G&&K[G[ne]]){X[ne]=K[G[ne]];continue}}return X}preEvaluateFont(K){const te=K;let X=K.get("Subtype");if(!(X instanceof d.Name))throw new i.FormatError("invalid font Subtype");let ee=!1,G,ne;if(X.name==="Type0"){const be=K.get("DescendantFonts");if(!be)throw new i.FormatError("Descendant fonts are not specified");if(K=Array.isArray(be)?this.xref.fetchIfRef(be[0]):be,!(K instanceof d.Dict))throw new i.FormatError("Descendant font is not a dictionary.");if(X=K.get("Subtype"),!(X instanceof d.Name))throw new i.FormatError("invalid font Subtype");ee=!0}const se=K.get("FirstChar")||0,le=K.get("LastChar")||(ee?65535:255),he=K.get("FontDescriptor");if(he){G=new W.MurmurHash3_64;const be=te.getRaw("Encoding");if(be instanceof d.Name)G.update(be.name);else if(be instanceof d.Ref)G.update(be.toString());else if(be instanceof d.Dict){for(const de of be.getRawValues())if(de instanceof d.Name)G.update(de.name);else if(de instanceof d.Ref)G.update(de.toString());else if(Array.isArray(de)){const xe=de.length,fe=new Array(xe);for(let ce=0;ce<xe;ce++){const ue=de[ce];ue instanceof d.Name?fe[ce]=ue.name:(typeof ue=="number"||ue instanceof d.Ref)&&(fe[ce]=ue.toString())}G.update(fe.join())}}if(G.update(`${se}-${le}`),ne=K.get("ToUnicode")||te.get("ToUnicode"),ne instanceof E.BaseStream){const de=ne.str||ne,xe=de.buffer?new Uint8Array(de.buffer.buffer,0,de.bufferLength):new Uint8Array(de.bytes.buffer,de.start,de.end-de.start);G.update(xe)}else ne instanceof d.Name&&G.update(ne.name);const ye=K.get("Widths")||te.get("Widths");if(Array.isArray(ye)){const de=[];for(const xe of ye)(typeof xe=="number"||xe instanceof d.Ref)&&de.push(xe.toString());G.update(de.join())}if(ee){G.update("compositeFont");const de=K.get("W")||te.get("W");if(Array.isArray(de)){const fe=[];for(const ce of de)if(typeof ce=="number"||ce instanceof d.Ref)fe.push(ce.toString());else if(Array.isArray(ce)){const ue=[];for(const ve of ce)(typeof ve=="number"||ve instanceof d.Ref)&&ue.push(ve.toString());fe.push(`[${ue.join()}]`)}G.update(fe.join())}const xe=K.getRaw("CIDToGIDMap")||te.getRaw("CIDToGIDMap");xe instanceof d.Name?G.update(xe.name):xe instanceof d.Ref?G.update(xe.toString()):xe instanceof E.BaseStream&&G.update(xe.peekBytes())}}return{descriptor:he,dict:K,baseDict:te,composite:ee,type:X.name,firstChar:se,lastChar:le,toUnicode:ne,hash:G?G.hexdigest():""}}async translateFont(K){let{descriptor:te,dict:X,baseDict:ee,composite:G,type:ne,firstChar:se,lastChar:le,toUnicode:he,cssFontInfo:be}=K;const ye=ne==="Type3";let de;if(!te)if(ye)te=new d.Dict(null),te.set("FontName",d.Name.get(ne)),te.set("FontBBox",X.getArray("FontBBox")||[0,0,0,0]);else{let ke=X.get("BaseFont");if(!(ke instanceof d.Name))throw new i.FormatError("Base font is not specified");ke=ke.name.replaceAll(/[,_]/g,"-");const Ie=this.getBaseFontMetrics(ke),Te=ke.split("-")[0],Ae=(this.isSerifFont(Te)?D.FontFlags.Serif:0)|(Ie.monospace?D.FontFlags.FixedPitch:0)|((0,p.getSymbolsFonts)()[Te]?D.FontFlags.Symbolic:D.FontFlags.Nonsymbolic);de={type:ne,name:ke,loadedName:ee.loadedName,systemFontInfo:null,widths:Ie.widths,defaultWidth:Ie.defaultWidth,isSimulatedFlags:!0,flags:Ae,firstChar:se,lastChar:le,toUnicode:he,xHeight:0,capHeight:0,italicAngle:0,isType3Font:ye};const ge=X.get("Widths"),Ce=(0,p.getStandardFontName)(ke);let Be=null;return Ce&&(Be=await this.fetchStandardFontData(Ce),de.isInternalFont=!!Be),!de.isInternalFont&&this.options.useSystemFonts&&(de.systemFontInfo=(0,F.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,ke,Ce)),this.extractDataStructures(X,X,de).then(Ye=>{if(ge){const Je=[];let Re=se;for(const He of ge)Je[Re++]=this.xref.fetchIfRef(He);Ye.widths=Je}else Ye.widths=this.buildCharCodeToWidth(Ie.widths,Ye);return new e.Font(ke,Be,Ye)})}let xe=te.get("FontName"),fe=X.get("BaseFont");typeof xe=="string"&&(xe=d.Name.get(xe)),typeof fe=="string"&&(fe=d.Name.get(fe));const ce=xe==null?void 0:xe.name,ue=fe==null?void 0:fe.name;if(!ye&&ce!==ue&&((0,i.info)(`The FontDescriptor's FontName is "${ce}" but should be the same as the Font's BaseFont "${ue}".`),ce&&ue&&(ue.startsWith(ce)||!(0,p.isKnownFontName)(ce)&&(0,p.isKnownFontName)(ue))&&(xe=null)),xe||(xe=fe),!(xe instanceof d.Name))throw new i.FormatError("invalid font name");let ve,Ee,Me,_e,ze;try{ve=te.get("FontFile","FontFile2","FontFile3")}catch(ke){if(!this.options.ignoreErrors)throw ke;(0,i.warn)(`translateFont - fetching "${xe.name}" font file: "${ke}".`),ve=new f.NullStream}let We=!1,Ve=null,Ne=null;if(ve){if(ve.dict){const ke=ve.dict.get("Subtype");ke instanceof d.Name&&(Ee=ke.name),Me=ve.dict.get("Length1"),_e=ve.dict.get("Length2"),ze=ve.dict.get("Length3")}}else if(be){const ke=(0,y.getXfaFontName)(xe.name);ke&&(be.fontFamily=`${be.fontFamily}-PdfJS-XFA`,be.metrics=ke.metrics||null,Ve=ke.factors||null,ve=await this.fetchStandardFontData(ke.name),We=!!ve,ee=X=(0,y.getXfaFontDict)(xe.name),G=!0)}else if(!ye){const ke=(0,p.getStandardFontName)(xe.name);ke&&(ve=await this.fetchStandardFontData(ke),We=!!ve),!We&&this.options.useSystemFonts&&(Ne=(0,F.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,xe.name,ke))}if(de={type:ne,name:xe.name,subtype:Ee,file:ve,length1:Me,length2:_e,length3:ze,isInternalFont:We,loadedName:ee.loadedName,composite:G,fixedPitch:!1,fontMatrix:X.getArray("FontMatrix")||i.FONT_IDENTITY_MATRIX,firstChar:se,lastChar:le,toUnicode:he,bbox:te.getArray("FontBBox")||X.getArray("FontBBox"),ascent:te.get("Ascent"),descent:te.get("Descent"),xHeight:te.get("XHeight")||0,capHeight:te.get("CapHeight")||0,flags:te.get("Flags"),italicAngle:te.get("ItalicAngle")||0,isType3Font:ye,cssFontInfo:be,scaleFactors:Ve,systemFontInfo:Ne},G){const ke=ee.get("Encoding");ke instanceof d.Name&&(de.cidEncoding=ke.name);const Ie=await l.CMapFactory.create({encoding:ke,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});de.cMap=Ie,de.vertical=de.cMap.vertical}return this.extractDataStructures(X,ee,de).then(ke=>(this.extractWidths(X,te,ke),new e.Font(xe.name,ve,ke)))}static buildFontPaths(K,te,X,ee){function G(ne){const se=`${K.loadedName}_path_${ne}`;try{if(K.renderer.hasBuiltPath(ne))return;X.send("commonobj",[se,"FontPath",K.renderer.getPathJs(ne)])}catch(le){if(ee.ignoreErrors){(0,i.warn)(`buildFontPaths - ignoring ${se} glyph: "${le}".`);return}throw le}}for(const ne of te){G(ne.fontChar);const se=ne.accent;se!=null&&se.fontChar&&G(se.fontChar)}}static get fallbackFontDict(){const K=new d.Dict;return K.set("BaseFont",d.Name.get("Helvetica")),K.set("Type",d.Name.get("FallbackType")),K.set("Subtype",d.Name.get("FallbackType")),K.set("Encoding",d.Name.get("WinAnsiEncoding")),(0,i.shadow)(this,"fallbackFontDict",K)}}o.PartialEvaluator=re;class oe{constructor(K){let{loadedName:te,font:X,dict:ee,evaluatorOptions:G}=K;this.loadedName=te,this.font=X,this.dict=ee,this._evaluatorOptions=G||N,this.type3Loaded=null,this.type3Dependencies=X.isType3Font?new Set:null,this.sent=!1}send(K){this.sent||(this.sent=!0,K.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(K){!this.font.data||(this.font.disableFontFace=!0,re.buildFontPaths(this.font,this.font.glyphCacheValues,K,this._evaluatorOptions))}loadType3Data(K,te,X){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const ee=K.clone({ignoreErrors:!1});ee.parsingType3Font=!0;const G=new d.RefSet(K.type3FontRefs);this.dict.objId&&!G.has(this.dict.objId)&&G.put(this.dict.objId),ee.type3FontRefs=G;const ne=this.font,se=this.type3Dependencies;let le=Promise.resolve();const he=this.dict.get("CharProcs"),be=this.dict.get("Resources")||te,ye=Object.create(null),de=i.Util.normalizeRect(ne.bbox||[0,0,0,0]),xe=de[2]-de[0],fe=de[3]-de[1],ce=Math.hypot(xe,fe);for(const ue of he.getKeys())le=le.then(()=>{const ve=he.get(ue),Ee=new J.OperatorList;return ee.getOperatorList({stream:ve,task:X,resources:be,operatorList:Ee}).then(()=>{Ee.fnArray[0]===i.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Ee,ce),ye[ue]=Ee.getIR();for(const Me of Ee.dependencies)se.add(Me)}).catch(function(Me){(0,i.warn)(`Type3 font resource "${ue}" is not available.`);const _e=new J.OperatorList;ye[ue]=_e.getIR()})});return this.type3Loaded=le.then(()=>{ne.charProcOperatorList=ye,this._bbox&&(ne.isCharBBox=!0,ne.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(K){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;const X=i.Util.normalizeRect(K.argsArray[0].slice(2)),ee=X[2]-X[0],G=X[3]-X[1],ne=Math.hypot(ee,G);ee===0||G===0?(K.fnArray.splice(0,1),K.argsArray.splice(0,1)):(te===0||Math.round(ne/te)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],X[0]),this._bbox[1]=Math.min(this._bbox[1],X[1]),this._bbox[2]=Math.max(this._bbox[2],X[2]),this._bbox[3]=Math.max(this._bbox[3],X[3]));let se=0,le=K.length;for(;se<le;){switch(K.fnArray[se]){case i.OPS.setCharWidthAndBounds:break;case i.OPS.setStrokeColorSpace:case i.OPS.setFillColorSpace:case i.OPS.setStrokeColor:case i.OPS.setStrokeColorN:case i.OPS.setFillColor:case i.OPS.setFillColorN:case i.OPS.setStrokeGray:case i.OPS.setFillGray:case i.OPS.setStrokeRGBColor:case i.OPS.setFillRGBColor:case i.OPS.setStrokeCMYKColor:case i.OPS.setFillCMYKColor:case i.OPS.shadingFill:case i.OPS.setRenderingIntent:K.fnArray.splice(se,1),K.argsArray.splice(se,1),le--;continue;case i.OPS.setGState:const[he]=K.argsArray[se];let be=0,ye=he.length;for(;be<ye;){const[de]=he[be];switch(de){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":he.splice(be,1),ye--;continue}be++}break}se++}}}class ae{constructor(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new S;this.state=K,this.stateStack=[]}save(){const K=this.state;this.stateStack.push(this.state),this.state=K.clone()}restore(){const K=this.stateStack.pop();K&&(this.state=K)}transform(K){this.state.ctm=i.Util.transform(this.state.ctm,K)}}class R{constructor(){this.ctm=new Float32Array(i.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.textMatrix=i.IDENTITY_MATRIX.slice(),this.textLineMatrix=i.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(K,te,X,ee,G,ne){const se=this.textMatrix;se[0]=K,se[1]=te,se[2]=X,se[3]=ee,se[4]=G,se[5]=ne}setTextLineMatrix(K,te,X,ee,G,ne){const se=this.textLineMatrix;se[0]=K,se[1]=te,se[2]=X,se[3]=ee,se[4]=G,se[5]=ne}translateTextMatrix(K,te){const X=this.textMatrix;X[4]=X[0]*K+X[2]*te+X[4],X[5]=X[1]*K+X[3]*te+X[5]}translateTextLineMatrix(K,te){const X=this.textLineMatrix;X[4]=X[0]*K+X[2]*te+X[4],X[5]=X[1]*K+X[3]*te+X[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const K=Object.create(this);return K.textMatrix=this.textMatrix.slice(),K.textLineMatrix=this.textLineMatrix.slice(),K.fontMatrix=this.fontMatrix.slice(),K}}class S{constructor(){this.ctm=new Float32Array(i.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=i.TextRenderingMode.FILL,this.fillColorSpace=O.ColorSpace.singletons.gray,this.strokeColorSpace=O.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const z=class{static get opMap(){return(0,i.shadow)(this,"opMap",{w:{id:i.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:i.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:i.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:i.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:i.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:i.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:i.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:i.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:i.OPS.save,numArgs:0,variableArgs:!1},Q:{id:i.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:i.OPS.transform,numArgs:6,variableArgs:!1},m:{id:i.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:i.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:i.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:i.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:i.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:i.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:i.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:i.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:i.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:i.OPS.fill,numArgs:0,variableArgs:!1},F:{id:i.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:i.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:i.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:i.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:i.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:i.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:i.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:i.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:i.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:i.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:i.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:i.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:i.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:i.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:i.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:i.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:i.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:i.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:i.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:i.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:i.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:i.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:i.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:i.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:i.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:i.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:i.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:i.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:i.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:i.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:i.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:i.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:i.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:i.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:i.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:i.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:i.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:i.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:i.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:i.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:i.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:i.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:i.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:i.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:i.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:i.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:i.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:i.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:i.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:i.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:i.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:i.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(K,te){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new ae;this.parser=new g.Parser({lexer:new g.Lexer(K,z.opMap),xref:te}),this.stateManager=X,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(K){let te=K.args;for(;;){const X=this.parser.getObj();if(X instanceof d.Cmd){const ee=X.cmd,G=z.opMap[ee];if(!G){(0,i.warn)(`Unknown command "${ee}".`);continue}const ne=G.id,se=G.numArgs;let le=te!==null?te.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=ne>=i.OPS.moveTo&&ne<=i.OPS.endPath,G.variableArgs)le>se&&(0,i.info)(`Command ${ee}: expected [0, ${se}] args, but received ${le} args.`);else{if(le!==se){const he=this.nonProcessedArgs;for(;le>se;)he.push(te.shift()),le--;for(;le<se&&he.length!==0;)te===null&&(te=[]),te.unshift(he.pop()),le++}if(le<se){const he=`command ${ee}: expected ${se} args, but received ${le} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>z.MAX_INVALID_PATH_OPS)throw new i.FormatError(`Invalid ${he}`);(0,i.warn)(`Skipping ${he}`),te!==null&&(te.length=0);continue}}return this.preprocessCommand(ne,te),K.fn=ne,K.args=te,!0}if(X===d.EOF)return!1;if(X!==null&&(te===null&&(te=[]),te.push(X),te.length>33))throw new i.FormatError("Too many arguments")}}preprocessCommand(K,te){switch(K|0){case i.OPS.save:this.stateManager.save();break;case i.OPS.restore:this.stateManager.restore();break;case i.OPS.transform:this.stateManager.transform(te);break}}};let L=z;Ct(L,"MAX_INVALID_PATH_OPS",10),o.EvaluatorPreprocessor=L},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IdentityCMap=o.CMapFactory=o.CMap=void 0,s(140),s(2);var i=s(145),l=s(151),d=s(152),e=s(166),r=s(167),p=s(150),x=s(155);const y=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],v=2**24-1;class b{constructor(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=N}addCodespaceRange(N,U,Y){this.codespaceRanges[N-1].push(U,Y),this.numCodespaceRanges++}mapCidRange(N,U,Y){if(U-N>v)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;N<=U;)this._map[N++]=Y++}mapBfRange(N,U,Y){if(U-N>v)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const _=Y.length-1;for(;N<=U;){this._map[N++]=Y;const V=Y.charCodeAt(_)+1;if(V>255){Y=Y.substring(0,_-1)+String.fromCharCode(Y.charCodeAt(_-1)+1)+"\0";continue}Y=Y.substring(0,_)+String.fromCharCode(V)}}mapBfRangeToArray(N,U,Y){if(U-N>v)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const _=Y.length;let V=0;for(;N<=U&&V<_;)this._map[N]=Y[V++],++N}mapOne(N,U){this._map[N]=U}lookup(N){return this._map[N]}contains(N){return this._map[N]!==void 0}forEach(N){const U=this._map,Y=U.length;if(Y<=65536)for(let _=0;_<Y;_++)U[_]!==void 0&&N(_,U[_]);else for(const _ in U)N(_,U[_])}charCodeOf(N){const U=this._map;if(U.length<=65536)return U.indexOf(N);for(const Y in U)if(U[Y]===N)return Y|0;return-1}getMap(){return this._map}readCharCode(N,U,Y){let _=0;const V=this.codespaceRanges;for(let Z=0,q=V.length;Z<q;Z++){_=(_<<8|N.charCodeAt(U+Z))>>>0;const re=V[Z];for(let oe=0,ae=re.length;oe<ae;){const R=re[oe++],S=re[oe++];if(_>=R&&_<=S){Y.charcode=_,Y.length=Z+1;return}}}Y.charcode=0,Y.length=1}getCharCodeLength(N){const U=this.codespaceRanges;for(let Y=0,_=U.length;Y<_;Y++){const V=U[Y];for(let Z=0,q=V.length;Z<q;){const re=V[Z++],oe=V[Z++];if(N>=re&&N<=oe)return Y+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let N=0;N<65536;N++)if(this._map[N]!==N)return!1;return!0}}o.CMap=b;class g extends b{constructor(N,U){super(),this.vertical=N,this.addCodespaceRange(U,0,65535)}mapCidRange(N,U,Y){(0,i.unreachable)("should not call mapCidRange")}mapBfRange(N,U,Y){(0,i.unreachable)("should not call mapBfRange")}mapBfRangeToArray(N,U,Y){(0,i.unreachable)("should not call mapBfRangeToArray")}mapOne(N,U){(0,i.unreachable)("should not call mapCidOne")}lookup(N){return Number.isInteger(N)&&N<=65535?N:void 0}contains(N){return Number.isInteger(N)&&N<=65535}forEach(N){for(let U=0;U<=65535;U++)N(U,U)}charCodeOf(N){return Number.isInteger(N)&&N<=65535?N:-1}getMap(){const N=new Array(65536);for(let U=0;U<=65535;U++)N[U]=U;return N}get length(){return 65536}get isIdentityCMap(){(0,i.unreachable)("should not access .isIdentityCMap")}}o.IdentityCMap=g;function w(H){let N=0;for(let U=0;U<H.length;U++)N=N<<8|H.charCodeAt(U);return N>>>0}function f(H){if(typeof H!="string")throw new i.FormatError("Malformed CMap: expected string.")}function E(H){if(!Number.isInteger(H))throw new i.FormatError("Malformed CMap: expected int.")}function A(H,N){for(;;){let U=N.getObj();if(U===l.EOF)break;if((0,l.isCmd)(U,"endbfchar"))return;f(U);const Y=w(U);U=N.getObj(),f(U);const _=U;H.mapOne(Y,_)}}function O(H,N){for(;;){let U=N.getObj();if(U===l.EOF)break;if((0,l.isCmd)(U,"endbfrange"))return;f(U);const Y=w(U);U=N.getObj(),f(U);const _=w(U);if(U=N.getObj(),Number.isInteger(U)||typeof U=="string"){const V=Number.isInteger(U)?String.fromCharCode(U):U;H.mapBfRange(Y,_,V)}else if((0,l.isCmd)(U,"[")){U=N.getObj();const V=[];for(;!(0,l.isCmd)(U,"]")&&U!==l.EOF;)V.push(U),U=N.getObj();H.mapBfRangeToArray(Y,_,V)}else break}throw new i.FormatError("Invalid bf range.")}function T(H,N){for(;;){let U=N.getObj();if(U===l.EOF)break;if((0,l.isCmd)(U,"endcidchar"))return;f(U);const Y=w(U);U=N.getObj(),E(U);const _=U;H.mapOne(Y,_)}}function D(H,N){for(;;){let U=N.getObj();if(U===l.EOF)break;if((0,l.isCmd)(U,"endcidrange"))return;f(U);const Y=w(U);U=N.getObj(),f(U);const _=w(U);U=N.getObj(),E(U);const V=U;H.mapCidRange(Y,_,V)}}function F(H,N){for(;;){let U=N.getObj();if(U===l.EOF)break;if((0,l.isCmd)(U,"endcodespacerange"))return;if(typeof U!="string")break;const Y=w(U);if(U=N.getObj(),typeof U!="string")break;const _=w(U);H.addCodespaceRange(U.length,Y,_)}throw new i.FormatError("Invalid codespace range.")}function C(H,N){const U=N.getObj();Number.isInteger(U)&&(H.vertical=!!U)}function B(H,N){const U=N.getObj();U instanceof l.Name&&(H.name=U.name)}async function M(H,N,U,Y){let _,V;e:for(;;)try{const Z=N.getObj();if(Z===l.EOF)break;if(Z instanceof l.Name)Z.name==="WMode"?C(H,N):Z.name==="CMapName"&&B(H,N),_=Z;else if(Z instanceof l.Cmd)switch(Z.cmd){case"endcmap":break e;case"usecmap":_ instanceof l.Name&&(V=_.name);break;case"begincodespacerange":F(H,N);break;case"beginbfchar":A(H,N);break;case"begincidchar":T(H,N);break;case"beginbfrange":O(H,N);break;case"begincidrange":D(H,N);break}}catch(Z){if(Z instanceof p.MissingDataException)throw Z;(0,i.warn)("Invalid cMap data: "+Z);continue}return!Y&&V&&(Y=V),Y?I(H,U,Y):H}async function I(H,N,U){if(H.useCMap=await W(U,N),H.numCodespaceRanges===0){const Y=H.useCMap.codespaceRanges;for(let _=0;_<Y.length;_++)H.codespaceRanges[_]=Y[_].slice();H.numCodespaceRanges=H.useCMap.numCodespaceRanges}return H.useCMap.forEach(function(Y,_){H.contains(Y)||H.mapOne(Y,H.useCMap.lookup(Y))}),H}async function W(H,N){if(H==="Identity-H")return new g(!1,2);if(H==="Identity-V")return new g(!0,2);if(!y.includes(H))throw new Error("Unknown CMap name: "+H);if(!N)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:U,compressionType:Y}=await N(H),_=new b(!0);if(Y===i.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(U,_,V=>I(_,N,V));if(Y===i.CMapCompressionType.NONE){const V=new r.Lexer(new x.Stream(U));return M(_,V,N,null)}throw new Error(`Invalid CMap "compressionType" value: ${Y}`)}class J{static async create(N){let{encoding:U,fetchBuiltInCMap:Y,useCMap:_}=N;if(U instanceof l.Name)return W(U.name,Y);if(U instanceof d.BaseStream){const V=await M(new b,new r.Lexer(U),Y,_);return V.isIdentityCMap?W(V.name,Y):V}throw new Error("Encoding required.")}}o.CMapFactory=J},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BinaryCMapReader=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(2);var i=s(145);function l(b,g){let w=0;for(let f=0;f<=g;f++)w=w<<8|b[f];return w>>>0}function d(b,g){return g===1?String.fromCharCode(b[0],b[1]):g===3?String.fromCharCode(b[0],b[1],b[2],b[3]):String.fromCharCode(...b.subarray(0,g+1))}function e(b,g,w){let f=0;for(let E=w;E>=0;E--)f+=b[E]+g[E],b[E]=f&255,f>>=8}function r(b,g){let w=1;for(let f=g;f>=0&&w>0;f--)w+=b[f],b[f]=w&255,w>>=8}const p=16,x=19;class y{constructor(g){this.buffer=g,this.pos=0,this.end=g.length,this.tmpBuf=new Uint8Array(x)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let g=0,w;do{const f=this.readByte();if(f<0)throw new i.FormatError("unexpected EOF in bcmap");w=!(f&128),g=g<<7|f&127}while(!w);return g}readSigned(){const g=this.readNumber();return g&1?~(g>>>1):g>>>1}readHex(g,w){g.set(this.buffer.subarray(this.pos,this.pos+w+1)),this.pos+=w+1}readHexNumber(g,w){let f;const E=this.tmpBuf;let A=0;do{const F=this.readByte();if(F<0)throw new i.FormatError("unexpected EOF in bcmap");f=!(F&128),E[A++]=F&127}while(!f);let O=w,T=0,D=0;for(;O>=0;){for(;D<8&&E.length>0;)T|=E[--A]<<D,D+=7;g[O]=T&255,O--,T>>=8,D-=8}}readHexSigned(g,w){this.readHexNumber(g,w);const f=g[w]&1?255:0;let E=0;for(let A=0;A<=w;A++)E=(E&1)<<8|g[A],g[A]=E>>1^f}readString(){const g=this.readNumber(),w=new Array(g);for(let f=0;f<g;f++)w[f]=this.readNumber();return String.fromCharCode(...w)}}class v{async process(g,w,f){const E=new y(g),A=E.readByte();w.vertical=!!(A&1);let O=null;const T=new Uint8Array(p),D=new Uint8Array(p),F=new Uint8Array(p),C=new Uint8Array(p),B=new Uint8Array(p);let M,I;for(;(I=E.readByte())>=0;){const W=I>>5;if(W===7){switch(I&31){case 0:E.readString();break;case 1:O=E.readString();break}continue}const J=!!(I&16),H=I&15;if(H+1>p)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const N=1,U=E.readNumber();switch(W){case 0:E.readHex(T,H),E.readHexNumber(D,H),e(D,T,H),w.addCodespaceRange(H+1,l(T,H),l(D,H));for(let Y=1;Y<U;Y++)r(D,H),E.readHexNumber(T,H),e(T,D,H),E.readHexNumber(D,H),e(D,T,H),w.addCodespaceRange(H+1,l(T,H),l(D,H));break;case 1:E.readHex(T,H),E.readHexNumber(D,H),e(D,T,H),E.readNumber();for(let Y=1;Y<U;Y++)r(D,H),E.readHexNumber(T,H),e(T,D,H),E.readHexNumber(D,H),e(D,T,H),E.readNumber();break;case 2:E.readHex(F,H),M=E.readNumber(),w.mapOne(l(F,H),M);for(let Y=1;Y<U;Y++)r(F,H),J||(E.readHexNumber(B,H),e(F,B,H)),M=E.readSigned()+(M+1),w.mapOne(l(F,H),M);break;case 3:E.readHex(T,H),E.readHexNumber(D,H),e(D,T,H),M=E.readNumber(),w.mapCidRange(l(T,H),l(D,H),M);for(let Y=1;Y<U;Y++)r(D,H),J?T.set(D):(E.readHexNumber(T,H),e(T,D,H)),E.readHexNumber(D,H),e(D,T,H),M=E.readNumber(),w.mapCidRange(l(T,H),l(D,H),M);break;case 4:E.readHex(F,N),E.readHex(C,H),w.mapOne(l(F,N),d(C,H));for(let Y=1;Y<U;Y++)r(F,N),J||(E.readHexNumber(B,N),e(F,B,N)),r(C,H),E.readHexSigned(B,H),e(C,B,H),w.mapOne(l(F,N),d(C,H));break;case 5:E.readHex(T,N),E.readHexNumber(D,N),e(D,T,N),E.readHex(C,H),w.mapBfRange(l(T,N),l(D,N),d(C,H));for(let Y=1;Y<U;Y++)r(D,N),J?T.set(D):(E.readHexNumber(T,N),e(T,D,N)),E.readHexNumber(D,N),e(D,T,N),E.readHex(C,H),w.mapBfRange(l(T,N),l(D,N),d(C,H));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${W}`)}}return O?f(O):w}}o.BinaryCMapReader=v},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Parser=o.Linearization=o.Lexer=void 0,s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(2);var i=s(145),l=s(151),d=s(150),e=s(155),r=s(168),p=s(170),x=s(171),y=s(173),v=s(174),b=s(177),g=s(180),w=s(182),f=s(183),E=s(184);const A=1e3;function O(M){const I=[],W=M.length;let J=0;for(;J<W-1;)I.push(M[J++]<<8|M[J++]);return J<W&&I.push(M[J]),W+"_"+String.fromCharCode.apply(null,I)}class T{constructor(I){let{lexer:W,xref:J,allowStreams:H=!1,recoveryMode:N=!1}=I;this.lexer=W,this.xref=J,this.allowStreams=H,this.recoveryMode=N,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof l.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(I){if(I instanceof d.MissingDataException)throw I;return!1}}getObj(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const W=this.buf1;if(this.shift(),W instanceof l.Cmd)switch(W.cmd){case"BI":return this.makeInlineImage(I);case"[":const J=[];for(;!(0,l.isCmd)(this.buf1,"]")&&this.buf1!==l.EOF;)J.push(this.getObj(I));if(this.buf1===l.EOF){if(this.recoveryMode)return J;throw new d.ParserEOFException("End of file inside array.")}return this.shift(),J;case"<<":const H=new l.Dict(this.xref);for(;!(0,l.isCmd)(this.buf1,">>")&&this.buf1!==l.EOF;){if(!(this.buf1 instanceof l.Name)){(0,i.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const N=this.buf1.name;if(this.shift(),this.buf1===l.EOF)break;H.set(N,this.getObj(I))}if(this.buf1===l.EOF){if(this.recoveryMode)return H;throw new d.ParserEOFException("End of file inside dictionary.")}return(0,l.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(H,I):H:(this.shift(),H);default:return W}if(Number.isInteger(W)){if(Number.isInteger(this.buf1)&&(0,l.isCmd)(this.buf2,"R")){const J=l.Ref.get(W,this.buf1);return this.shift(),this.shift(),J}return W}return typeof W=="string"&&I?I.decryptString(W):W}findDefaultInlineStreamEnd(I){const{knownCommands:_}=this.lexer,V=I.pos,Z=15;let q=0,re,oe;for(;(re=I.getByte())!==-1;)if(q===0)q=re===69?1:0;else if(q===1)q=re===73?2:0;else if(re===32||re===10||re===13){oe=I.pos;const R=I.peekBytes(Z),S=R.length;if(S===0)break;for(let z=0;z<S;z++)if(re=R[z],!(re===0&&R[z+1]!==0)&&re!==10&&re!==13&&(re<32||re>127)){q=0;break}if(q!==2)continue;if(!_){(0,i.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const L=new C(new e.Stream(R.slice()),_);L._hexStringWarn=()=>{};let k=0;for(;;){const z=L.getObj();if(z===l.EOF){q=0;break}if(z instanceof l.Cmd){const P=_[z.cmd];if(P){if(P.variableArgs?k<=P.numArgs:k===P.numArgs)break}else{q=0;break}k=0;continue}k++}if(q===2)break}else q=0;re===-1&&((0,i.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),oe&&((0,i.warn)('... trying to recover by using the last "EI" occurrence.'),I.skip(-(I.pos-oe))));let ae=4;return I.skip(-ae),re=I.peekByte(),I.skip(ae),(0,d.isWhiteSpace)(re)||ae--,I.pos-ae-V}findDCTDecodeInlineStreamEnd(I){const W=I.pos;let J=!1,H,N;for(;(H=I.getByte())!==-1;)if(H===255){switch(I.getByte()){case 0:break;case 255:I.skip(-1);break;case 217:J=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:N=I.getUint16(),N>2?I.skip(N-2):I.skip(-2);break}if(J)break}const U=I.pos-W;return H===-1?((0,i.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),I.skip(-U),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),U)}findASCII85DecodeInlineStreamEnd(I){const H=I.pos;let N;for(;(N=I.getByte())!==-1;)if(N===126){const Y=I.pos;for(N=I.peekByte();(0,d.isWhiteSpace)(N);)I.skip(),N=I.peekByte();if(N===62){I.skip();break}if(I.pos>Y){const _=I.peekBytes(2);if(_[0]===69&&_[1]===73)break}}const U=I.pos-H;return N===-1?((0,i.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),I.skip(-U),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),U)}findASCIIHexDecodeInlineStreamEnd(I){const J=I.pos;let H;for(;(H=I.getByte())!==-1&&H!==62;);const N=I.pos-J;return H===-1?((0,i.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),I.skip(-N),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),N)}inlineStreamSkipEI(I){let H=0,N;for(;(N=I.getByte())!==-1;)if(H===0)H=N===69?1:0;else if(H===1)H=N===73?2:0;else if(H===2)break}makeInlineImage(I){const W=this.lexer,J=W.stream,H=Object.create(null);let N;for(;!(0,l.isCmd)(this.buf1,"ID")&&this.buf1!==l.EOF;){if(!(this.buf1 instanceof l.Name))throw new i.FormatError("Dictionary key must be a name object");const oe=this.buf1.name;if(this.shift(),this.buf1===l.EOF)break;H[oe]=this.getObj(I)}W.beginInlineImagePos!==-1&&(N=J.pos-W.beginInlineImagePos);const U=this.xref.fetchIfRef(H.F||H.Filter);let Y;if(U instanceof l.Name)Y=U.name;else if(Array.isArray(U)){const oe=this.xref.fetchIfRef(U[0]);oe instanceof l.Name&&(Y=oe.name)}const _=J.pos;let V;switch(Y){case"DCT":case"DCTDecode":V=this.findDCTDecodeInlineStreamEnd(J);break;case"A85":case"ASCII85Decode":V=this.findASCII85DecodeInlineStreamEnd(J);break;case"AHx":case"ASCIIHexDecode":V=this.findASCIIHexDecodeInlineStreamEnd(J);break;default:V=this.findDefaultInlineStreamEnd(J)}let Z;if(V<A&&N>0){const oe=J.pos;J.pos=W.beginInlineImagePos,Z=O(J.getBytes(N+V)),J.pos=oe;const ae=this.imageCache[Z];if(ae!==void 0)return this.buf2=l.Cmd.get("EI"),this.shift(),ae.reset(),ae}const q=new l.Dict(this.xref);for(const oe in H)q.set(oe,H[oe]);let re=J.makeSubStream(_,V,q);return I&&(re=I.createStream(re,V)),re=this.filter(re,q,V),re.dict=q,Z!==void 0&&(re.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[Z]=re),this.buf2=l.Cmd.get("EI"),this.shift(),re}_findStreamLength(I,W){const{stream:J}=this.lexer;J.pos=I;const H=2048,N=W.length;for(;J.pos<J.end;){const U=J.peekBytes(H),Y=U.length-N;if(Y<=0)break;let _=0;for(;_<Y;){let V=0;for(;V<N&&U[_+V]===W[V];)V++;if(V>=N)return J.pos+=_,J.pos-I;_++}J.pos+=Y}return-1}makeStream(I,W){const J=this.lexer;let H=J.stream;J.skipToNextLine();const N=H.pos-1;let U=I.get("Length");if(Number.isInteger(U)||((0,i.info)(`Bad length "${U&&U.toString()}" in stream.`),U=0),H.pos=N+U,J.nextChar(),this.tryShift()&&(0,l.isCmd)(this.buf2,"endstream"))this.shift();else{const Y=new Uint8Array([101,110,100,115,116,114,101,97,109]);let _=this._findStreamLength(N,Y);if(_<0){for(let Z=1;Z<=1;Z++){const q=Y.length-Z,re=Y.slice(0,q),oe=this._findStreamLength(N,re);if(oe>=0){const ae=H.peekBytes(q+1)[q];if(!(0,d.isWhiteSpace)(ae))break;(0,i.info)(`Found "${(0,i.bytesToString)(re)}" when searching for endstream command.`),_=oe;break}}if(_<0)throw new i.FormatError("Missing endstream command.")}U=_,J.nextChar(),this.shift(),this.shift()}return this.shift(),H=H.makeSubStream(N,U,I),W&&(H=W.createStream(H,U)),H=this.filter(H,I,U),H.dict=I,H}filter(I,W,J){let H=W.get("F","Filter"),N=W.get("DP","DecodeParms");if(H instanceof l.Name)return Array.isArray(N)&&(0,i.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(I,H.name,J,N);let U=J;if(Array.isArray(H)){const Y=H,_=N;for(let V=0,Z=Y.length;V<Z;++V){if(H=this.xref.fetchIfRef(Y[V]),!(H instanceof l.Name))throw new i.FormatError(`Bad filter name "${H}"`);N=null,Array.isArray(_)&&V in _&&(N=this.xref.fetchIfRef(_[V])),I=this.makeFilter(I,H.name,U,N),U=null}}return I}makeFilter(I,W,J,H){if(J===0)return(0,i.warn)(`Empty "${W}" stream.`),new e.NullStream;try{switch(W){case"Fl":case"FlateDecode":return H?new f.PredictorStream(new y.FlateStream(I,J),J,H):new y.FlateStream(I,J);case"LZW":case"LZWDecode":let N=1;return H?(H.has("EarlyChange")&&(N=H.get("EarlyChange")),new f.PredictorStream(new w.LZWStream(I,J,N),J,H)):new w.LZWStream(I,J,N);case"DCT":case"DCTDecode":return new b.JpegStream(I,J,H);case"JPX":case"JPXDecode":return new g.JpxStream(I,J,H);case"A85":case"ASCII85Decode":return new r.Ascii85Stream(I,J);case"AHx":case"ASCIIHexDecode":return new p.AsciiHexStream(I,J);case"CCF":case"CCITTFaxDecode":return new x.CCITTFaxStream(I,J,H);case"RL":case"RunLengthDecode":return new E.RunLengthStream(I,J);case"JBIG2Decode":return new v.Jbig2Stream(I,J,H)}return(0,i.warn)(`Filter "${W}" is not supported.`),I}catch(N){if(N instanceof d.MissingDataException)throw N;return(0,i.warn)(`Invalid stream: "${N}"`),new e.NullStream}}}o.Parser=T;const D=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function F(M){return M>=48&&M<=57?M&15:M>=65&&M<=70||M>=97&&M<=102?(M&15)+9:-1}class C{constructor(I){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.stream=I,this.nextChar(),this.strBuf=[],this.knownCommands=W,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let I=this.currentChar,W=!1,J=0,H=1;if(I===45?(H=-1,I=this.nextChar(),I===45&&(I=this.nextChar())):I===43&&(I=this.nextChar()),I===10||I===13)do I=this.nextChar();while(I===10||I===13);if(I===46&&(J=10,I=this.nextChar()),I<48||I>57){const _=`Invalid number: ${String.fromCharCode(I)} (charCode ${I})`;if((0,d.isWhiteSpace)(I)||I===-1)return(0,i.info)(`Lexer.getNumber - "${_}".`),0;throw new i.FormatError(_)}let N=I-48,U=0,Y=1;for(;(I=this.nextChar())>=0;)if(I>=48&&I<=57){const _=I-48;W?U=U*10+_:(J!==0&&(J*=10),N=N*10+_)}else if(I===46)if(J===0)J=1;else break;else if(I===45)(0,i.warn)("Badly formatted number: minus sign in the middle");else if(I===69||I===101){if(I=this.peekChar(),I===43||I===45)Y=I===45?-1:1,this.nextChar();else if(I<48||I>57)break;W=!0}else break;return J!==0&&(N/=J),W&&(N*=10**(Y*U)),H*N}getString(){let I=1,W=!1;const J=this.strBuf;J.length=0;let H=this.nextChar();for(;;){let N=!1;switch(H|0){case-1:(0,i.warn)("Unterminated string"),W=!0;break;case 40:++I,J.push("(");break;case 41:--I===0?(this.nextChar(),W=!0):J.push(")");break;case 92:switch(H=this.nextChar(),H){case-1:(0,i.warn)("Unterminated string"),W=!0;break;case 110:J.push(`
`);break;case 114:J.push("\r");break;case 116:J.push("	");break;case 98:J.push("\b");break;case 102:J.push("\f");break;case 92:case 40:case 41:J.push(String.fromCharCode(H));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let U=H&15;H=this.nextChar(),N=!0,H>=48&&H<=55&&(U=(U<<3)+(H&15),H=this.nextChar(),H>=48&&H<=55&&(N=!1,U=(U<<3)+(H&15))),J.push(String.fromCharCode(U));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:J.push(String.fromCharCode(H));break}break;default:J.push(String.fromCharCode(H));break}if(W)break;N||(H=this.nextChar())}return J.join("")}getName(){let I,W;const J=this.strBuf;for(J.length=0;(I=this.nextChar())>=0&&!D[I];)if(I===35){if(I=this.nextChar(),D[I]){(0,i.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),J.push("#");break}const H=F(I);if(H!==-1){W=I,I=this.nextChar();const N=F(I);if(N===-1){if((0,i.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(I)}) in hexadecimal number.`),J.push("#",String.fromCharCode(W)),D[I])break;J.push(String.fromCharCode(I));continue}J.push(String.fromCharCode(H<<4|N))}else J.push("#",String.fromCharCode(I))}else J.push(String.fromCharCode(I));return J.length>127&&(0,i.warn)(`Name token is longer than allowed by the spec: ${J.length}`),l.Name.get(J.join(""))}_hexStringWarn(I){if(this._hexStringNumWarn++===5){(0,i.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,i.warn)(`getHexString - ignoring invalid character: ${I}`)}getHexString(){const I=this.strBuf;I.length=0;let W=this.currentChar,J=!0,H,N;for(this._hexStringNumWarn=0;;)if(W<0){(0,i.warn)("Unterminated hex string");break}else if(W===62){this.nextChar();break}else if(D[W]===1){W=this.nextChar();continue}else{if(J){if(H=F(W),H===-1){this._hexStringWarn(W),W=this.nextChar();continue}}else{if(N=F(W),N===-1){this._hexStringWarn(W),W=this.nextChar();continue}I.push(String.fromCharCode(H<<4|N))}J=!J,W=this.nextChar()}return I.join("")}getObj(){let I=!1,W=this.currentChar;for(;;){if(W<0)return l.EOF;if(I)(W===10||W===13)&&(I=!1);else if(W===37)I=!0;else if(D[W]!==1)break;W=this.nextChar()}switch(W|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),l.Cmd.get("[");case 93:return this.nextChar(),l.Cmd.get("]");case 60:return W=this.nextChar(),W===60?(this.nextChar(),l.Cmd.get("<<")):this.getHexString();case 62:return W=this.nextChar(),W===62?(this.nextChar(),l.Cmd.get(">>")):l.Cmd.get(">");case 123:return this.nextChar(),l.Cmd.get("{");case 125:return this.nextChar(),l.Cmd.get("}");case 41:throw this.nextChar(),new i.FormatError(`Illegal character: ${W}`)}let J=String.fromCharCode(W);if(W<32||W>127){const U=this.peekChar();if(U>=32&&U<=127)return this.nextChar(),l.Cmd.get(J)}const H=this.knownCommands;let N=(H==null?void 0:H[J])!==void 0;for(;(W=this.nextChar())>=0&&!D[W];){const U=J+String.fromCharCode(W);if(N&&H[U]===void 0)break;if(J.length===128)throw new i.FormatError(`Command token too long: ${J.length}`);J=U,N=(H==null?void 0:H[J])!==void 0}return J==="true"?!0:J==="false"?!1:J==="null"?null:(J==="BI"&&(this.beginInlineImagePos=this.stream.pos),l.Cmd.get(J))}skipToNextLine(){let I=this.currentChar;for(;I>=0;){if(I===13){I=this.nextChar(),I===10&&this.nextChar();break}else if(I===10){this.nextChar();break}I=this.nextChar()}}}o.Lexer=C;class B{static create(I){function W(q,re){let oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const ae=q.get(re);if(Number.isInteger(ae)&&(oe?ae>=0:ae>0))return ae;throw new Error(`The "${re}" parameter in the linearization dictionary is invalid.`)}function J(q){const re=q.get("H");let oe;if(Array.isArray(re)&&((oe=re.length)===2||oe===4)){for(let ae=0;ae<oe;ae++){const R=re[ae];if(!(Number.isInteger(R)&&R>0))throw new Error(`Hint (${ae}) in the linearization dictionary is invalid.`)}return re}throw new Error("Hint array in the linearization dictionary is invalid.")}const H=new T({lexer:new C(I),xref:null}),N=H.getObj(),U=H.getObj(),Y=H.getObj(),_=H.getObj();let V,Z;if(Number.isInteger(N)&&Number.isInteger(U)&&(0,l.isCmd)(Y,"obj")&&_ instanceof l.Dict&&typeof(V=_.get("Linearized"))=="number"&&V>0){if((Z=W(_,"L"))!==I.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:Z,hints:J(_),objectNumberFirst:W(_,"O"),endFirst:W(_,"E"),numPages:W(_,"N"),mainXRefEntriesOffset:W(_,"T"),pageFirst:_.has("P")?W(_,"P",!0):0}}}o.Linearization=B},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Ascii85Stream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(169),l=s(150);class d extends i.DecodeStream{constructor(r,p){p&&(p*=.8),super(p),this.str=r,this.dict=r.dict,this.input=new Uint8Array(5)}readBlock(){const y=this.str;let v=y.getByte();for(;(0,l.isWhiteSpace)(v);)v=y.getByte();if(v===-1||v===126){this.eof=!0;return}const b=this.bufferLength;let g,w;if(v===122){for(g=this.ensureBuffer(b+4),w=0;w<4;++w)g[b+w]=0;this.bufferLength+=4}else{const f=this.input;for(f[0]=v,w=1;w<5;++w){for(v=y.getByte();(0,l.isWhiteSpace)(v);)v=y.getByte();if(f[w]=v,v===-1||v===126)break}if(g=this.ensureBuffer(b+w-1),this.bufferLength+=w-1,w<5){for(;w<5;++w)f[w]=117;this.eof=!0}let E=0;for(w=0;w<5;++w)E=E*85+(f[w]-33);for(w=3;w>=0;--w)g[b+w]=E&255,E>>=8}}}o.Ascii85Stream=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StreamsSequenceStream=o.DecodeStream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140);var i=s(152),l=s(155);const d=new Uint8Array(0);class e extends i.BaseStream{constructor(x){if(super(),this._rawMinBufferLength=x||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=d,this.minBufferLength=512,x)for(;this.minBufferLength<x;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(x){const y=this.buffer;if(x<=y.byteLength)return y;let v=this.minBufferLength;for(;v<x;)v*=2;const b=new Uint8Array(v);return b.set(y),this.buffer=b}getByte(){const x=this.pos;for(;this.bufferLength<=x;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(x){const y=this.pos;let v;if(x){for(this.ensureBuffer(y+x),v=y+x;!this.eof&&this.bufferLength<v;)this.readBlock();const b=this.bufferLength;v>b&&(v=b)}else{for(;!this.eof;)this.readBlock();v=this.bufferLength}return this.pos=v,this.buffer.subarray(y,v)}reset(){this.pos=0}makeSubStream(x,y){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(y===void 0)for(;!this.eof;)this.readBlock();else{const b=x+y;for(;this.bufferLength<=b&&!this.eof;)this.readBlock()}return new l.Stream(this.buffer,x,y,v)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}o.DecodeStream=e;class r extends e{constructor(x){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=0;for(const b of x)v+=b instanceof e?b._rawMinBufferLength:b.length;super(v),this.streams=x,this._onError=y}readBlock(){var f;const x=this.streams;if(x.length===0){this.eof=!0;return}const y=x.shift();let v;try{v=y.getBytes()}catch(E){if(this._onError){this._onError(E,(f=y.dict)==null?void 0:f.objId);return}throw E}const b=this.bufferLength,g=b+v.length;this.ensureBuffer(g).set(v,b),this.bufferLength=g}getBaseStreams(){const x=[];for(const y of this.streams){const v=y.getBaseStreams();v&&x.push(...v)}return x.length>0?x:null}}o.StreamsSequenceStream=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AsciiHexStream=void 0;var i=s(169);class l extends i.DecodeStream{constructor(e,r){r&&(r*=.5),super(r),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const r=this.str.getBytes(8e3);if(!r.length){this.eof=!0;return}const p=r.length+1>>1,x=this.ensureBuffer(this.bufferLength+p);let y=this.bufferLength,v=this.firstDigit;for(const b of r){let g;if(b>=48&&b<=57)g=b&15;else if(b>=65&&b<=70||b>=97&&b<=102)g=(b&15)+9;else if(b===62){this.eof=!0;break}else continue;v<0?v=g:(x[y++]=v<<4|g,v=-1)}v>=0&&this.eof&&(x[y++]=v<<4,v=-1),this.firstDigit=v,this.bufferLength=y}}o.AsciiHexStream=l},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CCITTFaxStream=void 0;var i=s(172),l=s(169),d=s(151);class e extends l.DecodeStream{constructor(p,x,y){super(x),this.str=p,this.dict=p.dict,y instanceof d.Dict||(y=d.Dict.empty);const v={next(){return p.getByte()}};this.ccittFaxDecoder=new i.CCITTFaxDecoder(v,{K:y.get("K"),EndOfLine:y.get("EndOfLine"),EncodedByteAlign:y.get("EncodedByteAlign"),Columns:y.get("Columns"),Rows:y.get("Rows"),EndOfBlock:y.get("EndOfBlock"),BlackIs1:y.get("BlackIs1")})}readBlock(){for(;!this.eof;){const p=this.ccittFaxDecoder.readNextChar();if(p===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=p}}}o.CCITTFaxStream=e},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CCITTFaxDecoder=void 0,s(2),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(145);const l=-2,d=-1,e=0,r=1,p=2,x=3,y=4,v=5,b=6,g=7,w=8,f=[[-1,-1],[-1,-1],[7,w],[7,g],[6,b],[6,b],[6,v],[6,v],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,y],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[3,x],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p],[1,p]],E=[[-1,-1],[12,l],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],A=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],O=[[-1,-1],[-1,-1],[12,l],[12,l],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],T=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],D=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class F{constructor(B){var W;let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!B||typeof B.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=B,this.eof=!1,this.encoding=M.K||0,this.eoline=M.EndOfLine||!1,this.byteAlign=M.EncodedByteAlign||!1,this.columns=M.Columns||1728,this.rows=M.Rows||0,this.eoblock=(W=M.EndOfBlock)!=null?W:!0,this.black=M.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let I;for(;(I=this._lookBits(12))===0;)this._eatBits(1);I===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const B=this.refLine,M=this.codingLine,I=this.columns;let W,J,H,N;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let Y,_,V;if(this.nextLine2D){for(N=0;M[N]<I;++N)B[N]=M[N];for(B[N++]=I,B[N]=I,M[0]=0,this.codingPos=0,W=0,J=0;M[this.codingPos]<I;)switch(Y=this._getTwoDimCode(),Y){case e:this._addPixels(B[W+1],J),B[W+1]<I&&(W+=2);break;case r:if(Y=_=0,J){do Y+=V=this._getBlackCode();while(V>=64);do _+=V=this._getWhiteCode();while(V>=64)}else{do Y+=V=this._getWhiteCode();while(V>=64);do _+=V=this._getBlackCode();while(V>=64)}for(this._addPixels(M[this.codingPos]+Y,J),M[this.codingPos]<I&&this._addPixels(M[this.codingPos]+_,J^1);B[W]<=M[this.codingPos]&&B[W]<I;)W+=2;break;case g:if(this._addPixels(B[W]+3,J),J^=1,M[this.codingPos]<I)for(++W;B[W]<=M[this.codingPos]&&B[W]<I;)W+=2;break;case v:if(this._addPixels(B[W]+2,J),J^=1,M[this.codingPos]<I)for(++W;B[W]<=M[this.codingPos]&&B[W]<I;)W+=2;break;case x:if(this._addPixels(B[W]+1,J),J^=1,M[this.codingPos]<I)for(++W;B[W]<=M[this.codingPos]&&B[W]<I;)W+=2;break;case p:if(this._addPixels(B[W],J),J^=1,M[this.codingPos]<I)for(++W;B[W]<=M[this.codingPos]&&B[W]<I;)W+=2;break;case w:if(this._addPixelsNeg(B[W]-3,J),J^=1,M[this.codingPos]<I)for(W>0?--W:++W;B[W]<=M[this.codingPos]&&B[W]<I;)W+=2;break;case b:if(this._addPixelsNeg(B[W]-2,J),J^=1,M[this.codingPos]<I)for(W>0?--W:++W;B[W]<=M[this.codingPos]&&B[W]<I;)W+=2;break;case y:if(this._addPixelsNeg(B[W]-1,J),J^=1,M[this.codingPos]<I)for(W>0?--W:++W;B[W]<=M[this.codingPos]&&B[W]<I;)W+=2;break;case d:this._addPixels(I,0),this.eof=!0;break;default:(0,i.info)("bad 2d code"),this._addPixels(I,0),this.err=!0}}else for(M[0]=0,this.codingPos=0,J=0;M[this.codingPos]<I;){if(Y=0,J)do Y+=V=this._getBlackCode();while(V>=64);else do Y+=V=this._getWhiteCode();while(V>=64);this._addPixels(M[this.codingPos]+Y,J),J^=1}let Z=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(Y=this._lookBits(12),this.eoline)for(;Y!==d&&Y!==1;)this._eatBits(1),Y=this._lookBits(12);else for(;Y===0;)this._eatBits(1),Y=this._lookBits(12);Y===1?(this._eatBits(12),Z=!0):Y===d&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&Z&&this.byteAlign){if(Y=this._lookBits(12),Y===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(N=0;N<4;++N)Y=this._lookBits(12),Y!==1&&(0,i.info)("bad rtc code: "+Y),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(Y=this._lookBits(13),Y===d)return this.eof=!0,-1;if(Y>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(Y&1))}this.outputBits=M[0]>0?M[this.codingPos=0]:M[this.codingPos=1],this.row++}let U;if(this.outputBits>=8)U=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&M[this.codingPos]<I&&(this.codingPos++,this.outputBits=M[this.codingPos]-M[this.codingPos-1]);else{H=8,U=0;do{if(typeof this.outputBits!="number")throw new i.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>H?(U<<=H,this.codingPos&1||(U|=255>>8-H),this.outputBits-=H,H=0):(U<<=this.outputBits,this.codingPos&1||(U|=255>>8-this.outputBits),H-=this.outputBits,this.outputBits=0,M[this.codingPos]<I?(this.codingPos++,this.outputBits=M[this.codingPos]-M[this.codingPos-1]):H>0&&(U<<=H,H=0))}while(H)}return this.black&&(U^=255),U}_addPixels(B,M){const I=this.codingLine;let W=this.codingPos;B>I[W]&&(B>this.columns&&((0,i.info)("row is wrong length"),this.err=!0,B=this.columns),W&1^M&&++W,I[W]=B),this.codingPos=W}_addPixelsNeg(B,M){const I=this.codingLine;let W=this.codingPos;if(B>I[W])B>this.columns&&((0,i.info)("row is wrong length"),this.err=!0,B=this.columns),W&1^M&&++W,I[W]=B;else if(B<I[W]){for(B<0&&((0,i.info)("invalid code"),this.err=!0,B=0);W>0&&B<I[W-1];)--W;I[W]=B}this.codingPos=W}_findTableCode(B,M,I,W){const J=W||0;for(let H=B;H<=M;++H){let N=this._lookBits(H);if(N===d)return[!0,1,!1];if(H<M&&(N<<=M-H),!J||N>=J){const U=I[N-J];if(U[0]===H)return this._eatBits(H),[!0,U[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let B=0,M;if(this.eoblock){if(B=this._lookBits(7),M=f[B],(M==null?void 0:M[0])>0)return this._eatBits(M[0]),M[1]}else{const I=this._findTableCode(1,7,f);if(I[0]&&I[2])return I[1]}return(0,i.info)("Bad two dim code"),d}_getWhiteCode(){let B=0,M;if(this.eoblock){if(B=this._lookBits(12),B===d)return 1;if(M=B>>5===0?E[B]:A[B>>3],M[0]>0)return this._eatBits(M[0]),M[1]}else{let I=this._findTableCode(1,9,A);if(I[0]||(I=this._findTableCode(11,12,E),I[0]))return I[1]}return(0,i.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let B,M;if(this.eoblock){if(B=this._lookBits(13),B===d)return 1;if(B>>7===0?M=O[B]:B>>9===0&&B>>7!==0?M=T[(B>>1)-64]:M=D[B>>7],M[0]>0)return this._eatBits(M[0]),M[1]}else{let I=this._findTableCode(2,6,D);if(I[0]||(I=this._findTableCode(7,12,T,64),I[0])||(I=this._findTableCode(10,13,O),I[0]))return I[1]}return(0,i.info)("bad black code"),this._eatBits(1),1}_lookBits(B){let M;for(;this.inputBits<B;){if((M=this.source.next())===-1)return this.inputBits===0?d:this.inputBuf<<B-this.inputBits&65535>>16-B;this.inputBuf=this.inputBuf<<8|M,this.inputBits+=8}return this.inputBuf>>this.inputBits-B&65535>>16-B}_eatBits(B){(this.inputBits-=B)<0&&(this.inputBits=0)}}o.CCITTFaxDecoder=F},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FlateStream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(169),l=s(145);const d=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),r=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),p=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],x=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class y extends i.DecodeStream{constructor(b,g){super(g),this.str=b,this.dict=b.dict;const w=b.getByte(),f=b.getByte();if(w===-1||f===-1)throw new l.FormatError(`Invalid header in flate stream: ${w}, ${f}`);if((w&15)!==8)throw new l.FormatError(`Unknown compression method in flate stream: ${w}, ${f}`);if(((w<<8)+f)%31!==0)throw new l.FormatError(`Bad FCHECK in flate stream: ${w}, ${f}`);if(f&32)throw new l.FormatError(`FDICT bit set in flate stream: ${w}, ${f}`);this.codeSize=0,this.codeBuf=0}getBits(b){const g=this.str;let w=this.codeSize,f=this.codeBuf,E;for(;w<b;){if((E=g.getByte())===-1)throw new l.FormatError("Bad encoding in flate stream");f|=E<<w,w+=8}return E=f&(1<<b)-1,this.codeBuf=f>>b,this.codeSize=w-=b,E}getCode(b){const g=this.str,w=b[0],f=b[1];let E=this.codeSize,A=this.codeBuf,O;for(;E<f&&(O=g.getByte())!==-1;)A|=O<<E,E+=8;const T=w[A&(1<<f)-1],D=T>>16,F=T&65535;if(D<1||E<D)throw new l.FormatError("Bad encoding in flate stream");return this.codeBuf=A>>D,this.codeSize=E-D,F}generateHuffmanTable(b){const g=b.length;let w=0,f;for(f=0;f<g;++f)b[f]>w&&(w=b[f]);const E=1<<w,A=new Int32Array(E);for(let O=1,T=0,D=2;O<=w;++O,T<<=1,D<<=1)for(let F=0;F<g;++F)if(b[F]===O){let C=0,B=T;for(f=0;f<O;++f)C=C<<1|B&1,B>>=1;for(f=C;f<E;f+=D)A[f]=O<<16|F;++T}return[A,w]}readBlock(){let b,g;const w=this.str;let f=this.getBits(3);if(f&1&&(this.eof=!0),f>>=1,f===0){let D;if((D=w.getByte())===-1)throw new l.FormatError("Bad block header in flate stream");let F=D;if((D=w.getByte())===-1)throw new l.FormatError("Bad block header in flate stream");if(F|=D<<8,(D=w.getByte())===-1)throw new l.FormatError("Bad block header in flate stream");let C=D;if((D=w.getByte())===-1)throw new l.FormatError("Bad block header in flate stream");if(C|=D<<8,C!==(~F&65535)&&(F!==0||C!==0))throw new l.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const B=this.bufferLength,M=B+F;if(b=this.ensureBuffer(M),this.bufferLength=M,F===0)w.peekByte()===-1&&(this.eof=!0);else{const I=w.getBytes(F);b.set(I,B),I.length<F&&(this.eof=!0)}return}let E,A;if(f===1)E=p,A=x;else if(f===2){const D=this.getBits(5)+257,F=this.getBits(5)+1,C=this.getBits(4)+4,B=new Uint8Array(d.length);let M;for(M=0;M<C;++M)B[d[M]]=this.getBits(3);const I=this.generateHuffmanTable(B);g=0,M=0;const W=D+F,J=new Uint8Array(W);let H,N,U;for(;M<W;){const Y=this.getCode(I);if(Y===16)H=2,N=3,U=g;else if(Y===17)H=3,N=3,U=g=0;else if(Y===18)H=7,N=11,U=g=0;else{J[M++]=g=Y;continue}let _=this.getBits(H)+N;for(;_-- >0;)J[M++]=U}E=this.generateHuffmanTable(J.subarray(0,D)),A=this.generateHuffmanTable(J.subarray(D,W))}else throw new l.FormatError("Unknown block type in flate stream");b=this.buffer;let O=b?b.length:0,T=this.bufferLength;for(;;){let D=this.getCode(E);if(D<256){T+1>=O&&(b=this.ensureBuffer(T+1),O=b.length),b[T++]=D;continue}if(D===256){this.bufferLength=T;return}D-=257,D=e[D];let F=D>>16;F>0&&(F=this.getBits(F)),g=(D&65535)+F,D=this.getCode(A),D=r[D],F=D>>16,F>0&&(F=this.getBits(F));const C=(D&65535)+F;T+g>=O&&(b=this.ensureBuffer(T+g),O=b.length);for(let B=0;B<g;++B,++T)b[T]=b[T-C]}}}o.FlateStream=y},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Jbig2Stream=void 0,s(140);var i=s(152),l=s(169),d=s(151),e=s(175),r=s(145);class p extends l.DecodeStream{constructor(y,v,b){super(v),this.stream=y,this.dict=y.dict,this.maybeLength=v,this.params=b}get bytes(){return(0,r.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(y){}readBlock(){if(this.eof)return;const y=new e.Jbig2Image,v=[];if(this.params instanceof d.Dict){const w=this.params.get("JBIG2Globals");if(w instanceof i.BaseStream){const f=w.getBytes();v.push({data:f,start:0,end:f.length})}}v.push({data:this.bytes,start:0,end:this.bytes.length});const b=y.parseChunks(v),g=b.length;for(let w=0;w<g;w++)b[w]^=255;this.buffer=b,this.bufferLength=g,this.eof=!0}}o.Jbig2Stream=p},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Jbig2Image=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140),s(2);var i=s(145),l=s(150),d=s(176),e=s(172);class r extends i.BaseException{constructor(ee){super(`JBIG2 error: ${ee}`,"Jbig2Error")}}class p{getContexts(ee){return ee in this?this[ee]:this[ee]=new Int8Array(65536)}}class x{constructor(ee,G,ne){this.data=ee,this.start=G,this.end=ne}get decoder(){const ee=new d.ArithmeticDecoder(this.data,this.start,this.end);return(0,i.shadow)(this,"decoder",ee)}get contextCache(){const ee=new p;return(0,i.shadow)(this,"contextCache",ee)}}const y=2**31-1,v=-(2**31);function b(X,ee,G){const ne=X.getContexts(ee);let se=1;function le(de){let xe=0;for(let fe=0;fe<de;fe++){const ce=G.readBit(ne,se);se=se<256?se<<1|ce:(se<<1|ce)&511|256,xe=xe<<1|ce}return xe>>>0}const he=le(1),be=le(1)?le(1)?le(1)?le(1)?le(1)?le(32)+4436:le(12)+340:le(8)+84:le(6)+20:le(4)+4:le(2);let ye;return he===0?ye=be:be>0&&(ye=-be),ye>=v&&ye<=y?ye:null}function g(X,ee,G){const ne=X.getContexts("IAID");let se=1;for(let le=0;le<G;le++){const he=ee.readBit(ne,se);se=se<<1|he}return G<31?se&(1<<G)-1:se&2147483647}const w=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],f=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],E=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],A=[39717,1941,229,405],O=[32,8];function T(X,ee,G){const ne=G.decoder,se=G.contextCache.getContexts("GB"),le=[];let he,be,ye,de,xe,fe,ce;const ue=31735;for(be=0;be<ee;be++)for(xe=le[be]=new Uint8Array(X),fe=be<1?xe:le[be-1],ce=be<2?xe:le[be-2],he=ce[0]<<13|ce[1]<<12|ce[2]<<11|fe[0]<<7|fe[1]<<6|fe[2]<<5|fe[3]<<4,ye=0;ye<X;ye++)xe[ye]=de=ne.readBit(se,he),he=(he&ue)<<1|(ye+3<X?ce[ye+3]<<11:0)|(ye+4<X?fe[ye+4]<<4:0)|de;return le}function D(X,ee,G,ne,se,le,he,be){if(X){const Oe=new S(be.data,be.start,be.end);return K(Oe,ee,G,!1)}if(ne===0&&!le&&!se&&he.length===4&&he[0].x===3&&he[0].y===-1&&he[1].x===-3&&he[1].y===-1&&he[2].x===2&&he[2].y===-2&&he[3].x===-2&&he[3].y===-2)return T(ee,G,be);const ye=!!le,de=f[ne].concat(he);de.sort(function(Oe,$e){return Oe.y-$e.y||Oe.x-$e.x});const xe=de.length,fe=new Int8Array(xe),ce=new Int8Array(xe),ue=[];let ve=0,Ee=0,Me=0,_e=0,ze,We;for(We=0;We<xe;We++)fe[We]=de[We].x,ce[We]=de[We].y,Ee=Math.min(Ee,de[We].x),Me=Math.max(Me,de[We].x),_e=Math.min(_e,de[We].y),We<xe-1&&de[We].y===de[We+1].y&&de[We].x===de[We+1].x-1?ve|=1<<xe-1-We:ue.push(We);const Ve=ue.length,Ne=new Int8Array(Ve),ke=new Int8Array(Ve),Ie=new Uint16Array(Ve);for(ze=0;ze<Ve;ze++)We=ue[ze],Ne[ze]=de[We].x,ke[ze]=de[We].y,Ie[ze]=1<<xe-1-We;const Te=-Ee,Ae=-_e,ge=ee-Me,Ce=A[ne];let Be=new Uint8Array(ee);const Ye=[],Je=be.decoder,Re=be.contextCache.getContexts("GB");let He=0,nt,et,it,qe=0,lt,rt;for(let Oe=0;Oe<G;Oe++){if(se){const $e=Je.readBit(Re,Ce);if(He^=$e,He){Ye.push(Be);continue}}for(Be=new Uint8Array(Be),Ye.push(Be),nt=0;nt<ee;nt++){if(ye&&le[Oe][nt]){Be[nt]=0;continue}if(nt>=Te&&nt<ge&&Oe>=Ae)for(qe=qe<<1&ve,We=0;We<Ve;We++)et=Oe+ke[We],it=nt+Ne[We],lt=Ye[et][it],lt&&(lt=Ie[We],qe|=lt);else for(qe=0,rt=xe-1,We=0;We<xe;We++,rt--)it=nt+fe[We],it>=0&&it<ee&&(et=Oe+ce[We],et>=0&&(lt=Ye[et][it],lt&&(qe|=lt<<rt)));const $e=Je.readBit(Re,qe);Be[nt]=$e}}return Ye}function F(X,ee,G,ne,se,le,he,be,ye){let de=E[G].coding;G===0&&(de=de.concat([be[0]]));const xe=de.length,fe=new Int32Array(xe),ce=new Int32Array(xe);let ue;for(ue=0;ue<xe;ue++)fe[ue]=de[ue].x,ce[ue]=de[ue].y;let ve=E[G].reference;G===0&&(ve=ve.concat([be[1]]));const Ee=ve.length,Me=new Int32Array(Ee),_e=new Int32Array(Ee);for(ue=0;ue<Ee;ue++)Me[ue]=ve[ue].x,_e[ue]=ve[ue].y;const ze=ne[0].length,We=ne.length,Ve=O[G],Ne=[],ke=ye.decoder,Ie=ye.contextCache.getContexts("GR");let Te=0;for(let Ae=0;Ae<ee;Ae++){if(he){const Ce=ke.readBit(Ie,Ve);if(Te^=Ce,Te)throw new r("prediction is not supported")}const ge=new Uint8Array(X);Ne.push(ge);for(let Ce=0;Ce<X;Ce++){let Be,Ye,Je=0;for(ue=0;ue<xe;ue++)Be=Ae+ce[ue],Ye=Ce+fe[ue],Be<0||Ye<0||Ye>=X?Je<<=1:Je=Je<<1|Ne[Be][Ye];for(ue=0;ue<Ee;ue++)Be=Ae+_e[ue]-le,Ye=Ce+Me[ue]-se,Be<0||Be>=We||Ye<0||Ye>=ze?Je<<=1:Je=Je<<1|ne[Be][Ye];const Re=ke.readBit(Ie,Je);ge[Ce]=Re}}return Ne}function C(X,ee,G,ne,se,le,he,be,ye,de,xe,fe){if(X&&ee)throw new r("symbol refinement with Huffman is not supported");const ce=[];let ue=0,ve=(0,l.log2)(G.length+ne);const Ee=xe.decoder,Me=xe.contextCache;let _e,ze;for(X&&(_e=R(1),ze=[],ve=Math.max(ve,1));ce.length<ne;){const Ae=X?le.tableDeltaHeight.decode(fe):b(Me,"IADH",Ee);ue+=Ae;let ge=0,Ce=0;const Be=X?ze.length:0;for(;;){const Ye=X?le.tableDeltaWidth.decode(fe):b(Me,"IADW",Ee);if(Ye===null)break;ge+=Ye,Ce+=ge;let Je;if(ee){const Re=b(Me,"IAAI",Ee);if(Re>1)Je=B(X,ee,ge,ue,0,Re,1,G.concat(ce),ve,0,0,1,0,le,ye,de,xe,0,fe);else{const He=g(Me,Ee,ve),nt=b(Me,"IARDX",Ee),et=b(Me,"IARDY",Ee),it=He<G.length?G[He]:ce[He-G.length];Je=F(ge,ue,ye,it,nt,et,!1,de,xe)}ce.push(Je)}else X?ze.push(ge):(Je=D(!1,ge,ue,he,!1,null,be,xe),ce.push(Je))}if(X&&!ee){const Ye=le.tableBitmapSize.decode(fe);fe.byteAlign();let Je;if(Ye===0)Je=P(fe,Ce,ue);else{const He=fe.end,nt=fe.position+Ye;fe.end=nt,Je=K(fe,Ce,ue,!1),fe.end=He,fe.position=nt}const Re=ze.length;if(Be===Re-1)ce.push(Je);else{let He,nt,et=0,it,qe,lt;for(He=Be;He<Re;He++){for(qe=ze[He],it=et+qe,lt=[],nt=0;nt<ue;nt++)lt.push(Je[nt].subarray(et,it));ce.push(lt),et=it}}}}const We=[],Ve=[];let Ne=!1,ke,Ie;const Te=G.length+ne;for(;Ve.length<Te;){let Ae=X?_e.decode(fe):b(Me,"IAEX",Ee);for(;Ae--;)Ve.push(Ne);Ne=!Ne}for(ke=0,Ie=G.length;ke<Ie;ke++)Ve[ke]&&We.push(G[ke]);for(let Ae=0;Ae<ne;ke++,Ae++)Ve[ke]&&We.push(ce[Ae]);return We}function B(X,ee,G,ne,se,le,he,be,ye,de,xe,fe,ce,ue,ve,Ee,Me,_e,ze){if(X&&ee)throw new r("refinement with Huffman is not supported");const We=[];let Ve,Ne;for(Ve=0;Ve<ne;Ve++){if(Ne=new Uint8Array(G),se)for(let ge=0;ge<G;ge++)Ne[ge]=se;We.push(Ne)}const ke=Me.decoder,Ie=Me.contextCache;let Te=X?-ue.tableDeltaT.decode(ze):-b(Ie,"IADT",ke),Ae=0;for(Ve=0;Ve<le;){const ge=X?ue.tableDeltaT.decode(ze):b(Ie,"IADT",ke);Te+=ge;const Ce=X?ue.tableFirstS.decode(ze):b(Ie,"IAFS",ke);Ae+=Ce;let Be=Ae;do{let Ye=0;he>1&&(Ye=X?ze.readBits(_e):b(Ie,"IAIT",ke));const Je=he*Te+Ye,Re=X?ue.symbolIDTable.decode(ze):g(Ie,ke,ye),He=ee&&(X?ze.readBit():b(Ie,"IARI",ke));let nt=be[Re],et=nt[0].length,it=nt.length;if(He){const Q=b(Ie,"IARDW",ke),pe=b(Ie,"IARDH",ke),we=b(Ie,"IARDX",ke),Fe=b(Ie,"IARDY",ke);et+=Q,it+=pe,nt=F(et,it,ve,nt,(Q>>1)+we,(pe>>1)+Fe,!1,Ee,Me)}const qe=Je-(fe&1?0:it-1),lt=Be-(fe&2?et-1:0);let rt,Oe,$e;if(de){for(rt=0;rt<it;rt++){if(Ne=We[lt+rt],!Ne)continue;$e=nt[rt];const Q=Math.min(G-qe,et);switch(ce){case 0:for(Oe=0;Oe<Q;Oe++)Ne[qe+Oe]|=$e[Oe];break;case 2:for(Oe=0;Oe<Q;Oe++)Ne[qe+Oe]^=$e[Oe];break;default:throw new r(`operator ${ce} is not supported`)}}Be+=it-1}else{for(Oe=0;Oe<it;Oe++)if(Ne=We[qe+Oe],!!Ne)switch($e=nt[Oe],ce){case 0:for(rt=0;rt<et;rt++)Ne[lt+rt]|=$e[rt];break;case 2:for(rt=0;rt<et;rt++)Ne[lt+rt]^=$e[rt];break;default:throw new r(`operator ${ce} is not supported`)}Be+=et-1}Ve++;const me=X?ue.tableDeltaS.decode(ze):b(Ie,"IADS",ke);if(me===null)break;Be+=me+xe}while(!0)}return We}function M(X,ee,G,ne,se,le){const he=[];X||(he.push({x:-ee,y:0}),se===0&&he.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const be=(ne+1)*ee,ye=D(X,be,G,se,!1,null,he,le),de=[];for(let xe=0;xe<=ne;xe++){const fe=[],ce=ee*xe,ue=ce+ee;for(let ve=0;ve<G;ve++)fe.push(ye[ve].subarray(ce,ue));de.push(fe)}return de}function I(X,ee,G,ne,se,le,he,be,ye,de,xe,fe,ce,ue,ve){if(he)throw new r("skip is not supported");if(be!==0)throw new r(`operator "${be}" is not supported in halftone region`);const Me=[];let _e,ze,We;for(_e=0;_e<se;_e++){if(We=new Uint8Array(ne),le)for(ze=0;ze<ne;ze++)We[ze]=le;Me.push(We)}const Ve=ee.length,Ne=ee[0],ke=Ne[0].length,Ie=Ne.length,Te=(0,l.log2)(Ve),Ae=[];X||(Ae.push({x:G<=1?3:2,y:-1}),G===0&&Ae.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const ge=[];let Ce,Be;for(X&&(Ce=new S(ve.data,ve.start,ve.end)),_e=Te-1;_e>=0;_e--)X?Be=K(Ce,ye,de,!0):Be=D(!1,ye,de,G,!1,null,Ae,ve),ge[_e]=Be;let Ye,Je,Re,He,nt,et,it,qe,lt;for(Ye=0;Ye<de;Ye++)for(Je=0;Je<ye;Je++){for(Re=0,He=0,ze=Te-1;ze>=0;ze--)Re^=ge[ze][Ye][Je],He|=Re<<ze;if(nt=ee[He],et=xe+Ye*ue+Je*ce>>8,it=fe+Ye*ce-Je*ue>>8,et>=0&&et+ke<=ne&&it>=0&&it+Ie<=se)for(_e=0;_e<Ie;_e++)for(lt=Me[it+_e],qe=nt[_e],ze=0;ze<ke;ze++)lt[et+ze]|=qe[ze];else{let rt,Oe;for(_e=0;_e<Ie;_e++)if(Oe=it+_e,!(Oe<0||Oe>=se))for(lt=Me[Oe],qe=nt[_e],ze=0;ze<ke;ze++)rt=et+ze,rt>=0&&rt<ne&&(lt[rt]|=qe[ze])}}return Me}function W(X,ee){const G={};G.number=(0,l.readUint32)(X,ee);const ne=X[ee+4],se=ne&63;if(!w[se])throw new r("invalid segment type: "+se);G.type=se,G.typeName=w[se],G.deferredNonRetain=!!(ne&128);const le=!!(ne&64),he=X[ee+5];let be=he>>5&7;const ye=[he&31];let de=ee+6;if(he===7){be=(0,l.readUint32)(X,de-1)&536870911,de+=3;let ve=be+7>>3;for(ye[0]=X[de++];--ve>0;)ye.push(X[de++])}else if(he===5||he===6)throw new r("invalid referred-to flags");G.retainBits=ye;let xe=4;G.number<=256?xe=1:G.number<=65536&&(xe=2);const fe=[];let ce,ue;for(ce=0;ce<be;ce++){let ve;xe===1?ve=X[de]:xe===2?ve=(0,l.readUint16)(X,de):ve=(0,l.readUint32)(X,de),fe.push(ve),de+=xe}if(G.referredTo=fe,le?(G.pageAssociation=(0,l.readUint32)(X,de),de+=4):G.pageAssociation=X[de++],G.length=(0,l.readUint32)(X,de),de+=4,G.length===4294967295)if(se===38){const ve=H(X,de),Me=!!(X[de+N]&1),_e=6,ze=new Uint8Array(_e);for(Me||(ze[0]=255,ze[1]=172),ze[2]=ve.height>>>24&255,ze[3]=ve.height>>16&255,ze[4]=ve.height>>8&255,ze[5]=ve.height&255,ce=de,ue=X.length;ce<ue;ce++){let We=0;for(;We<_e&&ze[We]===X[ce+We];)We++;if(We===_e){G.length=ce+_e;break}}if(G.length===4294967295)throw new r("segment end was not found")}else throw new r("invalid unknown segment length");return G.headerEnd=de,G}function J(X,ee,G,ne){const se=[];let le=G;for(;le<ne;){const he=W(ee,le);le=he.headerEnd;const be={header:he,data:ee};if(X.randomAccess||(be.start=le,le+=he.length,be.end=le),se.push(be),he.type===51)break}if(X.randomAccess)for(let he=0,be=se.length;he<be;he++)se[he].start=le,le+=se[he].header.length,se[he].end=le;return se}function H(X,ee){return{width:(0,l.readUint32)(X,ee),height:(0,l.readUint32)(X,ee+4),x:(0,l.readUint32)(X,ee+8),y:(0,l.readUint32)(X,ee+12),combinationOperator:X[ee+16]&7}}const N=17;function U(X,ee){const G=X.header,ne=X.data,se=X.end;let le=X.start,he,be,ye,de;switch(G.type){case 0:const fe={},ce=(0,l.readUint16)(ne,le);if(fe.huffman=!!(ce&1),fe.refinement=!!(ce&2),fe.huffmanDHSelector=ce>>2&3,fe.huffmanDWSelector=ce>>4&3,fe.bitmapSizeSelector=ce>>6&1,fe.aggregationInstancesSelector=ce>>7&1,fe.bitmapCodingContextUsed=!!(ce&256),fe.bitmapCodingContextRetained=!!(ce&512),fe.template=ce>>10&3,fe.refinementTemplate=ce>>12&1,le+=2,!fe.huffman){for(de=fe.template===0?4:1,be=[],ye=0;ye<de;ye++)be.push({x:(0,l.readInt8)(ne,le),y:(0,l.readInt8)(ne,le+1)}),le+=2;fe.at=be}if(fe.refinement&&!fe.refinementTemplate){for(be=[],ye=0;ye<2;ye++)be.push({x:(0,l.readInt8)(ne,le),y:(0,l.readInt8)(ne,le+1)}),le+=2;fe.refinementAt=be}fe.numberOfExportedSymbols=(0,l.readUint32)(ne,le),le+=4,fe.numberOfNewSymbols=(0,l.readUint32)(ne,le),le+=4,he=[fe,G.number,G.referredTo,ne,le,se];break;case 6:case 7:const ue={};ue.info=H(ne,le),le+=N;const ve=(0,l.readUint16)(ne,le);if(le+=2,ue.huffman=!!(ve&1),ue.refinement=!!(ve&2),ue.logStripSize=ve>>2&3,ue.stripSize=1<<ue.logStripSize,ue.referenceCorner=ve>>4&3,ue.transposed=!!(ve&64),ue.combinationOperator=ve>>7&3,ue.defaultPixelValue=ve>>9&1,ue.dsOffset=ve<<17>>27,ue.refinementTemplate=ve>>15&1,ue.huffman){const Ie=(0,l.readUint16)(ne,le);le+=2,ue.huffmanFS=Ie&3,ue.huffmanDS=Ie>>2&3,ue.huffmanDT=Ie>>4&3,ue.huffmanRefinementDW=Ie>>6&3,ue.huffmanRefinementDH=Ie>>8&3,ue.huffmanRefinementDX=Ie>>10&3,ue.huffmanRefinementDY=Ie>>12&3,ue.huffmanRefinementSizeSelector=!!(Ie&16384)}if(ue.refinement&&!ue.refinementTemplate){for(be=[],ye=0;ye<2;ye++)be.push({x:(0,l.readInt8)(ne,le),y:(0,l.readInt8)(ne,le+1)}),le+=2;ue.refinementAt=be}ue.numberOfSymbolInstances=(0,l.readUint32)(ne,le),le+=4,he=[ue,G.referredTo,ne,le,se];break;case 16:const Ee={},Me=ne[le++];Ee.mmr=!!(Me&1),Ee.template=Me>>1&3,Ee.patternWidth=ne[le++],Ee.patternHeight=ne[le++],Ee.maxPatternIndex=(0,l.readUint32)(ne,le),le+=4,he=[Ee,G.number,ne,le,se];break;case 22:case 23:const _e={};_e.info=H(ne,le),le+=N;const ze=ne[le++];_e.mmr=!!(ze&1),_e.template=ze>>1&3,_e.enableSkip=!!(ze&8),_e.combinationOperator=ze>>4&7,_e.defaultPixelValue=ze>>7&1,_e.gridWidth=(0,l.readUint32)(ne,le),le+=4,_e.gridHeight=(0,l.readUint32)(ne,le),le+=4,_e.gridOffsetX=(0,l.readUint32)(ne,le)&4294967295,le+=4,_e.gridOffsetY=(0,l.readUint32)(ne,le)&4294967295,le+=4,_e.gridVectorX=(0,l.readUint16)(ne,le),le+=2,_e.gridVectorY=(0,l.readUint16)(ne,le),le+=2,he=[_e,G.referredTo,ne,le,se];break;case 38:case 39:const We={};We.info=H(ne,le),le+=N;const Ve=ne[le++];if(We.mmr=!!(Ve&1),We.template=Ve>>1&3,We.prediction=!!(Ve&8),!We.mmr){for(de=We.template===0?4:1,be=[],ye=0;ye<de;ye++)be.push({x:(0,l.readInt8)(ne,le),y:(0,l.readInt8)(ne,le+1)}),le+=2;We.at=be}he=[We,ne,le,se];break;case 48:const Ne={width:(0,l.readUint32)(ne,le),height:(0,l.readUint32)(ne,le+4),resolutionX:(0,l.readUint32)(ne,le+8),resolutionY:(0,l.readUint32)(ne,le+12)};Ne.height===4294967295&&delete Ne.height;const ke=ne[le+16];(0,l.readUint16)(ne,le+17),Ne.lossless=!!(ke&1),Ne.refinement=!!(ke&2),Ne.defaultPixelValue=ke>>2&1,Ne.combinationOperator=ke>>3&3,Ne.requiresBuffer=!!(ke&32),Ne.combinationOperatorOverride=!!(ke&64),he=[Ne];break;case 49:break;case 50:break;case 51:break;case 53:he=[G.number,ne,le,se];break;case 62:break;default:throw new r(`segment type ${G.typeName}(${G.type}) is not implemented`)}const xe="on"+G.typeName;xe in ee&&ee[xe].apply(ee,he)}function Y(X,ee){for(let G=0,ne=X.length;G<ne;G++)U(X[G],ee)}function _(X){const ee=new V;for(let G=0,ne=X.length;G<ne;G++){const se=X[G],le=J({},se.data,se.start,se.end);Y(le,ee)}return ee.buffer}class V{onPageInformation(ee){this.currentPageInfo=ee;const G=ee.width+7>>3,ne=new Uint8ClampedArray(G*ee.height);ee.defaultPixelValue&&ne.fill(255),this.buffer=ne}drawBitmap(ee,G){const ne=this.currentPageInfo,se=ee.width,le=ee.height,he=ne.width+7>>3,be=ne.combinationOperatorOverride?ee.combinationOperator:ne.combinationOperator,ye=this.buffer,de=128>>(ee.x&7);let xe=ee.y*he+(ee.x>>3),fe,ce,ue,ve;switch(be){case 0:for(fe=0;fe<le;fe++){for(ue=de,ve=xe,ce=0;ce<se;ce++)G[fe][ce]&&(ye[ve]|=ue),ue>>=1,ue||(ue=128,ve++);xe+=he}break;case 2:for(fe=0;fe<le;fe++){for(ue=de,ve=xe,ce=0;ce<se;ce++)G[fe][ce]&&(ye[ve]^=ue),ue>>=1,ue||(ue=128,ve++);xe+=he}break;default:throw new r(`operator ${be} is not supported`)}}onImmediateGenericRegion(ee,G,ne,se){const le=ee.info,he=new x(G,ne,se),be=D(ee.mmr,le.width,le.height,ee.template,ee.prediction,null,ee.at,he);this.drawBitmap(le,be)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(ee,G,ne,se,le,he){let be,ye;ee.huffman&&(be=z(ee,ne,this.customTables),ye=new S(se,le,he));let de=this.symbols;de||(this.symbols=de={});const xe=[];for(const ce of ne){const ue=de[ce];ue&&xe.push(...ue)}const fe=new x(se,le,he);de[G]=C(ee.huffman,ee.refinement,xe,ee.numberOfNewSymbols,ee.numberOfExportedSymbols,be,ee.template,ee.at,ee.refinementTemplate,ee.refinementAt,fe,ye)}onImmediateTextRegion(ee,G,ne,se,le){const he=ee.info;let be,ye;const de=this.symbols,xe=[];for(const ve of G){const Ee=de[ve];Ee&&xe.push(...Ee)}const fe=(0,l.log2)(xe.length);ee.huffman&&(ye=new S(ne,se,le),be=k(ee,G,this.customTables,xe.length,ye));const ce=new x(ne,se,le),ue=B(ee.huffman,ee.refinement,he.width,he.height,ee.defaultPixelValue,ee.numberOfSymbolInstances,ee.stripSize,xe,fe,ee.transposed,ee.dsOffset,ee.referenceCorner,ee.combinationOperator,be,ee.refinementTemplate,ee.refinementAt,ce,ee.logStripSize,ye);this.drawBitmap(he,ue)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(ee,G,ne,se,le){let he=this.patterns;he||(this.patterns=he={});const be=new x(ne,se,le);he[G]=M(ee.mmr,ee.patternWidth,ee.patternHeight,ee.maxPatternIndex,ee.template,be)}onImmediateHalftoneRegion(ee,G,ne,se,le){const he=this.patterns[G[0]],be=ee.info,ye=new x(ne,se,le),de=I(ee.mmr,he,ee.template,be.width,be.height,ee.defaultPixelValue,ee.enableSkip,ee.combinationOperator,ee.gridWidth,ee.gridHeight,ee.gridOffsetX,ee.gridOffsetY,ee.gridVectorX,ee.gridVectorY,ye);this.drawBitmap(be,de)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(ee,G,ne,se){let le=this.customTables;le||(this.customTables=le={}),le[ee]=oe(G,ne,se)}}class Z{constructor(ee){ee.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=ee[0],this.rangeLength=0,this.prefixCode=ee[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=ee[0],this.prefixLength=ee[1],this.rangeLength=ee[2],this.prefixCode=ee[3],this.isLowerRange=ee[4]==="lower")}}class q{constructor(ee){this.children=[],ee?(this.isLeaf=!0,this.rangeLength=ee.rangeLength,this.rangeLow=ee.rangeLow,this.isLowerRange=ee.isLowerRange,this.isOOB=ee.isOOB):this.isLeaf=!1}buildTree(ee,G){const ne=ee.prefixCode>>G&1;if(G<=0)this.children[ne]=new q(ee);else{let se=this.children[ne];se||(this.children[ne]=se=new q(null)),se.buildTree(ee,G-1)}}decodeNode(ee){if(this.isLeaf){if(this.isOOB)return null;const ne=ee.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-ne:ne)}const G=this.children[ee.readBit()];if(!G)throw new r("invalid Huffman data");return G.decodeNode(ee)}}class re{constructor(ee,G){G||this.assignPrefixCodes(ee),this.rootNode=new q(null);for(let ne=0,se=ee.length;ne<se;ne++){const le=ee[ne];le.prefixLength>0&&this.rootNode.buildTree(le,le.prefixLength-1)}}decode(ee){return this.rootNode.decodeNode(ee)}assignPrefixCodes(ee){const G=ee.length;let ne=0;for(let xe=0;xe<G;xe++)ne=Math.max(ne,ee[xe].prefixLength);const se=new Uint32Array(ne+1);for(let xe=0;xe<G;xe++)se[ee[xe].prefixLength]++;let le=1,he=0,be,ye,de;for(se[0]=0;le<=ne;){for(he=he+se[le-1]<<1,be=he,ye=0;ye<G;)de=ee[ye],de.prefixLength===le&&(de.prefixCode=be,be++),ye++;le++}}}function oe(X,ee,G){const ne=X[ee],se=(0,l.readUint32)(X,ee+1)&4294967295,le=(0,l.readUint32)(X,ee+5)&4294967295,he=new S(X,ee+9,G),be=(ne>>1&7)+1,ye=(ne>>4&7)+1,de=[];let xe,fe,ce=se;do xe=he.readBits(be),fe=he.readBits(ye),de.push(new Z([ce,xe,fe,0])),ce+=1<<fe;while(ce<le);return xe=he.readBits(be),de.push(new Z([se-1,xe,32,0,"lower"])),xe=he.readBits(be),de.push(new Z([le,xe,32,0])),ne&1&&(xe=he.readBits(be),de.push(new Z([xe,0]))),new re(de,!1)}const ae={};function R(X){let ee=ae[X];if(ee)return ee;let G;switch(X){case 1:G=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:G=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:G=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:G=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:G=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:G=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:G=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:G=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:G=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:G=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:G=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:G=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:G=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:G=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:G=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new r(`standard table B.${X} does not exist`)}for(let ne=0,se=G.length;ne<se;ne++)G[ne]=new Z(G[ne]);return ee=new re(G,!0),ae[X]=ee,ee}class S{constructor(ee,G,ne){this.data=ee,this.start=G,this.end=ne,this.position=G,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new r("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const ee=this.currentByte>>this.shift&1;return this.shift--,ee}readBits(ee){let G=0,ne;for(ne=ee-1;ne>=0;ne--)G|=this.readBit()<<ne;return G}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function L(X,ee,G){let ne=0;for(let se=0,le=ee.length;se<le;se++){const he=G[ee[se]];if(he){if(X===ne)return he;ne++}}throw new r("can't find custom Huffman table")}function k(X,ee,G,ne,se){const le=[];for(let ce=0;ce<=34;ce++){const ue=se.readBits(4);le.push(new Z([ce,ue,0,0]))}const he=new re(le,!1);le.length=0;for(let ce=0;ce<ne;){const ue=he.decode(se);if(ue>=32){let ve,Ee,Me;switch(ue){case 32:if(ce===0)throw new r("no previous value in symbol ID table");Ee=se.readBits(2)+3,ve=le[ce-1].prefixLength;break;case 33:Ee=se.readBits(3)+3,ve=0;break;case 34:Ee=se.readBits(7)+11,ve=0;break;default:throw new r("invalid code length in symbol ID table")}for(Me=0;Me<Ee;Me++)le.push(new Z([ce,ve,0,0])),ce++}else le.push(new Z([ce,ue,0,0])),ce++}se.byteAlign();const be=new re(le,!1);let ye=0,de,xe,fe;switch(X.huffmanFS){case 0:case 1:de=R(X.huffmanFS+6);break;case 3:de=L(ye,ee,G),ye++;break;default:throw new r("invalid Huffman FS selector")}switch(X.huffmanDS){case 0:case 1:case 2:xe=R(X.huffmanDS+8);break;case 3:xe=L(ye,ee,G),ye++;break;default:throw new r("invalid Huffman DS selector")}switch(X.huffmanDT){case 0:case 1:case 2:fe=R(X.huffmanDT+11);break;case 3:fe=L(ye,ee,G),ye++;break;default:throw new r("invalid Huffman DT selector")}if(X.refinement)throw new r("refinement with Huffman is not supported");return{symbolIDTable:be,tableFirstS:de,tableDeltaS:xe,tableDeltaT:fe}}function z(X,ee,G){let ne=0,se,le;switch(X.huffmanDHSelector){case 0:case 1:se=R(X.huffmanDHSelector+4);break;case 3:se=L(ne,ee,G),ne++;break;default:throw new r("invalid Huffman DH selector")}switch(X.huffmanDWSelector){case 0:case 1:le=R(X.huffmanDWSelector+2);break;case 3:le=L(ne,ee,G),ne++;break;default:throw new r("invalid Huffman DW selector")}let he,be;return X.bitmapSizeSelector?(he=L(ne,ee,G),ne++):he=R(1),X.aggregationInstancesSelector?be=L(ne,ee,G):be=R(1),{tableDeltaHeight:se,tableDeltaWidth:le,tableBitmapSize:he,tableAggregateInstances:be}}function P(X,ee,G){const ne=[];for(let se=0;se<G;se++){const le=new Uint8Array(ee);ne.push(le);for(let he=0;he<ee;he++)le[he]=X.readBit();X.byteAlign()}return ne}function K(X,ee,G,ne){const se={K:-1,Columns:ee,Rows:G,BlackIs1:!0,EndOfBlock:ne},le=new e.CCITTFaxDecoder(X,se),he=[];let be,ye=!1;for(let de=0;de<G;de++){const xe=new Uint8Array(ee);he.push(xe);let fe=-1;for(let ce=0;ce<ee;ce++)fe<0&&(be=le.readNextChar(),be===-1&&(be=0,ye=!0),fe=7),xe[ce]=be>>fe&1,fe--}if(ne&&!ye)for(let xe=0;xe<5&&le.readNextChar()!==-1;xe++);return he}class te{parseChunks(ee){return _(ee)}parse(ee){throw new Error("Not implemented: Jbig2Image.parse")}}o.Jbig2Image=te},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ArithmeticDecoder=void 0;const s=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class i{constructor(d,e,r){this.data=d,this.bp=e,this.dataEnd=r,this.chigh=d[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const d=this.data;let e=this.bp;d[e]===255?d[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=d[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?d[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(d,e){let r=d[e]>>1,p=d[e]&1;const x=s[r],y=x.qe;let v,b=this.a-y;if(this.chigh<y)b<y?(b=y,v=p,r=x.nmps):(b=y,v=1^p,x.switchFlag===1&&(p=v),r=x.nlps);else{if(this.chigh-=y,(b&32768)!==0)return this.a=b,p;b<y?(v=1^p,x.switchFlag===1&&(p=v),r=x.nlps):(v=p,r=x.nmps)}do this.ct===0&&this.byteIn(),b<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while((b&32768)===0);return this.a=b,d[e]=r<<1|p,v}}o.ArithmeticDecoder=i},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JpegStream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(169),l=s(151),d=s(178),e=s(145);class r extends i.DecodeStream{constructor(x,y,v){let b;for(;(b=x.getByte())!==-1;)if(b===255){x.skip(-1);break}super(y),this.stream=x,this.dict=x.dict,this.maybeLength=y,this.params=v}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(x){}readBlock(){if(this.eof)return;const x={decodeTransform:void 0,colorTransform:void 0},y=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(y)){const g=this.dict.get("BPC","BitsPerComponent")||8,w=y.length,f=new Int32Array(w);let E=!1;const A=(1<<g)-1;for(let O=0;O<w;O+=2)f[O]=(y[O+1]-y[O])*256|0,f[O+1]=y[O]*A|0,(f[O]!==256||f[O+1]!==0)&&(E=!0);E&&(x.decodeTransform=f)}if(this.params instanceof l.Dict){const g=this.params.get("ColorTransform");Number.isInteger(g)&&(x.colorTransform=g)}const v=new d.JpegImage(x);v.parse(this.bytes);const b=v.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=b,this.bufferLength=b.length,this.eof=!0}}o.JpegStream=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JpegImage=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140);var i=s(145),l=s(179),d=s(150);class e extends i.BaseException{constructor(W){super(`JPEG error: ${W}`,"JpegError")}}class r extends i.BaseException{constructor(W,J){super(W,"DNLMarkerError"),this.scanLines=J}}class p extends i.BaseException{constructor(W){super(W,"EOIMarkerError")}}const x=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),y=4017,v=799,b=3406,g=2276,w=1567,f=3784,E=5793,A=2896;function O(I,W){let J=0,H,N,U=16;for(;U>0&&!I[U-1];)U--;const Y=[{children:[],index:0}];let _=Y[0],V;for(H=0;H<U;H++){for(N=0;N<I[H];N++){for(_=Y.pop(),_.children[_.index]=W[J];_.index>0;)_=Y.pop();for(_.index++,Y.push(_);Y.length<=H;)Y.push(V={children:[],index:0}),_.children[_.index]=V.children,_=V;J++}H+1<U&&(Y.push(V={children:[],index:0}),_.children[_.index]=V.children,_=V)}return Y[0].children}function T(I,W,J){return 64*((I.blocksPerLine+1)*W+J)}function D(I,W,J,H,N,U,Y,_,V){let Z=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1;const q=J.mcusPerLine,re=J.progressive,oe=W;let ae=0,R=0;function S(){if(R>0)return R--,ae>>R&1;if(ae=I[W++],ae===255){const Ve=I[W++];if(Ve){if(Ve===220&&Z){W+=2;const Ne=(0,d.readUint16)(I,W);if(W+=2,Ne>0&&Ne!==J.scanLines)throw new r("Found DNL marker (0xFFDC) while parsing scan data",Ne)}else if(Ve===217){if(Z){const Ne=le*(J.precision===8?8:0);if(Ne>0&&Math.round(J.scanLines/Ne)>=5)throw new r("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ne)}throw new p("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(ae<<8|Ve).toString(16)}`)}}return R=7,ae>>>7}function L(Ve){let Ne=Ve;for(;;){switch(Ne=Ne[S()],typeof Ne){case"number":return Ne;case"object":continue}throw new e("invalid huffman sequence")}}function k(Ve){let Ne=0;for(;Ve>0;)Ne=Ne<<1|S(),Ve--;return Ne}function z(Ve){if(Ve===1)return S()===1?1:-1;const Ne=k(Ve);return Ne>=1<<Ve-1?Ne:Ne+(-1<<Ve)+1}function P(Ve,Ne){const ke=L(Ve.huffmanTableDC),Ie=ke===0?0:z(ke);Ve.blockData[Ne]=Ve.pred+=Ie;let Te=1;for(;Te<64;){const Ae=L(Ve.huffmanTableAC),ge=Ae&15,Ce=Ae>>4;if(ge===0){if(Ce<15)break;Te+=16;continue}Te+=Ce;const Be=x[Te];Ve.blockData[Ne+Be]=z(ge),Te++}}function K(Ve,Ne){const ke=L(Ve.huffmanTableDC),Ie=ke===0?0:z(ke)<<V;Ve.blockData[Ne]=Ve.pred+=Ie}function te(Ve,Ne){Ve.blockData[Ne]|=S()<<V}let X=0;function ee(Ve,Ne){if(X>0){X--;return}let ke=U;const Ie=Y;for(;ke<=Ie;){const Te=L(Ve.huffmanTableAC),Ae=Te&15,ge=Te>>4;if(Ae===0){if(ge<15){X=k(ge)+(1<<ge)-1;break}ke+=16;continue}ke+=ge;const Ce=x[ke];Ve.blockData[Ne+Ce]=z(Ae)*(1<<V),ke++}}let G=0,ne;function se(Ve,Ne){let ke=U;const Ie=Y;let Te=0,Ae,ge;for(;ke<=Ie;){const Ce=Ne+x[ke],Be=Ve.blockData[Ce]<0?-1:1;switch(G){case 0:if(ge=L(Ve.huffmanTableAC),Ae=ge&15,Te=ge>>4,Ae===0)Te<15?(X=k(Te)+(1<<Te),G=4):(Te=16,G=1);else{if(Ae!==1)throw new e("invalid ACn encoding");ne=z(Ae),G=Te?2:3}continue;case 1:case 2:Ve.blockData[Ce]?Ve.blockData[Ce]+=Be*(S()<<V):(Te--,Te===0&&(G=G===2?3:0));break;case 3:Ve.blockData[Ce]?Ve.blockData[Ce]+=Be*(S()<<V):(Ve.blockData[Ce]=ne<<V,G=0);break;case 4:Ve.blockData[Ce]&&(Ve.blockData[Ce]+=Be*(S()<<V));break}ke++}G===4&&(X--,X===0&&(G=0))}let le=0;function he(Ve,Ne,ke,Ie,Te){const Ae=ke/q|0,ge=ke%q;le=Ae*Ve.v+Ie;const Ce=ge*Ve.h+Te,Be=T(Ve,le,Ce);Ne(Ve,Be)}function be(Ve,Ne,ke){le=ke/Ve.blocksPerLine|0;const Ie=ke%Ve.blocksPerLine,Te=T(Ve,le,Ie);Ne(Ve,Te)}const ye=H.length;let de,xe,fe,ce,ue,ve;re?U===0?ve=_===0?K:te:ve=_===0?ee:se:ve=P;let Ee=0,Me;const _e=ye===1?H[0].blocksPerLine*H[0].blocksPerColumn:q*J.mcusPerColumn;let ze,We;for(;Ee<=_e;){const Ve=N?Math.min(_e-Ee,N):_e;if(Ve>0){for(xe=0;xe<ye;xe++)H[xe].pred=0;if(X=0,ye===1)for(de=H[0],ue=0;ue<Ve;ue++)be(de,ve,Ee),Ee++;else for(ue=0;ue<Ve;ue++){for(xe=0;xe<ye;xe++)for(de=H[xe],ze=de.h,We=de.v,fe=0;fe<We;fe++)for(ce=0;ce<ze;ce++)he(de,ve,Ee,fe,ce);Ee++}}if(R=0,Me=B(I,W),!Me)break;if(Me.invalid){const Ne=Ve>0?"unexpected":"excessive";(0,i.warn)(`decodeScan - ${Ne} MCU data, current marker is: ${Me.invalid}`),W=Me.offset}if(Me.marker>=65488&&Me.marker<=65495)W+=2;else break}return W-oe}function F(I,W,J){const H=I.quantizationTable,N=I.blockData;let U,Y,_,V,Z,q,re,oe,ae,R,S,L,k,z,P,K,te;if(!H)throw new e("missing required Quantization Table.");for(let X=0;X<64;X+=8){if(ae=N[W+X],R=N[W+X+1],S=N[W+X+2],L=N[W+X+3],k=N[W+X+4],z=N[W+X+5],P=N[W+X+6],K=N[W+X+7],ae*=H[X],(R|S|L|k|z|P|K)===0){te=E*ae+512>>10,J[X]=te,J[X+1]=te,J[X+2]=te,J[X+3]=te,J[X+4]=te,J[X+5]=te,J[X+6]=te,J[X+7]=te;continue}R*=H[X+1],S*=H[X+2],L*=H[X+3],k*=H[X+4],z*=H[X+5],P*=H[X+6],K*=H[X+7],U=E*ae+128>>8,Y=E*k+128>>8,_=S,V=P,Z=A*(R-K)+128>>8,oe=A*(R+K)+128>>8,q=L<<4,re=z<<4,U=U+Y+1>>1,Y=U-Y,te=_*f+V*w+128>>8,_=_*w-V*f+128>>8,V=te,Z=Z+re+1>>1,re=Z-re,oe=oe+q+1>>1,q=oe-q,U=U+V+1>>1,V=U-V,Y=Y+_+1>>1,_=Y-_,te=Z*g+oe*b+2048>>12,Z=Z*b-oe*g+2048>>12,oe=te,te=q*v+re*y+2048>>12,q=q*y-re*v+2048>>12,re=te,J[X]=U+oe,J[X+7]=U-oe,J[X+1]=Y+re,J[X+6]=Y-re,J[X+2]=_+q,J[X+5]=_-q,J[X+3]=V+Z,J[X+4]=V-Z}for(let X=0;X<8;++X){if(ae=J[X],R=J[X+8],S=J[X+16],L=J[X+24],k=J[X+32],z=J[X+40],P=J[X+48],K=J[X+56],(R|S|L|k|z|P|K)===0){te=E*ae+8192>>14,te<-2040?te=0:te>=2024?te=255:te=te+2056>>4,N[W+X]=te,N[W+X+8]=te,N[W+X+16]=te,N[W+X+24]=te,N[W+X+32]=te,N[W+X+40]=te,N[W+X+48]=te,N[W+X+56]=te;continue}U=E*ae+2048>>12,Y=E*k+2048>>12,_=S,V=P,Z=A*(R-K)+2048>>12,oe=A*(R+K)+2048>>12,q=L,re=z,U=(U+Y+1>>1)+4112,Y=U-Y,te=_*f+V*w+2048>>12,_=_*w-V*f+2048>>12,V=te,Z=Z+re+1>>1,re=Z-re,oe=oe+q+1>>1,q=oe-q,U=U+V+1>>1,V=U-V,Y=Y+_+1>>1,_=Y-_,te=Z*g+oe*b+2048>>12,Z=Z*b-oe*g+2048>>12,oe=te,te=q*v+re*y+2048>>12,q=q*y-re*v+2048>>12,re=te,ae=U+oe,K=U-oe,R=Y+re,P=Y-re,S=_+q,z=_-q,L=V+Z,k=V-Z,ae<16?ae=0:ae>=4080?ae=255:ae>>=4,R<16?R=0:R>=4080?R=255:R>>=4,S<16?S=0:S>=4080?S=255:S>>=4,L<16?L=0:L>=4080?L=255:L>>=4,k<16?k=0:k>=4080?k=255:k>>=4,z<16?z=0:z>=4080?z=255:z>>=4,P<16?P=0:P>=4080?P=255:P>>=4,K<16?K=0:K>=4080?K=255:K>>=4,N[W+X]=ae,N[W+X+8]=R,N[W+X+16]=S,N[W+X+24]=L,N[W+X+32]=k,N[W+X+40]=z,N[W+X+48]=P,N[W+X+56]=K}}function C(I,W){const J=W.blocksPerLine,H=W.blocksPerColumn,N=new Int16Array(64);for(let U=0;U<H;U++)for(let Y=0;Y<J;Y++){const _=T(W,U,Y);F(W,_,N)}return W.blockData}function B(I,W){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W;const H=I.length-1;let N=J<W?J:W;if(W>=H)return null;const U=(0,d.readUint16)(I,W);if(U>=65472&&U<=65534)return{invalid:null,marker:U,offset:W};let Y=(0,d.readUint16)(I,N);for(;!(Y>=65472&&Y<=65534);){if(++N>=H)return null;Y=(0,d.readUint16)(I,N)}return{invalid:U.toString(16),marker:Y,offset:N}}class M{constructor(){let{decodeTransform:W=null,colorTransform:J=-1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._decodeTransform=W,this._colorTransform=J}parse(W){let{dnlScanLines:J=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};function H(){const S=(0,d.readUint16)(W,U);U+=2;let L=U+S-2;const k=B(W,L,U);k!=null&&k.invalid&&((0,i.warn)("readDataBlock - incorrect length, current marker is: "+k.invalid),L=k.offset);const z=W.subarray(U,L);return U+=z.length,z}function N(S){const L=Math.ceil(S.samplesPerLine/8/S.maxH),k=Math.ceil(S.scanLines/8/S.maxV);for(const z of S.components){const P=Math.ceil(Math.ceil(S.samplesPerLine/8)*z.h/S.maxH),K=Math.ceil(Math.ceil(S.scanLines/8)*z.v/S.maxV),te=L*z.h,ee=64*(k*z.v)*(te+1);z.blockData=new Int16Array(ee),z.blocksPerLine=P,z.blocksPerColumn=K}S.mcusPerLine=L,S.mcusPerColumn=k}let U=0,Y=null,_=null,V,Z,q=0;const re=[],oe=[],ae=[];let R=(0,d.readUint16)(W,U);if(U+=2,R!==65496)throw new e("SOI not found");R=(0,d.readUint16)(W,U),U+=2;e:for(;R!==65497;){let S,L,k;switch(R){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const z=H();R===65504&&z[0]===74&&z[1]===70&&z[2]===73&&z[3]===70&&z[4]===0&&(Y={version:{major:z[5],minor:z[6]},densityUnits:z[7],xDensity:z[8]<<8|z[9],yDensity:z[10]<<8|z[11],thumbWidth:z[12],thumbHeight:z[13],thumbData:z.subarray(14,14+3*z[12]*z[13])}),R===65518&&z[0]===65&&z[1]===100&&z[2]===111&&z[3]===98&&z[4]===101&&(_={version:z[5]<<8|z[6],flags0:z[7]<<8|z[8],flags1:z[9]<<8|z[10],transformCode:z[11]});break;case 65499:const P=(0,d.readUint16)(W,U);U+=2;const K=P+U-2;let te;for(;U<K;){const ce=W[U++],ue=new Uint16Array(64);if(ce>>4===0)for(L=0;L<64;L++)te=x[L],ue[te]=W[U++];else if(ce>>4===1)for(L=0;L<64;L++)te=x[L],ue[te]=(0,d.readUint16)(W,U),U+=2;else throw new e("DQT - invalid table spec");re[ce&15]=ue}break;case 65472:case 65473:case 65474:if(V)throw new e("Only single frame JPEGs supported");U+=2,V={},V.extended=R===65473,V.progressive=R===65474,V.precision=W[U++];const X=(0,d.readUint16)(W,U);U+=2,V.scanLines=J||X,V.samplesPerLine=(0,d.readUint16)(W,U),U+=2,V.components=[],V.componentIds={};const ee=W[U++];let G=0,ne=0;for(S=0;S<ee;S++){const ce=W[U],ue=W[U+1]>>4,ve=W[U+1]&15;G<ue&&(G=ue),ne<ve&&(ne=ve);const Ee=W[U+2];k=V.components.push({h:ue,v:ve,quantizationId:Ee,quantizationTable:null}),V.componentIds[ce]=k-1,U+=3}V.maxH=G,V.maxV=ne,N(V);break;case 65476:const se=(0,d.readUint16)(W,U);for(U+=2,S=2;S<se;){const ce=W[U++],ue=new Uint8Array(16);let ve=0;for(L=0;L<16;L++,U++)ve+=ue[L]=W[U];const Ee=new Uint8Array(ve);for(L=0;L<ve;L++,U++)Ee[L]=W[U];S+=17+ve,(ce>>4===0?ae:oe)[ce&15]=O(ue,Ee)}break;case 65501:U+=2,Z=(0,d.readUint16)(W,U),U+=2;break;case 65498:const le=++q===1&&!J;U+=2;const he=W[U++],be=[];for(S=0;S<he;S++){const ce=W[U++],ue=V.componentIds[ce],ve=V.components[ue];ve.index=ce;const Ee=W[U++];ve.huffmanTableDC=ae[Ee>>4],ve.huffmanTableAC=oe[Ee&15],be.push(ve)}const ye=W[U++],de=W[U++],xe=W[U++];try{const ce=D(W,U,V,be,Z,ye,de,xe>>4,xe&15,le);U+=ce}catch(ce){if(ce instanceof r)return(0,i.warn)(`${ce.message} -- attempting to re-parse the JPEG image.`),this.parse(W,{dnlScanLines:ce.scanLines});if(ce instanceof p){(0,i.warn)(`${ce.message} -- ignoring the rest of the image data.`);break e}throw ce}break;case 65500:U+=4;break;case 65535:W[U]!==255&&U--;break;default:const fe=B(W,U-2,U-3);if(fe!=null&&fe.invalid){(0,i.warn)("JpegImage.parse - unexpected data, current marker is: "+fe.invalid),U=fe.offset;break}if(!fe||U>=W.length-1){(0,i.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+R.toString(16))}R=(0,d.readUint16)(W,U),U+=2}this.width=V.samplesPerLine,this.height=V.scanLines,this.jfif=Y,this.adobe=_,this.components=[];for(const S of V.components){const L=re[S.quantizationId];L&&(S.quantizationTable=L),this.components.push({index:S.index,output:C(V,S),scaleX:S.h/V.maxH,scaleY:S.v/V.maxV,blocksPerLine:S.blocksPerLine,blocksPerColumn:S.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(W,J){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const N=this.width/W,U=this.height/J;let Y,_,V,Z,q,re,oe,ae,R,S,L=0,k;const z=this.components.length,P=W*J*z,K=new Uint8ClampedArray(P),te=new Uint32Array(W),X=4294967288;let ee;for(oe=0;oe<z;oe++){if(Y=this.components[oe],_=Y.scaleX*N,V=Y.scaleY*U,L=oe,k=Y.output,Z=Y.blocksPerLine+1<<3,_!==ee){for(q=0;q<W;q++)ae=0|q*_,te[q]=(ae&X)<<3|ae&7;ee=_}for(re=0;re<J;re++)for(ae=0|re*V,S=Z*(ae&X)|(ae&7)<<3,q=0;q<W;q++)K[L]=k[S+te[q]],L+=z}let G=this._decodeTransform;if(!H&&z===4&&!G&&(G=new Int32Array([-256,255,-256,255,-256,255,-256,255])),G)for(oe=0;oe<P;)for(ae=0,R=0;ae<z;ae++,oe++,R+=2)K[oe]=(K[oe]*G[R]>>8)+G[R+1];return K}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(W){let J,H,N;for(let U=0,Y=W.length;U<Y;U+=3)J=W[U],H=W[U+1],N=W[U+2],W[U]=J-179.456+1.402*N,W[U+1]=J+135.459-.344*H-.714*N,W[U+2]=J-226.816+1.772*H;return W}_convertYccToRgba(W,J){for(let H=0,N=0,U=W.length;H<U;H+=3,N+=4){const Y=W[H],_=W[H+1],V=W[H+2];J[N]=Y-179.456+1.402*V,J[N+1]=Y+135.459-.344*_-.714*V,J[N+2]=Y-226.816+1.772*_,J[N+3]=255}return J}_convertYcckToRgb(W){let J,H,N,U,Y=0;for(let _=0,V=W.length;_<V;_+=4)J=W[_],H=W[_+1],N=W[_+2],U=W[_+3],W[Y++]=-122.67195406894+H*(-660635669420364e-19*H+.000437130475926232*N-54080610064599e-18*J+.00048449797120281*U-.154362151871126)+N*(-.000957964378445773*N+.000817076911346625*J-.00477271405408747*U+1.53380253221734)+J*(.000961250184130688*J-.00266257332283933*U+.48357088451265)+U*(-.000336197177618394*U+.484791561490776),W[Y++]=107.268039397724+H*(219927104525741e-19*H-.000640992018297945*N+.000659397001245577*J+.000426105652938837*U-.176491792462875)+N*(-.000778269941513683*N+.00130872261408275*J+.000770482631801132*U-.151051492775562)+J*(.00126935368114843*J-.00265090189010898*U+.25802910206845)+U*(-.000318913117588328*U-.213742400323665),W[Y++]=-20.810012546947+H*(-.000570115196973677*H-263409051004589e-19*N+.0020741088115012*J-.00288260236853442*U+.814272968359295)+N*(-153496057440975e-19*N-.000132689043961446*J+.000560833691242812*U-.195152027534049)+J*(.00174418132927582*J-.00255243321439347*U+.116935020465145)+U*(-.000343531996510555*U+.24165260232407);return W.subarray(0,Y)}_convertYcckToRgba(W){for(let J=0,H=W.length;J<H;J+=4){const N=W[J],U=W[J+1],Y=W[J+2],_=W[J+3];W[J]=-122.67195406894+U*(-660635669420364e-19*U+.000437130475926232*Y-54080610064599e-18*N+.00048449797120281*_-.154362151871126)+Y*(-.000957964378445773*Y+.000817076911346625*N-.00477271405408747*_+1.53380253221734)+N*(.000961250184130688*N-.00266257332283933*_+.48357088451265)+_*(-.000336197177618394*_+.484791561490776),W[J+1]=107.268039397724+U*(219927104525741e-19*U-.000640992018297945*Y+.000659397001245577*N+.000426105652938837*_-.176491792462875)+Y*(-.000778269941513683*Y+.00130872261408275*N+.000770482631801132*_-.151051492775562)+N*(.00126935368114843*N-.00265090189010898*_+.25802910206845)+_*(-.000318913117588328*_-.213742400323665),W[J+2]=-20.810012546947+U*(-.000570115196973677*U-263409051004589e-19*Y+.0020741088115012*N-.00288260236853442*_+.814272968359295)+Y*(-153496057440975e-19*Y-.000132689043961446*N+.000560833691242812*_-.195152027534049)+N*(.00174418132927582*N-.00255243321439347*_+.116935020465145)+_*(-.000343531996510555*_+.24165260232407),W[J+3]=255}return W}_convertYcckToCmyk(W){let J,H,N;for(let U=0,Y=W.length;U<Y;U+=4)J=W[U],H=W[U+1],N=W[U+2],W[U]=434.456-J-1.402*N,W[U+1]=119.541-J+.344*H+.714*N,W[U+2]=481.816-J-1.772*H;return W}_convertCmykToRgb(W){let J,H,N,U,Y=0;for(let _=0,V=W.length;_<V;_+=4)J=W[_],H=W[_+1],N=W[_+2],U=W[_+3],W[Y++]=255+J*(-6747147073602441e-20*J+.0008379262121013727*H+.0002894718188643294*N+.003264231057537806*U-1.1185611867203937)+H*(26374107616089405e-21*H-8626949158638572e-20*N-.0002748769067499491*U-.02155688794978967)+N*(-3878099212869363e-20*N-.0003267808279485286*U+.0686742238595345)-U*(.0003361971776183937*U+.7430659151342254),W[Y++]=255+J*(.00013596372813588848*J+.000924537132573585*H+.00010567359618683593*N+.0004791864687436512*U-.3109689587515875)+H*(-.00023545346108370344*H+.0002702845253534714*N+.0020200308977307156*U-.7488052167015494)+N*(6834815998235662e-20*N+.00015168452363460973*U-.09751927774728933)-U*(.0003189131175883281*U+.7364883807733168),W[Y++]=255+J*(13598650411385307e-21*J+.00012423956175490851*H+.0004751985097583589*N-36729317476630422e-22*U-.05562186980264034)+H*(.00016141380598724676*H+.0009692239130725186*N+.0007782692450036253*U-.44015232367526463)+N*(5068882914068769e-22*N+.0017778369011375071*U-.7591454649749609)-U*(.0003435319965105553*U+.7063770186160144);return W.subarray(0,Y)}_convertCmykToRgba(W){for(let J=0,H=W.length;J<H;J+=4){const N=W[J],U=W[J+1],Y=W[J+2],_=W[J+3];W[J]=255+N*(-6747147073602441e-20*N+.0008379262121013727*U+.0002894718188643294*Y+.003264231057537806*_-1.1185611867203937)+U*(26374107616089405e-21*U-8626949158638572e-20*Y-.0002748769067499491*_-.02155688794978967)+Y*(-3878099212869363e-20*Y-.0003267808279485286*_+.0686742238595345)-_*(.0003361971776183937*_+.7430659151342254),W[J+1]=255+N*(.00013596372813588848*N+.000924537132573585*U+.00010567359618683593*Y+.0004791864687436512*_-.3109689587515875)+U*(-.00023545346108370344*U+.0002702845253534714*Y+.0020200308977307156*_-.7488052167015494)+Y*(6834815998235662e-20*Y+.00015168452363460973*_-.09751927774728933)-_*(.0003189131175883281*_+.7364883807733168),W[J+2]=255+N*(13598650411385307e-21*N+.00012423956175490851*U+.0004751985097583589*Y-36729317476630422e-22*_-.05562186980264034)+U*(.00016141380598724676*U+.0009692239130725186*Y+.0007782692450036253*_-.44015232367526463)+Y*(5068882914068769e-22*Y+.0017778369011375071*_-.7591454649749609)-_*(.0003435319965105553*_+.7063770186160144),W[J+3]=255}return W}getData(W){let{width:J,height:H,forceRGBA:N=!1,forceRGB:U=!1,isSourcePDF:Y=!1}=W;if(this.numComponents>4)throw new e("Unsupported color mode");const _=this._getLinearizedBlockData(J,H,Y);if(this.numComponents===1&&(N||U)){const V=_.length*(N?4:3),Z=new Uint8ClampedArray(V);let q=0;if(N)(0,l.grayToRGBA)(_,new Uint32Array(Z.buffer));else for(const re of _)Z[q++]=re,Z[q++]=re,Z[q++]=re;return Z}else if(this.numComponents===3&&this._isColorConversionNeeded){if(N){const V=new Uint8ClampedArray(_.length/3*4);return this._convertYccToRgba(_,V)}return this._convertYccToRgb(_)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return N?this._convertYcckToRgba(_):U?this._convertYcckToRgb(_):this._convertYcckToCmyk(_);if(N)return this._convertCmykToRgba(_);if(U)return this._convertCmykToRgb(_)}return _}}o.JpegImage=M},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertBlackAndWhiteToRGBA=d,o.convertToRGBA=l,o.grayToRGBA=r,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(145);function l(p){switch(p.kind){case i.ImageKind.GRAYSCALE_1BPP:return d(p);case i.ImageKind.RGB_24BPP:return e(p)}return null}function d(p){let{src:x,srcPos:y=0,dest:v,width:b,height:g,nonBlackColor:w=4294967295,inverseDecode:f=!1}=p;const E=i.FeatureTest.isLittleEndian?4278190080:255,[A,O]=f?[w,E]:[E,w],T=b>>3,D=b&7,F=x.length;v=new Uint32Array(v.buffer);let C=0;for(let B=0;B<g;B++){for(const I=y+T;y<I;y++){const W=y<F?x[y]:255;v[C++]=W&128?O:A,v[C++]=W&64?O:A,v[C++]=W&32?O:A,v[C++]=W&16?O:A,v[C++]=W&8?O:A,v[C++]=W&4?O:A,v[C++]=W&2?O:A,v[C++]=W&1?O:A}if(D===0)continue;const M=y<F?x[y++]:255;for(let I=0;I<D;I++)v[C++]=M&1<<7-I?O:A}return{srcPos:y,destPos:C}}function e(p){let{src:x,srcPos:y=0,dest:v,destPos:b=0,width:g,height:w}=p,f=0;const E=x.length>>2,A=new Uint32Array(x.buffer,y,E);if(i.FeatureTest.isLittleEndian){for(;f<E-2;f+=3,b+=4){const O=A[f],T=A[f+1],D=A[f+2];v[b]=O|4278190080,v[b+1]=O>>>24|T<<8|4278190080,v[b+2]=T>>>16|D<<16|4278190080,v[b+3]=D>>>8|4278190080}for(let O=f*4,T=x.length;O<T;O+=3)v[b++]=x[O]|x[O+1]<<8|x[O+2]<<16|4278190080}else{for(;f<E-2;f+=3,b+=4){const O=A[f],T=A[f+1],D=A[f+2];v[b]=O|255,v[b+1]=O<<24|T>>>8|255,v[b+2]=T<<16|D>>>16|255,v[b+3]=D<<8|255}for(let O=f*4,T=x.length;O<T;O+=3)v[b++]=x[O]<<24|x[O+1]<<16|x[O+2]<<8|255}return{srcPos:y,destPos:b}}function r(p,x){if(i.FeatureTest.isLittleEndian)for(let y=0,v=p.length;y<v;y++)x[y]=p[y]*65793|4278190080;else for(let y=0,v=p.length;y<v;y++)x[y]=p[y]*16843008|255}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JpxStream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(169),l=s(181),d=s(145);class e extends i.DecodeStream{constructor(p,x,y){super(x),this.stream=p,this.dict=p.dict,this.maybeLength=x,this.params=y}get bytes(){return(0,d.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(p){}readBlock(){if(this.eof)return;const p=new l.JpxImage;p.parse(this.bytes);const x=p.width,y=p.height,v=p.componentsCount,b=p.tiles.length;if(b===1)this.buffer=p.tiles[0].items;else{const g=new Uint8ClampedArray(x*y*v);for(let w=0;w<b;w++){const f=p.tiles[w],E=f.width,A=f.height,O=f.left,T=f.top,D=f.items;let F=0,C=(x*T+O)*v;const B=x*v,M=E*v;for(let I=0;I<A;I++){const W=D.subarray(F,F+M);g.set(W,C),F+=M,C+=B}}this.buffer=g}this.bufferLength=this.buffer.length,this.eof=!0}}o.JpxStream=e},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JpxImage=void 0,s(140),s(2),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(145),l=s(150),d=s(176);class e extends i.BaseException{constructor(re){super(`JPX error: ${re}`,"JpxError")}}const r={LL:0,LH:1,HL:1,HH:2};class p{constructor(){this.failOnCorruptedImage=!1}parse(re){if((0,l.readUint16)(re,0)===65359){this.parseCodestream(re,0,re.length);return}const ae=re.length;let R=0;for(;R<ae;){let S=8,L=(0,l.readUint32)(re,R);const k=(0,l.readUint32)(re,R+4);if(R+=S,L===1&&(L=(0,l.readUint32)(re,R)*4294967296+(0,l.readUint32)(re,R+4),R+=8,S+=8),L===0&&(L=ae-R+S),L<S)throw new e("Invalid box field size");const z=L-S;let P=!0;switch(k){case 1785737832:P=!1;break;case 1668246642:const K=re[R];if(K===1){const X=(0,l.readUint32)(re,R+3);switch(X){case 16:case 17:case 18:break;default:(0,i.warn)("Unknown colorspace "+X);break}}else K===2&&(0,i.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(re,R,R+z);break;case 1783636e3:(0,l.readUint32)(re,R)!==218793738&&(0,i.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const te=String.fromCharCode(k>>24&255,k>>16&255,k>>8&255,k&255);(0,i.warn)(`Unsupported header type ${k} (${te}).`);break}P&&(R+=z)}}parseImageProperties(re){let oe=re.getByte();for(;oe>=0;){const ae=oe;if(oe=re.getByte(),(ae<<8|oe)===65361){re.skip(4);const S=re.getInt32()>>>0,L=re.getInt32()>>>0,k=re.getInt32()>>>0,z=re.getInt32()>>>0;re.skip(16);const P=re.getUint16();this.width=S-k,this.height=L-z,this.componentsCount=P,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(re,oe,ae){const R={};let S=!1;try{let L=oe;for(;L+1<ae;){const k=(0,l.readUint16)(re,L);L+=2;let z=0,P,K,te,X,ee,G;switch(k){case 65359:R.mainHeader=!0;break;case 65497:break;case 65361:z=(0,l.readUint16)(re,L);const ne={};ne.Xsiz=(0,l.readUint32)(re,L+4),ne.Ysiz=(0,l.readUint32)(re,L+8),ne.XOsiz=(0,l.readUint32)(re,L+12),ne.YOsiz=(0,l.readUint32)(re,L+16),ne.XTsiz=(0,l.readUint32)(re,L+20),ne.YTsiz=(0,l.readUint32)(re,L+24),ne.XTOsiz=(0,l.readUint32)(re,L+28),ne.YTOsiz=(0,l.readUint32)(re,L+32);const se=(0,l.readUint16)(re,L+36);ne.Csiz=se;const le=[];P=L+38;for(let ue=0;ue<se;ue++){const ve={precision:(re[P]&127)+1,isSigned:!!(re[P]&128),XRsiz:re[P+1],YRsiz:re[P+2]};P+=3,x(ve,ne),le.push(ve)}R.SIZ=ne,R.components=le,y(R,le),R.QCC=[],R.COC=[];break;case 65372:z=(0,l.readUint16)(re,L);const he={};switch(P=L+2,K=re[P++],K&31){case 0:X=8,ee=!0;break;case 1:X=16,ee=!1;break;case 2:X=16,ee=!0;break;default:throw new Error("Invalid SQcd value "+K)}for(he.noQuantization=X===8,he.scalarExpounded=ee,he.guardBits=K>>5,te=[];P<z+L;){const ue={};X===8?(ue.epsilon=re[P++]>>3,ue.mu=0):(ue.epsilon=re[P]>>3,ue.mu=(re[P]&7)<<8|re[P+1],P+=2),te.push(ue)}he.SPqcds=te,R.mainHeader?R.QCD=he:(R.currentTile.QCD=he,R.currentTile.QCC=[]);break;case 65373:z=(0,l.readUint16)(re,L);const be={};P=L+2;let ye;switch(R.SIZ.Csiz<257?ye=re[P++]:(ye=(0,l.readUint16)(re,P),P+=2),K=re[P++],K&31){case 0:X=8,ee=!0;break;case 1:X=16,ee=!1;break;case 2:X=16,ee=!0;break;default:throw new Error("Invalid SQcd value "+K)}for(be.noQuantization=X===8,be.scalarExpounded=ee,be.guardBits=K>>5,te=[];P<z+L;){const ue={};X===8?(ue.epsilon=re[P++]>>3,ue.mu=0):(ue.epsilon=re[P]>>3,ue.mu=(re[P]&7)<<8|re[P+1],P+=2),te.push(ue)}be.SPqcds=te,R.mainHeader?R.QCC[ye]=be:R.currentTile.QCC[ye]=be;break;case 65362:z=(0,l.readUint16)(re,L);const de={};P=L+2;const xe=re[P++];de.entropyCoderWithCustomPrecincts=!!(xe&1),de.sopMarkerUsed=!!(xe&2),de.ephMarkerUsed=!!(xe&4),de.progressionOrder=re[P++],de.layersCount=(0,l.readUint16)(re,P),P+=2,de.multipleComponentTransform=re[P++],de.decompositionLevelsCount=re[P++],de.xcb=(re[P++]&15)+2,de.ycb=(re[P++]&15)+2;const fe=re[P++];if(de.selectiveArithmeticCodingBypass=!!(fe&1),de.resetContextProbabilities=!!(fe&2),de.terminationOnEachCodingPass=!!(fe&4),de.verticallyStripe=!!(fe&8),de.predictableTermination=!!(fe&16),de.segmentationSymbolUsed=!!(fe&32),de.reversibleTransformation=re[P++],de.entropyCoderWithCustomPrecincts){const ue=[];for(;P<z+L;){const ve=re[P++];ue.push({PPx:ve&15,PPy:ve>>4})}de.precinctsSizes=ue}const ce=[];de.selectiveArithmeticCodingBypass&&ce.push("selectiveArithmeticCodingBypass"),de.terminationOnEachCodingPass&&ce.push("terminationOnEachCodingPass"),de.verticallyStripe&&ce.push("verticallyStripe"),de.predictableTermination&&ce.push("predictableTermination"),ce.length>0&&(S=!0,(0,i.warn)(`JPX: Unsupported COD options (${ce.join(", ")}).`)),R.mainHeader?R.COD=de:(R.currentTile.COD=de,R.currentTile.COC=[]);break;case 65424:z=(0,l.readUint16)(re,L),G={},G.index=(0,l.readUint16)(re,L+2),G.length=(0,l.readUint32)(re,L+4),G.dataEnd=G.length+L-2,G.partIndex=re[L+8],G.partsCount=re[L+9],R.mainHeader=!1,G.partIndex===0&&(G.COD=R.COD,G.COC=R.COC.slice(0),G.QCD=R.QCD,G.QCC=R.QCC.slice(0)),R.currentTile=G;break;case 65427:G=R.currentTile,G.partIndex===0&&(J(R,G.index),C(R)),z=G.dataEnd-L,B(R,re,L,z);break;case 65363:(0,i.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:z=(0,l.readUint16)(re,L);break;default:throw new Error("Unknown codestream code: "+k.toString(16))}L+=z}}catch(L){if(S||this.failOnCorruptedImage)throw new e(L.message);(0,i.warn)(`JPX: Trying to recover from: "${L.message}".`)}this.tiles=W(R),this.width=R.SIZ.Xsiz-R.SIZ.XOsiz,this.height=R.SIZ.Ysiz-R.SIZ.YOsiz,this.componentsCount=R.SIZ.Csiz}}o.JpxImage=p;function x(q,re){q.x0=Math.ceil(re.XOsiz/q.XRsiz),q.x1=Math.ceil(re.Xsiz/q.XRsiz),q.y0=Math.ceil(re.YOsiz/q.YRsiz),q.y1=Math.ceil(re.Ysiz/q.YRsiz),q.width=q.x1-q.x0,q.height=q.y1-q.y0}function y(q,re){const oe=q.SIZ,ae=[];let R;const S=Math.ceil((oe.Xsiz-oe.XTOsiz)/oe.XTsiz),L=Math.ceil((oe.Ysiz-oe.YTOsiz)/oe.YTsiz);for(let z=0;z<L;z++)for(let P=0;P<S;P++)R={},R.tx0=Math.max(oe.XTOsiz+P*oe.XTsiz,oe.XOsiz),R.ty0=Math.max(oe.YTOsiz+z*oe.YTsiz,oe.YOsiz),R.tx1=Math.min(oe.XTOsiz+(P+1)*oe.XTsiz,oe.Xsiz),R.ty1=Math.min(oe.YTOsiz+(z+1)*oe.YTsiz,oe.Ysiz),R.width=R.tx1-R.tx0,R.height=R.ty1-R.ty0,R.components=[],ae.push(R);q.tiles=ae;const k=oe.Csiz;for(let z=0,P=k;z<P;z++){const K=re[z];for(let te=0,X=ae.length;te<X;te++){const ee={};R=ae[te],ee.tcx0=Math.ceil(R.tx0/K.XRsiz),ee.tcy0=Math.ceil(R.ty0/K.YRsiz),ee.tcx1=Math.ceil(R.tx1/K.XRsiz),ee.tcy1=Math.ceil(R.ty1/K.YRsiz),ee.width=ee.tcx1-ee.tcx0,ee.height=ee.tcy1-ee.tcy0,R.components[z]=ee}}}function v(q,re,oe){const ae=re.codingStyleParameters,R={};return ae.entropyCoderWithCustomPrecincts?(R.PPx=ae.precinctsSizes[oe].PPx,R.PPy=ae.precinctsSizes[oe].PPy):(R.PPx=15,R.PPy=15),R.xcb_=oe>0?Math.min(ae.xcb,R.PPx-1):Math.min(ae.xcb,R.PPx),R.ycb_=oe>0?Math.min(ae.ycb,R.PPy-1):Math.min(ae.ycb,R.PPy),R}function b(q,re,oe){const ae=1<<oe.PPx,R=1<<oe.PPy,S=re.resLevel===0,L=1<<oe.PPx+(S?0:-1),k=1<<oe.PPy+(S?0:-1),z=re.trx1>re.trx0?Math.ceil(re.trx1/ae)-Math.floor(re.trx0/ae):0,P=re.try1>re.try0?Math.ceil(re.try1/R)-Math.floor(re.try0/R):0,K=z*P;re.precinctParameters={precinctWidth:ae,precinctHeight:R,numprecinctswide:z,numprecinctshigh:P,numprecincts:K,precinctWidthInSubband:L,precinctHeightInSubband:k}}function g(q,re,oe){const ae=oe.xcb_,R=oe.ycb_,S=1<<ae,L=1<<R,k=re.tbx0>>ae,z=re.tby0>>R,P=re.tbx1+S-1>>ae,K=re.tby1+L-1>>R,te=re.resolution.precinctParameters,X=[],ee=[];let G,ne,se,le;for(ne=z;ne<K;ne++)for(G=k;G<P;G++){se={cbx:G,cby:ne,tbx0:S*G,tby0:L*ne,tbx1:S*(G+1),tby1:L*(ne+1)},se.tbx0_=Math.max(re.tbx0,se.tbx0),se.tby0_=Math.max(re.tby0,se.tby0),se.tbx1_=Math.min(re.tbx1,se.tbx1),se.tby1_=Math.min(re.tby1,se.tby1);const he=Math.floor((se.tbx0_-re.tbx0)/te.precinctWidthInSubband),be=Math.floor((se.tby0_-re.tby0)/te.precinctHeightInSubband);if(le=he+be*te.numprecinctswide,se.precinctNumber=le,se.subbandType=re.type,se.Lblock=3,se.tbx1_<=se.tbx0_||se.tby1_<=se.tby0_)continue;X.push(se);let ye=ee[le];ye!==void 0?(G<ye.cbxMin?ye.cbxMin=G:G>ye.cbxMax&&(ye.cbxMax=G),ne<ye.cbyMin?ye.cbxMin=ne:ne>ye.cbyMax&&(ye.cbyMax=ne)):ee[le]=ye={cbxMin:G,cbyMin:ne,cbxMax:G,cbyMax:ne},se.precinct=ye}re.codeblockParameters={codeblockWidth:ae,codeblockHeight:R,numcodeblockwide:P-k+1,numcodeblockhigh:K-z+1},re.codeblocks=X,re.precincts=ee}function w(q,re,oe){const ae=[],R=q.subbands;for(let S=0,L=R.length;S<L;S++){const z=R[S].codeblocks;for(let P=0,K=z.length;P<K;P++){const te=z[P];te.precinctNumber===re&&ae.push(te)}}return{layerNumber:oe,codeblocks:ae}}function f(q){const re=q.SIZ,oe=q.currentTile.index,ae=q.tiles[oe],R=ae.codingStyleDefaultParameters.layersCount,S=re.Csiz;let L=0;for(let te=0;te<S;te++)L=Math.max(L,ae.components[te].codingStyleParameters.decompositionLevelsCount);let k=0,z=0,P=0,K=0;this.nextPacket=function(){for(;k<R;k++){for(;z<=L;z++){for(;P<S;P++){const X=ae.components[P];if(z>X.codingStyleParameters.decompositionLevelsCount)continue;const ee=X.resolutions[z],G=ee.precinctParameters.numprecincts;for(;K<G;){const ne=w(ee,K,k);return K++,ne}K=0}P=0}z=0}throw new e("Out of packets")}}function E(q){const re=q.SIZ,oe=q.currentTile.index,ae=q.tiles[oe],R=ae.codingStyleDefaultParameters.layersCount,S=re.Csiz;let L=0;for(let te=0;te<S;te++)L=Math.max(L,ae.components[te].codingStyleParameters.decompositionLevelsCount);let k=0,z=0,P=0,K=0;this.nextPacket=function(){for(;k<=L;k++){for(;z<R;z++){for(;P<S;P++){const X=ae.components[P];if(k>X.codingStyleParameters.decompositionLevelsCount)continue;const ee=X.resolutions[k],G=ee.precinctParameters.numprecincts;for(;K<G;){const ne=w(ee,K,z);return K++,ne}K=0}P=0}z=0}throw new e("Out of packets")}}function A(q){const re=q.SIZ,oe=q.currentTile.index,ae=q.tiles[oe],R=ae.codingStyleDefaultParameters.layersCount,S=re.Csiz;let L,k,z,P,K=0;for(z=0;z<S;z++){const X=ae.components[z];K=Math.max(K,X.codingStyleParameters.decompositionLevelsCount)}const te=new Int32Array(K+1);for(k=0;k<=K;++k){let X=0;for(z=0;z<S;++z){const ee=ae.components[z].resolutions;k<ee.length&&(X=Math.max(X,ee[k].precinctParameters.numprecincts))}te[k]=X}L=0,k=0,z=0,P=0,this.nextPacket=function(){for(;k<=K;k++){for(;P<te[k];P++){for(;z<S;z++){const ee=ae.components[z];if(k>ee.codingStyleParameters.decompositionLevelsCount)continue;const G=ee.resolutions[k],ne=G.precinctParameters.numprecincts;if(!(P>=ne)){for(;L<R;){const se=w(G,P,L);return L++,se}L=0}}z=0}P=0}throw new e("Out of packets")}}function O(q){const re=q.SIZ,oe=q.currentTile.index,ae=q.tiles[oe],R=ae.codingStyleDefaultParameters.layersCount,S=re.Csiz,L=F(ae),k=L;let z=0,P=0,K=0,te=0,X=0;this.nextPacket=function(){for(;X<k.maxNumHigh;X++){for(;te<k.maxNumWide;te++){for(;K<S;K++){const G=ae.components[K],ne=G.codingStyleParameters.decompositionLevelsCount;for(;P<=ne;P++){const se=G.resolutions[P],le=L.components[K].resolutions[P],he=D(te,X,le,k,se);if(he!==null){for(;z<R;){const be=w(se,he,z);return z++,be}z=0}}P=0}K=0}te=0}throw new e("Out of packets")}}function T(q){const re=q.SIZ,oe=q.currentTile.index,ae=q.tiles[oe],R=ae.codingStyleDefaultParameters.layersCount,S=re.Csiz,L=F(ae);let k=0,z=0,P=0,K=0,te=0;this.nextPacket=function(){for(;P<S;++P){const ee=ae.components[P],G=L.components[P],ne=ee.codingStyleParameters.decompositionLevelsCount;for(;te<G.maxNumHigh;te++){for(;K<G.maxNumWide;K++){for(;z<=ne;z++){const se=ee.resolutions[z],le=G.resolutions[z],he=D(K,te,le,G,se);if(he!==null){for(;k<R;){const be=w(se,he,k);return k++,be}k=0}}z=0}K=0}te=0}throw new e("Out of packets")}}function D(q,re,oe,ae,R){const S=q*ae.minWidth,L=re*ae.minHeight;if(S%oe.width!==0||L%oe.height!==0)return null;const k=L/oe.width*R.precinctParameters.numprecinctswide;return S/oe.height+k}function F(q){const re=q.components.length;let oe=Number.MAX_VALUE,ae=Number.MAX_VALUE,R=0,S=0;const L=new Array(re);for(let k=0;k<re;k++){const z=q.components[k],P=z.codingStyleParameters.decompositionLevelsCount,K=new Array(P+1);let te=Number.MAX_VALUE,X=Number.MAX_VALUE,ee=0,G=0,ne=1;for(let se=P;se>=0;--se){const le=z.resolutions[se],he=ne*le.precinctParameters.precinctWidth,be=ne*le.precinctParameters.precinctHeight;te=Math.min(te,he),X=Math.min(X,be),ee=Math.max(ee,le.precinctParameters.numprecinctswide),G=Math.max(G,le.precinctParameters.numprecinctshigh),K[se]={width:he,height:be},ne<<=1}oe=Math.min(oe,te),ae=Math.min(ae,X),R=Math.max(R,ee),S=Math.max(S,G),L[k]={resolutions:K,minWidth:te,minHeight:X,maxNumWide:ee,maxNumHigh:G}}return{components:L,minWidth:oe,minHeight:ae,maxNumWide:R,maxNumHigh:S}}function C(q){const re=q.SIZ,oe=q.currentTile.index,ae=q.tiles[oe],R=re.Csiz;for(let L=0;L<R;L++){const k=ae.components[L],z=k.codingStyleParameters.decompositionLevelsCount,P=[],K=[];for(let te=0;te<=z;te++){const X=v(q,k,te),ee={},G=1<<z-te;ee.trx0=Math.ceil(k.tcx0/G),ee.try0=Math.ceil(k.tcy0/G),ee.trx1=Math.ceil(k.tcx1/G),ee.try1=Math.ceil(k.tcy1/G),ee.resLevel=te,b(q,ee,X),P.push(ee);let ne;if(te===0)ne={},ne.type="LL",ne.tbx0=Math.ceil(k.tcx0/G),ne.tby0=Math.ceil(k.tcy0/G),ne.tbx1=Math.ceil(k.tcx1/G),ne.tby1=Math.ceil(k.tcy1/G),ne.resolution=ee,g(q,ne,X),K.push(ne),ee.subbands=[ne];else{const se=1<<z-te+1,le=[];ne={},ne.type="HL",ne.tbx0=Math.ceil(k.tcx0/se-.5),ne.tby0=Math.ceil(k.tcy0/se),ne.tbx1=Math.ceil(k.tcx1/se-.5),ne.tby1=Math.ceil(k.tcy1/se),ne.resolution=ee,g(q,ne,X),K.push(ne),le.push(ne),ne={},ne.type="LH",ne.tbx0=Math.ceil(k.tcx0/se),ne.tby0=Math.ceil(k.tcy0/se-.5),ne.tbx1=Math.ceil(k.tcx1/se),ne.tby1=Math.ceil(k.tcy1/se-.5),ne.resolution=ee,g(q,ne,X),K.push(ne),le.push(ne),ne={},ne.type="HH",ne.tbx0=Math.ceil(k.tcx0/se-.5),ne.tby0=Math.ceil(k.tcy0/se-.5),ne.tbx1=Math.ceil(k.tcx1/se-.5),ne.tby1=Math.ceil(k.tcy1/se-.5),ne.resolution=ee,g(q,ne,X),K.push(ne),le.push(ne),ee.subbands=le}}k.resolutions=P,k.subbands=K}const S=ae.codingStyleDefaultParameters.progressionOrder;switch(S){case 0:ae.packetsIterator=new f(q);break;case 1:ae.packetsIterator=new E(q);break;case 2:ae.packetsIterator=new A(q);break;case 3:ae.packetsIterator=new O(q);break;case 4:ae.packetsIterator=new T(q);break;default:throw new e(`Unsupported progression order ${S}`)}}function B(q,re,oe,ae){let R=0,S,L=0,k=!1;function z(he){for(;L<he;){const be=re[oe+R];R++,k?(S=S<<7|be,L+=7,k=!1):(S=S<<8|be,L+=8),be===255&&(k=!0)}return L-=he,S>>>L&(1<<he)-1}function P(he){return re[oe+R-1]===255&&re[oe+R]===he?(K(1),!0):re[oe+R]===255&&re[oe+R+1]===he?(K(2),!0):!1}function K(he){R+=he}function te(){L=0,k&&(R++,k=!1)}function X(){if(z(1)===0)return 1;if(z(1)===0)return 2;let he=z(2);return he<3?he+3:(he=z(5),he<31?he+6:(he=z(7),he+37))}const ee=q.currentTile.index,G=q.tiles[ee],ne=q.COD.sopMarkerUsed,se=q.COD.ephMarkerUsed,le=G.packetsIterator;for(;R<ae;){te(),ne&&P(145)&&K(4);const he=le.nextPacket();if(!z(1))continue;const be=he.layerNumber,ye=[];let de;for(let xe=0,fe=he.codeblocks.length;xe<fe;xe++){de=he.codeblocks[xe];let ce=de.precinct;const ue=de.cbx-ce.cbxMin,ve=de.cby-ce.cbyMin;let Ee=!1,Me=!1,_e,ze;if(de.included!==void 0)Ee=!!z(1);else{ce=de.precinct;let Ie;if(ce.inclusionTree!==void 0)Ie=ce.inclusionTree;else{const Te=ce.cbxMax-ce.cbxMin+1,Ae=ce.cbyMax-ce.cbyMin+1;Ie=new N(Te,Ae,be),ze=new H(Te,Ae),ce.inclusionTree=Ie,ce.zeroBitPlanesTree=ze;for(let ge=0;ge<be;ge++)if(z(1)!==0)throw new e("Invalid tag tree")}if(Ie.reset(ue,ve,be))for(;;)if(z(1)){if(_e=!Ie.nextLevel(),_e){de.included=!0,Ee=Me=!0;break}}else{Ie.incrementValue(be);break}}if(!Ee)continue;if(Me){for(ze=ce.zeroBitPlanesTree,ze.reset(ue,ve);;)if(z(1)){if(_e=!ze.nextLevel(),_e)break}else ze.incrementValue();de.zeroBitPlanes=ze.value}const We=X();for(;z(1);)de.Lblock++;const Ve=(0,l.log2)(We),Ne=(We<1<<Ve?Ve-1:Ve)+de.Lblock,ke=z(Ne);ye.push({codeblock:de,codingpasses:We,dataLength:ke})}for(te(),se&&P(146);ye.length>0;){const xe=ye.shift();de=xe.codeblock,de.data===void 0&&(de.data=[]),de.data.push({data:re,start:oe+R,end:oe+R+xe.dataLength,codingpasses:xe.codingpasses}),R+=xe.dataLength}}return R}function M(q,re,oe,ae,R,S,L,k,z){const P=ae.tbx0,K=ae.tby0,te=ae.tbx1-ae.tbx0,X=ae.codeblocks,ee=ae.type.charAt(0)==="H"?1:0,G=ae.type.charAt(1)==="H"?re:0;for(let ne=0,se=X.length;ne<se;++ne){const le=X[ne],he=le.tbx1_-le.tbx0_,be=le.tby1_-le.tby0_;if(he===0||be===0||le.data===void 0)continue;const ye=new U(he,be,le.subbandType,le.zeroBitPlanes,S);let de=2;const xe=le.data;let fe=0,ce=0,ue,ve,Ee;for(ue=0,ve=xe.length;ue<ve;ue++)Ee=xe[ue],fe+=Ee.end-Ee.start,ce+=Ee.codingpasses;const Me=new Uint8Array(fe);let _e=0;for(ue=0,ve=xe.length;ue<ve;ue++){Ee=xe[ue];const Be=Ee.data.subarray(Ee.start,Ee.end);Me.set(Be,_e),_e+=Be.length}const ze=new d.ArithmeticDecoder(Me,0,fe);for(ye.setDecoder(ze),ue=0;ue<ce;ue++){switch(de){case 0:ye.runSignificancePropagationPass();break;case 1:ye.runMagnitudeRefinementPass();break;case 2:ye.runCleanupPass(),k&&ye.checkSegmentationSymbol();break}z&&ye.reset(),de=(de+1)%3}let We=le.tbx0_-P+(le.tby0_-K)*te;const Ve=ye.coefficentsSign,Ne=ye.coefficentsMagnitude,ke=ye.bitsDecoded,Ie=L?0:.5;let Te,Ae,ge;_e=0;const Ce=ae.type!=="LL";for(ue=0;ue<be;ue++){const Ye=2*(We/te|0)*(re-te)+ee+G;for(Te=0;Te<he;Te++){if(Ae=Ne[_e],Ae!==0){Ae=(Ae+Ie)*R,Ve[_e]!==0&&(Ae=-Ae),ge=ke[_e];const Je=Ce?Ye+(We<<1):We;q[Je]=L&&ge>=S?Ae:Ae*(1<<S-ge)}We++,_e++}We+=te-he}}}function I(q,re,oe){const ae=re.components[oe],R=ae.codingStyleParameters,S=ae.quantizationParameters,L=R.decompositionLevelsCount,k=S.SPqcds,z=S.scalarExpounded,P=S.guardBits,K=R.segmentationSymbolUsed,te=R.resetContextProbabilities,X=q.components[oe].precision,ee=R.reversibleTransformation,G=ee?new V:new _,ne=[];let se=0;for(let he=0;he<=L;he++){const be=ae.resolutions[he],ye=be.trx1-be.trx0,de=be.try1-be.try0,xe=new Float32Array(ye*de);for(let fe=0,ce=be.subbands.length;fe<ce;fe++){let ue,ve;z?(ue=k[se].mu,ve=k[se].epsilon,se++):(ue=k[0].mu,ve=k[0].epsilon+(he>0?1-he:0));const Ee=be.subbands[fe],Me=r[Ee.type],_e=ee?1:2**(X+Me-ve)*(1+ue/2048),ze=P+ve-1;M(xe,ye,de,Ee,_e,ze,ee,K,te)}ne.push({width:ye,height:de,items:xe})}const le=G.calculate(ne,ae.tcx0,ae.tcy0);return{left:ae.tcx0,top:ae.tcy0,width:le.width,height:le.height,items:le.items}}function W(q){const re=q.SIZ,oe=q.components,ae=re.Csiz,R=[];for(let S=0,L=q.tiles.length;S<L;S++){const k=q.tiles[S],z=[];for(let ye=0;ye<ae;ye++)z[ye]=I(q,k,ye);const P=z[0],K=new Uint8ClampedArray(P.items.length*ae),te={left:P.left,top:P.top,width:P.width,height:P.height,items:K};let X,ee,G=0,ne,se,le,he,be;if(k.codingStyleDefaultParameters.multipleComponentTransform){const ye=ae===4,de=z[0].items,xe=z[1].items,fe=z[2].items,ce=ye?z[3].items:null;X=oe[0].precision-8,ee=(128<<X)+.5;const ue=k.components[0],ve=ae-3;if(se=de.length,ue.codingStyleParameters.reversibleTransformation)for(ne=0;ne<se;ne++,G+=ve){le=de[ne]+ee,he=xe[ne],be=fe[ne];const Ee=le-(be+he>>2);K[G++]=Ee+be>>X,K[G++]=Ee>>X,K[G++]=Ee+he>>X}else for(ne=0;ne<se;ne++,G+=ve)le=de[ne]+ee,he=xe[ne],be=fe[ne],K[G++]=le+1.402*be>>X,K[G++]=le-.34413*he-.71414*be>>X,K[G++]=le+1.772*he>>X;if(ye)for(ne=0,G=3;ne<se;ne++,G+=4)K[G]=ce[ne]+ee>>X}else for(let ye=0;ye<ae;ye++){const de=z[ye].items;for(X=oe[ye].precision-8,ee=(128<<X)+.5,G=ye,ne=0,se=de.length;ne<se;ne++)K[G]=de[ne]+ee>>X,G+=ae}R.push(te)}return R}function J(q,re){const ae=q.SIZ.Csiz,R=q.tiles[re];for(let S=0;S<ae;S++){const L=R.components[S],k=q.currentTile.QCC[S]!==void 0?q.currentTile.QCC[S]:q.currentTile.QCD;L.quantizationParameters=k;const z=q.currentTile.COC[S]!==void 0?q.currentTile.COC[S]:q.currentTile.COD;L.codingStyleParameters=z}R.codingStyleDefaultParameters=q.currentTile.COD}class H{constructor(re,oe){const ae=(0,l.log2)(Math.max(re,oe))+1;this.levels=[];for(let R=0;R<ae;R++){const S={width:re,height:oe,items:[]};this.levels.push(S),re=Math.ceil(re/2),oe=Math.ceil(oe/2)}}reset(re,oe){let ae=0,R=0,S;for(;ae<this.levels.length;){S=this.levels[ae];const L=re+oe*S.width;if(S.items[L]!==void 0){R=S.items[L];break}S.index=L,re>>=1,oe>>=1,ae++}ae--,S=this.levels[ae],S.items[S.index]=R,this.currentLevel=ae,delete this.value}incrementValue(){const re=this.levels[this.currentLevel];re.items[re.index]++}nextLevel(){let re=this.currentLevel,oe=this.levels[re];const ae=oe.items[oe.index];return re--,re<0?(this.value=ae,!1):(this.currentLevel=re,oe=this.levels[re],oe.items[oe.index]=ae,!0)}}class N{constructor(re,oe,ae){const R=(0,l.log2)(Math.max(re,oe))+1;this.levels=[];for(let S=0;S<R;S++){const L=new Uint8Array(re*oe);for(let z=0,P=L.length;z<P;z++)L[z]=ae;const k={width:re,height:oe,items:L};this.levels.push(k),re=Math.ceil(re/2),oe=Math.ceil(oe/2)}}reset(re,oe,ae){let R=0;for(;R<this.levels.length;){const S=this.levels[R],L=re+oe*S.width;S.index=L;const k=S.items[L];if(k===255)break;if(k>ae)return this.currentLevel=R,this.propagateValues(),!1;re>>=1,oe>>=1,R++}return this.currentLevel=R-1,!0}incrementValue(re){const oe=this.levels[this.currentLevel];oe.items[oe.index]=re+1,this.propagateValues()}propagateValues(){let re=this.currentLevel,oe=this.levels[re];const ae=oe.items[oe.index];for(;--re>=0;)oe=this.levels[re],oe.items[oe.index]=ae}nextLevel(){let re=this.currentLevel,oe=this.levels[re];const ae=oe.items[oe.index];return oe.items[oe.index]=255,re--,re<0?!1:(this.currentLevel=re,oe=this.levels[re],oe.items[oe.index]=ae,!0)}}const Z=class{constructor(re,oe,ae,R,S){this.width=re,this.height=oe;let L;ae==="HH"?L=Z.HHContextLabel:ae==="HL"?L=Z.HLContextLabel:L=Z.LLAndLHContextsLabel,this.contextLabelTable=L;const k=re*oe;this.neighborsSignificance=new Uint8Array(k),this.coefficentsSign=new Uint8Array(k);let z;S>14?z=new Uint32Array(k):S>6?z=new Uint16Array(k):z=new Uint8Array(k),this.coefficentsMagnitude=z,this.processingFlags=new Uint8Array(k);const P=new Uint8Array(k);if(R!==0)for(let K=0;K<k;K++)P[K]=R;this.bitsDecoded=P,this.reset()}setDecoder(re){this.decoder=re}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[Z.UNIFORM_CONTEXT]=92,this.contexts[Z.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(re,oe,ae){const R=this.neighborsSignificance,S=this.width,L=this.height,k=oe>0,z=oe+1<S;let P;re>0&&(P=ae-S,k&&(R[P-1]+=16),z&&(R[P+1]+=16),R[P]+=4),re+1<L&&(P=ae+S,k&&(R[P-1]+=16),z&&(R[P+1]+=16),R[P]+=4),k&&(R[ae-1]+=1),z&&(R[ae+1]+=1),R[ae]|=128}runSignificancePropagationPass(){const re=this.decoder,oe=this.width,ae=this.height,R=this.coefficentsMagnitude,S=this.coefficentsSign,L=this.neighborsSignificance,k=this.processingFlags,z=this.contexts,P=this.contextLabelTable,K=this.bitsDecoded,te=-2,X=1,ee=2;for(let G=0;G<ae;G+=4)for(let ne=0;ne<oe;ne++){let se=G*oe+ne;for(let le=0;le<4;le++,se+=oe){const he=G+le;if(he>=ae)break;if(k[se]&=te,R[se]||!L[se])continue;const be=P[L[se]];if(re.readBit(z,be)){const de=this.decodeSignBit(he,ne,se);S[se]=de,R[se]=1,this.setNeighborsSignificance(he,ne,se),k[se]|=ee}K[se]++,k[se]|=X}}}decodeSignBit(re,oe,ae){const R=this.width,S=this.height,L=this.coefficentsMagnitude,k=this.coefficentsSign;let z,P,K,te,X,ee;te=oe>0&&L[ae-1]!==0,oe+1<R&&L[ae+1]!==0?(K=k[ae+1],te?(P=k[ae-1],z=1-K-P):z=1-K-K):te?(P=k[ae-1],z=1-P-P):z=0;const G=3*z;return te=re>0&&L[ae-R]!==0,re+1<S&&L[ae+R]!==0?(K=k[ae+R],te?(P=k[ae-R],z=1-K-P+G):z=1-K-K+G):te?(P=k[ae-R],z=1-P-P+G):z=G,z>=0?(X=9+z,ee=this.decoder.readBit(this.contexts,X)):(X=9-z,ee=this.decoder.readBit(this.contexts,X)^1),ee}runMagnitudeRefinementPass(){const re=this.decoder,oe=this.width,ae=this.height,R=this.coefficentsMagnitude,S=this.neighborsSignificance,L=this.contexts,k=this.bitsDecoded,z=this.processingFlags,P=1,K=2,te=oe*ae,X=oe*4;for(let ee=0,G;ee<te;ee=G){G=Math.min(te,ee+X);for(let ne=0;ne<oe;ne++)for(let se=ee+ne;se<G;se+=oe){if(!R[se]||(z[se]&P)!==0)continue;let le=16;(z[se]&K)!==0&&(z[se]^=K,le=(S[se]&127)===0?15:14);const he=re.readBit(L,le);R[se]=R[se]<<1|he,k[se]++,z[se]|=P}}}runCleanupPass(){const re=this.decoder,oe=this.width,ae=this.height,R=this.neighborsSignificance,S=this.coefficentsMagnitude,L=this.coefficentsSign,k=this.contexts,z=this.contextLabelTable,P=this.bitsDecoded,K=this.processingFlags,te=1,X=2,ee=oe,G=oe*2,ne=oe*3;let se;for(let le=0;le<ae;le=se){se=Math.min(le+4,ae);const he=le*oe,be=le+3<ae;for(let ye=0;ye<oe;ye++){const de=he+ye,xe=be&&K[de]===0&&K[de+ee]===0&&K[de+G]===0&&K[de+ne]===0&&R[de]===0&&R[de+ee]===0&&R[de+G]===0&&R[de+ne]===0;let fe=0,ce=de,ue=le,ve;if(xe){if(!re.readBit(k,Z.RUNLENGTH_CONTEXT)){P[de]++,P[de+ee]++,P[de+G]++,P[de+ne]++;continue}fe=re.readBit(k,Z.UNIFORM_CONTEXT)<<1|re.readBit(k,Z.UNIFORM_CONTEXT),fe!==0&&(ue=le+fe,ce+=fe*oe),ve=this.decodeSignBit(ue,ye,ce),L[ce]=ve,S[ce]=1,this.setNeighborsSignificance(ue,ye,ce),K[ce]|=X,ce=de;for(let Me=le;Me<=ue;Me++,ce+=oe)P[ce]++;fe++}for(ue=le+fe;ue<se;ue++,ce+=oe){if(S[ce]||(K[ce]&te)!==0)continue;const Ee=z[R[ce]];re.readBit(k,Ee)===1&&(ve=this.decodeSignBit(ue,ye,ce),L[ce]=ve,S[ce]=1,this.setNeighborsSignificance(ue,ye,ce),K[ce]|=X),P[ce]++}}}}checkSegmentationSymbol(){const re=this.decoder,oe=this.contexts;if((re.readBit(oe,Z.UNIFORM_CONTEXT)<<3|re.readBit(oe,Z.UNIFORM_CONTEXT)<<2|re.readBit(oe,Z.UNIFORM_CONTEXT)<<1|re.readBit(oe,Z.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}};let U=Z;Ct(U,"UNIFORM_CONTEXT",17),Ct(U,"RUNLENGTH_CONTEXT",18),Ct(U,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),Ct(U,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),Ct(U,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));class Y{constructor(){this.constructor===Y&&(0,i.unreachable)("Cannot initialize Transform.")}calculate(re,oe,ae){let R=re[0];for(let S=1,L=re.length;S<L;S++)R=this.iterate(R,re[S],oe,ae);return R}extend(re,oe,ae){let R=oe-1,S=oe+1,L=oe+ae-2,k=oe+ae;re[R--]=re[S++],re[k++]=re[L--],re[R--]=re[S++],re[k++]=re[L--],re[R--]=re[S++],re[k++]=re[L--],re[R]=re[S],re[k]=re[L]}filter(re,oe,ae){(0,i.unreachable)("Abstract method `filter` called")}iterate(re,oe,ae,R){const S=re.width,L=re.height;let k=re.items;const z=oe.width,P=oe.height,K=oe.items;let te,X,ee,G,ne,se;for(ee=0,te=0;te<L;te++)for(G=te*2*z,X=0;X<S;X++,ee++,G+=2)K[G]=k[ee];k=re.items=null;const le=4,he=new Float32Array(z+2*le);if(z===1){if((ae&1)!==0)for(se=0,ee=0;se<P;se++,ee+=z)K[ee]*=.5}else for(se=0,ee=0;se<P;se++,ee+=z)he.set(K.subarray(ee,ee+z),le),this.extend(he,le,z),this.filter(he,le,z),K.set(he.subarray(le,le+z),ee);let be=16;const ye=[];for(te=0;te<be;te++)ye.push(new Float32Array(P+2*le));let de,xe=0;if(re=le+P,P===1){if((R&1)!==0)for(ne=0;ne<z;ne++)K[ne]*=.5}else for(ne=0;ne<z;ne++){if(xe===0){for(be=Math.min(z-ne,be),ee=ne,G=le;G<re;ee+=z,G++)for(de=0;de<be;de++)ye[de][G]=K[ee+de];xe=be}xe--;const fe=ye[xe];if(this.extend(fe,le,P),this.filter(fe,le,P),xe===0)for(ee=ne-be+1,G=le;G<re;ee+=z,G++)for(de=0;de<be;de++)K[ee+de]=ye[de][G]}return{width:z,height:P,items:K}}}class _ extends Y{filter(re,oe,ae){const R=ae>>1;oe|=0;let S,L,k,z;const P=-1.586134342059924,K=-.052980118572961,te=.882911075530934,X=.443506852043971,ee=1.230174104914001,G=1/ee;for(S=oe-3,L=R+4;L--;S+=2)re[S]*=G;for(S=oe-2,k=X*re[S-1],L=R+3;L--&&(z=X*re[S+1],re[S]=ee*re[S]-k-z,L--);S+=2)S+=2,k=X*re[S+1],re[S]=ee*re[S]-k-z;for(S=oe-1,k=te*re[S-1],L=R+2;L--&&(z=te*re[S+1],re[S]-=k+z,L--);S+=2)S+=2,k=te*re[S+1],re[S]-=k+z;for(S=oe,k=K*re[S-1],L=R+1;L--&&(z=K*re[S+1],re[S]-=k+z,L--);S+=2)S+=2,k=K*re[S+1],re[S]-=k+z;if(R!==0)for(S=oe+1,k=P*re[S-1],L=R;L--&&(z=P*re[S+1],re[S]-=k+z,L--);S+=2)S+=2,k=P*re[S+1],re[S]-=k+z}}class V extends Y{filter(re,oe,ae){const R=ae>>1;oe|=0;let S,L;for(S=oe,L=R+1;L--;S+=2)re[S]-=re[S-1]+re[S+1]+2>>2;for(S=oe+1,L=R;L--;S+=2)re[S]+=re[S-1]+re[S+1]>>1}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LZWStream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(169);class l extends i.DecodeStream{constructor(e,r,p){super(r),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const x=4096,y={earlyChange:p,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(x),dictionaryLengths:new Uint16Array(x),dictionaryPrevCodes:new Uint16Array(x),currentSequence:new Uint8Array(x),currentSequenceLength:0};for(let v=0;v<256;++v)y.dictionaryValues[v]=v,y.dictionaryLengths[v]=1;this.lzwState=y}readBits(e){let r=this.bitsCached,p=this.cachedData;for(;r<e;){const x=this.str.getByte();if(x===-1)return this.eof=!0,null;p=p<<8|x,r+=8}return this.bitsCached=r-=e,this.cachedData=p,this.lastCode=null,p>>>r&(1<<e)-1}readBlock(){let p=1024,x,y,v;const b=this.lzwState;if(!b)return;const g=b.earlyChange;let w=b.nextCode;const f=b.dictionaryValues,E=b.dictionaryLengths,A=b.dictionaryPrevCodes;let O=b.codeLength,T=b.prevCode;const D=b.currentSequence;let F=b.currentSequenceLength,C=0,B=this.bufferLength,M=this.ensureBuffer(this.bufferLength+p);for(x=0;x<512;x++){const I=this.readBits(O),W=F>0;if(I<256)D[0]=I,F=1;else if(I>=258)if(I<w)for(F=E[I],y=F-1,v=I;y>=0;y--)D[y]=f[v],v=A[v];else D[F++]=D[0];else if(I===256){O=9,w=258,F=0;continue}else{this.eof=!0,delete this.lzwState;break}if(W&&(A[w]=T,E[w]=E[T]+1,f[w]=D[0],w++,O=w+g&w+g-1?O:Math.min(Math.log(w+g)/.6931471805599453+1,12)|0),T=I,C+=F,p<C){do p+=512;while(p<C);M=this.ensureBuffer(this.bufferLength+p)}for(y=0;y<F;y++)M[B++]=D[y]}b.nextCode=w,b.codeLength=O,b.prevCode=T,b.currentSequenceLength=F,this.bufferLength=B}}o.LZWStream=l},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PredictorStream=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(169),l=s(151),d=s(145);class e extends i.DecodeStream{constructor(p,x,y){if(super(x),!(y instanceof l.Dict))return p;const v=this.predictor=y.get("Predictor")||1;if(v<=1)return p;if(v!==2&&(v<10||v>15))throw new d.FormatError(`Unsupported predictor: ${v}`);this.readBlock=v===2?this.readBlockTiff:this.readBlockPng,this.str=p,this.dict=p.dict;const b=this.colors=y.get("Colors")||1,g=this.bits=y.get("BPC","BitsPerComponent")||8,w=this.columns=y.get("Columns")||1;return this.pixBytes=b*g+7>>3,this.rowBytes=w*b*g+7>>3,this}readBlockTiff(){const p=this.rowBytes,x=this.bufferLength,y=this.ensureBuffer(x+p),v=this.bits,b=this.colors,g=this.str.getBytes(p);if(this.eof=!g.length,this.eof)return;let w=0,f=0,E=0,A=0,O=x,T;if(v===1&&b===1)for(T=0;T<p;++T){let D=g[T]^w;D^=D>>1,D^=D>>2,D^=D>>4,w=(D&1)<<7,y[O++]=D}else if(v===8){for(T=0;T<b;++T)y[O++]=g[T];for(;T<p;++T)y[O]=y[O-b]+g[T],O++}else if(v===16){const D=b*2;for(T=0;T<D;++T)y[O++]=g[T];for(;T<p;T+=2){const F=((g[T]&255)<<8)+(g[T+1]&255)+((y[O-D]&255)<<8)+(y[O-D+1]&255);y[O++]=F>>8&255,y[O++]=F&255}}else{const D=new Uint8Array(b+1),F=(1<<v)-1;let C=0,B=x;const M=this.columns;for(T=0;T<M;++T)for(let I=0;I<b;++I)E<v&&(w=w<<8|g[C++]&255,E+=8),D[I]=D[I]+(w>>E-v)&F,E-=v,f=f<<v|D[I],A+=v,A>=8&&(y[B++]=f>>A-8&255,A-=8);A>0&&(y[B++]=(f<<8-A)+(w&(1<<8-A)-1))}this.bufferLength+=p}readBlockPng(){const p=this.rowBytes,x=this.pixBytes,y=this.str.getByte(),v=this.str.getBytes(p);if(this.eof=!v.length,this.eof)return;const b=this.bufferLength,g=this.ensureBuffer(b+p);let w=g.subarray(b-p,b);w.length===0&&(w=new Uint8Array(p));let f,E=b,A,O;switch(y){case 0:for(f=0;f<p;++f)g[E++]=v[f];break;case 1:for(f=0;f<x;++f)g[E++]=v[f];for(;f<p;++f)g[E]=g[E-x]+v[f]&255,E++;break;case 2:for(f=0;f<p;++f)g[E++]=w[f]+v[f]&255;break;case 3:for(f=0;f<x;++f)g[E++]=(w[f]>>1)+v[f];for(;f<p;++f)g[E]=(w[f]+g[E-x]>>1)+v[f]&255,E++;break;case 4:for(f=0;f<x;++f)A=w[f],O=v[f],g[E++]=A+O;for(;f<p;++f){A=w[f];const T=w[f-x],D=g[E-x],F=D+A-T;let C=F-D;C<0&&(C=-C);let B=F-A;B<0&&(B=-B);let M=F-T;M<0&&(M=-M),O=v[f],C<=B&&C<=M?g[E++]=D+O:B<=M?g[E++]=A+O:g[E++]=T+O}break;default:throw new d.FormatError(`Unsupported predictor: ${y}`)}this.bufferLength+=p}}o.PredictorStream=e},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RunLengthStream=void 0;var i=s(169);class l extends i.DecodeStream{constructor(e,r){super(r),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let r,p=this.bufferLength,x=e[0];if(x<128){if(r=this.ensureBuffer(p+x+1),r[p++]=e[1],x>0){const y=this.str.getBytes(x);r.set(y,p),p+=x}}else{x=257-x;const y=e[1];r=this.ensureBuffer(p+x+1);for(let v=0;v<x;v++)r[p++]=y}this.bufferLength=p}}o.RunLengthStream=l},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Font=o.ErrorFont=void 0,s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(140),s(158),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(145),l=s(186),d=s(189),e=s(191),r=s(190),p=s(188),x=s(192),y=s(193),v=s(194),b=s(195),g=s(196),w=s(197),f=s(165),E=s(198),A=s(150),O=s(155),T=s(199);const D=[[57344,63743],[1048576,1114109]],F=1e3,C=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],B=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function M(de){if(!de.fontMatrix||de.fontMatrix[0]===i.FONT_IDENTITY_MATRIX[0])return;const xe=.001/de.fontMatrix[0],fe=de.widths;for(const ce in fe)fe[ce]*=xe;de.defaultWidth*=xe}function I(de,xe,fe){if(de.isInternalFont||de.hasIncludedToUnicodeMap||de.hasEncoding||de.toUnicode instanceof y.IdentityToUnicodeMap||!xe||fe.length===0||de.defaultEncoding===p.WinAnsiEncoding)return;for(const Ee of fe)if(!P(Ee))return;const ce=p.WinAnsiEncoding,ue=[],ve=(0,r.getGlyphsUnicode)();for(const Ee in ce){const Me=ce[Ee];if(Me==="")continue;const _e=ve[Me];_e!==void 0&&(ue[Ee]=String.fromCharCode(_e))}ue.length>0&&de.toUnicode.amend(ue)}function W(de,xe){if(de.isInternalFont||de.hasIncludedToUnicodeMap||xe===de.defaultEncoding||de.toUnicode instanceof y.IdentityToUnicodeMap)return;const fe=[],ce=(0,r.getGlyphsUnicode)();for(const ue in xe){if(de.hasEncoding&&(de.baseEncodingName||de.differences[ue]!==void 0))continue;const ve=xe[ue],Ee=(0,e.getUnicodeForGlyph)(ve,ce);Ee!==-1&&(fe[ue]=String.fromCharCode(Ee))}fe.length>0&&de.toUnicode.amend(fe)}function J(de){if(!de.fallbackToUnicode||de.toUnicode instanceof y.IdentityToUnicodeMap)return;const xe=[];for(const fe in de.fallbackToUnicode)de.toUnicode.has(fe)||(xe[fe]=de.fallbackToUnicode[fe]);xe.length>0&&de.toUnicode.amend(xe)}class H{constructor(xe,fe,ce,ue,ve,Ee,Me,_e,ze){this.originalCharCode=xe,this.fontChar=fe,this.unicode=ce,this.accent=ue,this.width=ve,this.vmetric=Ee,this.operatorListId=Me,this.isSpace=_e,this.isInFont=ze}get category(){return(0,i.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function N(de,xe){return(de<<8)+xe}function U(de,xe,fe){de[xe+1]=fe,de[xe]=fe>>>8}function Y(de,xe){const fe=(de<<8)+xe;return fe&32768?fe-65536:fe}function _(de,xe,fe,ce){return(de<<24)+(xe<<16)+(fe<<8)+ce}function V(de){return String.fromCharCode(de>>8&255,de&255)}function Z(de){return de>32767?de=32767:de<-32768&&(de=-32768),String.fromCharCode(de>>8&255,de&255)}function q(de){const xe=de.peekBytes(4);return(0,A.readUint32)(xe,0)===65536||(0,i.bytesToString)(xe)==="true"}function re(de){const xe=de.peekBytes(4);return(0,i.bytesToString)(xe)==="ttcf"}function oe(de){const xe=de.peekBytes(4);return(0,i.bytesToString)(xe)==="OTTO"}function ae(de){const xe=de.peekBytes(2);return xe[0]===37&&xe[1]===33||xe[0]===128&&xe[1]===1}function R(de){const xe=de.peekBytes(4);return xe[0]>=1&&xe[3]>=1&&xe[3]<=4}function S(de,xe){let{type:fe,subtype:ce,composite:ue}=xe,ve,Ee;return q(de)||re(de)?ve=ue?"CIDFontType2":"TrueType":oe(de)?ve=ue?"CIDFontType2":"OpenType":ae(de)?ue?ve="CIDFontType0":ve=fe==="MMType1"?"MMType1":"Type1":R(de)?ue?(ve="CIDFontType0",Ee="CIDFontType0C"):(ve=fe==="MMType1"?"MMType1":"Type1",Ee="Type1C"):((0,i.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),ve=fe,Ee=ce),[ve,Ee]}function L(de,xe){for(const fe in xe)de[+fe]=xe[fe]}function k(de,xe,fe){const ce=[];let ue;for(let ve=0,Ee=de.length;ve<Ee;ve++)ue=(0,e.getUnicodeForGlyph)(de[ve],xe),ue!==-1&&(ce[ve]=ue);for(const ve in fe)ue=(0,e.getUnicodeForGlyph)(fe[ve],xe),ue!==-1&&(ce[+ve]=ue);return ce}function z(de){return de.platform===1&&de.encoding===0&&de.language===0}function P(de){return de.platform===3&&de.encoding===1&&de.language===1033}function K(de,xe){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;switch(xe.length){case 1:return xe.charCodeAt(0);case 2:return xe.charCodeAt(0)<<8|xe.charCodeAt(1)}const ce=`Unsupported CID string (charCode ${de}): "${xe}".`;if(fe)throw new i.FormatError(ce);return(0,i.warn)(ce),xe}function te(de,xe,fe,ce){const ue=Object.create(null),ve=new Map,Ee=[],Me=new Set;let _e=0,We=D[_e][0],Ve=D[_e][1];const Ne=ke=>D[0][0]<=ke&&ke<=D[0][1]||D[1][0]<=ke&&ke<=D[1][1];for(let ke in de){ke|=0;let Ie=de[ke];if(!xe(Ie))continue;if(We>Ve){if(_e++,_e>=D.length){(0,i.warn)("Ran out of space in font private use area.");break}We=D[_e][0],Ve=D[_e][1]}const Te=We++;Ie===0&&(Ie=fe);let Ae=ce.get(ke);typeof Ae=="string"&&(Ae=Ae.codePointAt(0)),Ae&&!Ne(Ae)&&!Me.has(Ie)&&(ve.set(Ae,Ie),Me.add(Ie)),ue[Te]=Ie,Ee[ke]=Te}return{toFontChar:Ee,charCodeToGlyphId:ue,toUnicodeExtraMap:ve,nextAvailableFontCharCode:We}}function X(de,xe,fe){const ce=[];for(const Ee in de)de[Ee]>=fe||ce.push({fontCharCode:Ee|0,glyphId:de[Ee]});if(xe)for(const[Ee,Me]of xe)Me>=fe||ce.push({fontCharCode:Ee,glyphId:Me});ce.length===0&&ce.push({fontCharCode:0,glyphId:0}),ce.sort(function(Me,_e){return Me.fontCharCode-_e.fontCharCode});const ue=[],ve=ce.length;for(let Ee=0;Ee<ve;){const Me=ce[Ee].fontCharCode,_e=[ce[Ee].glyphId];++Ee;let ze=Me;for(;Ee<ve&&ze+1===ce[Ee].fontCharCode&&(_e.push(ce[Ee].glyphId),++ze,++Ee,ze!==65535););ue.push([Me,ze,_e])}return ue}function ee(de,xe,fe){const ce=X(de,xe,fe),ue=ce.at(-1)[1]>65535?2:1;let ve="\0\0"+V(ue)+"\0\0"+(0,i.string32)(4+ue*8),Ee,Me,_e,ze;for(Ee=ce.length-1;Ee>=0&&!(ce[Ee][0]<=65535);--Ee);const We=Ee+1;ce[Ee][0]<65535&&ce[Ee][1]===65535&&(ce[Ee][1]=65534);const Ve=ce[Ee][1]<65535?1:0,Ne=We+Ve,ke=E.OpenTypeFileBuilder.getSearchParams(Ne,2);let Ie="",Te="",Ae="",ge="",Ce="",Be=0,Ye,Je,Re,He;for(Ee=0,Me=We;Ee<Me;Ee++){Ye=ce[Ee],Je=Ye[0],Re=Ye[1],Ie+=V(Je),Te+=V(Re),He=Ye[2];let qe=!0;for(_e=1,ze=He.length;_e<ze;++_e)if(He[_e]!==He[_e-1]+1){qe=!1;break}if(qe){const lt=He[0];Ae+=V(lt-Je&65535),ge+=V(0)}else{const lt=(Ne-Ee)*2+Be*2;for(Be+=Re-Je+1,Ae+=V(0),ge+=V(lt),_e=0,ze=He.length;_e<ze;++_e)Ce+=V(He[_e])}}Ve>0&&(Te+="\xFF\xFF",Ie+="\xFF\xFF",Ae+="\0",ge+="\0\0");const nt="\0\0"+V(2*Ne)+V(ke.range)+V(ke.entry)+V(ke.rangeShift)+Te+"\0\0"+Ie+Ae+ge+Ce;let et="",it="";if(ue>1){for(ve+=`\0\0
`+(0,i.string32)(4+ue*8+4+nt.length),et="",Ee=0,Me=ce.length;Ee<Me;Ee++){Ye=ce[Ee],Je=Ye[0],He=Ye[2];let qe=He[0];for(_e=1,ze=He.length;_e<ze;++_e)He[_e]!==He[_e-1]+1&&(Re=Ye[0]+_e-1,et+=(0,i.string32)(Je)+(0,i.string32)(Re)+(0,i.string32)(qe),Je=Re+1,qe=He[_e]);et+=(0,i.string32)(Je)+(0,i.string32)(Ye[1])+(0,i.string32)(qe)}it="\0\f\0\0"+(0,i.string32)(et.length+16)+"\0\0\0\0"+(0,i.string32)(et.length/12)}return ve+"\0"+V(nt.length+4)+nt+it+et}function G(de,xe){xe.pos=(xe.start||0)+de.offset;const fe=xe.getUint16();xe.skip(60);const ce=xe.getUint16();if(fe<4&&ce&768)return!1;const ue=xe.getUint16(),ve=xe.getUint16();return ue>ve||(xe.skip(6),xe.getUint16()===0)?!1:(de.data[8]=de.data[9]=0,!0)}function ne(de,xe,fe){fe||(fe={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let ce=0,ue=0,ve=0,Ee=0,Me=null,_e=0,ze=-1;if(xe){for(let ge in xe)if(ge|=0,(Me>ge||!Me)&&(Me=ge),_e<ge&&(_e=ge),ze=(0,e.getUnicodeRangeFor)(ge,ze),ze<32)ce|=1<<ze;else if(ze<64)ue|=1<<ze-32;else if(ze<96)ve|=1<<ze-64;else if(ze<123)Ee|=1<<ze-96;else throw new i.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");_e>65535&&(_e=65535)}else Me=0,_e=255;const We=de.bbox||[0,0,0,0],Ve=fe.unitsPerEm||1/(de.fontMatrix||i.FONT_IDENTITY_MATRIX)[0],Ne=de.ascentScaled?1:Ve/F,ke=fe.ascent||Math.round(Ne*(de.ascent||We[3]));let Ie=fe.descent||Math.round(Ne*(de.descent||We[1]));Ie>0&&de.descent>0&&We[1]<0&&(Ie=-Ie);const Te=fe.yMax||ke,Ae=-fe.yMin||-Ie;return"\0$\xF4\0\0\0\x8A\xBB\0\0\0\x8C\x8A\xBB\0\0\xDF\x001\0\0\0\0"+String.fromCharCode(de.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,i.string32)(ce)+(0,i.string32)(ue)+(0,i.string32)(ve)+(0,i.string32)(Ee)+"*21*"+V(de.italicAngle?1:0)+V(Me||de.firstChar)+V(_e||de.lastChar)+V(ke)+V(Ie)+"\0d"+V(Te)+V(Ae)+"\0\0\0\0\0\0\0\0"+V(de.xHeight)+V(de.capHeight)+V(0)+V(Me||de.firstChar)+"\0"}function se(de){const xe=Math.floor(de.italicAngle*65536);return"\0\0\0"+(0,i.string32)(xe)+"\0\0\0\0"+(0,i.string32)(de.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function le(de){return de.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function he(de,xe){xe||(xe=[[],[]]);const fe=[xe[0][0]||"Original licence",xe[0][1]||de,xe[0][2]||"Unknown",xe[0][3]||"uniqueID",xe[0][4]||de,xe[0][5]||"Version 0.11",xe[0][6]||le(de),xe[0][7]||"Unknown",xe[0][8]||"Unknown",xe[0][9]||"Unknown"],ce=[];let ue,ve,Ee,Me,_e;for(ue=0,ve=fe.length;ue<ve;ue++){_e=xe[1][ue]||fe[ue];const Ae=[];for(Ee=0,Me=_e.length;Ee<Me;Ee++)Ae.push(V(_e.charCodeAt(Ee)));ce.push(Ae.join(""))}const ze=[fe,ce],We=["\0","\0"],Ve=["\0\0","\0"],Ne=["\0\0","	"],ke=fe.length*We.length;let Ie="\0\0"+V(ke)+V(ke*12+6),Te=0;for(ue=0,ve=We.length;ue<ve;ue++){const Ae=ze[ue];for(Ee=0,Me=Ae.length;Ee<Me;Ee++){_e=Ae[Ee];const ge=We[ue]+Ve[ue]+Ne[ue]+V(Ee)+V(_e.length)+V(Te);Ie+=ge,Te+=_e.length}}return Ie+=fe.join("")+ce.join(""),Ie}class be{constructor(xe,fe,ce){var ze;this.name=xe,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=ce.loadedName,this.isType3Font=ce.isType3Font,this.missingFile=!1,this.cssFontInfo=ce.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let ue=!!(ce.flags&d.FontFlags.Serif);if(!ue&&!ce.isSimulatedFlags){const We=xe.replaceAll(/[,_]/g,"-").split("-")[0],Ve=(0,x.getSerifFonts)();for(const Ne of We.split("+"))if(Ve[Ne]){ue=!0;break}}this.isSerifFont=ue,this.isSymbolicFont=!!(ce.flags&d.FontFlags.Symbolic),this.isMonospace=!!(ce.flags&d.FontFlags.FixedPitch);let{type:ve,subtype:Ee}=ce;this.type=ve,this.subtype=Ee,this.systemFontInfo=ce.systemFontInfo;const Me=xe.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!Me,this.isInvalidPDFjsFont?this.fallbackName=Me[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(ze=this.systemFontInfo)!=null&&ze.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=ce.differences,this.widths=ce.widths,this.defaultWidth=ce.defaultWidth,this.composite=ce.composite,this.cMap=ce.cMap,this.capHeight=ce.capHeight/F,this.ascent=ce.ascent/F,this.descent=ce.descent/F,this.lineHeight=this.ascent-this.descent,this.fontMatrix=ce.fontMatrix,this.bbox=ce.bbox,this.defaultEncoding=ce.defaultEncoding,this.toUnicode=ce.toUnicode,this.toFontChar=[],ce.type==="Type3"){for(let We=0;We<256;We++)this.toFontChar[We]=this.differences[We]||ce.defaultEncoding[We];return}if(this.cidEncoding=ce.cidEncoding||"",this.vertical=!!ce.vertical,this.vertical&&(this.vmetrics=ce.vmetrics,this.defaultVMetrics=ce.defaultVMetrics),!fe||fe.isEmpty){fe&&(0,i.warn)('Font file is empty in "'+xe+'" ('+this.loadedName+")"),this.fallbackToSystemFont(ce);return}[ve,Ee]=S(fe,ce),(ve!==this.type||Ee!==this.subtype)&&(0,i.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${ve}/${Ee}.`);let _e;try{switch(ve){case"MMType1":(0,i.info)("MMType1 font ("+xe+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const We=Ee==="Type1C"||Ee==="CIDFontType0C"?new v.CFFFont(fe,ce):new T.Type1Font(xe,fe,ce);M(ce),_e=this.convert(xe,We,ce);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",_e=this.checkAndRepair(xe,fe,ce),this.isOpenType&&(M(ce),ve="OpenType");break;default:throw new i.FormatError(`Font ${ve} is not supported`)}}catch(We){(0,i.warn)(We),this.fallbackToSystemFont(ce);return}J(ce),this.data=_e,this.type=ve,this.subtype=Ee,this.fontMatrix=ce.fontMatrix,this.widths=ce.widths,this.defaultWidth=ce.defaultWidth,this.toUnicode=ce.toUnicode,this.seacMap=ce.seacMap}get renderer(){const xe=b.FontRendererFactory.create(this,d.SEAC_ANALYSIS_ENABLED);return(0,i.shadow)(this,"renderer",xe)}exportData(){const fe=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?[...C,...B]:C,ce=Object.create(null);let ue,ve;for(ue of fe)ve=this[ue],ve!==void 0&&(ce[ue]=ve);return ce}fallbackToSystemFont(xe){this.missingFile=!0;const{name:fe,type:ce}=this;let ue=(0,d.normalizeFontName)(fe);const ve=(0,x.getStdFontMap)(),Ee=(0,x.getNonStdFontMap)(),Me=!!ve[ue],_e=!!(Ee[ue]&&ve[Ee[ue]]);ue=ve[ue]||Ee[ue]||ue;const We=(0,g.getFontBasicMetrics)()[ue];We&&(isNaN(this.ascent)&&(this.ascent=We.ascent/F),isNaN(this.descent)&&(this.descent=We.descent/F),isNaN(this.capHeight)&&(this.capHeight=We.capHeight/F)),this.bold=/bold/gi.test(ue),this.italic=/oblique|italic/gi.test(ue),this.black=/Black/g.test(fe);const Ve=/Narrow/g.test(fe);if(this.remeasure=(!Me||Ve)&&Object.keys(this.widths).length>0,(Me||_e)&&ce==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Ne=xe.cidToGidMap,ke=[];if(L(ke,(0,x.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(fe)?L(ke,(0,x.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(fe)&&L(ke,(0,x.getSupplementalGlyphMapForCalibri)()),Ne){for(const Ie in ke){const Te=ke[Ie];Ne[Te]!==void 0&&(ke[+Ie]=Ne[Te])}Ne.length!==this.toUnicode.length&&xe.hasIncludedToUnicodeMap&&this.toUnicode instanceof y.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Ie,Te){const Ae=ke[Ie];Ne[Ae]===void 0&&(ke[+Ie]=Te)})}this.toUnicode instanceof y.IdentityToUnicodeMap||this.toUnicode.forEach(function(Ie,Te){ke[+Ie]=Te}),this.toFontChar=ke,this.toUnicode=new y.ToUnicodeMap(ke)}else if(/Symbol/i.test(ue))this.toFontChar=k(p.SymbolSetEncoding,(0,r.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(ue))this.toFontChar=k(p.ZapfDingbatsEncoding,(0,r.getDingbatsGlyphsUnicode)(),this.differences);else if(Me){const Ne=k(this.defaultEncoding,(0,r.getGlyphsUnicode)(),this.differences);ce==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof y.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(ke,Ie){Ne[+ke]=Ie}),this.toFontChar=Ne}else{const Ne=(0,r.getGlyphsUnicode)(),ke=[];this.toUnicode.forEach((Ie,Te)=>{if(!this.composite){const Ae=this.differences[Ie]||this.defaultEncoding[Ie],ge=(0,e.getUnicodeForGlyph)(Ae,Ne);ge!==-1&&(Te=ge)}ke[+Ie]=Te}),this.composite&&this.toUnicode instanceof y.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(fe)&&L(ke,(0,x.getGlyphMapForStandardFonts)()),this.toFontChar=ke}J(xe),this.loadedName=ue.split("-")[0]}checkAndRepair(xe,fe,ce){var je,Ze,ot;const ue=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function ve(Ke,Ge){const tt=Object.create(null);tt["OS/2"]=null,tt.cmap=null,tt.head=null,tt.hhea=null,tt.hmtx=null,tt.maxp=null,tt.name=null,tt.post=null;for(let at=0;at<Ge;at++){const st=Ee(Ke);!ue.includes(st.tag)||st.length!==0&&(tt[st.tag]=st)}return tt}function Ee(Ke){const Ge=Ke.getString(4),tt=Ke.getInt32()>>>0,at=Ke.getInt32()>>>0,st=Ke.getInt32()>>>0,ft=Ke.pos;Ke.pos=Ke.start||0,Ke.skip(at);const pt=Ke.getBytes(st);return Ke.pos=ft,Ge==="head"&&(pt[8]=pt[9]=pt[10]=pt[11]=0,pt[17]|=32),{tag:Ge,checksum:tt,length:st,offset:at,data:pt}}function Me(Ke){return{version:Ke.getString(4),numTables:Ke.getUint16(),searchRange:Ke.getUint16(),entrySelector:Ke.getUint16(),rangeShift:Ke.getUint16()}}function _e(Ke){const Ge=Ke.getString(4);(0,i.assert)(Ge==="ttcf","Must be a TrueType Collection font.");const tt=Ke.getUint16(),at=Ke.getUint16(),st=Ke.getInt32()>>>0,ft=[];for(let ct=0;ct<st;ct++)ft.push(Ke.getInt32()>>>0);const pt={ttcTag:Ge,majorVersion:tt,minorVersion:at,numFonts:st,offsetTable:ft};switch(tt){case 1:return pt;case 2:return pt.dsigTag=Ke.getInt32()>>>0,pt.dsigLength=Ke.getInt32()>>>0,pt.dsigOffset=Ke.getInt32()>>>0,pt}throw new i.FormatError(`Invalid TrueType Collection majorVersion: ${tt}.`)}function ze(Ke,Ge){var pt;const{numFonts:tt,offsetTable:at}=_e(Ke),st=Ge.split("+");let ft;for(let ct=0;ct<tt;ct++){Ke.pos=(Ke.start||0)+at[ct];const yt=Me(Ke),bt=ve(Ke,yt.numTables);if(!bt.name)throw new i.FormatError('TrueType Collection font must contain a "name" table.');const[Et]=Ae(bt.name);for(let wt=0,Tt=Et.length;wt<Tt;wt++)for(let Mt=0,St=Et[wt].length;Mt<St;Mt++){const Pt=(pt=Et[wt][Mt])==null?void 0:pt.replaceAll(/\s/g,"");if(!!Pt){if(Pt===Ge)return{header:yt,tables:bt};if(!(st.length<2))for(const vt of st)Pt===vt&&(ft={name:vt,header:yt,tables:bt})}}}if(ft)return(0,i.warn)(`TrueType Collection does not contain "${Ge}" font, falling back to "${ft.name}" font instead.`),{header:ft.header,tables:ft.tables};throw new i.FormatError(`TrueType Collection does not contain "${Ge}" font.`)}function We(Ke,Ge,tt,at){if(!Ke)return(0,i.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let st,ft=(Ge.start||0)+Ke.offset;Ge.pos=ft,Ge.skip(2);const pt=Ge.getUint16();let ct,yt=!1;for(let St=0;St<pt;St++){const Pt=Ge.getUint16(),vt=Ge.getUint16(),Lt=Ge.getInt32()>>>0;let _t=!1;if(!((ct==null?void 0:ct.platformId)===Pt&&(ct==null?void 0:ct.encodingId)===vt)){if(Pt===0&&(vt===0||vt===1||vt===3))_t=!0;else if(Pt===1&&vt===0)_t=!0;else if(Pt===3&&vt===1&&(at||!ct))_t=!0,tt||(yt=!0);else if(tt&&Pt===3&&vt===0){_t=!0;let vn=!0;if(St<pt-1){const Dt=Ge.peekBytes(2);N(Dt[0],Dt[1])<Pt&&(vn=!1)}vn&&(yt=!0)}if(_t&&(ct={platformId:Pt,encodingId:vt,offset:Lt}),yt)break}}if(ct&&(Ge.pos=ft+ct.offset),!ct||Ge.peekByte()===-1)return(0,i.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const bt=Ge.getUint16();let Et=!1;const wt=[];let Tt,Mt;if(bt===0){for(Ge.skip(4),Tt=0;Tt<256;Tt++){const St=Ge.getByte();!St||wt.push({charCode:Tt,glyphId:St})}Et=!0}else if(bt===2){Ge.skip(4);const St=[];let Pt=0;for(let Lt=0;Lt<256;Lt++){const _t=Ge.getUint16()>>3;St.push(_t),Pt=Math.max(_t,Pt)}const vt=[];for(let Lt=0;Lt<=Pt;Lt++)vt.push({firstCode:Ge.getUint16(),entryCount:Ge.getUint16(),idDelta:Y(Ge.getByte(),Ge.getByte()),idRangePos:Ge.pos+Ge.getUint16()});for(let Lt=0;Lt<256;Lt++)if(St[Lt]===0)Ge.pos=vt[0].idRangePos+2*Lt,Mt=Ge.getUint16(),wt.push({charCode:Lt,glyphId:Mt});else{const _t=vt[St[Lt]];for(Tt=0;Tt<_t.entryCount;Tt++){const vn=(Lt<<8)+Tt+_t.firstCode;Ge.pos=_t.idRangePos+2*Tt,Mt=Ge.getUint16(),Mt!==0&&(Mt=(Mt+_t.idDelta)%65536),wt.push({charCode:vn,glyphId:Mt})}}}else if(bt===4){Ge.skip(4);const St=Ge.getUint16()>>1;Ge.skip(6);const Pt=[];let vt;for(vt=0;vt<St;vt++)Pt.push({end:Ge.getUint16()});for(Ge.skip(2),vt=0;vt<St;vt++)Pt[vt].start=Ge.getUint16();for(vt=0;vt<St;vt++)Pt[vt].delta=Ge.getUint16();let Lt=0,_t;for(vt=0;vt<St;vt++){st=Pt[vt];const Dt=Ge.getUint16();if(!Dt){st.offsetIndex=-1;continue}_t=(Dt>>1)-(St-vt),st.offsetIndex=_t,Lt=Math.max(Lt,_t+st.end-st.start+1)}const vn=[];for(Tt=0;Tt<Lt;Tt++)vn.push(Ge.getUint16());for(vt=0;vt<St;vt++){st=Pt[vt],ft=st.start;const Dt=st.end,Nt=st.delta;for(_t=st.offsetIndex,Tt=ft;Tt<=Dt;Tt++)Tt!==65535&&(Mt=_t<0?Tt:vn[_t+Tt-ft],Mt=Mt+Nt&65535,wt.push({charCode:Tt,glyphId:Mt}))}}else if(bt===6){Ge.skip(4);const St=Ge.getUint16(),Pt=Ge.getUint16();for(Tt=0;Tt<Pt;Tt++){Mt=Ge.getUint16();const vt=St+Tt;wt.push({charCode:vt,glyphId:Mt})}}else if(bt===12){Ge.skip(10);const St=Ge.getInt32()>>>0;for(Tt=0;Tt<St;Tt++){const Pt=Ge.getInt32()>>>0,vt=Ge.getInt32()>>>0;let Lt=Ge.getInt32()>>>0;for(let _t=Pt;_t<=vt;_t++)wt.push({charCode:_t,glyphId:Lt++})}}else return(0,i.warn)("cmap table has unsupported format: "+bt),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};wt.sort(function(St,Pt){return St.charCode-Pt.charCode});for(let St=1;St<wt.length;St++)wt[St-1].charCode===wt[St].charCode&&(wt.splice(St,1),St--);return{platformId:ct.platformId,encodingId:ct.encodingId,mappings:wt,hasShortCmap:Et}}function Ve(Ke,Ge,tt,at,st,ft){if(!Ge){tt&&(tt.data=null);return}Ke.pos=(Ke.start||0)+Ge.offset,Ke.pos+=4,Ke.pos+=2,Ke.pos+=2,Ke.pos+=2,Ke.pos+=2,Ke.pos+=2,Ke.pos+=2,Ke.pos+=2,Ke.pos+=2,Ke.pos+=2;const pt=Ke.getUint16();Ke.pos+=8,Ke.pos+=2;let ct=Ke.getUint16();pt!==0&&(N(at.data[44],at.data[45])&2||(Ge.data[22]=0,Ge.data[23]=0)),ct>st&&((0,i.info)(`The numOfMetrics (${ct}) should not be greater than the numGlyphs (${st}).`),ct=st,Ge.data[34]=(ct&65280)>>8,Ge.data[35]=ct&255);const bt=st-ct-(tt.length-ct*4>>1);if(bt>0){const Et=new Uint8Array(tt.length+bt*2);Et.set(tt.data),ft&&(Et[tt.length]=tt.data[2],Et[tt.length+1]=tt.data[3]),tt.data=Et}}function Ne(Ke,Ge,tt,at,st,ft){const pt={length:0,sizeOfInstructions:0};if(Ge<0||Ge>=Ke.length||tt>Ke.length||tt-Ge<=12)return pt;const ct=Ke.subarray(Ge,tt),yt=Y(ct[2],ct[3]),bt=Y(ct[4],ct[5]),Et=Y(ct[6],ct[7]),wt=Y(ct[8],ct[9]);yt>Et&&(U(ct,2,Et),U(ct,6,yt)),bt>wt&&(U(ct,4,wt),U(ct,8,bt));const Tt=Y(ct[0],ct[1]);if(Tt<0)return Tt<-1||(at.set(ct,st),pt.length=ct.length),pt;let Mt,St=10,Pt=0;for(Mt=0;Mt<Tt;Mt++)Pt=(ct[St]<<8|ct[St+1])+1,St+=2;const vt=St,Lt=ct[St]<<8|ct[St+1];pt.sizeOfInstructions=Lt,St+=2+Lt;const _t=St;let vn=0;for(Mt=0;Mt<Pt;Mt++){const Nt=ct[St++];Nt&192&&(ct[St-1]=Nt&63);let Zt=2;Nt&2?Zt=1:Nt&16&&(Zt=0);let rn=2;Nt&4?rn=1:Nt&32&&(rn=0);const sr=Zt+rn;if(vn+=sr,Nt&8){const Ui=ct[St++];Ui===0&&(ct[St-1]^=8),Mt+=Ui,vn+=Ui*sr}}if(vn===0)return pt;let Dt=St+vn;return Dt>ct.length?pt:!ft&&Lt>0?(at.set(ct.subarray(0,vt),st),at.set([0,0],st+vt),at.set(ct.subarray(_t,Dt),st+vt+2),Dt-=Lt,ct.length-Dt>3&&(Dt=Dt+3&-4),pt.length=Dt,pt):ct.length-Dt>3?(Dt=Dt+3&-4,at.set(ct.subarray(0,Dt),st),pt.length=Dt,pt):(at.set(ct,st),pt.length=ct.length,pt)}function ke(Ke,Ge,tt){const at=Ke.data,st=_(at[0],at[1],at[2],at[3]);st>>16!==1&&((0,i.info)("Attempting to fix invalid version in head table: "+st),at[0]=0,at[1]=1,at[2]=0,at[3]=0);const ft=N(at[50],at[51]);if(ft<0||ft>1){(0,i.info)("Attempting to fix invalid indexToLocFormat in head table: "+ft);const pt=Ge+1;if(tt===pt<<1)at[50]=0,at[51]=0;else if(tt===pt<<2)at[50]=0,at[51]=1;else throw new i.FormatError("Could not fix indexToLocFormat: "+ft)}}function Ie(Ke,Ge,tt,at,st,ft,pt){let ct,yt,bt;at?(ct=4,yt=function(Zt,rn){return Zt[rn]<<24|Zt[rn+1]<<16|Zt[rn+2]<<8|Zt[rn+3]},bt=function(Zt,rn,sr){Zt[rn]=sr>>>24&255,Zt[rn+1]=sr>>16&255,Zt[rn+2]=sr>>8&255,Zt[rn+3]=sr&255}):(ct=2,yt=function(Zt,rn){return Zt[rn]<<9|Zt[rn+1]<<1},bt=function(Zt,rn,sr){Zt[rn]=sr>>9&255,Zt[rn+1]=sr>>1&255});const Et=ft?tt+1:tt,wt=ct*(1+Et),Tt=new Uint8Array(wt);Tt.set(Ke.data.subarray(0,wt)),Ke.data=Tt;const Mt=Ge.data,St=Mt.length,Pt=new Uint8Array(St);let vt,Lt;const _t=[];for(vt=0,Lt=0;vt<tt+1;vt++,Lt+=ct){let Nt=yt(Tt,Lt);Nt>St&&(Nt=St),_t.push({index:vt,offset:Nt,endOffset:0})}for(_t.sort((Nt,Zt)=>Nt.offset-Zt.offset),vt=0;vt<tt;vt++)_t[vt].endOffset=_t[vt+1].offset;for(_t.sort((Nt,Zt)=>Nt.index-Zt.index),vt=0;vt<tt;vt++){const{offset:Nt,endOffset:Zt}=_t[vt];if(Nt!==0||Zt!==0)break;const rn=_t[vt+1].offset;if(rn!==0){_t[vt].endOffset=rn;break}}const vn=Object.create(null);let Dt=0;for(bt(Tt,0,Dt),vt=0,Lt=ct;vt<tt;vt++,Lt+=ct){const Nt=Ne(Mt,_t[vt].offset,_t[vt].endOffset,Pt,Dt,st),Zt=Nt.length;Zt===0&&(vn[vt]=!0),Nt.sizeOfInstructions>pt&&(pt=Nt.sizeOfInstructions),Dt+=Zt,bt(Tt,Lt,Dt)}if(Dt===0){const Nt=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(vt=0,Lt=ct;vt<Et;vt++,Lt+=ct)bt(Tt,Lt,Nt.length);Ge.data=Nt}else if(ft){const Nt=yt(Tt,ct);Pt.length>Nt+Dt?Ge.data=Pt.subarray(0,Nt+Dt):(Ge.data=new Uint8Array(Nt+Dt),Ge.data.set(Pt.subarray(0,Dt))),Ge.data.set(Pt.subarray(0,Nt),Dt),bt(Ke.data,Tt.length-ct,Dt+Nt)}else Ge.data=Pt.subarray(0,Dt);return{missingGlyphs:vn,maxSizeOfInstructions:pt}}function Te(Ke,Ge,tt){const at=(fe.start||0)+Ke.offset;fe.pos=at;const st=Ke.length,ft=at+st,pt=fe.getInt32();fe.skip(28);let ct,yt=!0,bt;switch(pt){case 65536:ct=d.MacStandardGlyphOrdering;break;case 131072:const Et=fe.getUint16();if(Et!==tt){yt=!1;break}const wt=[];for(bt=0;bt<Et;++bt){const St=fe.getUint16();if(St>=32768){yt=!1;break}wt.push(St)}if(!yt)break;const Tt=[],Mt=[];for(;fe.pos<ft;){const St=fe.getByte();for(Mt.length=St,bt=0;bt<St;++bt)Mt[bt]=String.fromCharCode(fe.getByte());Tt.push(Mt.join(""))}for(ct=[],bt=0;bt<Et;++bt){const St=wt[bt];if(St<258){ct.push(d.MacStandardGlyphOrdering[St]);continue}ct.push(Tt[St-258])}break;case 196608:break;default:(0,i.warn)("Unknown/unsupported post table version "+pt),yt=!1,Ge.defaultEncoding&&(ct=Ge.defaultEncoding);break}return Ge.glyphNames=ct,yt}function Ae(Ke){const Ge=(fe.start||0)+Ke.offset;fe.pos=Ge;const tt=[[],[]],at=[],st=Ke.length,ft=Ge+st;if(fe.getUint16()!==0||st<6)return[tt,at];const yt=fe.getUint16(),bt=fe.getUint16(),Et=12;let wt,Tt;for(wt=0;wt<yt&&fe.pos+Et<=ft;wt++){const Mt={platform:fe.getUint16(),encoding:fe.getUint16(),language:fe.getUint16(),name:fe.getUint16(),length:fe.getUint16(),offset:fe.getUint16()};(z(Mt)||P(Mt))&&at.push(Mt)}for(wt=0,Tt=at.length;wt<Tt;wt++){const Mt=at[wt];if(Mt.length<=0)continue;const St=Ge+bt+Mt.offset;if(St+Mt.length>ft)continue;fe.pos=St;const Pt=Mt.name;if(Mt.encoding){let vt="";for(let Lt=0,_t=Mt.length;Lt<_t;Lt+=2)vt+=String.fromCharCode(fe.getUint16());tt[1][Pt]=vt}else tt[0][Pt]=fe.getString(Mt.length)}return[tt,at]}const ge=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Ce(Ke,Ge){let tt=Ke.data,at=0,st,ft,pt,ct,yt,bt=0,Et=0;const wt=[],Tt=[],Mt=[];let St=Ge.tooComplexToFollowFunctions,Pt=!1,vt=0,Lt=0;for(let vn=tt.length;at<vn;){const Dt=tt[at++];if(Dt===64)if(ft=tt[at++],Pt||Lt)at+=ft;else for(st=0;st<ft;st++)wt.push(tt[at++]);else if(Dt===65)if(ft=tt[at++],Pt||Lt)at+=ft*2;else for(st=0;st<ft;st++)pt=tt[at++],wt.push(pt<<8|tt[at++]);else if((Dt&248)===176)if(ft=Dt-176+1,Pt||Lt)at+=ft;else for(st=0;st<ft;st++)wt.push(tt[at++]);else if((Dt&248)===184)if(ft=Dt-184+1,Pt||Lt)at+=ft*2;else for(st=0;st<ft;st++)pt=tt[at++],wt.push(pt<<8|tt[at++]);else if(Dt===43&&!St){if(!Pt&&!Lt){if(ct=wt.at(-1),isNaN(ct))(0,i.info)("TT: CALL empty stack (or invalid entry).");else if(Ge.functionsUsed[ct]=!0,ct in Ge.functionsStackDeltas){const Nt=wt.length+Ge.functionsStackDeltas[ct];if(Nt<0){(0,i.warn)("TT: CALL invalid functions stack delta."),Ge.hintsValid=!1;return}wt.length=Nt}else if(ct in Ge.functionsDefined&&!Mt.includes(ct)){if(Tt.push({data:tt,i:at,stackTop:wt.length-1}),Mt.push(ct),yt=Ge.functionsDefined[ct],!yt){(0,i.warn)("TT: CALL non-existent function"),Ge.hintsValid=!1;return}tt=yt.data,at=yt.i}}}else if(Dt===44&&!St)(Pt||Lt)&&((0,i.warn)("TT: nested FDEFs not allowed"),St=!0),Pt=!0,Et=at,ct=wt.pop(),Ge.functionsDefined[ct]={data:tt,i:at};else if(Dt===45)if(Pt)Pt=!1,bt=at;else{if(yt=Tt.pop(),!yt){(0,i.warn)("TT: ENDF bad stack"),Ge.hintsValid=!1;return}ct=Mt.pop(),tt=yt.data,at=yt.i,Ge.functionsStackDeltas[ct]=wt.length-yt.stackTop}else if(Dt===137)(Pt||Lt)&&((0,i.warn)("TT: nested IDEFs not allowed"),St=!0),Pt=!0,Et=at;else if(Dt===88)++vt;else if(Dt===27)Lt=vt;else if(Dt===89)Lt===vt&&(Lt=0),--vt;else if(Dt===28&&!Pt&&!Lt){const Nt=wt.at(-1);Nt>0&&(at+=Nt-1)}if(!Pt&&!Lt){let Nt=0;for(Dt<=142?Nt=ge[Dt]:Dt>=192&&Dt<=223?Nt=-1:Dt>=224&&(Nt=-2),Dt>=113&&Dt<=117&&(ft=wt.pop(),isNaN(ft)||(Nt=-ft*2));Nt<0&&wt.length>0;)wt.pop(),Nt++;for(;Nt>0;)wt.push(NaN),Nt--}}Ge.tooComplexToFollowFunctions=St;const _t=[tt];at>tt.length&&_t.push(new Uint8Array(at-tt.length)),Et>bt&&((0,i.warn)("TT: complementing a missing function tail"),_t.push(new Uint8Array([34,45]))),Ye(Ke,_t)}function Be(Ke,Ge){if(!Ke.tooComplexToFollowFunctions){if(Ke.functionsDefined.length>Ge){(0,i.warn)("TT: more functions defined than expected"),Ke.hintsValid=!1;return}for(let tt=0,at=Ke.functionsUsed.length;tt<at;tt++){if(tt>Ge){(0,i.warn)("TT: invalid function id: "+tt),Ke.hintsValid=!1;return}if(Ke.functionsUsed[tt]&&!Ke.functionsDefined[tt]){(0,i.warn)("TT: undefined function: "+tt),Ke.hintsValid=!1;return}}}}function Ye(Ke,Ge){if(Ge.length>1){let tt=0,at,st;for(at=0,st=Ge.length;at<st;at++)tt+=Ge[at].length;tt=tt+3&-4;const ft=new Uint8Array(tt);let pt=0;for(at=0,st=Ge.length;at<st;at++)ft.set(Ge[at],pt),pt+=Ge[at].length;Ke.data=ft,Ke.length=tt}}function Je(Ke,Ge,tt,at){const st={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Ke&&Ce(Ke,st),Ge&&Ce(Ge,st),Ke&&Be(st,at),tt&&tt.length&1){const ft=new Uint8Array(tt.length+1);ft.set(tt.data),tt.data=ft}return st.hintsValid}fe=new O.Stream(new Uint8Array(fe.getBytes()));let Re,He;if(re(fe)){const Ke=ze(fe,this.name);Re=Ke.header,He=Ke.tables}else Re=Me(fe),He=ve(fe,Re.numTables);let nt,et;const it=!He["CFF "];if(it){if(!He.loca)throw new i.FormatError('Required "loca" table is not found');He.glyf||((0,i.warn)('Required "glyf" table is not found -- trying to recover.'),He.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Ke=ce.composite&&(((je=ce.cidToGidMap)==null?void 0:je.length)>0||!(ce.cMap instanceof f.IdentityCMap));if(Re.version==="OTTO"&&!Ke||!He.head||!He.hhea||!He.maxp||!He.post)return et=new O.Stream(He["CFF "].data),nt=new v.CFFFont(et,ce),M(ce),this.convert(xe,nt,ce);delete He.glyf,delete He.loca,delete He.fpgm,delete He.prep,delete He["cvt "],this.isOpenType=!0}if(!He.maxp)throw new i.FormatError('Required "maxp" table is not found');fe.pos=(fe.start||0)+He.maxp.offset;const qe=fe.getInt32(),lt=fe.getUint16();if(((Ze=ce.scaleFactors)==null?void 0:Ze.length)===lt&&it){const{scaleFactors:Ke}=ce,Ge=N(He.head.data[50],He.head.data[51]),tt=new w.GlyfTable({glyfTable:He.glyf.data,isGlyphLocationsLong:Ge,locaTable:He.loca.data,numGlyphs:lt});tt.scale(Ke);const{glyf:at,loca:st,isLocationLong:ft}=tt.write();He.glyf.data=at,He.loca.data=st,ft!==!!Ge&&(He.head.data[50]=0,He.head.data[51]=ft?1:0);const pt=He.hmtx.data;for(let ct=0;ct<lt;ct++){const yt=4*ct,bt=Math.round(Ke[ct]*N(pt[yt],pt[yt+1]));pt[yt]=bt>>8&255,pt[yt+1]=bt&255;const Et=Math.round(Ke[ct]*Y(pt[yt+2],pt[yt+3]));U(pt,yt+2,Et)}}let rt=lt+1,Oe=!0;rt>65535&&(Oe=!1,rt=lt,(0,i.warn)("Not enough space in glyfs to duplicate first glyph."));let $e=0,me=0;qe>=65536&&He.maxp.length>=22&&(fe.pos+=8,fe.getUint16()>2&&(He.maxp.data[14]=0,He.maxp.data[15]=2),fe.pos+=4,$e=fe.getUint16(),fe.pos+=4,me=fe.getUint16()),He.maxp.data[4]=rt>>8,He.maxp.data[5]=rt&255;const Q=Je(He.fpgm,He.prep,He["cvt "],$e);if(Q||(delete He.fpgm,delete He.prep,delete He["cvt "]),Ve(fe,He.hhea,He.hmtx,He.head,rt,Oe),!He.head)throw new i.FormatError('Required "head" table is not found');ke(He.head,lt,it?He.loca.length:0);let pe=Object.create(null);if(it){const Ke=N(He.head.data[50],He.head.data[51]),Ge=Ie(He.loca,He.glyf,lt,Ke,Q,Oe,me);pe=Ge.missingGlyphs,qe>=65536&&He.maxp.length>=22&&(He.maxp.data[26]=Ge.maxSizeOfInstructions>>8,He.maxp.data[27]=Ge.maxSizeOfInstructions&255)}if(!He.hhea)throw new i.FormatError('Required "hhea" table is not found');He.hhea.data[10]===0&&He.hhea.data[11]===0&&(He.hhea.data[10]=255,He.hhea.data[11]=255);const we={unitsPerEm:N(He.head.data[18],He.head.data[19]),yMax:Y(He.head.data[42],He.head.data[43]),yMin:Y(He.head.data[38],He.head.data[39]),ascent:Y(He.hhea.data[4],He.hhea.data[5]),descent:Y(He.hhea.data[6],He.hhea.data[7]),lineGap:Y(He.hhea.data[8],He.hhea.data[9])};this.ascent=we.ascent/we.unitsPerEm,this.descent=we.descent/we.unitsPerEm,this.lineGap=we.lineGap/we.unitsPerEm,(ot=this.cssFontInfo)!=null&&ot.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,He.post&&Te(He.post,ce,lt),He.post={tag:"post",data:se(ce)};const Fe=[];function Pe(Ke){return!pe[Ke]}if(ce.composite){const Ke=ce.cidToGidMap||[],Ge=Ke.length===0;ce.cMap.forEach(function(tt,at){if(typeof at=="string"&&(at=K(tt,at,!0)),at>65535)throw new i.FormatError("Max size of CID is 65,535");let st=-1;Ge?st=at:Ke[at]!==void 0&&(st=Ke[at]),st>=0&&st<lt&&Pe(st)&&(Fe[tt]=st)})}else{const Ke=We(He.cmap,fe,this.isSymbolicFont,ce.hasEncoding),Ge=Ke.platformId,tt=Ke.encodingId,at=Ke.mappings;let st=[],ft=!1;if(ce.hasEncoding&&(ce.baseEncodingName==="MacRomanEncoding"||ce.baseEncodingName==="WinAnsiEncoding")&&(st=(0,p.getEncoding)(ce.baseEncodingName)),ce.hasEncoding&&!this.isSymbolicFont&&(Ge===3&&tt===1||Ge===1&&tt===0)){const pt=(0,r.getGlyphsUnicode)();for(let ct=0;ct<256;ct++){let yt;if(this.differences[ct]!==void 0?yt=this.differences[ct]:st.length&&st[ct]!==""?yt=st[ct]:yt=p.StandardEncoding[ct],!yt)continue;const bt=(0,d.recoverGlyphName)(yt,pt);let Et;if(Ge===3&&tt===1?Et=pt[bt]:Ge===1&&tt===0&&(Et=p.MacRomanEncoding.indexOf(bt)),Et===void 0){if(!ce.glyphNames&&ce.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof y.IdentityToUnicodeMap)){const wt=this.toUnicode.get(ct);wt&&(Et=wt.codePointAt(0))}if(Et===void 0)continue}for(const wt of at)if(wt.charCode===Et){Fe[ct]=wt.glyphId;break}}}else if(Ge===0){for(const pt of at)Fe[pt.charCode]=pt.glyphId;ft=!0}else for(const pt of at){let ct=pt.charCode;Ge===3&&ct>=61440&&ct<=61695&&(ct&=255),Fe[ct]=pt.glyphId}if(ce.glyphNames&&(st.length||this.differences.length))for(let pt=0;pt<256;++pt){if(!ft&&Fe[pt]!==void 0)continue;const ct=this.differences[pt]||st[pt];if(!ct)continue;const yt=ce.glyphNames.indexOf(ct);yt>0&&Pe(yt)&&(Fe[pt]=yt)}}Fe.length===0&&(Fe[0]=0);let De=rt-1;if(Oe||(De=0),!ce.cssFontInfo){const Ke=te(Fe,Pe,De,this.toUnicode);this.toFontChar=Ke.toFontChar,He.cmap={tag:"cmap",data:ee(Ke.charCodeToGlyphId,Ke.toUnicodeExtraMap,rt)},(!He["OS/2"]||!G(He["OS/2"],fe))&&(He["OS/2"]={tag:"OS/2",data:ne(ce,Ke.charCodeToGlyphId,we)})}if(!it)try{et=new O.Stream(He["CFF "].data),nt=new l.CFFParser(et,ce,d.SEAC_ANALYSIS_ENABLED).parse(),nt.duplicateFirstGlyph();const Ge=new l.CFFCompiler(nt);He["CFF "].data=Ge.compile()}catch{(0,i.warn)("Failed to compile font "+ce.loadedName)}if(!He.name)He.name={tag:"name",data:he(this.name)};else{const[Ke,Ge]=Ae(He.name);He.name.data=he(xe,Ke),this.psName=Ke[0][6]||null,ce.composite||I(ce,this.isSymbolicFont,Ge)}const Xe=new E.OpenTypeFileBuilder(Re.version);for(const Ke in He)Xe.addTable(Ke,He[Ke].data);return Xe.toArray()}convert(xe,fe,ce){ce.fixedPitch=!1,ce.builtInEncoding&&W(ce,ce.builtInEncoding);let ue=1;fe instanceof v.CFFFont&&(ue=fe.numGlyphs-1);const ve=fe.getGlyphMapping(ce);let Ee=null,Me=ve,_e=null;ce.cssFontInfo||(Ee=te(ve,fe.hasGlyphId.bind(fe),ue,this.toUnicode),this.toFontChar=Ee.toFontChar,Me=Ee.charCodeToGlyphId,_e=Ee.toUnicodeExtraMap);const ze=fe.numGlyphs;function We(Te,Ae){let ge=null;for(const Ce in Te)Ae===Te[Ce]&&(ge||(ge=[])).push(Ce|0);return ge}function Ve(Te,Ae){for(const ge in Te)if(Ae===Te[ge])return ge|0;return Ee.charCodeToGlyphId[Ee.nextAvailableFontCharCode]=Ae,Ee.nextAvailableFontCharCode++}const Ne=fe.seacs;if(Ee&&d.SEAC_ANALYSIS_ENABLED&&(Ne==null?void 0:Ne.length)){const Te=ce.fontMatrix||i.FONT_IDENTITY_MATRIX,Ae=fe.getCharset(),ge=Object.create(null);for(let Ce in Ne){Ce|=0;const Be=Ne[Ce],Ye=p.StandardEncoding[Be[2]],Je=p.StandardEncoding[Be[3]],Re=Ae.indexOf(Ye),He=Ae.indexOf(Je);if(Re<0||He<0)continue;const nt={x:Be[0]*Te[0]+Be[1]*Te[2]+Te[4],y:Be[0]*Te[1]+Be[1]*Te[3]+Te[5]},et=We(ve,Ce);if(!!et)for(const it of et){const qe=Ee.charCodeToGlyphId,lt=Ve(qe,Re),rt=Ve(qe,He);ge[it]={baseFontCharCode:lt,accentFontCharCode:rt,accentOffset:nt}}}ce.seacMap=ge}const ke=1/(ce.fontMatrix||i.FONT_IDENTITY_MATRIX)[0],Ie=new E.OpenTypeFileBuilder("OTTO");return Ie.addTable("CFF ",fe.data),Ie.addTable("OS/2",ne(ce,Me)),Ie.addTable("cmap",ee(Me,_e,ze)),Ie.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\xF5\0\0"+Z(ke)+"\0\0\0\0\x9E\v~'\0\0\0\0\x9E\v~'\0\0"+Z(ce.descent)+"\xFF"+Z(ce.ascent)+V(ce.italicAngle?2:0)+"\0\0\0\0\0\0\0"),Ie.addTable("hhea","\0\0\0"+Z(ce.ascent)+Z(ce.descent)+"\0\0\xFF\xFF\0\0\0\0\0\0"+Z(ce.capHeight)+Z(Math.tan(ce.italicAngle)*ce.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+V(ze)),Ie.addTable("hmtx",function(){const Ae=fe.charstrings,ge=fe.cff?fe.cff.widths:null;let Ce="\0\0\0\0";for(let Be=1,Ye=ze;Be<Ye;Be++){let Je=0;if(Ae){const Re=Ae[Be-1];Je="width"in Re?Re.width:0}else ge&&(Je=Math.ceil(ge[Be]||0));Ce+=V(Je)+V(0)}return Ce}()),Ie.addTable("maxp","\0\0P\0"+V(ze)),Ie.addTable("name",he(xe)),Ie.addTable("post",se(ce)),Ie.toArray()}get spaceWidth(){const xe=["space","minus","one","i","I"];let fe;for(const ce of xe){if(ce in this.widths){fe=this.widths[ce];break}const ve=(0,r.getGlyphsUnicode)()[ce];let Ee=0;if(this.composite&&this.cMap.contains(ve)&&(Ee=this.cMap.lookup(ve),typeof Ee=="string"&&(Ee=K(ve,Ee))),!Ee&&this.toUnicode&&(Ee=this.toUnicode.charCodeOf(ve)),Ee<=0&&(Ee=ve),fe=this.widths[Ee],fe)break}return(0,i.shadow)(this,"spaceWidth",fe||this.defaultWidth)}_charToGlyph(xe){var ke,Ie,Te;let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce=this._glyphCache[xe];if((ce==null?void 0:ce.isSpace)===fe)return ce;let ue,ve,Ee,Me=xe;(ke=this.cMap)!=null&&ke.contains(xe)&&(Me=this.cMap.lookup(xe),typeof Me=="string"&&(Me=K(xe,Me))),ve=this.widths[Me],typeof ve!="number"&&(ve=this.defaultWidth);const _e=(Ie=this.vmetrics)==null?void 0:Ie[Me];let ze=this.toUnicode.get(xe)||xe;typeof ze=="number"&&(ze=String.fromCharCode(ze));let We=this.toFontChar[xe]!==void 0;if(ue=this.toFontChar[xe]||xe,this.missingFile){const Ae=this.differences[xe]||this.defaultEncoding[xe];(Ae===".notdef"||Ae==="")&&this.type==="Type1"&&(ue=32),ue=(0,e.mapSpecialUnicodeValues)(ue)}this.isType3Font&&(Ee=ue);let Ve=null;if((Te=this.seacMap)!=null&&Te[xe]){We=!0;const Ae=this.seacMap[xe];ue=Ae.baseFontCharCode,Ve={fontChar:String.fromCodePoint(Ae.accentFontCharCode),offset:Ae.accentOffset}}let Ne="";return typeof ue=="number"&&(ue<=1114111?Ne=String.fromCodePoint(ue):(0,i.warn)(`charToGlyph - invalid fontCharCode: ${ue}`)),ce=new H(xe,Ne,ze,Ve,ve,_e,Ee,fe,We),this._glyphCache[xe]=ce}charsToGlyphs(xe){let fe=this._charsCache[xe];if(fe)return fe;if(fe=[],this.cMap){const ce=Object.create(null),ue=xe.length;let ve=0;for(;ve<ue;){this.cMap.readCharCode(xe,ve,ce);const{charcode:Ee,length:Me}=ce;ve+=Me;const _e=this._charToGlyph(Ee,Me===1&&xe.charCodeAt(ve-1)===32);fe.push(_e)}}else for(let ce=0,ue=xe.length;ce<ue;++ce){const ve=xe.charCodeAt(ce),Ee=this._charToGlyph(ve,ve===32);fe.push(Ee)}return this._charsCache[xe]=fe}getCharPositions(xe){const fe=[];if(this.cMap){const ce=Object.create(null);let ue=0;for(;ue<xe.length;){this.cMap.readCharCode(xe,ue,ce);const ve=ce.length;fe.push([ue,ue+ve]),ue+=ve}}else for(let ce=0,ue=xe.length;ce<ue;++ce)fe.push([ce,ce+1]);return fe}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(xe){const fe=[],ce=[],ue=()=>fe.length%2===1,ve=this.toUnicode instanceof y.IdentityToUnicodeMap?Ee=>this.toUnicode.charCodeOf(Ee):Ee=>this.toUnicode.charCodeOf(String.fromCodePoint(Ee));for(let Ee=0,Me=xe.length;Ee<Me;Ee++){const _e=xe.codePointAt(Ee);if(_e>55295&&(_e<57344||_e>65533)&&Ee++,this.toUnicode){const ze=ve(_e);if(ze!==-1){ue()&&(fe.push(ce.join("")),ce.length=0);const We=this.cMap?this.cMap.getCharCodeLength(ze):1;for(let Ve=We-1;Ve>=0;Ve--)ce.push(String.fromCharCode(ze>>8*Ve&255));continue}}ue()||(fe.push(ce.join("")),ce.length=0),ce.push(String.fromCodePoint(_e))}return fe.push(ce.join("")),fe}}o.Font=be;class ye{constructor(xe){this.error=xe,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(xe){return[xe]}exportData(){return{error:this.error}}}o.ErrorFont=ye},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CFFTopDict=o.CFFStrings=o.CFFStandardStrings=o.CFFPrivateDict=o.CFFParser=o.CFFIndex=o.CFFHeader=o.CFFFDSelect=o.CFFCompiler=o.CFFCharset=o.CFF=void 0,s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(145),l=s(187),d=s(188);const e=10,r=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];o.CFFStandardStrings=r;const p=391,x=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],y=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(J,H){J[H-2]=J[H-2]+J[H-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(J,H){J[H-2]=J[H-2]-J[H-1]}},{id:"div",min:2,stackDelta:-1,stackFn(J,H){J[H-2]=J[H-2]/J[H-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(J,H){J[H-1]=-J[H-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(J,H){J[H-2]=J[H-2]*J[H-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class v{constructor(H,N,U){this.bytes=H.getBytes(),this.properties=N,this.seacAnalysisEnabled=!!U}parse(){const H=this.properties,N=new b;this.cff=N;const U=this.parseHeader(),Y=this.parseIndex(U.endPos),_=this.parseIndex(Y.endPos),V=this.parseIndex(_.endPos),Z=this.parseIndex(V.endPos),q=this.parseDict(_.obj.get(0)),re=this.createDict(O,q,N.strings);N.header=U.obj,N.names=this.parseNameIndex(Y.obj),N.strings=this.parseStringIndex(V.obj),N.topDict=re,N.globalSubrIndex=Z.obj,this.parsePrivateDict(N.topDict),N.isCIDFont=re.hasName("ROS");const oe=re.getByName("CharStrings"),ae=this.parseIndex(oe).obj,R=re.getByName("FontMatrix");R&&(H.fontMatrix=R);const S=re.getByName("FontBBox");S&&(H.ascent=Math.max(S[3],S[1]),H.descent=Math.min(S[1],S[3]),H.ascentScaled=!0);let L,k;if(N.isCIDFont){const P=this.parseIndex(re.getByName("FDArray")).obj;for(let K=0,te=P.count;K<te;++K){const X=P.get(K),ee=this.createDict(O,this.parseDict(X),N.strings);this.parsePrivateDict(ee),N.fdArray.push(ee)}k=null,L=this.parseCharsets(re.getByName("charset"),ae.count,N.strings,!0),N.fdSelect=this.parseFDSelect(re.getByName("FDSelect"),ae.count)}else L=this.parseCharsets(re.getByName("charset"),ae.count,N.strings,!1),k=this.parseEncoding(re.getByName("Encoding"),H,N.strings,L.charset);N.charset=L,N.encoding=k;const z=this.parseCharStrings({charStrings:ae,localSubrIndex:re.privateDict.subrsIndex,globalSubrIndex:Z.obj,fdSelect:N.fdSelect,fdArray:N.fdArray,privateDict:re.privateDict});return N.charStrings=z.charStrings,N.seacs=z.seacs,N.widths=z.widths,N}parseHeader(){let H=this.bytes;const N=H.length;let U=0;for(;U<N&&H[U]!==1;)++U;if(U>=N)throw new i.FormatError("Invalid CFF header");U!==0&&((0,i.info)("cff data is shifted"),H=H.subarray(U),this.bytes=H);const Y=H[0],_=H[1],V=H[2],Z=H[3];return{obj:new g(Y,_,V,Z),endPos:V}}parseDict(H){let N=0;function U(){let q=H[N++];return q===30?Y():q===28?(q=H[N++],q=(q<<24|H[N++]<<16)>>16,q):q===29?(q=H[N++],q=q<<8|H[N++],q=q<<8|H[N++],q=q<<8|H[N++],q):q>=32&&q<=246?q-139:q>=247&&q<=250?(q-247)*256+H[N++]+108:q>=251&&q<=254?-((q-251)*256)-H[N++]-108:((0,i.warn)('CFFParser_parseDict: "'+q+'" is a reserved command.'),NaN)}function Y(){let q="";const oe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],ae=H.length;for(;N<ae;){const R=H[N++],S=R>>4,L=R&15;if(S===15||(q+=oe[S],L===15))break;q+=oe[L]}return parseFloat(q)}let _=[];const V=[];N=0;const Z=H.length;for(;N<Z;){let q=H[N];q<=21?(q===12&&(q=q<<8|H[++N]),V.push([q,_]),_=[],++N):_.push(U())}return V}parseIndex(H){const N=new f,U=this.bytes,Y=U[H++]<<8|U[H++],_=[];let V=H,Z,q;if(Y!==0){const re=U[H++],oe=H+(Y+1)*re-1;for(Z=0,q=Y+1;Z<q;++Z){let ae=0;for(let R=0;R<re;++R)ae<<=8,ae+=U[H++];_.push(oe+ae)}V=_[Y]}for(Z=0,q=_.length-1;Z<q;++Z){const re=_[Z],oe=_[Z+1];N.add(U.subarray(re,oe))}return{obj:N,endPos:V}}parseNameIndex(H){const N=[];for(let U=0,Y=H.count;U<Y;++U){const _=H.get(U);N.push((0,i.bytesToString)(_))}return N}parseStringIndex(H){const N=new w;for(let U=0,Y=H.count;U<Y;++U){const _=H.get(U);N.add((0,i.bytesToString)(_))}return N}createDict(H,N,U){const Y=new H(U);for(const[_,V]of N)Y.setByKey(_,V);return Y}parseCharString(H,N,U,Y){if(!N||H.callDepth>e)return!1;let _=H.stackSize;const V=H.stack;let Z=N.length;for(let q=0;q<Z;){const re=N[q++];let oe=null;if(re===12){const ae=N[q++];ae===0?(N[q-2]=139,N[q-1]=22,_=0):oe=y[ae]}else if(re===28)V[_]=(N[q]<<24|N[q+1]<<16)>>16,q+=2,_++;else if(re===14){if(_>=4&&(_-=4,this.seacAnalysisEnabled))return H.seac=V.slice(_,_+4),!1;oe=x[re]}else if(re>=32&&re<=246)V[_]=re-139,_++;else if(re>=247&&re<=254)V[_]=re<251?(re-247<<8)+N[q]+108:-(re-251<<8)-N[q]-108,q++,_++;else if(re===255)V[_]=(N[q]<<24|N[q+1]<<16|N[q+2]<<8|N[q+3])/65536,q+=4,_++;else if(re===19||re===20){if(H.hints+=_>>1,H.hints===0){N.copyWithin(q-1,q,-1),q-=1,Z-=1;continue}q+=H.hints+7>>3,_%=2,oe=x[re]}else if(re===10||re===29){const ae=re===10?U:Y;if(!ae)return oe=x[re],(0,i.warn)("Missing subrsIndex for "+oe.id),!1;let R=32768;ae.count<1240?R=107:ae.count<33900&&(R=1131);const S=V[--_]+R;if(S<0||S>=ae.count||isNaN(S))return oe=x[re],(0,i.warn)("Out of bounds subrIndex for "+oe.id),!1;if(H.stackSize=_,H.callDepth++,!this.parseCharString(H,ae.get(S),U,Y))return!1;H.callDepth--,_=H.stackSize;continue}else{if(re===11)return H.stackSize=_,!0;if(re===0&&q===N.length)N[q-1]=14,oe=x[14];else if(re===9){N.copyWithin(q-1,q,-1),q-=1,Z-=1;continue}else oe=x[re]}if(oe){if(oe.stem&&(H.hints+=_>>1,re===3||re===23?H.hasVStems=!0:H.hasVStems&&(re===1||re===18)&&((0,i.warn)("CFF stem hints are in wrong order"),N[q-1]=re===1?3:23)),"min"in oe&&!H.undefStack&&_<oe.min)return(0,i.warn)("Not enough parameters for "+oe.id+"; actual: "+_+", expected: "+oe.min),_===0?(N[q-1]=14,!0):!1;H.firstStackClearing&&oe.stackClearing&&(H.firstStackClearing=!1,_-=oe.min,_>=2&&oe.stem?_%=2:_>1&&(0,i.warn)("Found too many parameters for stack-clearing command"),_>0&&(H.width=V[_-1])),"stackDelta"in oe?("stackFn"in oe&&oe.stackFn(V,_),_+=oe.stackDelta):oe.stackClearing?_=0:oe.resetStack?(_=0,H.undefStack=!1):oe.undefStack&&(_=0,H.undefStack=!0,H.firstStackClearing=!1)}}return Z<N.length&&N.fill(14,Z),H.stackSize=_,!0}parseCharStrings(H){let{charStrings:N,localSubrIndex:U,globalSubrIndex:Y,fdSelect:_,fdArray:V,privateDict:Z}=H;const q=[],re=[],oe=N.count;for(let ae=0;ae<oe;ae++){const R=N.get(ae),S={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let L=!0,k=null,z=Z;if(_&&V.length){const P=_.getFDIndex(ae);P===-1&&((0,i.warn)("Glyph index is not in fd select."),L=!1),P>=V.length&&((0,i.warn)("Invalid fd index for glyph index."),L=!1),L&&(z=V[P].privateDict,k=z.subrsIndex)}else U&&(k=U);if(L&&(L=this.parseCharString(S,R,k,Y)),S.width!==null){const P=z.getByName("nominalWidthX");re[ae]=P+S.width}else{const P=z.getByName("defaultWidthX");re[ae]=P}S.seac!==null&&(q[ae]=S.seac),L||N.set(ae,new Uint8Array([14]))}return{charStrings:N,seacs:q,widths:re}}emptyPrivateDictionary(H){const N=this.createDict(D,[],H.strings);H.setByKey(18,[0,0]),H.privateDict=N}parsePrivateDict(H){if(!H.hasName("Private")){this.emptyPrivateDictionary(H);return}const N=H.getByName("Private");if(!Array.isArray(N)||N.length!==2){H.removeByName("Private");return}const U=N[0],Y=N[1];if(U===0||Y>=this.bytes.length){this.emptyPrivateDictionary(H);return}const _=Y+U,V=this.bytes.subarray(Y,_),Z=this.parseDict(V),q=this.createDict(D,Z,H.strings);if(H.privateDict=q,q.getByName("ExpansionFactor")===0&&q.setByName("ExpansionFactor",.06),!q.getByName("Subrs"))return;const re=q.getByName("Subrs"),oe=Y+re;if(re===0||oe>=this.bytes.length){this.emptyPrivateDictionary(H);return}const ae=this.parseIndex(oe);q.subrsIndex=ae.obj}parseCharsets(H,N,U,Y){if(H===0)return new C(!0,F.ISO_ADOBE,l.ISOAdobeCharset);if(H===1)return new C(!0,F.EXPERT,l.ExpertCharset);if(H===2)return new C(!0,F.EXPERT_SUBSET,l.ExpertSubsetCharset);const _=this.bytes,V=H,Z=_[H++],q=[Y?0:".notdef"];let re,oe,ae;switch(N-=1,Z){case 0:for(ae=0;ae<N;ae++)re=_[H++]<<8|_[H++],q.push(Y?re:U.get(re));break;case 1:for(;q.length<=N;)for(re=_[H++]<<8|_[H++],oe=_[H++],ae=0;ae<=oe;ae++)q.push(Y?re++:U.get(re++));break;case 2:for(;q.length<=N;)for(re=_[H++]<<8|_[H++],oe=_[H++]<<8|_[H++],ae=0;ae<=oe;ae++)q.push(Y?re++:U.get(re++));break;default:throw new i.FormatError("Unknown charset format")}const R=H,S=_.subarray(V,R);return new C(!1,Z,q,S)}parseEncoding(H,N,U,Y){const _=Object.create(null),V=this.bytes;let Z=!1,q,re,oe,ae=null;function R(){const S=V[H++];for(re=0;re<S;re++){const L=V[H++],k=(V[H++]<<8)+(V[H++]&255);_[L]=Y.indexOf(U.get(k))}}if(H===0||H===1){Z=!0,q=H;const S=H?d.ExpertEncoding:d.StandardEncoding;for(re=0,oe=Y.length;re<oe;re++){const L=S.indexOf(Y[re]);L!==-1&&(_[L]=re)}}else{const S=H;switch(q=V[H++],q&127){case 0:const k=V[H++];for(re=1;re<=k;re++)_[V[H++]]=re;break;case 1:const z=V[H++];let P=1;for(re=0;re<z;re++){const K=V[H++],te=V[H++];for(let X=K;X<=K+te;X++)_[X]=P++}break;default:throw new i.FormatError(`Unknown encoding format: ${q} in CFF`)}const L=H;q&128&&(V[S]&=127,R()),ae=V.subarray(S,L)}return q&=127,new B(Z,q,_,ae)}parseFDSelect(H,N){const U=this.bytes,Y=U[H++],_=[];let V;switch(Y){case 0:for(V=0;V<N;++V){const q=U[H++];_.push(q)}break;case 3:const Z=U[H++]<<8|U[H++];for(V=0;V<Z;++V){let q=U[H++]<<8|U[H++];V===0&&q!==0&&((0,i.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),q=0);const re=U[H++],oe=U[H]<<8|U[H+1];for(let ae=q;ae<oe;++ae)_.push(re)}H+=2;break;default:throw new i.FormatError(`parseFDSelect: Unknown format "${Y}".`)}if(_.length!==N)throw new i.FormatError("parseFDSelect: Invalid font data.");return new M(Y,_)}}o.CFFParser=v;class b{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new w,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,i.warn)("Not enough space in charstrings to duplicate first glyph.");return}const H=this.charStrings.get(0);this.charStrings.add(H),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(H){return H<0||H>=this.charStrings.count?!1:this.charStrings.get(H).length>0}}o.CFF=b;class g{constructor(H,N,U,Y){this.major=H,this.minor=N,this.hdrSize=U,this.offSize=Y}}o.CFFHeader=g;class w{constructor(){this.strings=[]}get(H){return H>=0&&H<=p-1?r[H]:H-p<=this.strings.length?this.strings[H-p]:r[0]}getSID(H){let N=r.indexOf(H);return N!==-1?N:(N=this.strings.indexOf(H),N!==-1?N+p:-1)}add(H){this.strings.push(H)}get count(){return this.strings.length}}o.CFFStrings=w;class f{constructor(){this.objects=[],this.length=0}add(H){this.length+=H.length,this.objects.push(H)}set(H,N){this.length+=N.length-this.objects[H].length,this.objects[H]=N}get(H){return this.objects[H]}get count(){return this.objects.length}}o.CFFIndex=f;class E{constructor(H,N){this.keyToNameMap=H.keyToNameMap,this.nameToKeyMap=H.nameToKeyMap,this.defaults=H.defaults,this.types=H.types,this.opcodes=H.opcodes,this.order=H.order,this.strings=N,this.values=Object.create(null)}setByKey(H,N){if(!(H in this.keyToNameMap))return!1;if(N.length===0)return!0;for(const Y of N)if(isNaN(Y))return(0,i.warn)(`Invalid CFFDict value: "${N}" for key "${H}".`),!0;const U=this.types[H];return(U==="num"||U==="sid"||U==="offset")&&(N=N[0]),this.values[H]=N,!0}setByName(H,N){if(!(H in this.nameToKeyMap))throw new i.FormatError(`Invalid dictionary name "${H}"`);this.values[this.nameToKeyMap[H]]=N}hasName(H){return this.nameToKeyMap[H]in this.values}getByName(H){if(!(H in this.nameToKeyMap))throw new i.FormatError(`Invalid dictionary name ${H}"`);const N=this.nameToKeyMap[H];return N in this.values?this.values[N]:this.defaults[N]}removeByName(H){delete this.values[this.nameToKeyMap[H]]}static createTables(H){const N={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const U of H){const Y=Array.isArray(U[0])?(U[0][0]<<8)+U[0][1]:U[0];N.keyToNameMap[Y]=U[1],N.nameToKeyMap[U[1]]=Y,N.types[Y]=U[2],N.defaults[Y]=U[3],N.opcodes[Y]=Array.isArray(U[0])?U[0]:[U[0]],N.order.push(Y)}return N}}const A=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class O extends E{static get tables(){return(0,i.shadow)(this,"tables",this.createTables(A))}constructor(H){super(O.tables,H),this.privateDict=null}}o.CFFTopDict=O;const T=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class D extends E{static get tables(){return(0,i.shadow)(this,"tables",this.createTables(T))}constructor(H){super(D.tables,H),this.subrsIndex=null}}o.CFFPrivateDict=D;const F={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class C{constructor(H,N,U,Y){this.predefined=H,this.format=N,this.charset=U,this.raw=Y}}o.CFFCharset=C;class B{constructor(H,N,U,Y){this.predefined=H,this.format=N,this.encoding=U,this.raw=Y}}class M{constructor(H,N){this.format=H,this.fdSelect=N}getFDIndex(H){return H<0||H>=this.fdSelect.length?-1:this.fdSelect[H]}}o.CFFFDSelect=M;class I{constructor(){this.offsets=Object.create(null)}isTracking(H){return H in this.offsets}track(H,N){if(H in this.offsets)throw new i.FormatError(`Already tracking location of ${H}`);this.offsets[H]=N}offset(H){for(const N in this.offsets)this.offsets[N]+=H}setEntryLocation(H,N,U){if(!(H in this.offsets))throw new i.FormatError(`Not tracking location of ${H}`);const Y=U.data,_=this.offsets[H],V=5;for(let Z=0,q=N.length;Z<q;++Z){const re=Z*V+_,oe=re+1,ae=re+2,R=re+3,S=re+4;if(Y[re]!==29||Y[oe]!==0||Y[ae]!==0||Y[R]!==0||Y[S]!==0)throw new i.FormatError("writing to an offset that is not empty");const L=N[Z];Y[re]=29,Y[oe]=L>>24&255,Y[ae]=L>>16&255,Y[R]=L>>8&255,Y[S]=L&255}}}class W{constructor(H){this.cff=H}compile(){const H=this.cff,N={data:[],length:0,add(R){try{this.data.push(...R)}catch{this.data=this.data.concat(R)}this.length=this.data.length}},U=this.compileHeader(H.header);N.add(U);const Y=this.compileNameIndex(H.names);if(N.add(Y),H.isCIDFont&&H.topDict.hasName("FontMatrix")){const R=H.topDict.getByName("FontMatrix");H.topDict.removeByName("FontMatrix");for(const S of H.fdArray){let L=R.slice(0);S.hasName("FontMatrix")&&(L=i.Util.transform(L,S.getByName("FontMatrix"))),S.setByName("FontMatrix",L)}}const _=H.topDict.getByName("XUID");(_==null?void 0:_.length)>16&&H.topDict.removeByName("XUID"),H.topDict.setByName("charset",0);let V=this.compileTopDicts([H.topDict],N.length,H.isCIDFont);N.add(V.output);const Z=V.trackers[0],q=this.compileStringIndex(H.strings.strings);N.add(q);const re=this.compileIndex(H.globalSubrIndex);if(N.add(re),H.encoding&&H.topDict.hasName("Encoding"))if(H.encoding.predefined)Z.setEntryLocation("Encoding",[H.encoding.format],N);else{const R=this.compileEncoding(H.encoding);Z.setEntryLocation("Encoding",[N.length],N),N.add(R)}const oe=this.compileCharset(H.charset,H.charStrings.count,H.strings,H.isCIDFont);Z.setEntryLocation("charset",[N.length],N),N.add(oe);const ae=this.compileCharStrings(H.charStrings);if(Z.setEntryLocation("CharStrings",[N.length],N),N.add(ae),H.isCIDFont){Z.setEntryLocation("FDSelect",[N.length],N);const R=this.compileFDSelect(H.fdSelect);N.add(R),V=this.compileTopDicts(H.fdArray,N.length,!0),Z.setEntryLocation("FDArray",[N.length],N),N.add(V.output);const S=V.trackers;this.compilePrivateDicts(H.fdArray,S,N)}return this.compilePrivateDicts([H.topDict],[Z],N),N.add([0]),N.data}encodeNumber(H){return Number.isInteger(H)?this.encodeInteger(H):this.encodeFloat(H)}static get EncodeFloatRegExp(){return(0,i.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(H){let N=H.toString();const U=W.EncodeFloatRegExp.exec(N);if(U){const q=parseFloat("1e"+((U[2]?+U[2]:0)+U[1].length));N=(Math.round(H*q)/q).toString()}let Y="",_,V;for(_=0,V=N.length;_<V;++_){const q=N[_];q==="e"?Y+=N[++_]==="-"?"c":"b":q==="."?Y+="a":q==="-"?Y+="e":Y+=q}Y+=Y.length&1?"f":"ff";const Z=[30];for(_=0,V=Y.length;_<V;_+=2)Z.push(parseInt(Y.substring(_,_+2),16));return Z}encodeInteger(H){let N;return H>=-107&&H<=107?N=[H+139]:H>=108&&H<=1131?(H-=108,N=[(H>>8)+247,H&255]):H>=-1131&&H<=-108?(H=-H-108,N=[(H>>8)+251,H&255]):H>=-32768&&H<=32767?N=[28,H>>8&255,H&255]:N=[29,H>>24&255,H>>16&255,H>>8&255,H&255],N}compileHeader(H){return[H.major,H.minor,4,H.offSize]}compileNameIndex(H){const N=new f;for(const U of H){const Y=Math.min(U.length,127);let _=new Array(Y);for(let V=0;V<Y;V++){let Z=U[V];(Z<"!"||Z>"~"||Z==="["||Z==="]"||Z==="("||Z===")"||Z==="{"||Z==="}"||Z==="<"||Z===">"||Z==="/"||Z==="%")&&(Z="_"),_[V]=Z}_=_.join(""),_===""&&(_="Bad_Font_Name"),N.add((0,i.stringToBytes)(_))}return this.compileIndex(N)}compileTopDicts(H,N,U){const Y=[];let _=new f;for(const V of H){U&&(V.removeByName("CIDFontVersion"),V.removeByName("CIDFontRevision"),V.removeByName("CIDFontType"),V.removeByName("CIDCount"),V.removeByName("UIDBase"));const Z=new I,q=this.compileDict(V,Z);Y.push(Z),_.add(q),Z.offset(N)}return _=this.compileIndex(_,Y),{trackers:Y,output:_}}compilePrivateDicts(H,N,U){for(let Y=0,_=H.length;Y<_;++Y){const V=H[Y],Z=V.privateDict;if(!Z||!V.hasName("Private"))throw new i.FormatError("There must be a private dictionary.");const q=new I,re=this.compileDict(Z,q);let oe=U.length;if(q.offset(oe),re.length||(oe=0),N[Y].setEntryLocation("Private",[re.length,oe],U),U.add(re),Z.subrsIndex&&Z.hasName("Subrs")){const ae=this.compileIndex(Z.subrsIndex);q.setEntryLocation("Subrs",[re.length],U),U.add(ae)}}}compileDict(H,N){const U=[];for(const Y of H.order){if(!(Y in H.values))continue;let _=H.values[Y],V=H.types[Y];if(Array.isArray(V)||(V=[V]),Array.isArray(_)||(_=[_]),_.length!==0){for(let Z=0,q=V.length;Z<q;++Z){const re=V[Z],oe=_[Z];switch(re){case"num":case"sid":U.push(...this.encodeNumber(oe));break;case"offset":const ae=H.keyToNameMap[Y];N.isTracking(ae)||N.track(ae,U.length),U.push(29,0,0,0,0);break;case"array":case"delta":U.push(...this.encodeNumber(oe));for(let R=1,S=_.length;R<S;++R)U.push(...this.encodeNumber(_[R]));break;default:throw new i.FormatError(`Unknown data type of ${re}`)}}U.push(...H.opcodes[Y])}}return U}compileStringIndex(H){const N=new f;for(const U of H)N.add((0,i.stringToBytes)(U));return this.compileIndex(N)}compileCharStrings(H){const N=new f;for(let U=0;U<H.count;U++){const Y=H.get(U);if(Y.length===0){N.add(new Uint8Array([139,14]));continue}N.add(Y)}return this.compileIndex(N)}compileCharset(H,N,U,Y){let _;const V=N-1;if(Y)_=new Uint8Array([2,0,0,V>>8&255,V&255]);else{const Z=1+V*2;_=new Uint8Array(Z),_[0]=0;let q=0;const re=H.charset.length;let oe=!1;for(let ae=1;ae<_.length;ae+=2){let R=0;if(q<re){const S=H.charset[q++];R=U.getSID(S),R===-1&&(R=0,oe||(oe=!0,(0,i.warn)(`Couldn't find ${S} in CFF strings`)))}_[ae]=R>>8&255,_[ae+1]=R&255}}return this.compileTypedArray(_)}compileEncoding(H){return this.compileTypedArray(H.raw)}compileFDSelect(H){const N=H.format;let U,Y;switch(N){case 0:for(U=new Uint8Array(1+H.fdSelect.length),U[0]=N,Y=0;Y<H.fdSelect.length;Y++)U[Y+1]=H.fdSelect[Y];break;case 3:const _=0;let V=H.fdSelect[0];const Z=[N,0,0,_>>8&255,_&255,V];for(Y=1;Y<H.fdSelect.length;Y++){const re=H.fdSelect[Y];re!==V&&(Z.push(Y>>8&255,Y&255,re),V=re)}const q=(Z.length-3)/3;Z[1]=q>>8&255,Z[2]=q&255,Z.push(Y>>8&255,Y&255),U=new Uint8Array(Z);break}return this.compileTypedArray(U)}compileTypedArray(H){return Array.from(H)}compileIndex(H){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const U=H.objects,Y=U.length;if(Y===0)return[0,0];const _=[Y>>8&255,Y&255];let V=1,Z;for(Z=0;Z<Y;++Z)V+=U[Z].length;let q;V<256?q=1:V<65536?q=2:V<16777216?q=3:q=4,_.push(q);let re=1;for(Z=0;Z<Y+1;Z++)q===1?_.push(re&255):q===2?_.push(re>>8&255,re&255):q===3?_.push(re>>16&255,re>>8&255,re&255):_.push(re>>>24&255,re>>16&255,re>>8&255,re&255),U[Z]&&(re+=U[Z].length);for(Z=0;Z<Y;Z++)N[Z]&&N[Z].offset(_.length),_.push(...U[Z]);return _}}o.CFFCompiler=W},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ISOAdobeCharset=o.ExpertSubsetCharset=o.ExpertCharset=void 0;const s=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];o.ISOAdobeCharset=s;const i=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];o.ExpertCharset=i;const l=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];o.ExpertSubsetCharset=l},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ZapfDingbatsEncoding=o.WinAnsiEncoding=o.SymbolSetEncoding=o.StandardEncoding=o.MacRomanEncoding=o.ExpertEncoding=void 0,o.getEncoding=x;const s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];o.ExpertEncoding=s;const i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],l=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];o.MacRomanEncoding=l;const d=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];o.StandardEncoding=d;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];o.WinAnsiEncoding=e;const r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];o.SymbolSetEncoding=r;const p=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];o.ZapfDingbatsEncoding=p;function x(y){switch(y){case"WinAnsiEncoding":return e;case"StandardEncoding":return d;case"MacRomanEncoding":return l;case"SymbolSetEncoding":return r;case"ZapfDingbatsEncoding":return p;case"ExpertEncoding":return s;case"MacExpertEncoding":return i;default:return null}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SEAC_ANALYSIS_ENABLED=o.MacStandardGlyphOrdering=o.FontFlags=void 0,o.normalizeFontName=b,o.recoverGlyphName=y,o.type1FontGlyphMapping=v,s(158);var i=s(188),l=s(190),d=s(191),e=s(145);const r=!0;o.SEAC_ANALYSIS_ENABLED=r;const p={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};o.FontFlags=p;const x=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];o.MacStandardGlyphOrdering=x;function y(g,w){if(w[g]!==void 0)return g;const f=(0,d.getUnicodeForGlyph)(g,w);if(f!==-1){for(const E in w)if(w[E]===f)return E}return(0,e.info)("Unable to recover a standard glyph name for: "+g),g}function v(g,w,f){const E=Object.create(null);let A,O,T;const D=!!(g.flags&p.Symbolic);if(g.isInternalFont)for(T=w,O=0;O<T.length;O++)A=f.indexOf(T[O]),E[O]=A>=0?A:0;else if(g.baseEncodingName)for(T=(0,i.getEncoding)(g.baseEncodingName),O=0;O<T.length;O++)A=f.indexOf(T[O]),E[O]=A>=0?A:0;else if(D)for(O in w)E[O]=w[O];else for(T=i.StandardEncoding,O=0;O<T.length;O++)A=f.indexOf(T[O]),E[O]=A>=0?A:0;const F=g.differences;let C;if(F)for(O in F){const B=F[O];if(A=f.indexOf(B),A===-1){C||(C=(0,l.getGlyphsUnicode)());const M=y(B,C);M!==B&&(A=f.indexOf(M))}E[O]=A>=0?A:0}return E}function b(g){return g.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getGlyphsUnicode=o.getDingbatsGlyphsUnicode=void 0;var i=s(150);const l=(0,i.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});o.getGlyphsUnicode=l;const d=(0,i.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});o.getDingbatsGlyphsUnicode=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clearUnicodeCaches=b,o.getCharUnicodeCategory=v,o.getUnicodeForGlyph=e,o.getUnicodeRangeFor=p,o.mapSpecialUnicodeValues=d;var i=s(150);const l=(0,i.getLookupTableFactory)(function(g){g[63721]=169,g[63193]=169,g[63720]=174,g[63194]=174,g[63722]=8482,g[63195]=8482,g[63729]=9127,g[63730]=9128,g[63731]=9129,g[63740]=9131,g[63741]=9132,g[63742]=9133,g[63726]=9121,g[63727]=9122,g[63728]=9123,g[63737]=9124,g[63738]=9125,g[63739]=9126,g[63723]=9115,g[63724]=9116,g[63725]=9117,g[63734]=9118,g[63735]=9119,g[63736]=9120});function d(g){return g>=65520&&g<=65535?0:g>=62976&&g<=63743?l()[g]||g:g===173?45:g}function e(g,w){let f=w[g];if(f!==void 0)return f;if(!g)return-1;if(g[0]==="u"){const E=g.length;let A;if(E===7&&g[1]==="n"&&g[2]==="i")A=g.substring(3);else if(E>=5&&E<=7)A=g.substring(1);else return-1;if(A===A.toUpperCase()&&(f=parseInt(A,16),f>=0))return f}return-1}const r=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function p(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(w!==-1){const f=r[w];for(let E=0,A=f.length;E<A;E+=2)if(g>=f[E]&&g<=f[E+1])return w}for(let f=0,E=r.length;f<E;f++){const A=r[f];for(let O=0,T=A.length;O<T;O+=2)if(g>=A[O]&&g<=A[O+1])return f}return-1}const x=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),y=new Map;function v(g){const w=y.get(g);if(w)return w;const f=g.match(x),E={isWhitespace:!!(f!=null&&f[1]),isZeroWidthDiacritic:!!(f!=null&&f[2]),isInvisibleFormatMark:!!(f!=null&&f[3])};return y.set(g,E),E}function b(){y.clear()}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getSerifFonts=o.getNonStdFontMap=o.getGlyphMapForStandardFonts=o.getFontNameToFileMap=void 0,o.getStandardFontName=g,o.getSymbolsFonts=o.getSupplementalGlyphMapForCalibri=o.getSupplementalGlyphMapForArialBlack=o.getStdFontMap=void 0,o.isKnownFontName=w;var i=s(150),l=s(189);const d=(0,i.getLookupTableFactory)(function(f){f["Times-Roman"]="Times-Roman",f.Helvetica="Helvetica",f.Courier="Courier",f.Symbol="Symbol",f["Times-Bold"]="Times-Bold",f["Helvetica-Bold"]="Helvetica-Bold",f["Courier-Bold"]="Courier-Bold",f.ZapfDingbats="ZapfDingbats",f["Times-Italic"]="Times-Italic",f["Helvetica-Oblique"]="Helvetica-Oblique",f["Courier-Oblique"]="Courier-Oblique",f["Times-BoldItalic"]="Times-BoldItalic",f["Helvetica-BoldOblique"]="Helvetica-BoldOblique",f["Courier-BoldOblique"]="Courier-BoldOblique",f.ArialNarrow="Helvetica",f["ArialNarrow-Bold"]="Helvetica-Bold",f["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",f["ArialNarrow-Italic"]="Helvetica-Oblique",f.ArialBlack="Helvetica",f["ArialBlack-Bold"]="Helvetica-Bold",f["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",f["ArialBlack-Italic"]="Helvetica-Oblique",f["Arial-Black"]="Helvetica",f["Arial-Black-Bold"]="Helvetica-Bold",f["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",f["Arial-Black-Italic"]="Helvetica-Oblique",f.Arial="Helvetica",f["Arial-Bold"]="Helvetica-Bold",f["Arial-BoldItalic"]="Helvetica-BoldOblique",f["Arial-Italic"]="Helvetica-Oblique",f.ArialMT="Helvetica",f["Arial-BoldItalicMT"]="Helvetica-BoldOblique",f["Arial-BoldMT"]="Helvetica-Bold",f["Arial-ItalicMT"]="Helvetica-Oblique",f["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",f["Arial-BoldMT-Bold"]="Helvetica-Bold",f["Arial-ItalicMT-Italic"]="Helvetica-Oblique",f.ArialUnicodeMS="Helvetica",f["ArialUnicodeMS-Bold"]="Helvetica-Bold",f["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",f["ArialUnicodeMS-Italic"]="Helvetica-Oblique",f["Courier-BoldItalic"]="Courier-BoldOblique",f["Courier-Italic"]="Courier-Oblique",f.CourierNew="Courier",f["CourierNew-Bold"]="Courier-Bold",f["CourierNew-BoldItalic"]="Courier-BoldOblique",f["CourierNew-Italic"]="Courier-Oblique",f["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",f["CourierNewPS-BoldMT"]="Courier-Bold",f["CourierNewPS-ItalicMT"]="Courier-Oblique",f.CourierNewPSMT="Courier",f["Helvetica-BoldItalic"]="Helvetica-BoldOblique",f["Helvetica-Italic"]="Helvetica-Oblique",f["Symbol-Bold"]="Symbol",f["Symbol-BoldItalic"]="Symbol",f["Symbol-Italic"]="Symbol",f.TimesNewRoman="Times-Roman",f["TimesNewRoman-Bold"]="Times-Bold",f["TimesNewRoman-BoldItalic"]="Times-BoldItalic",f["TimesNewRoman-Italic"]="Times-Italic",f.TimesNewRomanPS="Times-Roman",f["TimesNewRomanPS-Bold"]="Times-Bold",f["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",f["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",f["TimesNewRomanPS-BoldMT"]="Times-Bold",f["TimesNewRomanPS-Italic"]="Times-Italic",f["TimesNewRomanPS-ItalicMT"]="Times-Italic",f.TimesNewRomanPSMT="Times-Roman",f["TimesNewRomanPSMT-Bold"]="Times-Bold",f["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",f["TimesNewRomanPSMT-Italic"]="Times-Italic"});o.getStdFontMap=d;const e=(0,i.getLookupTableFactory)(function(f){f.Courier="FoxitFixed.pfb",f["Courier-Bold"]="FoxitFixedBold.pfb",f["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",f["Courier-Oblique"]="FoxitFixedItalic.pfb",f.Helvetica="LiberationSans-Regular.ttf",f["Helvetica-Bold"]="LiberationSans-Bold.ttf",f["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",f["Helvetica-Oblique"]="LiberationSans-Italic.ttf",f["Times-Roman"]="FoxitSerif.pfb",f["Times-Bold"]="FoxitSerifBold.pfb",f["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",f["Times-Italic"]="FoxitSerifItalic.pfb",f.Symbol="FoxitSymbol.pfb",f.ZapfDingbats="FoxitDingbats.pfb",f["LiberationSans-Regular"]="LiberationSans-Regular.ttf",f["LiberationSans-Bold"]="LiberationSans-Bold.ttf",f["LiberationSans-Italic"]="LiberationSans-Italic.ttf",f["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});o.getFontNameToFileMap=e;const r=(0,i.getLookupTableFactory)(function(f){f.Calibri="Helvetica",f["Calibri-Bold"]="Helvetica-Bold",f["Calibri-BoldItalic"]="Helvetica-BoldOblique",f["Calibri-Italic"]="Helvetica-Oblique",f.CenturyGothic="Helvetica",f["CenturyGothic-Bold"]="Helvetica-Bold",f["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",f["CenturyGothic-Italic"]="Helvetica-Oblique",f.ComicSansMS="Comic Sans MS",f["ComicSansMS-Bold"]="Comic Sans MS-Bold",f["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",f["ComicSansMS-Italic"]="Comic Sans MS-Italic",f.Impact="Helvetica",f["ItcSymbol-Bold"]="Helvetica-Bold",f["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",f["ItcSymbol-Book"]="Helvetica",f["ItcSymbol-BookItalic"]="Helvetica-Oblique",f["ItcSymbol-Medium"]="Helvetica",f["ItcSymbol-MediumItalic"]="Helvetica-Oblique",f.LucidaConsole="Courier",f["LucidaConsole-Bold"]="Courier-Bold",f["LucidaConsole-BoldItalic"]="Courier-BoldOblique",f["LucidaConsole-Italic"]="Courier-Oblique",f["LucidaSans-Demi"]="Helvetica-Bold",f["MS-Gothic"]="MS Gothic",f["MS-Gothic-Bold"]="MS Gothic-Bold",f["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",f["MS-Gothic-Italic"]="MS Gothic-Italic",f["MS-Mincho"]="MS Mincho",f["MS-Mincho-Bold"]="MS Mincho-Bold",f["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",f["MS-Mincho-Italic"]="MS Mincho-Italic",f["MS-PGothic"]="MS PGothic",f["MS-PGothic-Bold"]="MS PGothic-Bold",f["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",f["MS-PGothic-Italic"]="MS PGothic-Italic",f["MS-PMincho"]="MS PMincho",f["MS-PMincho-Bold"]="MS PMincho-Bold",f["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",f["MS-PMincho-Italic"]="MS PMincho-Italic",f.NuptialScript="Times-Italic",f.SegoeUISymbol="Helvetica"});o.getNonStdFontMap=r;const p=(0,i.getLookupTableFactory)(function(f){f["Adobe Jenson"]=!0,f["Adobe Text"]=!0,f.Albertus=!0,f.Aldus=!0,f.Alexandria=!0,f.Algerian=!0,f["American Typewriter"]=!0,f.Antiqua=!0,f.Apex=!0,f.Arno=!0,f.Aster=!0,f.Aurora=!0,f.Baskerville=!0,f.Bell=!0,f.Bembo=!0,f["Bembo Schoolbook"]=!0,f.Benguiat=!0,f["Berkeley Old Style"]=!0,f["Bernhard Modern"]=!0,f["Berthold City"]=!0,f.Bodoni=!0,f["Bauer Bodoni"]=!0,f["Book Antiqua"]=!0,f.Bookman=!0,f["Bordeaux Roman"]=!0,f["Californian FB"]=!0,f.Calisto=!0,f.Calvert=!0,f.Capitals=!0,f.Cambria=!0,f.Cartier=!0,f.Caslon=!0,f.Catull=!0,f.Centaur=!0,f["Century Old Style"]=!0,f["Century Schoolbook"]=!0,f.Chaparral=!0,f["Charis SIL"]=!0,f.Cheltenham=!0,f["Cholla Slab"]=!0,f.Clarendon=!0,f.Clearface=!0,f.Cochin=!0,f.Colonna=!0,f["Computer Modern"]=!0,f["Concrete Roman"]=!0,f.Constantia=!0,f["Cooper Black"]=!0,f.Corona=!0,f.Ecotype=!0,f.Egyptienne=!0,f.Elephant=!0,f.Excelsior=!0,f.Fairfield=!0,f["FF Scala"]=!0,f.Folkard=!0,f.Footlight=!0,f.FreeSerif=!0,f["Friz Quadrata"]=!0,f.Garamond=!0,f.Gentium=!0,f.Georgia=!0,f.Gloucester=!0,f["Goudy Old Style"]=!0,f["Goudy Schoolbook"]=!0,f["Goudy Pro Font"]=!0,f.Granjon=!0,f["Guardian Egyptian"]=!0,f.Heather=!0,f.Hercules=!0,f["High Tower Text"]=!0,f.Hiroshige=!0,f["Hoefler Text"]=!0,f["Humana Serif"]=!0,f.Imprint=!0,f["Ionic No. 5"]=!0,f.Janson=!0,f.Joanna=!0,f.Korinna=!0,f.Lexicon=!0,f.LiberationSerif=!0,f["Liberation Serif"]=!0,f["Linux Libertine"]=!0,f.Literaturnaya=!0,f.Lucida=!0,f["Lucida Bright"]=!0,f.Melior=!0,f.Memphis=!0,f.Miller=!0,f.Minion=!0,f.Modern=!0,f["Mona Lisa"]=!0,f["Mrs Eaves"]=!0,f["MS Serif"]=!0,f["Museo Slab"]=!0,f["New York"]=!0,f["Nimbus Roman"]=!0,f["NPS Rawlinson Roadway"]=!0,f.NuptialScript=!0,f.Palatino=!0,f.Perpetua=!0,f.Plantin=!0,f["Plantin Schoolbook"]=!0,f.Playbill=!0,f["Poor Richard"]=!0,f["Rawlinson Roadway"]=!0,f.Renault=!0,f.Requiem=!0,f.Rockwell=!0,f.Roman=!0,f["Rotis Serif"]=!0,f.Sabon=!0,f.Scala=!0,f.Seagull=!0,f.Sistina=!0,f.Souvenir=!0,f.STIX=!0,f["Stone Informal"]=!0,f["Stone Serif"]=!0,f.Sylfaen=!0,f.Times=!0,f.Trajan=!0,f.Trinit\u00E9=!0,f["Trump Mediaeval"]=!0,f.Utopia=!0,f["Vale Type"]=!0,f["Bitstream Vera"]=!0,f["Vera Serif"]=!0,f.Versailles=!0,f.Wanted=!0,f.Weiss=!0,f["Wide Latin"]=!0,f.Windsor=!0,f.XITS=!0});o.getSerifFonts=p;const x=(0,i.getLookupTableFactory)(function(f){f.Dingbats=!0,f.Symbol=!0,f.ZapfDingbats=!0,f.Wingdings=!0,f["Wingdings-Bold"]=!0,f["Wingdings-Regular"]=!0});o.getSymbolsFonts=x;const y=(0,i.getLookupTableFactory)(function(f){f[2]=10,f[3]=32,f[4]=33,f[5]=34,f[6]=35,f[7]=36,f[8]=37,f[9]=38,f[10]=39,f[11]=40,f[12]=41,f[13]=42,f[14]=43,f[15]=44,f[16]=45,f[17]=46,f[18]=47,f[19]=48,f[20]=49,f[21]=50,f[22]=51,f[23]=52,f[24]=53,f[25]=54,f[26]=55,f[27]=56,f[28]=57,f[29]=58,f[30]=894,f[31]=60,f[32]=61,f[33]=62,f[34]=63,f[35]=64,f[36]=65,f[37]=66,f[38]=67,f[39]=68,f[40]=69,f[41]=70,f[42]=71,f[43]=72,f[44]=73,f[45]=74,f[46]=75,f[47]=76,f[48]=77,f[49]=78,f[50]=79,f[51]=80,f[52]=81,f[53]=82,f[54]=83,f[55]=84,f[56]=85,f[57]=86,f[58]=87,f[59]=88,f[60]=89,f[61]=90,f[62]=91,f[63]=92,f[64]=93,f[65]=94,f[66]=95,f[67]=96,f[68]=97,f[69]=98,f[70]=99,f[71]=100,f[72]=101,f[73]=102,f[74]=103,f[75]=104,f[76]=105,f[77]=106,f[78]=107,f[79]=108,f[80]=109,f[81]=110,f[82]=111,f[83]=112,f[84]=113,f[85]=114,f[86]=115,f[87]=116,f[88]=117,f[89]=118,f[90]=119,f[91]=120,f[92]=121,f[93]=122,f[94]=123,f[95]=124,f[96]=125,f[97]=126,f[98]=196,f[99]=197,f[100]=199,f[101]=201,f[102]=209,f[103]=214,f[104]=220,f[105]=225,f[106]=224,f[107]=226,f[108]=228,f[109]=227,f[110]=229,f[111]=231,f[112]=233,f[113]=232,f[114]=234,f[115]=235,f[116]=237,f[117]=236,f[118]=238,f[119]=239,f[120]=241,f[121]=243,f[122]=242,f[123]=244,f[124]=246,f[125]=245,f[126]=250,f[127]=249,f[128]=251,f[129]=252,f[130]=8224,f[131]=176,f[132]=162,f[133]=163,f[134]=167,f[135]=8226,f[136]=182,f[137]=223,f[138]=174,f[139]=169,f[140]=8482,f[141]=180,f[142]=168,f[143]=8800,f[144]=198,f[145]=216,f[146]=8734,f[147]=177,f[148]=8804,f[149]=8805,f[150]=165,f[151]=181,f[152]=8706,f[153]=8721,f[154]=8719,f[156]=8747,f[157]=170,f[158]=186,f[159]=8486,f[160]=230,f[161]=248,f[162]=191,f[163]=161,f[164]=172,f[165]=8730,f[166]=402,f[167]=8776,f[168]=8710,f[169]=171,f[170]=187,f[171]=8230,f[179]=8220,f[180]=8221,f[181]=8216,f[182]=8217,f[200]=193,f[203]=205,f[207]=211,f[210]=218,f[223]=711,f[224]=321,f[225]=322,f[226]=352,f[227]=353,f[228]=381,f[229]=382,f[233]=221,f[234]=253,f[252]=263,f[253]=268,f[254]=269,f[258]=258,f[260]=260,f[261]=261,f[265]=280,f[266]=281,f[267]=282,f[268]=283,f[269]=313,f[275]=323,f[276]=324,f[278]=328,f[283]=344,f[284]=345,f[285]=346,f[286]=347,f[292]=367,f[295]=377,f[296]=378,f[298]=380,f[305]=963,f[306]=964,f[307]=966,f[308]=8215,f[309]=8252,f[310]=8319,f[311]=8359,f[312]=8592,f[313]=8593,f[337]=9552,f[493]=1039,f[494]=1040,f[672]=1488,f[673]=1489,f[674]=1490,f[675]=1491,f[676]=1492,f[677]=1493,f[678]=1494,f[679]=1495,f[680]=1496,f[681]=1497,f[682]=1498,f[683]=1499,f[684]=1500,f[685]=1501,f[686]=1502,f[687]=1503,f[688]=1504,f[689]=1505,f[690]=1506,f[691]=1507,f[692]=1508,f[693]=1509,f[694]=1510,f[695]=1511,f[696]=1512,f[697]=1513,f[698]=1514,f[705]=1524,f[706]=8362,f[710]=64288,f[711]=64298,f[759]=1617,f[761]=1776,f[763]=1778,f[775]=1652,f[777]=1764,f[778]=1780,f[779]=1781,f[780]=1782,f[782]=771,f[783]=64726,f[786]=8363,f[788]=8532,f[790]=768,f[791]=769,f[792]=768,f[795]=803,f[797]=64336,f[798]=64337,f[799]=64342,f[800]=64343,f[801]=64344,f[802]=64345,f[803]=64362,f[804]=64363,f[805]=64364,f[2424]=7821,f[2425]=7822,f[2426]=7823,f[2427]=7824,f[2428]=7825,f[2429]=7826,f[2430]=7827,f[2433]=7682,f[2678]=8045,f[2679]=8046,f[2830]=1552,f[2838]=686,f[2840]=751,f[2842]=753,f[2843]=754,f[2844]=755,f[2846]=757,f[2856]=767,f[2857]=848,f[2858]=849,f[2862]=853,f[2863]=854,f[2864]=855,f[2865]=861,f[2866]=862,f[2906]=7460,f[2908]=7462,f[2909]=7463,f[2910]=7464,f[2912]=7466,f[2913]=7467,f[2914]=7468,f[2916]=7470,f[2917]=7471,f[2918]=7472,f[2920]=7474,f[2921]=7475,f[2922]=7476,f[2924]=7478,f[2925]=7479,f[2926]=7480,f[2928]=7482,f[2929]=7483,f[2930]=7484,f[2932]=7486,f[2933]=7487,f[2934]=7488,f[2936]=7490,f[2937]=7491,f[2938]=7492,f[2940]=7494,f[2941]=7495,f[2942]=7496,f[2944]=7498,f[2946]=7500,f[2948]=7502,f[2950]=7504,f[2951]=7505,f[2952]=7506,f[2954]=7508,f[2955]=7509,f[2956]=7510,f[2958]=7512,f[2959]=7513,f[2960]=7514,f[2962]=7516,f[2963]=7517,f[2964]=7518,f[2966]=7520,f[2967]=7521,f[2968]=7522,f[2970]=7524,f[2971]=7525,f[2972]=7526,f[2974]=7528,f[2975]=7529,f[2976]=7530,f[2978]=1537,f[2979]=1538,f[2980]=1539,f[2982]=1549,f[2983]=1551,f[2984]=1552,f[2986]=1554,f[2987]=1555,f[2988]=1556,f[2990]=1623,f[2991]=1624,f[2995]=1775,f[2999]=1791,f[3002]=64290,f[3003]=64291,f[3004]=64292,f[3006]=64294,f[3007]=64295,f[3008]=64296,f[3011]=1900,f[3014]=8223,f[3015]=8244,f[3017]=7532,f[3018]=7533,f[3019]=7534,f[3075]=7590,f[3076]=7591,f[3079]=7594,f[3080]=7595,f[3083]=7598,f[3084]=7599,f[3087]=7602,f[3088]=7603,f[3091]=7606,f[3092]=7607,f[3095]=7610,f[3096]=7611,f[3099]=7614,f[3100]=7615,f[3103]=7618,f[3104]=7619,f[3107]=8337,f[3108]=8338,f[3116]=1884,f[3119]=1885,f[3120]=1885,f[3123]=1886,f[3124]=1886,f[3127]=1887,f[3128]=1887,f[3131]=1888,f[3132]=1888,f[3135]=1889,f[3136]=1889,f[3139]=1890,f[3140]=1890,f[3143]=1891,f[3144]=1891,f[3147]=1892,f[3148]=1892,f[3153]=580,f[3154]=581,f[3157]=584,f[3158]=585,f[3161]=588,f[3162]=589,f[3165]=891,f[3166]=892,f[3169]=1274,f[3170]=1275,f[3173]=1278,f[3174]=1279,f[3181]=7622,f[3182]=7623,f[3282]=11799,f[3316]=578,f[3379]=42785,f[3393]=1159,f[3416]=8377});o.getGlyphMapForStandardFonts=y;const v=(0,i.getLookupTableFactory)(function(f){f[227]=322,f[264]=261,f[291]=346});o.getSupplementalGlyphMapForArialBlack=v;const b=(0,i.getLookupTableFactory)(function(f){f[1]=32,f[4]=65,f[5]=192,f[6]=193,f[9]=196,f[17]=66,f[18]=67,f[21]=268,f[24]=68,f[28]=69,f[29]=200,f[30]=201,f[32]=282,f[38]=70,f[39]=71,f[44]=72,f[47]=73,f[48]=204,f[49]=205,f[58]=74,f[60]=75,f[62]=76,f[68]=77,f[69]=78,f[75]=79,f[76]=210,f[80]=214,f[87]=80,f[89]=81,f[90]=82,f[92]=344,f[94]=83,f[97]=352,f[100]=84,f[104]=85,f[109]=220,f[115]=86,f[116]=87,f[121]=88,f[122]=89,f[124]=221,f[127]=90,f[129]=381,f[258]=97,f[259]=224,f[260]=225,f[263]=228,f[268]=261,f[271]=98,f[272]=99,f[273]=263,f[275]=269,f[282]=100,f[286]=101,f[287]=232,f[288]=233,f[290]=283,f[295]=281,f[296]=102,f[336]=103,f[346]=104,f[349]=105,f[350]=236,f[351]=237,f[361]=106,f[364]=107,f[367]=108,f[371]=322,f[373]=109,f[374]=110,f[381]=111,f[382]=242,f[383]=243,f[386]=246,f[393]=112,f[395]=113,f[396]=114,f[398]=345,f[400]=115,f[401]=347,f[403]=353,f[410]=116,f[437]=117,f[442]=252,f[448]=118,f[449]=119,f[454]=120,f[455]=121,f[457]=253,f[460]=122,f[462]=382,f[463]=380,f[853]=44,f[855]=58,f[856]=46,f[876]=47,f[878]=45,f[882]=45,f[894]=40,f[895]=41,f[896]=91,f[897]=93,f[923]=64,f[1004]=48,f[1005]=49,f[1006]=50,f[1007]=51,f[1008]=52,f[1009]=53,f[1010]=54,f[1011]=55,f[1012]=56,f[1013]=57,f[1081]=37,f[1085]=43,f[1086]=45});o.getSupplementalGlyphMapForCalibri=b;function g(f){const E=(0,l.normalizeFontName)(f);return d()[E]}function w(f){const E=(0,l.normalizeFontName)(f);return!!(d()[E]||r()[E]||p()[E]||x()[E])}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ToUnicodeMap=o.IdentityToUnicodeMap=void 0;var i=s(145);class l{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this._map=r}get length(){return this._map.length}forEach(r){for(const p in this._map)r(p,this._map[p].charCodeAt(0))}has(r){return this._map[r]!==void 0}get(r){return this._map[r]}charCodeOf(r){const p=this._map;if(p.length<=65536)return p.indexOf(r);for(const x in p)if(p[x]===r)return x|0;return-1}amend(r){for(const p in r)this._map[p]=r[p]}}o.ToUnicodeMap=l;class d{constructor(r,p){this.firstChar=r,this.lastChar=p}get length(){return this.lastChar+1-this.firstChar}forEach(r){for(let p=this.firstChar,x=this.lastChar;p<=x;p++)r(p,p)}has(r){return this.firstChar<=r&&r<=this.lastChar}get(r){if(this.firstChar<=r&&r<=this.lastChar)return String.fromCharCode(r)}charCodeOf(r){return Number.isInteger(r)&&r>=this.firstChar&&r<=this.lastChar?r:-1}amend(r){(0,i.unreachable)("Should not call amend()")}}o.IdentityToUnicodeMap=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CFFFont=void 0;var i=s(186),l=s(189),d=s(145);class e{constructor(p,x){this.properties=x;const y=new i.CFFParser(p,x,l.SEAC_ANALYSIS_ENABLED);this.cff=y.parse(),this.cff.duplicateFirstGlyph();const v=new i.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=v.compile()}catch{(0,d.warn)("Failed to compile font "+x.loadedName),this.data=p}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const p=this.cff,x=this.properties,{cidToGidMap:y,cMap:v}=x,b=p.charset.charset;let g,w;if(x.composite){let E;if((y==null?void 0:y.length)>0){E=Object.create(null);for(let O=0,T=y.length;O<T;O++){const D=y[O];D!==void 0&&(E[D]=O)}}g=Object.create(null);let A;if(p.isCIDFont)for(w=0;w<b.length;w++){const O=b[w];A=v.charCodeOf(O),(E==null?void 0:E[A])!==void 0&&(A=E[A]),g[A]=w}else for(w=0;w<p.charStrings.count;w++)A=v.charCodeOf(w),g[A]=w;return g}let f=p.encoding?p.encoding.encoding:null;return x.isInternalFont&&(f=x.defaultEncoding),g=(0,l.type1FontGlyphMapping)(x,f,b),g}hasGlyphId(p){return this.cff.hasGlyphId(p)}_createBuiltInEncoding(){const{charset:p,encoding:x}=this.cff;if(!p||!x)return;const y=p.charset,v=x.encoding,b=[];for(const g in v){const w=v[g];if(w>=0){const f=y[w];f&&(b[g]=f)}}b.length>0&&(this.properties.builtInEncoding=b)}}o.CFFFont=e},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontRendererFactory=void 0,s(140),s(158),s(160),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(145),l=s(186),d=s(190),e=s(188),r=s(155);function p(I,W){return(I[W]<<24|I[W+1]<<16|I[W+2]<<8|I[W+3])>>>0}function x(I,W){return I[W]<<8|I[W+1]}function y(I,W){return(I[W]<<24|I[W+1]<<16)>>16}function v(I,W){return I[W]<<24>>24}function b(I,W){return y(I,W)/16384}function g(I){const W=I.length;let J=32768;return W<1240?J=107:W<33900&&(J=1131),J}function w(I,W,J){const H=x(I,W+2)===1?p(I,W+8):p(I,W+16),N=x(I,W+H);let U,Y,_;if(N===4){x(I,W+H+2);const V=x(I,W+H+6)>>1;for(Y=W+H+14,U=[],_=0;_<V;_++,Y+=2)U[_]={end:x(I,Y)};for(Y+=2,_=0;_<V;_++,Y+=2)U[_].start=x(I,Y);for(_=0;_<V;_++,Y+=2)U[_].idDelta=x(I,Y);for(_=0;_<V;_++,Y+=2){let Z=x(I,Y);if(Z!==0){U[_].ids=[];for(let q=0,re=U[_].end-U[_].start+1;q<re;q++)U[_].ids[q]=x(I,Y+Z),Z+=2}}return U}else if(N===12){const V=p(I,W+H+12);for(Y=W+H+16,U=[],_=0;_<V;_++)W=p(I,Y),U.push({start:W,end:p(I,Y+4),idDelta:p(I,Y+8)-W}),Y+=12;return U}throw new i.FormatError(`unsupported cmap: ${N}`)}function f(I,W,J,H){var _,V,Z;const N={},Y=new l.CFFParser(new r.Stream(I,W,J-W),N,H).parse();return{glyphs:Y.charStrings.objects,subrs:(V=(_=Y.topDict.privateDict)==null?void 0:_.subrsIndex)==null?void 0:V.objects,gsubrs:(Z=Y.globalSubrIndex)==null?void 0:Z.objects,isCFFCIDFont:Y.isCIDFont,fdSelect:Y.fdSelect,fdArray:Y.fdArray}}function E(I,W,J){let H,N;J?(H=4,N=p):(H=2,N=(_,V)=>2*x(_,V));const U=[];let Y=N(W,0);for(let _=H;_<W.length;_+=H){const V=N(W,_);U.push(I.subarray(Y,V)),Y=V}return U}function A(I,W){const J=W.codePointAt(0);let H=0,N=0,U=I.length-1;for(;N<U;){const Y=N+U+1>>1;J<I[Y].start?U=Y-1:N=Y}return I[N].start<=J&&J<=I[N].end&&(H=I[N].idDelta+(I[N].ids?I[N].ids[J-I[N].start]:J)&65535),{charCode:J,glyphId:H}}function O(I,W,J){function H(re,oe){W.push({cmd:"moveTo",args:[re,oe]})}function N(re,oe){W.push({cmd:"lineTo",args:[re,oe]})}function U(re,oe,ae,R){W.push({cmd:"quadraticCurveTo",args:[re,oe,ae,R]})}let Y=0;const _=y(I,Y);let V,Z=0,q=0;if(Y+=10,_<0)do{V=x(I,Y);const re=x(I,Y+2);Y+=4;let oe,ae;V&1?(V&2?(oe=y(I,Y),ae=y(I,Y+2)):(oe=x(I,Y),ae=x(I,Y+2)),Y+=4):V&2?(oe=v(I,Y++),ae=v(I,Y++)):(oe=I[Y++],ae=I[Y++]),V&2?(Z=oe,q=ae):(Z=0,q=0);let R=1,S=1,L=0,k=0;V&8?(R=S=b(I,Y),Y+=2):V&64?(R=b(I,Y),S=b(I,Y+2),Y+=4):V&128&&(R=b(I,Y),L=b(I,Y+2),k=b(I,Y+4),S=b(I,Y+6),Y+=8);const z=J.glyphs[re];z&&(W.push({cmd:"save"},{cmd:"transform",args:[R,L,k,S,Z,q]}),O(z,W,J),W.push({cmd:"restore"}))}while(V&32);else{const re=[];let oe,ae;for(oe=0;oe<_;oe++)re.push(x(I,Y)),Y+=2;const R=x(I,Y);Y+=2+R;const S=re.at(-1)+1,L=[];for(;L.length<S;){V=I[Y++];let z=1;for(V&8&&(z+=I[Y++]);z-- >0;)L.push({flags:V})}for(oe=0;oe<S;oe++){switch(L[oe].flags&18){case 0:Z+=y(I,Y),Y+=2;break;case 2:Z-=I[Y++];break;case 18:Z+=I[Y++];break}L[oe].x=Z}for(oe=0;oe<S;oe++){switch(L[oe].flags&36){case 0:q+=y(I,Y),Y+=2;break;case 4:q-=I[Y++];break;case 36:q+=I[Y++];break}L[oe].y=q}let k=0;for(Y=0;Y<_;Y++){const z=re[Y],P=L.slice(k,z+1);if(P[0].flags&1)P.push(P[0]);else if(P.at(-1).flags&1)P.unshift(P.at(-1));else{const K={flags:1,x:(P[0].x+P.at(-1).x)/2,y:(P[0].y+P.at(-1).y)/2};P.unshift(K),P.push(K)}for(H(P[0].x,P[0].y),oe=1,ae=P.length;oe<ae;oe++)P[oe].flags&1?N(P[oe].x,P[oe].y):P[oe+1].flags&1?(U(P[oe].x,P[oe].y,P[oe+1].x,P[oe+1].y),oe++):U(P[oe].x,P[oe].y,(P[oe].x+P[oe+1].x)/2,(P[oe].y+P[oe+1].y)/2);k=z+1}}}function T(I,W,J,H){function N(oe,ae){W.push({cmd:"moveTo",args:[oe,ae]})}function U(oe,ae){W.push({cmd:"lineTo",args:[oe,ae]})}function Y(oe,ae,R,S,L,k){W.push({cmd:"bezierCurveTo",args:[oe,ae,R,S,L,k]})}const _=[];let V=0,Z=0,q=0;function re(oe){var R;let ae=0;for(;ae<oe.length;){let S=!1,L=oe[ae++],k,z,P,K,te,X,ee,G,ne;switch(L){case 1:q+=_.length>>1,S=!0;break;case 3:q+=_.length>>1,S=!0;break;case 4:Z+=_.pop(),N(V,Z),S=!0;break;case 5:for(;_.length>0;)V+=_.shift(),Z+=_.shift(),U(V,Z);break;case 6:for(;_.length>0&&(V+=_.shift(),U(V,Z),_.length!==0);)Z+=_.shift(),U(V,Z);break;case 7:for(;_.length>0&&(Z+=_.shift(),U(V,Z),_.length!==0);)V+=_.shift(),U(V,Z);break;case 8:for(;_.length>0;)k=V+_.shift(),P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K+_.shift(),Y(k,P,z,K,V,Z);break;case 10:if(G=_.pop(),ne=null,J.isCFFCIDFont){const se=J.fdSelect.getFDIndex(H);if(se>=0&&se<J.fdArray.length){const le=J.fdArray[se];let he;(R=le.privateDict)!=null&&R.subrsIndex&&(he=le.privateDict.subrsIndex.objects),he&&(G+=g(he),ne=he[G])}else(0,i.warn)("Invalid fd index for glyph index.")}else ne=J.subrs[G+J.subrsBias];ne&&re(ne);break;case 11:return;case 12:switch(L=oe[ae++],L){case 34:k=V+_.shift(),z=k+_.shift(),te=Z+_.shift(),V=z+_.shift(),Y(k,Z,z,te,V,te),k=V+_.shift(),z=k+_.shift(),V=z+_.shift(),Y(k,te,z,Z,V,Z);break;case 35:k=V+_.shift(),P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K+_.shift(),Y(k,P,z,K,V,Z),k=V+_.shift(),P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K+_.shift(),Y(k,P,z,K,V,Z),_.pop();break;case 36:k=V+_.shift(),te=Z+_.shift(),z=k+_.shift(),X=te+_.shift(),V=z+_.shift(),Y(k,te,z,X,V,X),k=V+_.shift(),z=k+_.shift(),ee=X+_.shift(),V=z+_.shift(),Y(k,X,z,ee,V,Z);break;case 37:const se=V,le=Z;k=V+_.shift(),P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K+_.shift(),Y(k,P,z,K,V,Z),k=V+_.shift(),P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z,Z=K,Math.abs(V-se)>Math.abs(Z-le)?V+=_.shift():Z+=_.shift(),Y(k,P,z,K,V,Z);break;default:throw new i.FormatError(`unknown operator: 12 ${L}`)}break;case 14:if(_.length>=4){const se=_.pop(),le=_.pop();Z=_.pop(),V=_.pop(),W.push({cmd:"save"},{cmd:"translate",args:[V,Z]});let he=A(J.cmap,String.fromCharCode(J.glyphNameMap[e.StandardEncoding[se]]));T(J.glyphs[he.glyphId],W,J,he.glyphId),W.push({cmd:"restore"}),he=A(J.cmap,String.fromCharCode(J.glyphNameMap[e.StandardEncoding[le]])),T(J.glyphs[he.glyphId],W,J,he.glyphId)}return;case 18:q+=_.length>>1,S=!0;break;case 19:q+=_.length>>1,ae+=q+7>>3,S=!0;break;case 20:q+=_.length>>1,ae+=q+7>>3,S=!0;break;case 21:Z+=_.pop(),V+=_.pop(),N(V,Z),S=!0;break;case 22:V+=_.pop(),N(V,Z),S=!0;break;case 23:q+=_.length>>1,S=!0;break;case 24:for(;_.length>2;)k=V+_.shift(),P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K+_.shift(),Y(k,P,z,K,V,Z);V+=_.shift(),Z+=_.shift(),U(V,Z);break;case 25:for(;_.length>6;)V+=_.shift(),Z+=_.shift(),U(V,Z);k=V+_.shift(),P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K+_.shift(),Y(k,P,z,K,V,Z);break;case 26:for(_.length%2&&(V+=_.shift());_.length>0;)k=V,P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z,Z=K+_.shift(),Y(k,P,z,K,V,Z);break;case 27:for(_.length%2&&(Z+=_.shift());_.length>0;)k=V+_.shift(),P=Z,z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K,Y(k,P,z,K,V,Z);break;case 28:_.push((oe[ae]<<24|oe[ae+1]<<16)>>16),ae+=2;break;case 29:G=_.pop()+J.gsubrsBias,ne=J.gsubrs[G],ne&&re(ne);break;case 30:for(;_.length>0&&(k=V,P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K+(_.length===1?_.shift():0),Y(k,P,z,K,V,Z),_.length!==0);)k=V+_.shift(),P=Z,z=k+_.shift(),K=P+_.shift(),Z=K+_.shift(),V=z+(_.length===1?_.shift():0),Y(k,P,z,K,V,Z);break;case 31:for(;_.length>0&&(k=V+_.shift(),P=Z,z=k+_.shift(),K=P+_.shift(),Z=K+_.shift(),V=z+(_.length===1?_.shift():0),Y(k,P,z,K,V,Z),_.length!==0);)k=V,P=Z+_.shift(),z=k+_.shift(),K=P+_.shift(),V=z+_.shift(),Z=K+(_.length===1?_.shift():0),Y(k,P,z,K,V,Z);break;default:if(L<32)throw new i.FormatError(`unknown operator: ${L}`);L<247?_.push(L-139):L<251?_.push((L-247)*256+oe[ae++]+108):L<255?_.push(-(L-251)*256-oe[ae++]-108):(_.push((oe[ae]<<24|oe[ae+1]<<16|oe[ae+2]<<8|oe[ae+3])/65536),ae+=4);break}S&&(_.length=0)}}re(I)}const D=[];class F{constructor(W){this.constructor===F&&(0,i.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=W,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(W){const{charCode:J,glyphId:H}=A(this.cmap,W);let N=this.compiledGlyphs[H];if(!N)try{N=this.compileGlyph(this.glyphs[H],H),this.compiledGlyphs[H]=N}catch(U){throw this.compiledGlyphs[H]=D,this.compiledCharCodeToGlyphId[J]===void 0&&(this.compiledCharCodeToGlyphId[J]=H),U}return this.compiledCharCodeToGlyphId[J]===void 0&&(this.compiledCharCodeToGlyphId[J]=H),N}compileGlyph(W,J){if(!W||W.length===0||W[0]===14)return D;let H=this.fontMatrix;if(this.isCFFCIDFont){const U=this.fdSelect.getFDIndex(J);U>=0&&U<this.fdArray.length?H=this.fdArray[U].getByName("FontMatrix")||i.FONT_IDENTITY_MATRIX:(0,i.warn)("Invalid fd index for glyph index.")}const N=[{cmd:"save"},{cmd:"transform",args:H.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(W,N,J),N.push({cmd:"restore"}),N}compileGlyphImpl(){(0,i.unreachable)("Children classes should implement this.")}hasBuiltPath(W){const{charCode:J,glyphId:H}=A(this.cmap,W);return this.compiledGlyphs[H]!==void 0&&this.compiledCharCodeToGlyphId[J]!==void 0}}class C extends F{constructor(W,J,H){super(H||[488e-6,0,0,488e-6,0,0]),this.glyphs=W,this.cmap=J}compileGlyphImpl(W,J){O(W,J,this)}}class B extends F{constructor(W,J,H,N){super(H||[.001,0,0,.001,0,0]),this.glyphs=W.glyphs,this.gsubrs=W.gsubrs||[],this.subrs=W.subrs||[],this.cmap=J,this.glyphNameMap=N||(0,d.getGlyphsUnicode)(),this.gsubrsBias=g(this.gsubrs),this.subrsBias=g(this.subrs),this.isCFFCIDFont=W.isCFFCIDFont,this.fdSelect=W.fdSelect,this.fdArray=W.fdArray}compileGlyphImpl(W,J,H){T(W,J,this,H)}}class M{static create(W,J){const H=new Uint8Array(W.data);let N,U,Y,_,V,Z;const q=x(H,4);for(let re=0,oe=12;re<q;re++,oe+=16){const ae=(0,i.bytesToString)(H.subarray(oe,oe+4)),R=p(H,oe+8),S=p(H,oe+12);switch(ae){case"cmap":N=w(H,R);break;case"glyf":U=H.subarray(R,R+S);break;case"loca":Y=H.subarray(R,R+S);break;case"head":Z=x(H,R+18),V=x(H,R+50);break;case"CFF ":_=f(H,R,R+S,J);break}}if(U){const re=Z?[1/Z,0,0,1/Z,0,0]:W.fontMatrix;return new C(E(U,Y,V),N,re)}return new B(_,N,W.fontMatrix,W.glyphNameMap)}}o.FontRendererFactory=M},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getMetrics=o.getFontBasicMetrics=void 0;var i=s(150);const l=(0,i.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,i.getLookupTableFactory)(function(r){r.space=278,r.exclam=278,r.quotedbl=355,r.numbersign=556,r.dollar=556,r.percent=889,r.ampersand=667,r.quoteright=222,r.parenleft=333,r.parenright=333,r.asterisk=389,r.plus=584,r.comma=278,r.hyphen=333,r.period=278,r.slash=278,r.zero=556,r.one=556,r.two=556,r.three=556,r.four=556,r.five=556,r.six=556,r.seven=556,r.eight=556,r.nine=556,r.colon=278,r.semicolon=278,r.less=584,r.equal=584,r.greater=584,r.question=556,r.at=1015,r.A=667,r.B=667,r.C=722,r.D=722,r.E=667,r.F=611,r.G=778,r.H=722,r.I=278,r.J=500,r.K=667,r.L=556,r.M=833,r.N=722,r.O=778,r.P=667,r.Q=778,r.R=722,r.S=667,r.T=611,r.U=722,r.V=667,r.W=944,r.X=667,r.Y=667,r.Z=611,r.bracketleft=278,r.backslash=278,r.bracketright=278,r.asciicircum=469,r.underscore=556,r.quoteleft=222,r.a=556,r.b=556,r.c=500,r.d=556,r.e=556,r.f=278,r.g=556,r.h=556,r.i=222,r.j=222,r.k=500,r.l=222,r.m=833,r.n=556,r.o=556,r.p=556,r.q=556,r.r=333,r.s=500,r.t=278,r.u=556,r.v=500,r.w=722,r.x=500,r.y=500,r.z=500,r.braceleft=334,r.bar=260,r.braceright=334,r.asciitilde=584,r.exclamdown=333,r.cent=556,r.sterling=556,r.fraction=167,r.yen=556,r.florin=556,r.section=556,r.currency=556,r.quotesingle=191,r.quotedblleft=333,r.guillemotleft=556,r.guilsinglleft=333,r.guilsinglright=333,r.fi=500,r.fl=500,r.endash=556,r.dagger=556,r.daggerdbl=556,r.periodcentered=278,r.paragraph=537,r.bullet=350,r.quotesinglbase=222,r.quotedblbase=333,r.quotedblright=333,r.guillemotright=556,r.ellipsis=1e3,r.perthousand=1e3,r.questiondown=611,r.grave=333,r.acute=333,r.circumflex=333,r.tilde=333,r.macron=333,r.breve=333,r.dotaccent=333,r.dieresis=333,r.ring=333,r.cedilla=333,r.hungarumlaut=333,r.ogonek=333,r.caron=333,r.emdash=1e3,r.AE=1e3,r.ordfeminine=370,r.Lslash=556,r.Oslash=778,r.OE=1e3,r.ordmasculine=365,r.ae=889,r.dotlessi=278,r.lslash=222,r.oslash=611,r.oe=944,r.germandbls=611,r.Idieresis=278,r.eacute=556,r.abreve=556,r.uhungarumlaut=556,r.ecaron=556,r.Ydieresis=667,r.divide=584,r.Yacute=667,r.Acircumflex=667,r.aacute=556,r.Ucircumflex=722,r.yacute=500,r.scommaaccent=500,r.ecircumflex=556,r.Uring=722,r.Udieresis=722,r.aogonek=556,r.Uacute=722,r.uogonek=556,r.Edieresis=667,r.Dcroat=722,r.commaaccent=250,r.copyright=737,r.Emacron=667,r.ccaron=500,r.aring=556,r.Ncommaaccent=722,r.lacute=222,r.agrave=556,r.Tcommaaccent=611,r.Cacute=722,r.atilde=556,r.Edotaccent=667,r.scaron=500,r.scedilla=500,r.iacute=278,r.lozenge=471,r.Rcaron=722,r.Gcommaaccent=778,r.ucircumflex=556,r.acircumflex=556,r.Amacron=667,r.rcaron=333,r.ccedilla=500,r.Zdotaccent=611,r.Thorn=667,r.Omacron=778,r.Racute=722,r.Sacute=667,r.dcaron=643,r.Umacron=722,r.uring=556,r.threesuperior=333,r.Ograve=778,r.Agrave=667,r.Abreve=667,r.multiply=584,r.uacute=556,r.Tcaron=611,r.partialdiff=476,r.ydieresis=500,r.Nacute=722,r.icircumflex=278,r.Ecircumflex=667,r.adieresis=556,r.edieresis=556,r.cacute=500,r.nacute=556,r.umacron=556,r.Ncaron=722,r.Iacute=278,r.plusminus=584,r.brokenbar=260,r.registered=737,r.Gbreve=778,r.Idotaccent=278,r.summation=600,r.Egrave=667,r.racute=333,r.omacron=556,r.Zacute=611,r.Zcaron=611,r.greaterequal=549,r.Eth=722,r.Ccedilla=722,r.lcommaaccent=222,r.tcaron=317,r.eogonek=556,r.Uogonek=722,r.Aacute=667,r.Adieresis=667,r.egrave=556,r.zacute=500,r.iogonek=222,r.Oacute=778,r.oacute=556,r.amacron=556,r.sacute=500,r.idieresis=278,r.Ocircumflex=778,r.Ugrave=722,r.Delta=612,r.thorn=556,r.twosuperior=333,r.Odieresis=778,r.mu=556,r.igrave=278,r.ohungarumlaut=556,r.Eogonek=667,r.dcroat=556,r.threequarters=834,r.Scedilla=667,r.lcaron=299,r.Kcommaaccent=667,r.Lacute=556,r.trademark=1e3,r.edotaccent=556,r.Igrave=278,r.Imacron=278,r.Lcaron=556,r.onehalf=834,r.lessequal=549,r.ocircumflex=556,r.ntilde=556,r.Uhungarumlaut=722,r.Eacute=667,r.emacron=556,r.gbreve=556,r.onequarter=834,r.Scaron=667,r.Scommaaccent=667,r.Ohungarumlaut=778,r.degree=400,r.ograve=556,r.Ccaron=722,r.ugrave=556,r.radical=453,r.Dcaron=722,r.rcommaaccent=333,r.Ntilde=722,r.otilde=556,r.Rcommaaccent=722,r.Lcommaaccent=556,r.Atilde=667,r.Aogonek=667,r.Aring=667,r.Otilde=778,r.zdotaccent=500,r.Ecaron=667,r.Iogonek=278,r.kcommaaccent=500,r.minus=584,r.Icircumflex=278,r.ncaron=556,r.tcommaaccent=278,r.logicalnot=584,r.odieresis=556,r.udieresis=556,r.notequal=549,r.gcommaaccent=556,r.eth=556,r.zcaron=500,r.ncommaaccent=556,r.onesuperior=333,r.imacron=278,r.Euro=556}),e["Helvetica-Bold"]=(0,i.getLookupTableFactory)(function(r){r.space=278,r.exclam=333,r.quotedbl=474,r.numbersign=556,r.dollar=556,r.percent=889,r.ampersand=722,r.quoteright=278,r.parenleft=333,r.parenright=333,r.asterisk=389,r.plus=584,r.comma=278,r.hyphen=333,r.period=278,r.slash=278,r.zero=556,r.one=556,r.two=556,r.three=556,r.four=556,r.five=556,r.six=556,r.seven=556,r.eight=556,r.nine=556,r.colon=333,r.semicolon=333,r.less=584,r.equal=584,r.greater=584,r.question=611,r.at=975,r.A=722,r.B=722,r.C=722,r.D=722,r.E=667,r.F=611,r.G=778,r.H=722,r.I=278,r.J=556,r.K=722,r.L=611,r.M=833,r.N=722,r.O=778,r.P=667,r.Q=778,r.R=722,r.S=667,r.T=611,r.U=722,r.V=667,r.W=944,r.X=667,r.Y=667,r.Z=611,r.bracketleft=333,r.backslash=278,r.bracketright=333,r.asciicircum=584,r.underscore=556,r.quoteleft=278,r.a=556,r.b=611,r.c=556,r.d=611,r.e=556,r.f=333,r.g=611,r.h=611,r.i=278,r.j=278,r.k=556,r.l=278,r.m=889,r.n=611,r.o=611,r.p=611,r.q=611,r.r=389,r.s=556,r.t=333,r.u=611,r.v=556,r.w=778,r.x=556,r.y=556,r.z=500,r.braceleft=389,r.bar=280,r.braceright=389,r.asciitilde=584,r.exclamdown=333,r.cent=556,r.sterling=556,r.fraction=167,r.yen=556,r.florin=556,r.section=556,r.currency=556,r.quotesingle=238,r.quotedblleft=500,r.guillemotleft=556,r.guilsinglleft=333,r.guilsinglright=333,r.fi=611,r.fl=611,r.endash=556,r.dagger=556,r.daggerdbl=556,r.periodcentered=278,r.paragraph=556,r.bullet=350,r.quotesinglbase=278,r.quotedblbase=500,r.quotedblright=500,r.guillemotright=556,r.ellipsis=1e3,r.perthousand=1e3,r.questiondown=611,r.grave=333,r.acute=333,r.circumflex=333,r.tilde=333,r.macron=333,r.breve=333,r.dotaccent=333,r.dieresis=333,r.ring=333,r.cedilla=333,r.hungarumlaut=333,r.ogonek=333,r.caron=333,r.emdash=1e3,r.AE=1e3,r.ordfeminine=370,r.Lslash=611,r.Oslash=778,r.OE=1e3,r.ordmasculine=365,r.ae=889,r.dotlessi=278,r.lslash=278,r.oslash=611,r.oe=944,r.germandbls=611,r.Idieresis=278,r.eacute=556,r.abreve=556,r.uhungarumlaut=611,r.ecaron=556,r.Ydieresis=667,r.divide=584,r.Yacute=667,r.Acircumflex=722,r.aacute=556,r.Ucircumflex=722,r.yacute=556,r.scommaaccent=556,r.ecircumflex=556,r.Uring=722,r.Udieresis=722,r.aogonek=556,r.Uacute=722,r.uogonek=611,r.Edieresis=667,r.Dcroat=722,r.commaaccent=250,r.copyright=737,r.Emacron=667,r.ccaron=556,r.aring=556,r.Ncommaaccent=722,r.lacute=278,r.agrave=556,r.Tcommaaccent=611,r.Cacute=722,r.atilde=556,r.Edotaccent=667,r.scaron=556,r.scedilla=556,r.iacute=278,r.lozenge=494,r.Rcaron=722,r.Gcommaaccent=778,r.ucircumflex=611,r.acircumflex=556,r.Amacron=722,r.rcaron=389,r.ccedilla=556,r.Zdotaccent=611,r.Thorn=667,r.Omacron=778,r.Racute=722,r.Sacute=667,r.dcaron=743,r.Umacron=722,r.uring=611,r.threesuperior=333,r.Ograve=778,r.Agrave=722,r.Abreve=722,r.multiply=584,r.uacute=611,r.Tcaron=611,r.partialdiff=494,r.ydieresis=556,r.Nacute=722,r.icircumflex=278,r.Ecircumflex=667,r.adieresis=556,r.edieresis=556,r.cacute=556,r.nacute=611,r.umacron=611,r.Ncaron=722,r.Iacute=278,r.plusminus=584,r.brokenbar=280,r.registered=737,r.Gbreve=778,r.Idotaccent=278,r.summation=600,r.Egrave=667,r.racute=389,r.omacron=611,r.Zacute=611,r.Zcaron=611,r.greaterequal=549,r.Eth=722,r.Ccedilla=722,r.lcommaaccent=278,r.tcaron=389,r.eogonek=556,r.Uogonek=722,r.Aacute=722,r.Adieresis=722,r.egrave=556,r.zacute=500,r.iogonek=278,r.Oacute=778,r.oacute=611,r.amacron=556,r.sacute=556,r.idieresis=278,r.Ocircumflex=778,r.Ugrave=722,r.Delta=612,r.thorn=611,r.twosuperior=333,r.Odieresis=778,r.mu=611,r.igrave=278,r.ohungarumlaut=611,r.Eogonek=667,r.dcroat=611,r.threequarters=834,r.Scedilla=667,r.lcaron=400,r.Kcommaaccent=722,r.Lacute=611,r.trademark=1e3,r.edotaccent=556,r.Igrave=278,r.Imacron=278,r.Lcaron=611,r.onehalf=834,r.lessequal=549,r.ocircumflex=611,r.ntilde=611,r.Uhungarumlaut=722,r.Eacute=667,r.emacron=556,r.gbreve=611,r.onequarter=834,r.Scaron=667,r.Scommaaccent=667,r.Ohungarumlaut=778,r.degree=400,r.ograve=611,r.Ccaron=722,r.ugrave=611,r.radical=549,r.Dcaron=722,r.rcommaaccent=389,r.Ntilde=722,r.otilde=611,r.Rcommaaccent=722,r.Lcommaaccent=611,r.Atilde=722,r.Aogonek=722,r.Aring=722,r.Otilde=778,r.zdotaccent=500,r.Ecaron=667,r.Iogonek=278,r.kcommaaccent=556,r.minus=584,r.Icircumflex=278,r.ncaron=611,r.tcommaaccent=333,r.logicalnot=584,r.odieresis=611,r.udieresis=611,r.notequal=549,r.gcommaaccent=611,r.eth=611,r.zcaron=500,r.ncommaaccent=611,r.onesuperior=333,r.imacron=278,r.Euro=556}),e["Helvetica-BoldOblique"]=(0,i.getLookupTableFactory)(function(r){r.space=278,r.exclam=333,r.quotedbl=474,r.numbersign=556,r.dollar=556,r.percent=889,r.ampersand=722,r.quoteright=278,r.parenleft=333,r.parenright=333,r.asterisk=389,r.plus=584,r.comma=278,r.hyphen=333,r.period=278,r.slash=278,r.zero=556,r.one=556,r.two=556,r.three=556,r.four=556,r.five=556,r.six=556,r.seven=556,r.eight=556,r.nine=556,r.colon=333,r.semicolon=333,r.less=584,r.equal=584,r.greater=584,r.question=611,r.at=975,r.A=722,r.B=722,r.C=722,r.D=722,r.E=667,r.F=611,r.G=778,r.H=722,r.I=278,r.J=556,r.K=722,r.L=611,r.M=833,r.N=722,r.O=778,r.P=667,r.Q=778,r.R=722,r.S=667,r.T=611,r.U=722,r.V=667,r.W=944,r.X=667,r.Y=667,r.Z=611,r.bracketleft=333,r.backslash=278,r.bracketright=333,r.asciicircum=584,r.underscore=556,r.quoteleft=278,r.a=556,r.b=611,r.c=556,r.d=611,r.e=556,r.f=333,r.g=611,r.h=611,r.i=278,r.j=278,r.k=556,r.l=278,r.m=889,r.n=611,r.o=611,r.p=611,r.q=611,r.r=389,r.s=556,r.t=333,r.u=611,r.v=556,r.w=778,r.x=556,r.y=556,r.z=500,r.braceleft=389,r.bar=280,r.braceright=389,r.asciitilde=584,r.exclamdown=333,r.cent=556,r.sterling=556,r.fraction=167,r.yen=556,r.florin=556,r.section=556,r.currency=556,r.quotesingle=238,r.quotedblleft=500,r.guillemotleft=556,r.guilsinglleft=333,r.guilsinglright=333,r.fi=611,r.fl=611,r.endash=556,r.dagger=556,r.daggerdbl=556,r.periodcentered=278,r.paragraph=556,r.bullet=350,r.quotesinglbase=278,r.quotedblbase=500,r.quotedblright=500,r.guillemotright=556,r.ellipsis=1e3,r.perthousand=1e3,r.questiondown=611,r.grave=333,r.acute=333,r.circumflex=333,r.tilde=333,r.macron=333,r.breve=333,r.dotaccent=333,r.dieresis=333,r.ring=333,r.cedilla=333,r.hungarumlaut=333,r.ogonek=333,r.caron=333,r.emdash=1e3,r.AE=1e3,r.ordfeminine=370,r.Lslash=611,r.Oslash=778,r.OE=1e3,r.ordmasculine=365,r.ae=889,r.dotlessi=278,r.lslash=278,r.oslash=611,r.oe=944,r.germandbls=611,r.Idieresis=278,r.eacute=556,r.abreve=556,r.uhungarumlaut=611,r.ecaron=556,r.Ydieresis=667,r.divide=584,r.Yacute=667,r.Acircumflex=722,r.aacute=556,r.Ucircumflex=722,r.yacute=556,r.scommaaccent=556,r.ecircumflex=556,r.Uring=722,r.Udieresis=722,r.aogonek=556,r.Uacute=722,r.uogonek=611,r.Edieresis=667,r.Dcroat=722,r.commaaccent=250,r.copyright=737,r.Emacron=667,r.ccaron=556,r.aring=556,r.Ncommaaccent=722,r.lacute=278,r.agrave=556,r.Tcommaaccent=611,r.Cacute=722,r.atilde=556,r.Edotaccent=667,r.scaron=556,r.scedilla=556,r.iacute=278,r.lozenge=494,r.Rcaron=722,r.Gcommaaccent=778,r.ucircumflex=611,r.acircumflex=556,r.Amacron=722,r.rcaron=389,r.ccedilla=556,r.Zdotaccent=611,r.Thorn=667,r.Omacron=778,r.Racute=722,r.Sacute=667,r.dcaron=743,r.Umacron=722,r.uring=611,r.threesuperior=333,r.Ograve=778,r.Agrave=722,r.Abreve=722,r.multiply=584,r.uacute=611,r.Tcaron=611,r.partialdiff=494,r.ydieresis=556,r.Nacute=722,r.icircumflex=278,r.Ecircumflex=667,r.adieresis=556,r.edieresis=556,r.cacute=556,r.nacute=611,r.umacron=611,r.Ncaron=722,r.Iacute=278,r.plusminus=584,r.brokenbar=280,r.registered=737,r.Gbreve=778,r.Idotaccent=278,r.summation=600,r.Egrave=667,r.racute=389,r.omacron=611,r.Zacute=611,r.Zcaron=611,r.greaterequal=549,r.Eth=722,r.Ccedilla=722,r.lcommaaccent=278,r.tcaron=389,r.eogonek=556,r.Uogonek=722,r.Aacute=722,r.Adieresis=722,r.egrave=556,r.zacute=500,r.iogonek=278,r.Oacute=778,r.oacute=611,r.amacron=556,r.sacute=556,r.idieresis=278,r.Ocircumflex=778,r.Ugrave=722,r.Delta=612,r.thorn=611,r.twosuperior=333,r.Odieresis=778,r.mu=611,r.igrave=278,r.ohungarumlaut=611,r.Eogonek=667,r.dcroat=611,r.threequarters=834,r.Scedilla=667,r.lcaron=400,r.Kcommaaccent=722,r.Lacute=611,r.trademark=1e3,r.edotaccent=556,r.Igrave=278,r.Imacron=278,r.Lcaron=611,r.onehalf=834,r.lessequal=549,r.ocircumflex=611,r.ntilde=611,r.Uhungarumlaut=722,r.Eacute=667,r.emacron=556,r.gbreve=611,r.onequarter=834,r.Scaron=667,r.Scommaaccent=667,r.Ohungarumlaut=778,r.degree=400,r.ograve=611,r.Ccaron=722,r.ugrave=611,r.radical=549,r.Dcaron=722,r.rcommaaccent=389,r.Ntilde=722,r.otilde=611,r.Rcommaaccent=722,r.Lcommaaccent=611,r.Atilde=722,r.Aogonek=722,r.Aring=722,r.Otilde=778,r.zdotaccent=500,r.Ecaron=667,r.Iogonek=278,r.kcommaaccent=556,r.minus=584,r.Icircumflex=278,r.ncaron=611,r.tcommaaccent=333,r.logicalnot=584,r.odieresis=611,r.udieresis=611,r.notequal=549,r.gcommaaccent=611,r.eth=611,r.zcaron=500,r.ncommaaccent=611,r.onesuperior=333,r.imacron=278,r.Euro=556}),e["Helvetica-Oblique"]=(0,i.getLookupTableFactory)(function(r){r.space=278,r.exclam=278,r.quotedbl=355,r.numbersign=556,r.dollar=556,r.percent=889,r.ampersand=667,r.quoteright=222,r.parenleft=333,r.parenright=333,r.asterisk=389,r.plus=584,r.comma=278,r.hyphen=333,r.period=278,r.slash=278,r.zero=556,r.one=556,r.two=556,r.three=556,r.four=556,r.five=556,r.six=556,r.seven=556,r.eight=556,r.nine=556,r.colon=278,r.semicolon=278,r.less=584,r.equal=584,r.greater=584,r.question=556,r.at=1015,r.A=667,r.B=667,r.C=722,r.D=722,r.E=667,r.F=611,r.G=778,r.H=722,r.I=278,r.J=500,r.K=667,r.L=556,r.M=833,r.N=722,r.O=778,r.P=667,r.Q=778,r.R=722,r.S=667,r.T=611,r.U=722,r.V=667,r.W=944,r.X=667,r.Y=667,r.Z=611,r.bracketleft=278,r.backslash=278,r.bracketright=278,r.asciicircum=469,r.underscore=556,r.quoteleft=222,r.a=556,r.b=556,r.c=500,r.d=556,r.e=556,r.f=278,r.g=556,r.h=556,r.i=222,r.j=222,r.k=500,r.l=222,r.m=833,r.n=556,r.o=556,r.p=556,r.q=556,r.r=333,r.s=500,r.t=278,r.u=556,r.v=500,r.w=722,r.x=500,r.y=500,r.z=500,r.braceleft=334,r.bar=260,r.braceright=334,r.asciitilde=584,r.exclamdown=333,r.cent=556,r.sterling=556,r.fraction=167,r.yen=556,r.florin=556,r.section=556,r.currency=556,r.quotesingle=191,r.quotedblleft=333,r.guillemotleft=556,r.guilsinglleft=333,r.guilsinglright=333,r.fi=500,r.fl=500,r.endash=556,r.dagger=556,r.daggerdbl=556,r.periodcentered=278,r.paragraph=537,r.bullet=350,r.quotesinglbase=222,r.quotedblbase=333,r.quotedblright=333,r.guillemotright=556,r.ellipsis=1e3,r.perthousand=1e3,r.questiondown=611,r.grave=333,r.acute=333,r.circumflex=333,r.tilde=333,r.macron=333,r.breve=333,r.dotaccent=333,r.dieresis=333,r.ring=333,r.cedilla=333,r.hungarumlaut=333,r.ogonek=333,r.caron=333,r.emdash=1e3,r.AE=1e3,r.ordfeminine=370,r.Lslash=556,r.Oslash=778,r.OE=1e3,r.ordmasculine=365,r.ae=889,r.dotlessi=278,r.lslash=222,r.oslash=611,r.oe=944,r.germandbls=611,r.Idieresis=278,r.eacute=556,r.abreve=556,r.uhungarumlaut=556,r.ecaron=556,r.Ydieresis=667,r.divide=584,r.Yacute=667,r.Acircumflex=667,r.aacute=556,r.Ucircumflex=722,r.yacute=500,r.scommaaccent=500,r.ecircumflex=556,r.Uring=722,r.Udieresis=722,r.aogonek=556,r.Uacute=722,r.uogonek=556,r.Edieresis=667,r.Dcroat=722,r.commaaccent=250,r.copyright=737,r.Emacron=667,r.ccaron=500,r.aring=556,r.Ncommaaccent=722,r.lacute=222,r.agrave=556,r.Tcommaaccent=611,r.Cacute=722,r.atilde=556,r.Edotaccent=667,r.scaron=500,r.scedilla=500,r.iacute=278,r.lozenge=471,r.Rcaron=722,r.Gcommaaccent=778,r.ucircumflex=556,r.acircumflex=556,r.Amacron=667,r.rcaron=333,r.ccedilla=500,r.Zdotaccent=611,r.Thorn=667,r.Omacron=778,r.Racute=722,r.Sacute=667,r.dcaron=643,r.Umacron=722,r.uring=556,r.threesuperior=333,r.Ograve=778,r.Agrave=667,r.Abreve=667,r.multiply=584,r.uacute=556,r.Tcaron=611,r.partialdiff=476,r.ydieresis=500,r.Nacute=722,r.icircumflex=278,r.Ecircumflex=667,r.adieresis=556,r.edieresis=556,r.cacute=500,r.nacute=556,r.umacron=556,r.Ncaron=722,r.Iacute=278,r.plusminus=584,r.brokenbar=260,r.registered=737,r.Gbreve=778,r.Idotaccent=278,r.summation=600,r.Egrave=667,r.racute=333,r.omacron=556,r.Zacute=611,r.Zcaron=611,r.greaterequal=549,r.Eth=722,r.Ccedilla=722,r.lcommaaccent=222,r.tcaron=317,r.eogonek=556,r.Uogonek=722,r.Aacute=667,r.Adieresis=667,r.egrave=556,r.zacute=500,r.iogonek=222,r.Oacute=778,r.oacute=556,r.amacron=556,r.sacute=500,r.idieresis=278,r.Ocircumflex=778,r.Ugrave=722,r.Delta=612,r.thorn=556,r.twosuperior=333,r.Odieresis=778,r.mu=556,r.igrave=278,r.ohungarumlaut=556,r.Eogonek=667,r.dcroat=556,r.threequarters=834,r.Scedilla=667,r.lcaron=299,r.Kcommaaccent=667,r.Lacute=556,r.trademark=1e3,r.edotaccent=556,r.Igrave=278,r.Imacron=278,r.Lcaron=556,r.onehalf=834,r.lessequal=549,r.ocircumflex=556,r.ntilde=556,r.Uhungarumlaut=722,r.Eacute=667,r.emacron=556,r.gbreve=556,r.onequarter=834,r.Scaron=667,r.Scommaaccent=667,r.Ohungarumlaut=778,r.degree=400,r.ograve=556,r.Ccaron=722,r.ugrave=556,r.radical=453,r.Dcaron=722,r.rcommaaccent=333,r.Ntilde=722,r.otilde=556,r.Rcommaaccent=722,r.Lcommaaccent=556,r.Atilde=667,r.Aogonek=667,r.Aring=667,r.Otilde=778,r.zdotaccent=500,r.Ecaron=667,r.Iogonek=278,r.kcommaaccent=500,r.minus=584,r.Icircumflex=278,r.ncaron=556,r.tcommaaccent=278,r.logicalnot=584,r.odieresis=556,r.udieresis=556,r.notequal=549,r.gcommaaccent=556,r.eth=556,r.zcaron=500,r.ncommaaccent=556,r.onesuperior=333,r.imacron=278,r.Euro=556}),e.Symbol=(0,i.getLookupTableFactory)(function(r){r.space=250,r.exclam=333,r.universal=713,r.numbersign=500,r.existential=549,r.percent=833,r.ampersand=778,r.suchthat=439,r.parenleft=333,r.parenright=333,r.asteriskmath=500,r.plus=549,r.comma=250,r.minus=549,r.period=250,r.slash=278,r.zero=500,r.one=500,r.two=500,r.three=500,r.four=500,r.five=500,r.six=500,r.seven=500,r.eight=500,r.nine=500,r.colon=278,r.semicolon=278,r.less=549,r.equal=549,r.greater=549,r.question=444,r.congruent=549,r.Alpha=722,r.Beta=667,r.Chi=722,r.Delta=612,r.Epsilon=611,r.Phi=763,r.Gamma=603,r.Eta=722,r.Iota=333,r.theta1=631,r.Kappa=722,r.Lambda=686,r.Mu=889,r.Nu=722,r.Omicron=722,r.Pi=768,r.Theta=741,r.Rho=556,r.Sigma=592,r.Tau=611,r.Upsilon=690,r.sigma1=439,r.Omega=768,r.Xi=645,r.Psi=795,r.Zeta=611,r.bracketleft=333,r.therefore=863,r.bracketright=333,r.perpendicular=658,r.underscore=500,r.radicalex=500,r.alpha=631,r.beta=549,r.chi=549,r.delta=494,r.epsilon=439,r.phi=521,r.gamma=411,r.eta=603,r.iota=329,r.phi1=603,r.kappa=549,r.lambda=549,r.mu=576,r.nu=521,r.omicron=549,r.pi=549,r.theta=521,r.rho=549,r.sigma=603,r.tau=439,r.upsilon=576,r.omega1=713,r.omega=686,r.xi=493,r.psi=686,r.zeta=494,r.braceleft=480,r.bar=200,r.braceright=480,r.similar=549,r.Euro=750,r.Upsilon1=620,r.minute=247,r.lessequal=549,r.fraction=167,r.infinity=713,r.florin=500,r.club=753,r.diamond=753,r.heart=753,r.spade=753,r.arrowboth=1042,r.arrowleft=987,r.arrowup=603,r.arrowright=987,r.arrowdown=603,r.degree=400,r.plusminus=549,r.second=411,r.greaterequal=549,r.multiply=549,r.proportional=713,r.partialdiff=494,r.bullet=460,r.divide=549,r.notequal=549,r.equivalence=549,r.approxequal=549,r.ellipsis=1e3,r.arrowvertex=603,r.arrowhorizex=1e3,r.carriagereturn=658,r.aleph=823,r.Ifraktur=686,r.Rfraktur=795,r.weierstrass=987,r.circlemultiply=768,r.circleplus=768,r.emptyset=823,r.intersection=768,r.union=768,r.propersuperset=713,r.reflexsuperset=713,r.notsubset=713,r.propersubset=713,r.reflexsubset=713,r.element=713,r.notelement=713,r.angle=768,r.gradient=713,r.registerserif=790,r.copyrightserif=790,r.trademarkserif=890,r.product=823,r.radical=549,r.dotmath=250,r.logicalnot=713,r.logicaland=603,r.logicalor=603,r.arrowdblboth=1042,r.arrowdblleft=987,r.arrowdblup=603,r.arrowdblright=987,r.arrowdbldown=603,r.lozenge=494,r.angleleft=329,r.registersans=790,r.copyrightsans=790,r.trademarksans=786,r.summation=713,r.parenlefttp=384,r.parenleftex=384,r.parenleftbt=384,r.bracketlefttp=384,r.bracketleftex=384,r.bracketleftbt=384,r.bracelefttp=494,r.braceleftmid=494,r.braceleftbt=494,r.braceex=494,r.angleright=329,r.integral=274,r.integraltp=686,r.integralex=686,r.integralbt=686,r.parenrighttp=384,r.parenrightex=384,r.parenrightbt=384,r.bracketrighttp=384,r.bracketrightex=384,r.bracketrightbt=384,r.bracerighttp=494,r.bracerightmid=494,r.bracerightbt=494,r.apple=790}),e["Times-Roman"]=(0,i.getLookupTableFactory)(function(r){r.space=250,r.exclam=333,r.quotedbl=408,r.numbersign=500,r.dollar=500,r.percent=833,r.ampersand=778,r.quoteright=333,r.parenleft=333,r.parenright=333,r.asterisk=500,r.plus=564,r.comma=250,r.hyphen=333,r.period=250,r.slash=278,r.zero=500,r.one=500,r.two=500,r.three=500,r.four=500,r.five=500,r.six=500,r.seven=500,r.eight=500,r.nine=500,r.colon=278,r.semicolon=278,r.less=564,r.equal=564,r.greater=564,r.question=444,r.at=921,r.A=722,r.B=667,r.C=667,r.D=722,r.E=611,r.F=556,r.G=722,r.H=722,r.I=333,r.J=389,r.K=722,r.L=611,r.M=889,r.N=722,r.O=722,r.P=556,r.Q=722,r.R=667,r.S=556,r.T=611,r.U=722,r.V=722,r.W=944,r.X=722,r.Y=722,r.Z=611,r.bracketleft=333,r.backslash=278,r.bracketright=333,r.asciicircum=469,r.underscore=500,r.quoteleft=333,r.a=444,r.b=500,r.c=444,r.d=500,r.e=444,r.f=333,r.g=500,r.h=500,r.i=278,r.j=278,r.k=500,r.l=278,r.m=778,r.n=500,r.o=500,r.p=500,r.q=500,r.r=333,r.s=389,r.t=278,r.u=500,r.v=500,r.w=722,r.x=500,r.y=500,r.z=444,r.braceleft=480,r.bar=200,r.braceright=480,r.asciitilde=541,r.exclamdown=333,r.cent=500,r.sterling=500,r.fraction=167,r.yen=500,r.florin=500,r.section=500,r.currency=500,r.quotesingle=180,r.quotedblleft=444,r.guillemotleft=500,r.guilsinglleft=333,r.guilsinglright=333,r.fi=556,r.fl=556,r.endash=500,r.dagger=500,r.daggerdbl=500,r.periodcentered=250,r.paragraph=453,r.bullet=350,r.quotesinglbase=333,r.quotedblbase=444,r.quotedblright=444,r.guillemotright=500,r.ellipsis=1e3,r.perthousand=1e3,r.questiondown=444,r.grave=333,r.acute=333,r.circumflex=333,r.tilde=333,r.macron=333,r.breve=333,r.dotaccent=333,r.dieresis=333,r.ring=333,r.cedilla=333,r.hungarumlaut=333,r.ogonek=333,r.caron=333,r.emdash=1e3,r.AE=889,r.ordfeminine=276,r.Lslash=611,r.Oslash=722,r.OE=889,r.ordmasculine=310,r.ae=667,r.dotlessi=278,r.lslash=278,r.oslash=500,r.oe=722,r.germandbls=500,r.Idieresis=333,r.eacute=444,r.abreve=444,r.uhungarumlaut=500,r.ecaron=444,r.Ydieresis=722,r.divide=564,r.Yacute=722,r.Acircumflex=722,r.aacute=444,r.Ucircumflex=722,r.yacute=500,r.scommaaccent=389,r.ecircumflex=444,r.Uring=722,r.Udieresis=722,r.aogonek=444,r.Uacute=722,r.uogonek=500,r.Edieresis=611,r.Dcroat=722,r.commaaccent=250,r.copyright=760,r.Emacron=611,r.ccaron=444,r.aring=444,r.Ncommaaccent=722,r.lacute=278,r.agrave=444,r.Tcommaaccent=611,r.Cacute=667,r.atilde=444,r.Edotaccent=611,r.scaron=389,r.scedilla=389,r.iacute=278,r.lozenge=471,r.Rcaron=667,r.Gcommaaccent=722,r.ucircumflex=500,r.acircumflex=444,r.Amacron=722,r.rcaron=333,r.ccedilla=444,r.Zdotaccent=611,r.Thorn=556,r.Omacron=722,r.Racute=667,r.Sacute=556,r.dcaron=588,r.Umacron=722,r.uring=500,r.threesuperior=300,r.Ograve=722,r.Agrave=722,r.Abreve=722,r.multiply=564,r.uacute=500,r.Tcaron=611,r.partialdiff=476,r.ydieresis=500,r.Nacute=722,r.icircumflex=278,r.Ecircumflex=611,r.adieresis=444,r.edieresis=444,r.cacute=444,r.nacute=500,r.umacron=500,r.Ncaron=722,r.Iacute=333,r.plusminus=564,r.brokenbar=200,r.registered=760,r.Gbreve=722,r.Idotaccent=333,r.summation=600,r.Egrave=611,r.racute=333,r.omacron=500,r.Zacute=611,r.Zcaron=611,r.greaterequal=549,r.Eth=722,r.Ccedilla=667,r.lcommaaccent=278,r.tcaron=326,r.eogonek=444,r.Uogonek=722,r.Aacute=722,r.Adieresis=722,r.egrave=444,r.zacute=444,r.iogonek=278,r.Oacute=722,r.oacute=500,r.amacron=444,r.sacute=389,r.idieresis=278,r.Ocircumflex=722,r.Ugrave=722,r.Delta=612,r.thorn=500,r.twosuperior=300,r.Odieresis=722,r.mu=500,r.igrave=278,r.ohungarumlaut=500,r.Eogonek=611,r.dcroat=500,r.threequarters=750,r.Scedilla=556,r.lcaron=344,r.Kcommaaccent=722,r.Lacute=611,r.trademark=980,r.edotaccent=444,r.Igrave=333,r.Imacron=333,r.Lcaron=611,r.onehalf=750,r.lessequal=549,r.ocircumflex=500,r.ntilde=500,r.Uhungarumlaut=722,r.Eacute=611,r.emacron=444,r.gbreve=500,r.onequarter=750,r.Scaron=556,r.Scommaaccent=556,r.Ohungarumlaut=722,r.degree=400,r.ograve=500,r.Ccaron=667,r.ugrave=500,r.radical=453,r.Dcaron=722,r.rcommaaccent=333,r.Ntilde=722,r.otilde=500,r.Rcommaaccent=667,r.Lcommaaccent=611,r.Atilde=722,r.Aogonek=722,r.Aring=722,r.Otilde=722,r.zdotaccent=444,r.Ecaron=611,r.Iogonek=333,r.kcommaaccent=500,r.minus=564,r.Icircumflex=333,r.ncaron=500,r.tcommaaccent=278,r.logicalnot=564,r.odieresis=500,r.udieresis=500,r.notequal=549,r.gcommaaccent=500,r.eth=500,r.zcaron=444,r.ncommaaccent=500,r.onesuperior=300,r.imacron=278,r.Euro=500}),e["Times-Bold"]=(0,i.getLookupTableFactory)(function(r){r.space=250,r.exclam=333,r.quotedbl=555,r.numbersign=500,r.dollar=500,r.percent=1e3,r.ampersand=833,r.quoteright=333,r.parenleft=333,r.parenright=333,r.asterisk=500,r.plus=570,r.comma=250,r.hyphen=333,r.period=250,r.slash=278,r.zero=500,r.one=500,r.two=500,r.three=500,r.four=500,r.five=500,r.six=500,r.seven=500,r.eight=500,r.nine=500,r.colon=333,r.semicolon=333,r.less=570,r.equal=570,r.greater=570,r.question=500,r.at=930,r.A=722,r.B=667,r.C=722,r.D=722,r.E=667,r.F=611,r.G=778,r.H=778,r.I=389,r.J=500,r.K=778,r.L=667,r.M=944,r.N=722,r.O=778,r.P=611,r.Q=778,r.R=722,r.S=556,r.T=667,r.U=722,r.V=722,r.W=1e3,r.X=722,r.Y=722,r.Z=667,r.bracketleft=333,r.backslash=278,r.bracketright=333,r.asciicircum=581,r.underscore=500,r.quoteleft=333,r.a=500,r.b=556,r.c=444,r.d=556,r.e=444,r.f=333,r.g=500,r.h=556,r.i=278,r.j=333,r.k=556,r.l=278,r.m=833,r.n=556,r.o=500,r.p=556,r.q=556,r.r=444,r.s=389,r.t=333,r.u=556,r.v=500,r.w=722,r.x=500,r.y=500,r.z=444,r.braceleft=394,r.bar=220,r.braceright=394,r.asciitilde=520,r.exclamdown=333,r.cent=500,r.sterling=500,r.fraction=167,r.yen=500,r.florin=500,r.section=500,r.currency=500,r.quotesingle=278,r.quotedblleft=500,r.guillemotleft=500,r.guilsinglleft=333,r.guilsinglright=333,r.fi=556,r.fl=556,r.endash=500,r.dagger=500,r.daggerdbl=500,r.periodcentered=250,r.paragraph=540,r.bullet=350,r.quotesinglbase=333,r.quotedblbase=500,r.quotedblright=500,r.guillemotright=500,r.ellipsis=1e3,r.perthousand=1e3,r.questiondown=500,r.grave=333,r.acute=333,r.circumflex=333,r.tilde=333,r.macron=333,r.breve=333,r.dotaccent=333,r.dieresis=333,r.ring=333,r.cedilla=333,r.hungarumlaut=333,r.ogonek=333,r.caron=333,r.emdash=1e3,r.AE=1e3,r.ordfeminine=300,r.Lslash=667,r.Oslash=778,r.OE=1e3,r.ordmasculine=330,r.ae=722,r.dotlessi=278,r.lslash=278,r.oslash=500,r.oe=722,r.germandbls=556,r.Idieresis=389,r.eacute=444,r.abreve=500,r.uhungarumlaut=556,r.ecaron=444,r.Ydieresis=722,r.divide=570,r.Yacute=722,r.Acircumflex=722,r.aacute=500,r.Ucircumflex=722,r.yacute=500,r.scommaaccent=389,r.ecircumflex=444,r.Uring=722,r.Udieresis=722,r.aogonek=500,r.Uacute=722,r.uogonek=556,r.Edieresis=667,r.Dcroat=722,r.commaaccent=250,r.copyright=747,r.Emacron=667,r.ccaron=444,r.aring=500,r.Ncommaaccent=722,r.lacute=278,r.agrave=500,r.Tcommaaccent=667,r.Cacute=722,r.atilde=500,r.Edotaccent=667,r.scaron=389,r.scedilla=389,r.iacute=278,r.lozenge=494,r.Rcaron=722,r.Gcommaaccent=778,r.ucircumflex=556,r.acircumflex=500,r.Amacron=722,r.rcaron=444,r.ccedilla=444,r.Zdotaccent=667,r.Thorn=611,r.Omacron=778,r.Racute=722,r.Sacute=556,r.dcaron=672,r.Umacron=722,r.uring=556,r.threesuperior=300,r.Ograve=778,r.Agrave=722,r.Abreve=722,r.multiply=570,r.uacute=556,r.Tcaron=667,r.partialdiff=494,r.ydieresis=500,r.Nacute=722,r.icircumflex=278,r.Ecircumflex=667,r.adieresis=500,r.edieresis=444,r.cacute=444,r.nacute=556,r.umacron=556,r.Ncaron=722,r.Iacute=389,r.plusminus=570,r.brokenbar=220,r.registered=747,r.Gbreve=778,r.Idotaccent=389,r.summation=600,r.Egrave=667,r.racute=444,r.omacron=500,r.Zacute=667,r.Zcaron=667,r.greaterequal=549,r.Eth=722,r.Ccedilla=722,r.lcommaaccent=278,r.tcaron=416,r.eogonek=444,r.Uogonek=722,r.Aacute=722,r.Adieresis=722,r.egrave=444,r.zacute=444,r.iogonek=278,r.Oacute=778,r.oacute=500,r.amacron=500,r.sacute=389,r.idieresis=278,r.Ocircumflex=778,r.Ugrave=722,r.Delta=612,r.thorn=556,r.twosuperior=300,r.Odieresis=778,r.mu=556,r.igrave=278,r.ohungarumlaut=500,r.Eogonek=667,r.dcroat=556,r.threequarters=750,r.Scedilla=556,r.lcaron=394,r.Kcommaaccent=778,r.Lacute=667,r.trademark=1e3,r.edotaccent=444,r.Igrave=389,r.Imacron=389,r.Lcaron=667,r.onehalf=750,r.lessequal=549,r.ocircumflex=500,r.ntilde=556,r.Uhungarumlaut=722,r.Eacute=667,r.emacron=444,r.gbreve=500,r.onequarter=750,r.Scaron=556,r.Scommaaccent=556,r.Ohungarumlaut=778,r.degree=400,r.ograve=500,r.Ccaron=722,r.ugrave=556,r.radical=549,r.Dcaron=722,r.rcommaaccent=444,r.Ntilde=722,r.otilde=500,r.Rcommaaccent=722,r.Lcommaaccent=667,r.Atilde=722,r.Aogonek=722,r.Aring=722,r.Otilde=778,r.zdotaccent=444,r.Ecaron=667,r.Iogonek=389,r.kcommaaccent=556,r.minus=570,r.Icircumflex=389,r.ncaron=556,r.tcommaaccent=333,r.logicalnot=570,r.odieresis=500,r.udieresis=556,r.notequal=549,r.gcommaaccent=500,r.eth=500,r.zcaron=444,r.ncommaaccent=556,r.onesuperior=300,r.imacron=278,r.Euro=500}),e["Times-BoldItalic"]=(0,i.getLookupTableFactory)(function(r){r.space=250,r.exclam=389,r.quotedbl=555,r.numbersign=500,r.dollar=500,r.percent=833,r.ampersand=778,r.quoteright=333,r.parenleft=333,r.parenright=333,r.asterisk=500,r.plus=570,r.comma=250,r.hyphen=333,r.period=250,r.slash=278,r.zero=500,r.one=500,r.two=500,r.three=500,r.four=500,r.five=500,r.six=500,r.seven=500,r.eight=500,r.nine=500,r.colon=333,r.semicolon=333,r.less=570,r.equal=570,r.greater=570,r.question=500,r.at=832,r.A=667,r.B=667,r.C=667,r.D=722,r.E=667,r.F=667,r.G=722,r.H=778,r.I=389,r.J=500,r.K=667,r.L=611,r.M=889,r.N=722,r.O=722,r.P=611,r.Q=722,r.R=667,r.S=556,r.T=611,r.U=722,r.V=667,r.W=889,r.X=667,r.Y=611,r.Z=611,r.bracketleft=333,r.backslash=278,r.bracketright=333,r.asciicircum=570,r.underscore=500,r.quoteleft=333,r.a=500,r.b=500,r.c=444,r.d=500,r.e=444,r.f=333,r.g=500,r.h=556,r.i=278,r.j=278,r.k=500,r.l=278,r.m=778,r.n=556,r.o=500,r.p=500,r.q=500,r.r=389,r.s=389,r.t=278,r.u=556,r.v=444,r.w=667,r.x=500,r.y=444,r.z=389,r.braceleft=348,r.bar=220,r.braceright=348,r.asciitilde=570,r.exclamdown=389,r.cent=500,r.sterling=500,r.fraction=167,r.yen=500,r.florin=500,r.section=500,r.currency=500,r.quotesingle=278,r.quotedblleft=500,r.guillemotleft=500,r.guilsinglleft=333,r.guilsinglright=333,r.fi=556,r.fl=556,r.endash=500,r.dagger=500,r.daggerdbl=500,r.periodcentered=250,r.paragraph=500,r.bullet=350,r.quotesinglbase=333,r.quotedblbase=500,r.quotedblright=500,r.guillemotright=500,r.ellipsis=1e3,r.perthousand=1e3,r.questiondown=500,r.grave=333,r.acute=333,r.circumflex=333,r.tilde=333,r.macron=333,r.breve=333,r.dotaccent=333,r.dieresis=333,r.ring=333,r.cedilla=333,r.hungarumlaut=333,r.ogonek=333,r.caron=333,r.emdash=1e3,r.AE=944,r.ordfeminine=266,r.Lslash=611,r.Oslash=722,r.OE=944,r.ordmasculine=300,r.ae=722,r.dotlessi=278,r.lslash=278,r.oslash=500,r.oe=722,r.germandbls=500,r.Idieresis=389,r.eacute=444,r.abreve=500,r.uhungarumlaut=556,r.ecaron=444,r.Ydieresis=611,r.divide=570,r.Yacute=611,r.Acircumflex=667,r.aacute=500,r.Ucircumflex=722,r.yacute=444,r.scommaaccent=389,r.ecircumflex=444,r.Uring=722,r.Udieresis=722,r.aogonek=500,r.Uacute=722,r.uogonek=556,r.Edieresis=667,r.Dcroat=722,r.commaaccent=250,r.copyright=747,r.Emacron=667,r.ccaron=444,r.aring=500,r.Ncommaaccent=722,r.lacute=278,r.agrave=500,r.Tcommaaccent=611,r.Cacute=667,r.atilde=500,r.Edotaccent=667,r.scaron=389,r.scedilla=389,r.iacute=278,r.lozenge=494,r.Rcaron=667,r.Gcommaaccent=722,r.ucircumflex=556,r.acircumflex=500,r.Amacron=667,r.rcaron=389,r.ccedilla=444,r.Zdotaccent=611,r.Thorn=611,r.Omacron=722,r.Racute=667,r.Sacute=556,r.dcaron=608,r.Umacron=722,r.uring=556,r.threesuperior=300,r.Ograve=722,r.Agrave=667,r.Abreve=667,r.multiply=570,r.uacute=556,r.Tcaron=611,r.partialdiff=494,r.ydieresis=444,r.Nacute=722,r.icircumflex=278,r.Ecircumflex=667,r.adieresis=500,r.edieresis=444,r.cacute=444,r.nacute=556,r.umacron=556,r.Ncaron=722,r.Iacute=389,r.plusminus=570,r.brokenbar=220,r.registered=747,r.Gbreve=722,r.Idotaccent=389,r.summation=600,r.Egrave=667,r.racute=389,r.omacron=500,r.Zacute=611,r.Zcaron=611,r.greaterequal=549,r.Eth=722,r.Ccedilla=667,r.lcommaaccent=278,r.tcaron=366,r.eogonek=444,r.Uogonek=722,r.Aacute=667,r.Adieresis=667,r.egrave=444,r.zacute=389,r.iogonek=278,r.Oacute=722,r.oacute=500,r.amacron=500,r.sacute=389,r.idieresis=278,r.Ocircumflex=722,r.Ugrave=722,r.Delta=612,r.thorn=500,r.twosuperior=300,r.Odieresis=722,r.mu=576,r.igrave=278,r.ohungarumlaut=500,r.Eogonek=667,r.dcroat=500,r.threequarters=750,r.Scedilla=556,r.lcaron=382,r.Kcommaaccent=667,r.Lacute=611,r.trademark=1e3,r.edotaccent=444,r.Igrave=389,r.Imacron=389,r.Lcaron=611,r.onehalf=750,r.lessequal=549,r.ocircumflex=500,r.ntilde=556,r.Uhungarumlaut=722,r.Eacute=667,r.emacron=444,r.gbreve=500,r.onequarter=750,r.Scaron=556,r.Scommaaccent=556,r.Ohungarumlaut=722,r.degree=400,r.ograve=500,r.Ccaron=667,r.ugrave=556,r.radical=549,r.Dcaron=722,r.rcommaaccent=389,r.Ntilde=722,r.otilde=500,r.Rcommaaccent=667,r.Lcommaaccent=611,r.Atilde=667,r.Aogonek=667,r.Aring=667,r.Otilde=722,r.zdotaccent=389,r.Ecaron=667,r.Iogonek=389,r.kcommaaccent=500,r.minus=606,r.Icircumflex=389,r.ncaron=556,r.tcommaaccent=278,r.logicalnot=606,r.odieresis=500,r.udieresis=556,r.notequal=549,r.gcommaaccent=500,r.eth=500,r.zcaron=389,r.ncommaaccent=556,r.onesuperior=300,r.imacron=278,r.Euro=500}),e["Times-Italic"]=(0,i.getLookupTableFactory)(function(r){r.space=250,r.exclam=333,r.quotedbl=420,r.numbersign=500,r.dollar=500,r.percent=833,r.ampersand=778,r.quoteright=333,r.parenleft=333,r.parenright=333,r.asterisk=500,r.plus=675,r.comma=250,r.hyphen=333,r.period=250,r.slash=278,r.zero=500,r.one=500,r.two=500,r.three=500,r.four=500,r.five=500,r.six=500,r.seven=500,r.eight=500,r.nine=500,r.colon=333,r.semicolon=333,r.less=675,r.equal=675,r.greater=675,r.question=500,r.at=920,r.A=611,r.B=611,r.C=667,r.D=722,r.E=611,r.F=611,r.G=722,r.H=722,r.I=333,r.J=444,r.K=667,r.L=556,r.M=833,r.N=667,r.O=722,r.P=611,r.Q=722,r.R=611,r.S=500,r.T=556,r.U=722,r.V=611,r.W=833,r.X=611,r.Y=556,r.Z=556,r.bracketleft=389,r.backslash=278,r.bracketright=389,r.asciicircum=422,r.underscore=500,r.quoteleft=333,r.a=500,r.b=500,r.c=444,r.d=500,r.e=444,r.f=278,r.g=500,r.h=500,r.i=278,r.j=278,r.k=444,r.l=278,r.m=722,r.n=500,r.o=500,r.p=500,r.q=500,r.r=389,r.s=389,r.t=278,r.u=500,r.v=444,r.w=667,r.x=444,r.y=444,r.z=389,r.braceleft=400,r.bar=275,r.braceright=400,r.asciitilde=541,r.exclamdown=389,r.cent=500,r.sterling=500,r.fraction=167,r.yen=500,r.florin=500,r.section=500,r.currency=500,r.quotesingle=214,r.quotedblleft=556,r.guillemotleft=500,r.guilsinglleft=333,r.guilsinglright=333,r.fi=500,r.fl=500,r.endash=500,r.dagger=500,r.daggerdbl=500,r.periodcentered=250,r.paragraph=523,r.bullet=350,r.quotesinglbase=333,r.quotedblbase=556,r.quotedblright=556,r.guillemotright=500,r.ellipsis=889,r.perthousand=1e3,r.questiondown=500,r.grave=333,r.acute=333,r.circumflex=333,r.tilde=333,r.macron=333,r.breve=333,r.dotaccent=333,r.dieresis=333,r.ring=333,r.cedilla=333,r.hungarumlaut=333,r.ogonek=333,r.caron=333,r.emdash=889,r.AE=889,r.ordfeminine=276,r.Lslash=556,r.Oslash=722,r.OE=944,r.ordmasculine=310,r.ae=667,r.dotlessi=278,r.lslash=278,r.oslash=500,r.oe=667,r.germandbls=500,r.Idieresis=333,r.eacute=444,r.abreve=500,r.uhungarumlaut=500,r.ecaron=444,r.Ydieresis=556,r.divide=675,r.Yacute=556,r.Acircumflex=611,r.aacute=500,r.Ucircumflex=722,r.yacute=444,r.scommaaccent=389,r.ecircumflex=444,r.Uring=722,r.Udieresis=722,r.aogonek=500,r.Uacute=722,r.uogonek=500,r.Edieresis=611,r.Dcroat=722,r.commaaccent=250,r.copyright=760,r.Emacron=611,r.ccaron=444,r.aring=500,r.Ncommaaccent=667,r.lacute=278,r.agrave=500,r.Tcommaaccent=556,r.Cacute=667,r.atilde=500,r.Edotaccent=611,r.scaron=389,r.scedilla=389,r.iacute=278,r.lozenge=471,r.Rcaron=611,r.Gcommaaccent=722,r.ucircumflex=500,r.acircumflex=500,r.Amacron=611,r.rcaron=389,r.ccedilla=444,r.Zdotaccent=556,r.Thorn=611,r.Omacron=722,r.Racute=611,r.Sacute=500,r.dcaron=544,r.Umacron=722,r.uring=500,r.threesuperior=300,r.Ograve=722,r.Agrave=611,r.Abreve=611,r.multiply=675,r.uacute=500,r.Tcaron=556,r.partialdiff=476,r.ydieresis=444,r.Nacute=667,r.icircumflex=278,r.Ecircumflex=611,r.adieresis=500,r.edieresis=444,r.cacute=444,r.nacute=500,r.umacron=500,r.Ncaron=667,r.Iacute=333,r.plusminus=675,r.brokenbar=275,r.registered=760,r.Gbreve=722,r.Idotaccent=333,r.summation=600,r.Egrave=611,r.racute=389,r.omacron=500,r.Zacute=556,r.Zcaron=556,r.greaterequal=549,r.Eth=722,r.Ccedilla=667,r.lcommaaccent=278,r.tcaron=300,r.eogonek=444,r.Uogonek=722,r.Aacute=611,r.Adieresis=611,r.egrave=444,r.zacute=389,r.iogonek=278,r.Oacute=722,r.oacute=500,r.amacron=500,r.sacute=389,r.idieresis=278,r.Ocircumflex=722,r.Ugrave=722,r.Delta=612,r.thorn=500,r.twosuperior=300,r.Odieresis=722,r.mu=500,r.igrave=278,r.ohungarumlaut=500,r.Eogonek=611,r.dcroat=500,r.threequarters=750,r.Scedilla=500,r.lcaron=300,r.Kcommaaccent=667,r.Lacute=556,r.trademark=980,r.edotaccent=444,r.Igrave=333,r.Imacron=333,r.Lcaron=611,r.onehalf=750,r.lessequal=549,r.ocircumflex=500,r.ntilde=500,r.Uhungarumlaut=722,r.Eacute=611,r.emacron=444,r.gbreve=500,r.onequarter=750,r.Scaron=500,r.Scommaaccent=500,r.Ohungarumlaut=722,r.degree=400,r.ograve=500,r.Ccaron=667,r.ugrave=500,r.radical=453,r.Dcaron=722,r.rcommaaccent=389,r.Ntilde=667,r.otilde=500,r.Rcommaaccent=611,r.Lcommaaccent=556,r.Atilde=611,r.Aogonek=611,r.Aring=611,r.Otilde=722,r.zdotaccent=389,r.Ecaron=611,r.Iogonek=333,r.kcommaaccent=444,r.minus=675,r.Icircumflex=333,r.ncaron=500,r.tcommaaccent=278,r.logicalnot=675,r.odieresis=500,r.udieresis=500,r.notequal=549,r.gcommaaccent=500,r.eth=500,r.zcaron=389,r.ncommaaccent=500,r.onesuperior=300,r.imacron=278,r.Euro=500}),e.ZapfDingbats=(0,i.getLookupTableFactory)(function(r){r.space=278,r.a1=974,r.a2=961,r.a202=974,r.a3=980,r.a4=719,r.a5=789,r.a119=790,r.a118=791,r.a117=690,r.a11=960,r.a12=939,r.a13=549,r.a14=855,r.a15=911,r.a16=933,r.a105=911,r.a17=945,r.a18=974,r.a19=755,r.a20=846,r.a21=762,r.a22=761,r.a23=571,r.a24=677,r.a25=763,r.a26=760,r.a27=759,r.a28=754,r.a6=494,r.a7=552,r.a8=537,r.a9=577,r.a10=692,r.a29=786,r.a30=788,r.a31=788,r.a32=790,r.a33=793,r.a34=794,r.a35=816,r.a36=823,r.a37=789,r.a38=841,r.a39=823,r.a40=833,r.a41=816,r.a42=831,r.a43=923,r.a44=744,r.a45=723,r.a46=749,r.a47=790,r.a48=792,r.a49=695,r.a50=776,r.a51=768,r.a52=792,r.a53=759,r.a54=707,r.a55=708,r.a56=682,r.a57=701,r.a58=826,r.a59=815,r.a60=789,r.a61=789,r.a62=707,r.a63=687,r.a64=696,r.a65=689,r.a66=786,r.a67=787,r.a68=713,r.a69=791,r.a70=785,r.a71=791,r.a72=873,r.a73=761,r.a74=762,r.a203=762,r.a75=759,r.a204=759,r.a76=892,r.a77=892,r.a78=788,r.a79=784,r.a81=438,r.a82=138,r.a83=277,r.a84=415,r.a97=392,r.a98=392,r.a99=668,r.a100=668,r.a89=390,r.a90=390,r.a93=317,r.a94=317,r.a91=276,r.a92=276,r.a205=509,r.a85=509,r.a206=410,r.a86=410,r.a87=234,r.a88=234,r.a95=334,r.a96=334,r.a101=732,r.a102=544,r.a103=544,r.a104=910,r.a106=667,r.a107=760,r.a108=760,r.a112=776,r.a111=595,r.a110=694,r.a109=626,r.a120=788,r.a121=788,r.a122=788,r.a123=788,r.a124=788,r.a125=788,r.a126=788,r.a127=788,r.a128=788,r.a129=788,r.a130=788,r.a131=788,r.a132=788,r.a133=788,r.a134=788,r.a135=788,r.a136=788,r.a137=788,r.a138=788,r.a139=788,r.a140=788,r.a141=788,r.a142=788,r.a143=788,r.a144=788,r.a145=788,r.a146=788,r.a147=788,r.a148=788,r.a149=788,r.a150=788,r.a151=788,r.a152=788,r.a153=788,r.a154=788,r.a155=788,r.a156=788,r.a157=788,r.a158=788,r.a159=788,r.a160=894,r.a161=838,r.a163=1016,r.a164=458,r.a196=748,r.a165=924,r.a192=748,r.a166=918,r.a167=927,r.a168=928,r.a169=928,r.a170=834,r.a171=873,r.a172=828,r.a173=924,r.a162=924,r.a174=917,r.a175=930,r.a176=931,r.a177=463,r.a178=883,r.a179=836,r.a193=836,r.a180=867,r.a199=867,r.a181=696,r.a200=696,r.a182=874,r.a201=874,r.a183=760,r.a184=946,r.a197=771,r.a185=865,r.a194=771,r.a198=888,r.a186=967,r.a195=888,r.a187=831,r.a188=873,r.a189=927,r.a190=970,r.a191=918})});o.getMetrics=l;const d=(0,i.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});o.getFontBasicMetrics=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlyfTable=void 0,s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(158);const i=1<<0,l=1<<1,d=1<<2,e=1<<3,r=1<<4,p=1<<5,x=1<<6,y=1<<0,v=1<<1,b=1<<3,g=1<<5,w=1<<6,f=1<<7,E=1<<8;class A{constructor(M){let{glyfTable:I,isGlyphLocationsLong:W,locaTable:J,numGlyphs:H}=M;this.glyphs=[];const N=new DataView(J.buffer,J.byteOffset,J.byteLength),U=new DataView(I.buffer,I.byteOffset,I.byteLength),Y=W?4:2;let _=W?N.getUint32(0):2*N.getUint16(0),V=0;for(let Z=0;Z<H;Z++){V+=Y;const q=W?N.getUint32(V):2*N.getUint16(V);if(q===_){this.glyphs.push(new O({}));continue}const re=O.parse(_,U);this.glyphs.push(re),_=q}}getSize(){return this.glyphs.reduce((M,I)=>{const W=I.getSize();return M+(W+3&-4)},0)}write(){const M=this.getSize(),I=new DataView(new ArrayBuffer(M)),W=M>131070,J=W?4:2,H=new DataView(new ArrayBuffer((this.glyphs.length+1)*J));W?H.setUint32(0,0):H.setUint16(0,0);let N=0,U=0;for(const Y of this.glyphs)N+=Y.write(N,I),N=N+3&-4,U+=J,W?H.setUint32(U,N):H.setUint16(U,N>>1);return{isLocationLong:W,loca:new Uint8Array(H.buffer),glyf:new Uint8Array(I.buffer)}}scale(M){for(let I=0,W=this.glyphs.length;I<W;I++)this.glyphs[I].scale(M[I])}}o.GlyfTable=A;class O{constructor(M){let{header:I=null,simple:W=null,composites:J=null}=M;this.header=I,this.simple=W,this.composites=J}static parse(M,I){const[W,J]=T.parse(M,I);if(M+=W,J.numberOfContours<0){const N=[];for(;;){const[U,Y]=C.parse(M,I);if(M+=U,N.push(Y),!(Y.flags&g))break}return new O({header:J,composites:N})}const H=F.parse(M,I,J.numberOfContours);return new O({header:J,simple:H})}getSize(){if(!this.header)return 0;const M=this.simple?this.simple.getSize():this.composites.reduce((I,W)=>I+W.getSize(),0);return this.header.getSize()+M}write(M,I){if(!this.header)return 0;const W=M;if(M+=this.header.write(M,I),this.simple)M+=this.simple.write(M,I);else for(const J of this.composites)M+=J.write(M,I);return M-W}scale(M){if(!this.header)return;const I=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(I,M),this.simple)this.simple.scale(I,M);else for(const W of this.composites)W.scale(I,M)}}class T{constructor(M){let{numberOfContours:I,xMin:W,yMin:J,xMax:H,yMax:N}=M;this.numberOfContours=I,this.xMin=W,this.yMin=J,this.xMax=H,this.yMax=N}static parse(M,I){return[10,new T({numberOfContours:I.getInt16(M),xMin:I.getInt16(M+2),yMin:I.getInt16(M+4),xMax:I.getInt16(M+6),yMax:I.getInt16(M+8)})]}getSize(){return 10}write(M,I){return I.setInt16(M,this.numberOfContours),I.setInt16(M+2,this.xMin),I.setInt16(M+4,this.yMin),I.setInt16(M+6,this.xMax),I.setInt16(M+8,this.yMax),10}scale(M,I){this.xMin=Math.round(M+(this.xMin-M)*I),this.xMax=Math.round(M+(this.xMax-M)*I)}}class D{constructor(M){let{flags:I,xCoordinates:W,yCoordinates:J}=M;this.xCoordinates=W,this.yCoordinates=J,this.flags=I}}class F{constructor(M){let{contours:I,instructions:W}=M;this.contours=I,this.instructions=W}static parse(M,I,W){const J=[];for(let R=0;R<W;R++){const S=I.getUint16(M);M+=2,J.push(S)}const H=J[W-1]+1,N=I.getUint16(M);M+=2;const U=new Uint8Array(I).slice(M,M+N);M+=N;const Y=[];for(let R=0;R<H;M++,R++){let S=I.getUint8(M);if(Y.push(S),S&e){const L=I.getUint8(++M);S^=e;for(let k=0;k<L;k++)Y.push(S);R+=L}}const _=[];let V=[],Z=[],q=[];const re=[];let oe=0,ae=0;for(let R=0;R<H;R++){const S=Y[R];if(S&l){const L=I.getUint8(M++);ae+=S&r?L:-L,V.push(ae)}else S&r||(ae+=I.getInt16(M),M+=2),V.push(ae);J[oe]===R&&(oe++,_.push(V),V=[])}ae=0,oe=0;for(let R=0;R<H;R++){const S=Y[R];if(S&d){const L=I.getUint8(M++);ae+=S&p?L:-L,Z.push(ae)}else S&p||(ae+=I.getInt16(M),M+=2),Z.push(ae);q.push(S&i|S&x),J[oe]===R&&(V=_[oe],oe++,re.push(new D({flags:q,xCoordinates:V,yCoordinates:Z})),Z=[],q=[])}return new F({contours:re,instructions:U})}getSize(){let M=this.contours.length*2+2+this.instructions.length,I=0,W=0;for(const J of this.contours){M+=J.flags.length;for(let H=0,N=J.xCoordinates.length;H<N;H++){const U=J.xCoordinates[H],Y=J.yCoordinates[H];let _=Math.abs(U-I);_>255?M+=2:_>0&&(M+=1),I=U,_=Math.abs(Y-W),_>255?M+=2:_>0&&(M+=1),W=Y}}return M}write(M,I){const W=M,J=[],H=[],N=[];let U=0,Y=0;for(const _ of this.contours){for(let V=0,Z=_.xCoordinates.length;V<Z;V++){let q=_.flags[V];const re=_.xCoordinates[V];let oe=re-U;if(oe===0)q|=r,J.push(0);else{const R=Math.abs(oe);R<=255?(q|=oe>=0?l|r:l,J.push(R)):J.push(oe)}U=re;const ae=_.yCoordinates[V];if(oe=ae-Y,oe===0)q|=p,H.push(0);else{const R=Math.abs(oe);R<=255?(q|=oe>=0?d|p:d,H.push(R)):H.push(oe)}Y=ae,N.push(q)}I.setUint16(M,J.length-1),M+=2}I.setUint16(M,this.instructions.length),M+=2,this.instructions.length&&(new Uint8Array(I.buffer,0,I.buffer.byteLength).set(this.instructions,M),M+=this.instructions.length);for(const _ of N)I.setUint8(M++,_);for(let _=0,V=J.length;_<V;_++){const Z=J[_],q=N[_];q&l?I.setUint8(M++,Z):q&r||(I.setInt16(M,Z),M+=2)}for(let _=0,V=H.length;_<V;_++){const Z=H[_],q=N[_];q&d?I.setUint8(M++,Z):q&p||(I.setInt16(M,Z),M+=2)}return M-W}scale(M,I){for(const W of this.contours)if(W.xCoordinates.length!==0)for(let J=0,H=W.xCoordinates.length;J<H;J++)W.xCoordinates[J]=Math.round(M+(W.xCoordinates[J]-M)*I)}}class C{constructor(M){let{flags:I,glyphIndex:W,argument1:J,argument2:H,transf:N,instructions:U}=M;this.flags=I,this.glyphIndex=W,this.argument1=J,this.argument2=H,this.transf=N,this.instructions=U}static parse(M,I){const W=M,J=[];let H=I.getUint16(M);const N=I.getUint16(M+2);M+=4;let U,Y;H&y?(H&v?(U=I.getInt16(M),Y=I.getInt16(M+2)):(U=I.getUint16(M),Y=I.getUint16(M+2)),M+=4,H^=y):(H&v?(U=I.getInt8(M),Y=I.getInt8(M+1)):(U=I.getUint8(M),Y=I.getUint8(M+1)),M+=2),H&b?(J.push(I.getUint16(M)),M+=2):H&w?(J.push(I.getUint16(M),I.getUint16(M+2)),M+=4):H&f&&(J.push(I.getUint16(M),I.getUint16(M+2),I.getUint16(M+4),I.getUint16(M+6)),M+=8);let _=null;if(H&E){const V=I.getUint16(M);M+=2,_=new Uint8Array(I).slice(M,M+V),M+=V}return[M-W,new C({flags:H,glyphIndex:N,argument1:U,argument2:Y,transf:J,instructions:_})]}getSize(){let M=4+this.transf.length*2;return this.flags&E&&(M+=2+this.instructions.length),M+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(M+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(M+=2),M}write(M,I){const W=M;return this.flags&v?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=y):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=y),I.setUint16(M,this.flags),I.setUint16(M+2,this.glyphIndex),M+=4,this.flags&y?(this.flags&v?(I.setInt16(M,this.argument1),I.setInt16(M+2,this.argument2)):(I.setUint16(M,this.argument1),I.setUint16(M+2,this.argument2)),M+=4):(I.setUint8(M,this.argument1),I.setUint8(M+1,this.argument2),M+=2),this.flags&E&&(I.setUint16(M,this.instructions.length),M+=2,this.instructions.length&&(new Uint8Array(I.buffer,0,I.buffer.byteLength).set(this.instructions,M),M+=this.instructions.length)),M-W}scale(M,I){}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OpenTypeFileBuilder=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140),s(2);var i=s(150),l=s(145);function d(v,b,g){v[b]=g>>8&255,v[b+1]=g&255}function e(v,b,g){v[b]=g>>24&255,v[b+1]=g>>16&255,v[b+2]=g>>8&255,v[b+3]=g&255}function r(v,b,g){if(g instanceof Uint8Array)v.set(g,b);else if(typeof g=="string")for(let w=0,f=g.length;w<f;w++)v[b++]=g.charCodeAt(w)&255;else for(const w of g)v[b++]=w&255}const p=12,x=16;class y{constructor(b){this.sfnt=b,this.tables=Object.create(null)}static getSearchParams(b,g){let w=1,f=0;for(;(w^b)>w;)w<<=1,f++;const E=w*g;return{range:E,entry:f,rangeShift:g*b-E}}toArray(){let b=this.sfnt;const g=this.tables,w=Object.keys(g);w.sort();const f=w.length;let E,A,O,T,D,F=p+f*x;const C=[F];for(E=0;E<f;E++){T=g[w[E]];const I=(T.length+3&-4)>>>0;F+=I,C.push(F)}const B=new Uint8Array(F);for(E=0;E<f;E++)T=g[w[E]],r(B,C[E],T);b==="true"&&(b=(0,l.string32)(65536)),B[0]=b.charCodeAt(0)&255,B[1]=b.charCodeAt(1)&255,B[2]=b.charCodeAt(2)&255,B[3]=b.charCodeAt(3)&255,d(B,4,f);const M=y.getSearchParams(f,16);for(d(B,6,M.range),d(B,8,M.entry),d(B,10,M.rangeShift),F=p,E=0;E<f;E++){D=w[E],B[F]=D.charCodeAt(0)&255,B[F+1]=D.charCodeAt(1)&255,B[F+2]=D.charCodeAt(2)&255,B[F+3]=D.charCodeAt(3)&255;let I=0;for(A=C[E],O=C[E+1];A<O;A+=4){const W=(0,i.readUint32)(B,A);I=I+W>>>0}e(B,F+4,I),e(B,F+8,C[E]),e(B,F+12,g[D].length),F+=x}return B}addTable(b,g){if(b in this.tables)throw new Error("Table "+b+" already exists");this.tables[b]=g}}o.OpenTypeFileBuilder=y},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Type1Font=void 0,s(140);var i=s(186),l=s(145),d=s(189),e=s(150),r=s(155),p=s(200);function x(g,w,f){const E=g.length,A=w.length,O=E-A;let T=f,D=!1;for(;T<O;){let F=0;for(;F<A&&g[T+F]===w[F];)F++;if(F>=A){for(T+=F;T<E&&(0,e.isWhiteSpace)(g[T]);)T++;D=!0;break}T++}return{found:D,length:T}}function y(g,w){const f=[101,101,120,101,99],E=g.pos;let A,O,T;try{A=g.getBytes(w),O=A.length}catch{}if(O===w&&(T=x(A,f,w-2*f.length),T.found&&T.length===w))return{stream:new r.Stream(A),length:w};(0,l.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),g.pos=E;const D=2048;let F;for(;;){const C=g.peekBytes(D);if(T=x(C,f,0),T.length===0)break;if(g.pos+=T.length,T.found){F=g.pos-E;break}}return g.pos=E,F?{stream:new r.Stream(g.getBytes(F)),length:F}:((0,l.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new r.Stream(g.getBytes(w)),length:w})}function v(g,w){const f=g.getBytes();if(f.length===0)throw new l.FormatError("getEexecBlock - no font program found.");return{stream:new r.Stream(f),length:f.length}}class b{constructor(w,f,E){let O=E.length1;E.length2;let T=f.peekBytes(6);const D=T[0]===128&&T[1]===1;D&&(f.skip(6),O=T[5]<<24|T[4]<<16|T[3]<<8|T[2]);const F=y(f,O);new p.Type1Parser(F.stream,!1,d.SEAC_ANALYSIS_ENABLED).extractFontHeader(E),D&&(T=f.getBytes(6),T[5]<<24|T[4]<<16|T[3]<<8|T[2]);const B=v(f),I=new p.Type1Parser(B.stream,!0,d.SEAC_ANALYSIS_ENABLED).extractFontProgram(E);for(const N in I.properties)E[N]=I.properties[N];const W=I.charstrings,J=this.getType2Charstrings(W),H=this.getType2Subrs(I.subrs);this.charstrings=W,this.data=this.wrap(w,J,this.charstrings,H,E),this.seacs=this.getSeacs(I.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const w=[".notdef"];for(const{glyphName:f}of this.charstrings)w.push(f);return w}getGlyphMapping(w){const f=this.charstrings;if(w.composite){const D=Object.create(null);for(let F=0,C=f.length;F<C;F++){const B=w.cMap.charCodeOf(F);D[B]=F+1}return D}const E=[".notdef"];let A,O;for(O=0;O<f.length;O++)E.push(f[O].glyphName);const T=w.builtInEncoding;if(T){A=Object.create(null);for(const D in T)O=E.indexOf(T[D]),O>=0&&(A[D]=O)}return(0,d.type1FontGlyphMapping)(w,A,E)}hasGlyphId(w){return w<0||w>=this.numGlyphs?!1:w===0?!0:this.charstrings[w-1].charstring.length>0}getSeacs(w){const f=[];for(let E=0,A=w.length;E<A;E++){const O=w[E];O.seac&&(f[E+1]=O.seac)}return f}getType2Charstrings(w){const f=[];for(const E of w)f.push(E.charstring);return f}getType2Subrs(w){let f=0;const E=w.length;E<1133?f=107:E<33769?f=1131:f=32768;const A=[];let O;for(O=0;O<f;O++)A.push([11]);for(O=0;O<E;O++)A.push(w[O]);return A}wrap(w,f,E,A,O){const T=new i.CFF;T.header=new i.CFFHeader(1,0,4,4),T.names=[w];const D=new i.CFFTopDict;D.setByName("version",391),D.setByName("Notice",392),D.setByName("FullName",393),D.setByName("FamilyName",394),D.setByName("Weight",395),D.setByName("Encoding",null),D.setByName("FontMatrix",O.fontMatrix),D.setByName("FontBBox",O.bbox),D.setByName("charset",null),D.setByName("CharStrings",null),D.setByName("Private",null),T.topDict=D;const F=new i.CFFStrings;F.add("Version 0.11"),F.add("See original notice"),F.add(w),F.add(w),F.add("Medium"),T.strings=F,T.globalSubrIndex=new i.CFFIndex;const C=f.length,B=[".notdef"];let M,I;for(M=0;M<C;M++){const Y=E[M].glyphName;i.CFFStandardStrings.indexOf(Y)===-1&&F.add(Y),B.push(Y)}T.charset=new i.CFFCharset(!1,0,B);const W=new i.CFFIndex;for(W.add([139,14]),M=0;M<C;M++)W.add(f[M]);T.charStrings=W;const J=new i.CFFPrivateDict;J.setByName("Subrs",null);const H=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(M=0,I=H.length;M<I;M++){const Y=H[M];if(!(Y in O.privateData))continue;const _=O.privateData[Y];if(Array.isArray(_))for(let V=_.length-1;V>0;V--)_[V]-=_[V-1];J.setByName(Y,_)}T.topDict.privateDict=J;const N=new i.CFFIndex;for(M=0,I=A.length;M<I;M++)N.add(A[M]);return J.subrsIndex=N,new i.CFFCompiler(T).compile()}}o.Type1Font=b},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Type1Parser=void 0,s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(160);var i=s(188),l=s(150),d=s(155),e=s(145);const r=!1,p={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class x{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(O,T,D){const F=O.length;let C=!1,B,M,I;for(let W=0;W<F;W++){let J=O[W];if(J<32){switch(J===12&&(J=(J<<8)+O[++W]),J){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){C=!0;break}const _=this.stack.pop();this.stack.push(0,_);break}C=this.executeCommand(1,p.vmoveto);break;case 5:C=this.executeCommand(2,p.rlineto);break;case 6:C=this.executeCommand(1,p.hlineto);break;case 7:C=this.executeCommand(1,p.vlineto);break;case 8:C=this.executeCommand(6,p.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){C=!0;break}if(I=this.stack.pop(),!T[I]){C=!0;break}C=this.convert(T[I],T,D);break;case 11:return C;case 13:if(this.stack.length<2){C=!0;break}B=this.stack.pop(),M=this.stack.pop(),this.lsb=M,this.width=B,this.stack.push(B,M),C=this.executeCommand(2,p.hmoveto);break;case 14:this.output.push(p.endchar[0]);break;case 21:if(this.flexing)break;C=this.executeCommand(2,p.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}C=this.executeCommand(1,p.hmoveto);break;case 30:C=this.executeCommand(4,p.vhcurveto);break;case 31:C=this.executeCommand(4,p.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(D){const _=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-_,C=this.executeCommand(0,p.endchar)}else C=this.executeCommand(4,p.endchar);break;case 3079:if(this.stack.length<4){C=!0;break}this.stack.pop(),B=this.stack.pop();const H=this.stack.pop();M=this.stack.pop(),this.lsb=M,this.width=B,this.stack.push(B,M,H),C=this.executeCommand(3,p.rmoveto);break;case 3084:if(this.stack.length<2){C=!0;break}const N=this.stack.pop(),U=this.stack.pop();this.stack.push(U/N);break;case 3088:if(this.stack.length<2){C=!0;break}I=this.stack.pop();const Y=this.stack.pop();if(I===0&&Y===3){const _=this.stack.splice(-17,17);this.stack.push(_[2]+_[0],_[3]+_[1],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14]),C=this.executeCommand(13,p.flex,!0),this.flexing=!1,this.stack.push(_[15],_[16])}else I===1&&Y===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,e.warn)('Unknown type 1 charstring command of "'+J+'"');break}if(C)break;continue}else J<=246?J-=139:J<=250?J=(J-247)*256+O[++W]+108:J<=254?J=-((J-251)*256)-O[++W]-108:J=(O[++W]&255)<<24|(O[++W]&255)<<16|(O[++W]&255)<<8|(O[++W]&255)<<0;this.stack.push(J)}return C}executeCommand(O,T,D){const F=this.stack.length;if(O>F)return!0;const C=F-O;for(let B=C;B<F;B++){let M=this.stack[B];Number.isInteger(M)?this.output.push(28,M>>8&255,M&255):(M=65536*M|0,this.output.push(255,M>>24&255,M>>16&255,M>>8&255,M&255))}return this.output.push(...T),D?this.stack.splice(C,O):this.stack.length=0,!1}}const y=55665,v=4330;function b(A){return A>=48&&A<=57||A>=65&&A<=70||A>=97&&A<=102}function g(A,O,T){if(T>=A.length)return new Uint8Array(0);const D=52845,F=22719;let C=O|0,B,M;for(B=0;B<T;B++)C=(A[B]+C)*D+F&65535;const I=A.length-T,W=new Uint8Array(I);for(B=T,M=0;M<I;B++,M++){const J=A[B];W[M]=J^C>>8,C=(J+C)*D+F&65535}return W}function w(A,O,T){let C=O|0;const B=A.length,M=B>>>1,I=new Uint8Array(M);let W,J;for(W=0,J=0;W<B;W++){const H=A[W];if(!b(H))continue;W++;let N;for(;W<B&&!b(N=A[W]);)W++;if(W<B){const U=parseInt(String.fromCharCode(H,N),16);I[J++]=U^C>>8,C=(U+C)*52845+22719&65535}}return I.slice(T,J)}function f(A){return A===47||A===91||A===93||A===123||A===125||A===40||A===41}class E{constructor(O,T,D){if(T){const F=O.getBytes(),C=!((b(F[0])||(0,l.isWhiteSpace)(F[0]))&&b(F[1])&&b(F[2])&&b(F[3])&&b(F[4])&&b(F[5])&&b(F[6])&&b(F[7]));O=new d.Stream(C?g(F,y,4):w(F,y,4))}this.seacAnalysisEnabled=!!D,this.stream=O,this.nextChar()}readNumberArray(){this.getToken();const O=[];for(;;){const T=this.getToken();if(T===null||T==="]"||T==="}")break;O.push(parseFloat(T||0))}return O}readNumber(){const O=this.getToken();return parseFloat(O||0)}readInt(){const O=this.getToken();return parseInt(O||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let O=!1,T=this.currentChar;for(;;){if(T===-1)return null;if(O)(T===10||T===13)&&(O=!1);else if(T===37)O=!0;else if(!(0,l.isWhiteSpace)(T))break;T=this.nextChar()}if(f(T))return this.nextChar(),String.fromCharCode(T);let D="";do D+=String.fromCharCode(T),T=this.nextChar();while(T>=0&&!(0,l.isWhiteSpace)(T)&&!f(T));return D}readCharStrings(O,T){return T===-1?O:g(O,v,T)}extractFontProgram(O){const T=this.stream,D=[],F=[],C=Object.create(null);C.lenIV=4;const B={subrs:[],charstrings:[],properties:{privateData:C}};let M,I,W,J;for(;(M=this.getToken())!==null;)if(M==="/")switch(M=this.getToken(),M){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();M=this.getToken(),!(M===null||M==="end");){if(M!=="/")continue;const N=this.getToken();I=this.readInt(),this.getToken(),W=I>0?T.getBytes(I):new Uint8Array(0),J=B.properties.privateData.lenIV;const U=this.readCharStrings(W,J);this.nextChar(),M=this.getToken(),M==="noaccess"?this.getToken():M==="/"&&this.prevChar(),F.push({glyph:N,encoded:U})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const N=this.readInt();I=this.readInt(),this.getToken(),W=I>0?T.getBytes(I):new Uint8Array(0),J=B.properties.privateData.lenIV;const U=this.readCharStrings(W,J);this.nextChar(),M=this.getToken(),M==="noaccess"&&this.getToken(),D[N]=U}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const H=this.readNumberArray();H.length>0&&H.length%2===0&&r&&(B.properties.privateData[M]=H);break;case"StemSnapH":case"StemSnapV":B.properties.privateData[M]=this.readNumberArray();break;case"StdHW":case"StdVW":B.properties.privateData[M]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":B.properties.privateData[M]=this.readNumber();break;case"ExpansionFactor":B.properties.privateData[M]=this.readNumber()||.06;break;case"ForceBold":B.properties.privateData[M]=this.readBoolean();break}for(const{encoded:H,glyph:N}of F){const U=new x,Y=U.convert(H,D,this.seacAnalysisEnabled);let _=U.output;Y&&(_=[14]);const V={glyphName:N,charstring:_,width:U.width,lsb:U.lsb,seac:U.seac};if(N===".notdef"?B.charstrings.unshift(V):B.charstrings.push(V),O.builtInEncoding){const Z=O.builtInEncoding.indexOf(N);Z>-1&&O.widths[Z]===void 0&&Z>=O.firstChar&&Z<=O.lastChar&&(O.widths[Z]=U.width)}}return B}extractFontHeader(O){let T;for(;(T=this.getToken())!==null;)if(T==="/")switch(T=this.getToken(),T){case"FontMatrix":const D=this.readNumberArray();O.fontMatrix=D;break;case"Encoding":const F=this.getToken();let C;if(!/^\d+$/.test(F))C=(0,i.getEncoding)(F);else{C=[];const M=parseInt(F,10)|0;this.getToken();for(let I=0;I<M;I++){for(T=this.getToken();T!=="dup"&&T!=="def";)if(T=this.getToken(),T===null)return;if(T==="def")break;const W=this.readInt();this.getToken();const J=this.getToken();C[W]=J,this.getToken()}}O.builtInEncoding=C;break;case"FontBBox":const B=this.readNumberArray();O.ascent=Math.max(B[3],B[1]),O.descent=Math.min(B[1],B[3]),O.ascentScaled=!0;break}}}o.Type1Parser=E},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Pattern=void 0,o.clearPatternCaches=f,o.getTilingPatternIR=O,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140),s(160);var i=s(145),l=s(152),d=s(163),e=s(150);const r={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class p{constructor(){(0,i.unreachable)("Cannot initialize Pattern.")}static parseShading(C,B,M,I,W){const J=C instanceof l.BaseStream?C.dict:C,H=J.get("ShadingType");try{switch(H){case r.AXIAL:case r.RADIAL:return new y(J,B,M,I,W);case r.FREE_FORM_MESH:case r.LATTICE_FORM_MESH:case r.COONS_PATCH_MESH:case r.TENSOR_PATCH_MESH:return new E(C,B,M,I,W);default:throw new i.FormatError("Unsupported ShadingType: "+H)}}catch(N){if(N instanceof e.MissingDataException)throw N;return(0,i.warn)(N),new A}}}o.Pattern=p;const T=class{constructor(){this.constructor===T&&(0,i.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,i.unreachable)("Abstract method `getIR` called.")}};let x=T;Ct(x,"SMALL_NUMBER",1e-6);class y extends x{constructor(C,B,M,I,W){super(),this.coordsArr=C.getArray("Coords"),this.shadingType=C.get("ShadingType");const J=d.ColorSpace.parse({cs:C.getRaw("CS")||C.getRaw("ColorSpace"),xref:B,resources:M,pdfFunctionFactory:I,localColorSpaceCache:W}),H=C.getArray("BBox");this.bbox=Array.isArray(H)&&H.length===4?i.Util.normalizeRect(H):null;let N=0,U=1;if(C.has("Domain")){const be=C.getArray("Domain");N=be[0],U=be[1]}let Y=!1,_=!1;if(C.has("Extend")){const be=C.getArray("Extend");Y=be[0],_=be[1]}if(this.shadingType===r.RADIAL&&(!Y||!_)){const[be,ye,de,xe,fe,ce]=this.coordsArr,ue=Math.hypot(be-xe,ye-fe);de<=ce+ue&&ce<=de+ue&&(0,i.warn)("Unsupported radial gradient.")}this.extendStart=Y,this.extendEnd=_;const V=C.getRaw("Function"),Z=I.createFromArray(V),q=840,re=(U-N)/q,oe=this.colorStops=[];if(N>=U||re<=0){(0,i.info)("Bad shading domain.");return}const ae=new Float32Array(J.numComps),R=new Float32Array(1);let S,L=0;R[0]=N,Z(R,0,ae,0);let k=J.getRgb(ae,0);const z=i.Util.makeHexColor(k[0],k[1],k[2]);oe.push([0,z]);let P=1;R[0]=N+re,Z(R,0,ae,0);let K=J.getRgb(ae,0),te=K[0]-k[0]+1,X=K[1]-k[1]+1,ee=K[2]-k[2]+1,G=K[0]-k[0]-1,ne=K[1]-k[1]-1,se=K[2]-k[2]-1;for(let be=2;be<q;be++){R[0]=N+be*re,Z(R,0,ae,0),S=J.getRgb(ae,0);const ye=be-L;if(te=Math.min(te,(S[0]-k[0]+1)/ye),X=Math.min(X,(S[1]-k[1]+1)/ye),ee=Math.min(ee,(S[2]-k[2]+1)/ye),G=Math.max(G,(S[0]-k[0]-1)/ye),ne=Math.max(ne,(S[1]-k[1]-1)/ye),se=Math.max(se,(S[2]-k[2]-1)/ye),!(G<=te&&ne<=X&&se<=ee)){const xe=i.Util.makeHexColor(K[0],K[1],K[2]);oe.push([P/q,xe]),te=S[0]-K[0]+1,X=S[1]-K[1]+1,ee=S[2]-K[2]+1,G=S[0]-K[0]-1,ne=S[1]-K[1]-1,se=S[2]-K[2]-1,L=P,k=K}P=be,K=S}const le=i.Util.makeHexColor(K[0],K[1],K[2]);oe.push([1,le]);let he="transparent";C.has("Background")&&(S=J.getRgb(C.get("Background"),0),he=i.Util.makeHexColor(S[0],S[1],S[2])),Y||(oe.unshift([0,he]),oe[1][0]+=x.SMALL_NUMBER),_||(oe.at(-1)[0]-=x.SMALL_NUMBER,oe.push([1,he])),this.colorStops=oe}getIR(){const C=this.coordsArr,B=this.shadingType;let M,I,W,J,H;return B===r.AXIAL?(I=[C[0],C[1]],W=[C[2],C[3]],J=null,H=null,M="axial"):B===r.RADIAL?(I=[C[0],C[1]],W=[C[3],C[4]],J=C[2],H=C[5],M="radial"):(0,i.unreachable)(`getPattern type unknown: ${B}`),["RadialAxial",M,this.bbox,this.colorStops,I,W,J,H]}}class v{constructor(C,B){this.stream=C,this.context=B,this.buffer=0,this.bufferLength=0;const M=B.numComps;this.tmpCompsBuf=new Float32Array(M);const I=B.colorSpace.numComps;this.tmpCsCompsBuf=B.colorFn?new Float32Array(I):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const C=this.stream.getByte();return C<0?!1:(this.buffer=C,this.bufferLength=8,!0)}readBits(C){let B=this.buffer,M=this.bufferLength;if(C===32){if(M===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;B=B<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const I=this.stream.getByte();return this.buffer=I&(1<<M)-1,(B<<8-M|(I&255)>>M)>>>0}if(C===8&&M===0)return this.stream.getByte();for(;M<C;)B=B<<8|this.stream.getByte(),M+=8;return M-=C,this.bufferLength=M,this.buffer=B&(1<<M)-1,B>>M}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const C=this.context.bitsPerCoordinate,B=this.readBits(C),M=this.readBits(C),I=this.context.decode,W=C<32?1/((1<<C)-1):23283064365386963e-26;return[B*W*(I[1]-I[0])+I[0],M*W*(I[3]-I[2])+I[2]]}readComponents(){const C=this.context.numComps,B=this.context.bitsPerComponent,M=B<32?1/((1<<B)-1):23283064365386963e-26,I=this.context.decode,W=this.tmpCompsBuf;for(let H=0,N=4;H<C;H++,N+=2){const U=this.readBits(B);W[H]=U*M*(I[N+1]-I[N])+I[N]}const J=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(W,0,J,0),this.context.colorSpace.getRgb(J,0)}}let b=Object.create(null);function g(F){const C=[];for(let B=0;B<=F;B++){const M=B/F,I=1-M;C.push(new Float32Array([I**3,3*M*I**2,3*M**2*I,M**3]))}return C}function w(F){return b[F]||(b[F]=g(F))}function f(){b=Object.create(null)}const D=class extends x{constructor(C,B,M,I,W){if(super(),!(C instanceof l.BaseStream))throw new i.FormatError("Mesh data is not a stream");const J=C.dict;this.shadingType=J.get("ShadingType");const H=J.getArray("BBox");this.bbox=Array.isArray(H)&&H.length===4?i.Util.normalizeRect(H):null;const N=d.ColorSpace.parse({cs:J.getRaw("CS")||J.getRaw("ColorSpace"),xref:B,resources:M,pdfFunctionFactory:I,localColorSpaceCache:W});this.background=J.has("Background")?N.getRgb(J.get("Background"),0):null;const U=J.getRaw("Function"),Y=U?I.createFromArray(U):null;this.coords=[],this.colors=[],this.figures=[];const _={bitsPerCoordinate:J.get("BitsPerCoordinate"),bitsPerComponent:J.get("BitsPerComponent"),bitsPerFlag:J.get("BitsPerFlag"),decode:J.getArray("Decode"),colorFn:Y,colorSpace:N,numComps:Y?1:N.numComps},V=new v(C,_);let Z=!1;switch(this.shadingType){case r.FREE_FORM_MESH:this._decodeType4Shading(V);break;case r.LATTICE_FORM_MESH:const q=J.get("VerticesPerRow")|0;if(q<2)throw new i.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(V,q);break;case r.COONS_PATCH_MESH:this._decodeType6Shading(V),Z=!0;break;case r.TENSOR_PATCH_MESH:this._decodeType7Shading(V),Z=!0;break;default:(0,i.unreachable)("Unsupported mesh type.");break}if(Z){this._updateBounds();for(let q=0,re=this.figures.length;q<re;q++)this._buildFigureFromPatch(q)}this._updateBounds(),this._packData()}_decodeType4Shading(C){const B=this.coords,M=this.colors,I=[];let W=0;for(;C.hasData;){const J=C.readFlag(),H=C.readCoordinate(),N=C.readComponents();if(W===0){if(!(0<=J&&J<=2))throw new i.FormatError("Unknown type4 flag");switch(J){case 0:W=3;break;case 1:I.push(I.at(-2),I.at(-1)),W=1;break;case 2:I.push(I.at(-3),I.at(-1)),W=1;break}}I.push(B.length),B.push(H),M.push(N),W--,C.align()}this.figures.push({type:"triangles",coords:new Int32Array(I),colors:new Int32Array(I)})}_decodeType5Shading(C,B){const M=this.coords,I=this.colors,W=[];for(;C.hasData;){const J=C.readCoordinate(),H=C.readComponents();W.push(M.length),M.push(J),I.push(H)}this.figures.push({type:"lattice",coords:new Int32Array(W),colors:new Int32Array(W),verticesPerRow:B})}_decodeType6Shading(C){const B=this.coords,M=this.colors,I=new Int32Array(16),W=new Int32Array(4);for(;C.hasData;){const J=C.readFlag();if(!(0<=J&&J<=3))throw new i.FormatError("Unknown type6 flag");const H=B.length;for(let Z=0,q=J!==0?8:12;Z<q;Z++)B.push(C.readCoordinate());const N=M.length;for(let Z=0,q=J!==0?2:4;Z<q;Z++)M.push(C.readComponents());let U,Y,_,V;switch(J){case 0:I[12]=H+3,I[13]=H+4,I[14]=H+5,I[15]=H+6,I[8]=H+2,I[11]=H+7,I[4]=H+1,I[7]=H+8,I[0]=H,I[1]=H+11,I[2]=H+10,I[3]=H+9,W[2]=N+1,W[3]=N+2,W[0]=N,W[1]=N+3;break;case 1:U=I[12],Y=I[13],_=I[14],V=I[15],I[12]=V,I[13]=H+0,I[14]=H+1,I[15]=H+2,I[8]=_,I[11]=H+3,I[4]=Y,I[7]=H+4,I[0]=U,I[1]=H+7,I[2]=H+6,I[3]=H+5,U=W[2],Y=W[3],W[2]=Y,W[3]=N,W[0]=U,W[1]=N+1;break;case 2:U=I[15],Y=I[11],I[12]=I[3],I[13]=H+0,I[14]=H+1,I[15]=H+2,I[8]=I[7],I[11]=H+3,I[4]=Y,I[7]=H+4,I[0]=U,I[1]=H+7,I[2]=H+6,I[3]=H+5,U=W[3],W[2]=W[1],W[3]=N,W[0]=U,W[1]=N+1;break;case 3:I[12]=I[0],I[13]=H+0,I[14]=H+1,I[15]=H+2,I[8]=I[1],I[11]=H+3,I[4]=I[2],I[7]=H+4,I[0]=I[3],I[1]=H+7,I[2]=H+6,I[3]=H+5,W[2]=W[0],W[3]=N,W[0]=W[1],W[1]=N+1;break}I[5]=B.length,B.push([(-4*B[I[0]][0]-B[I[15]][0]+6*(B[I[4]][0]+B[I[1]][0])-2*(B[I[12]][0]+B[I[3]][0])+3*(B[I[13]][0]+B[I[7]][0]))/9,(-4*B[I[0]][1]-B[I[15]][1]+6*(B[I[4]][1]+B[I[1]][1])-2*(B[I[12]][1]+B[I[3]][1])+3*(B[I[13]][1]+B[I[7]][1]))/9]),I[6]=B.length,B.push([(-4*B[I[3]][0]-B[I[12]][0]+6*(B[I[2]][0]+B[I[7]][0])-2*(B[I[0]][0]+B[I[15]][0])+3*(B[I[4]][0]+B[I[14]][0]))/9,(-4*B[I[3]][1]-B[I[12]][1]+6*(B[I[2]][1]+B[I[7]][1])-2*(B[I[0]][1]+B[I[15]][1])+3*(B[I[4]][1]+B[I[14]][1]))/9]),I[9]=B.length,B.push([(-4*B[I[12]][0]-B[I[3]][0]+6*(B[I[8]][0]+B[I[13]][0])-2*(B[I[0]][0]+B[I[15]][0])+3*(B[I[11]][0]+B[I[1]][0]))/9,(-4*B[I[12]][1]-B[I[3]][1]+6*(B[I[8]][1]+B[I[13]][1])-2*(B[I[0]][1]+B[I[15]][1])+3*(B[I[11]][1]+B[I[1]][1]))/9]),I[10]=B.length,B.push([(-4*B[I[15]][0]-B[I[0]][0]+6*(B[I[11]][0]+B[I[14]][0])-2*(B[I[12]][0]+B[I[3]][0])+3*(B[I[2]][0]+B[I[8]][0]))/9,(-4*B[I[15]][1]-B[I[0]][1]+6*(B[I[11]][1]+B[I[14]][1])-2*(B[I[12]][1]+B[I[3]][1])+3*(B[I[2]][1]+B[I[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(I),colors:new Int32Array(W)})}}_decodeType7Shading(C){const B=this.coords,M=this.colors,I=new Int32Array(16),W=new Int32Array(4);for(;C.hasData;){const J=C.readFlag();if(!(0<=J&&J<=3))throw new i.FormatError("Unknown type7 flag");const H=B.length;for(let Z=0,q=J!==0?12:16;Z<q;Z++)B.push(C.readCoordinate());const N=M.length;for(let Z=0,q=J!==0?2:4;Z<q;Z++)M.push(C.readComponents());let U,Y,_,V;switch(J){case 0:I[12]=H+3,I[13]=H+4,I[14]=H+5,I[15]=H+6,I[8]=H+2,I[9]=H+13,I[10]=H+14,I[11]=H+7,I[4]=H+1,I[5]=H+12,I[6]=H+15,I[7]=H+8,I[0]=H,I[1]=H+11,I[2]=H+10,I[3]=H+9,W[2]=N+1,W[3]=N+2,W[0]=N,W[1]=N+3;break;case 1:U=I[12],Y=I[13],_=I[14],V=I[15],I[12]=V,I[13]=H+0,I[14]=H+1,I[15]=H+2,I[8]=_,I[9]=H+9,I[10]=H+10,I[11]=H+3,I[4]=Y,I[5]=H+8,I[6]=H+11,I[7]=H+4,I[0]=U,I[1]=H+7,I[2]=H+6,I[3]=H+5,U=W[2],Y=W[3],W[2]=Y,W[3]=N,W[0]=U,W[1]=N+1;break;case 2:U=I[15],Y=I[11],I[12]=I[3],I[13]=H+0,I[14]=H+1,I[15]=H+2,I[8]=I[7],I[9]=H+9,I[10]=H+10,I[11]=H+3,I[4]=Y,I[5]=H+8,I[6]=H+11,I[7]=H+4,I[0]=U,I[1]=H+7,I[2]=H+6,I[3]=H+5,U=W[3],W[2]=W[1],W[3]=N,W[0]=U,W[1]=N+1;break;case 3:I[12]=I[0],I[13]=H+0,I[14]=H+1,I[15]=H+2,I[8]=I[1],I[9]=H+9,I[10]=H+10,I[11]=H+3,I[4]=I[2],I[5]=H+8,I[6]=H+11,I[7]=H+4,I[0]=I[3],I[1]=H+7,I[2]=H+6,I[3]=H+5,W[2]=W[0],W[3]=N,W[0]=W[1],W[1]=N+1;break}this.figures.push({type:"patch",coords:new Int32Array(I),colors:new Int32Array(W)})}}_buildFigureFromPatch(C){const B=this.figures[C];(0,i.assert)(B.type==="patch","Unexpected patch mesh figure");const M=this.coords,I=this.colors,W=B.coords,J=B.colors,H=Math.min(M[W[0]][0],M[W[3]][0],M[W[12]][0],M[W[15]][0]),N=Math.min(M[W[0]][1],M[W[3]][1],M[W[12]][1],M[W[15]][1]),U=Math.max(M[W[0]][0],M[W[3]][0],M[W[12]][0],M[W[15]][0]),Y=Math.max(M[W[0]][1],M[W[3]][1],M[W[12]][1],M[W[15]][1]);let _=Math.ceil((U-H)*D.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));_=Math.max(D.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(D.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,_));let V=Math.ceil((Y-N)*D.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));V=Math.max(D.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(D.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,V));const Z=_+1,q=new Int32Array((V+1)*Z),re=new Int32Array((V+1)*Z);let oe=0;const ae=new Uint8Array(3),R=new Uint8Array(3),S=I[J[0]],L=I[J[1]],k=I[J[2]],z=I[J[3]],P=w(V),K=w(_);for(let te=0;te<=V;te++){ae[0]=(S[0]*(V-te)+k[0]*te)/V|0,ae[1]=(S[1]*(V-te)+k[1]*te)/V|0,ae[2]=(S[2]*(V-te)+k[2]*te)/V|0,R[0]=(L[0]*(V-te)+z[0]*te)/V|0,R[1]=(L[1]*(V-te)+z[1]*te)/V|0,R[2]=(L[2]*(V-te)+z[2]*te)/V|0;for(let X=0;X<=_;X++,oe++){if((te===0||te===V)&&(X===0||X===_))continue;let ee=0,G=0,ne=0;for(let le=0;le<=3;le++)for(let he=0;he<=3;he++,ne++){const be=P[te][le]*K[X][he];ee+=M[W[ne]][0]*be,G+=M[W[ne]][1]*be}q[oe]=M.length,M.push([ee,G]),re[oe]=I.length;const se=new Uint8Array(3);se[0]=(ae[0]*(_-X)+R[0]*X)/_|0,se[1]=(ae[1]*(_-X)+R[1]*X)/_|0,se[2]=(ae[2]*(_-X)+R[2]*X)/_|0,I.push(se)}}q[0]=W[0],re[0]=J[0],q[_]=W[3],re[_]=J[1],q[Z*V]=W[12],re[Z*V]=J[2],q[Z*V+_]=W[15],re[Z*V+_]=J[3],this.figures[C]={type:"lattice",coords:q,colors:re,verticesPerRow:Z}}_updateBounds(){let C=this.coords[0][0],B=this.coords[0][1],M=C,I=B;for(let W=1,J=this.coords.length;W<J;W++){const H=this.coords[W][0],N=this.coords[W][1];C=C>H?H:C,B=B>N?N:B,M=M<H?H:M,I=I<N?N:I}this.bounds=[C,B,M,I]}_packData(){let C,B,M,I;const W=this.coords,J=new Float32Array(W.length*2);for(C=0,M=0,B=W.length;C<B;C++){const Y=W[C];J[M++]=Y[0],J[M++]=Y[1]}this.coords=J;const H=this.colors,N=new Uint8Array(H.length*3);for(C=0,M=0,B=H.length;C<B;C++){const Y=H[C];N[M++]=Y[0],N[M++]=Y[1],N[M++]=Y[2]}this.colors=N;const U=this.figures;for(C=0,B=U.length;C<B;C++){const Y=U[C],_=Y.coords,V=Y.colors;for(M=0,I=_.length;M<I;M++)_[M]*=2,V[M]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};let E=D;Ct(E,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),Ct(E,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),Ct(E,"TRIANGLE_DENSITY",20);class A extends x{getIR(){return["Dummy"]}}function O(F,C,B){const M=C.getArray("Matrix"),I=i.Util.normalizeRect(C.getArray("BBox")),W=C.get("XStep"),J=C.get("YStep"),H=C.get("PaintType"),N=C.get("TilingType");if(I[2]-I[0]===0||I[3]-I[1]===0)throw new i.FormatError(`Invalid getTilingPatternIR /BBox array: [${I}].`);return["TilingPattern",B,F,M,I,W,J,H,N]}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getXfaFontDict=w,o.getXfaFontName=b,s(140);var i=s(203),l=s(151),d=s(204),e=s(205),r=s(206),p=s(207),x=s(150),y=s(189);const v=(0,x.getLookupTableFactory)(function(f){f["MyriadPro-Regular"]=f["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:r.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:r.MyriadProRegularMetrics},f["MyriadPro-Bold"]=f["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:r.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:r.MyriadProBoldMetrics},f["MyriadPro-It"]=f["MyriadPro-Italic"]=f["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:r.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:r.MyriadProItalicMetrics},f["MyriadPro-BoldIt"]=f["MyriadPro-BoldItalic"]=f["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:r.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:r.MyriadProBoldItalicMetrics},f.ArialMT=f.Arial=f["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},f["Arial-BoldMT"]=f["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},f["Arial-ItalicMT"]=f["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},f["Arial-BoldItalicMT"]=f["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},f["Calibri-Regular"]={name:"LiberationSans-Regular",factors:i.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:i.CalibriRegularMetrics},f["Calibri-Bold"]={name:"LiberationSans-Bold",factors:i.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:i.CalibriBoldMetrics},f["Calibri-Italic"]={name:"LiberationSans-Italic",factors:i.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:i.CalibriItalicMetrics},f["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:i.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:i.CalibriBoldItalicMetrics},f["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:p.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:p.SegoeuiRegularMetrics},f["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:p.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:p.SegoeuiBoldMetrics},f["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:p.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:p.SegoeuiItalicMetrics},f["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:p.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:p.SegoeuiBoldItalicMetrics},f["Helvetica-Regular"]=f.Helvetica={name:"LiberationSans-Regular",factors:d.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:d.HelveticaRegularMetrics},f["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:d.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:d.HelveticaBoldMetrics},f["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:d.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:d.HelveticaItalicMetrics},f["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:d.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:d.HelveticaBoldItalicMetrics}});function b(f){const E=(0,y.normalizeFontName)(f);return v()[E]}function g(f){const E=b(f);if(!E)return null;const{baseWidths:A,baseMapping:O,factors:T}=E,D=T?A.map((M,I)=>M*T[I]):A;let F=-2,C;const B=[];for(const[M,I]of O.map((W,J)=>[W,J]).sort((W,J)=>{let[H]=W,[N]=J;return H-N}))M!==-1&&(M===F+1?(C.push(D[I]),F+=1):(F=M,C=[D[I]],B.push(M,C)));return B}function w(f){const E=g(f),A=new l.Dict(null);A.set("BaseFont",l.Name.get(f)),A.set("Type",l.Name.get("Font")),A.set("Subtype",l.Name.get("CIDFontType2")),A.set("Encoding",l.Name.get("Identity-H")),A.set("CIDToGIDMap",l.Name.get("Identity")),A.set("W",E),A.set("FirstChar",E[0]),A.set("LastChar",E.at(-2)+E.at(-1).length-1);const O=new l.Dict(null);A.set("FontDescriptor",O);const T=new l.Dict(null);return T.set("Ordering","Identity"),T.set("Registry","Adobe"),T.set("Supplement",0),A.set("CIDSystemInfo",T),A}},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CalibriRegularMetrics=o.CalibriRegularFactors=o.CalibriItalicMetrics=o.CalibriItalicFactors=o.CalibriBoldMetrics=o.CalibriBoldItalicMetrics=o.CalibriBoldItalicFactors=o.CalibriBoldFactors=void 0;const s=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.CalibriBoldFactors=s;const i={lineHeight:1.2207,lineGap:.2207};o.CalibriBoldMetrics=i;const l=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.CalibriBoldItalicFactors=l;const d={lineHeight:1.2207,lineGap:.2207};o.CalibriBoldItalicMetrics=d;const e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.CalibriItalicFactors=e;const r={lineHeight:1.2207,lineGap:.2207};o.CalibriItalicMetrics=r;const p=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];o.CalibriRegularFactors=p;const x={lineHeight:1.2207,lineGap:.2207};o.CalibriRegularMetrics=x},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HelveticaRegularMetrics=o.HelveticaRegularFactors=o.HelveticaItalicMetrics=o.HelveticaItalicFactors=o.HelveticaBoldMetrics=o.HelveticaBoldItalicMetrics=o.HelveticaBoldItalicFactors=o.HelveticaBoldFactors=void 0;const s=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];o.HelveticaBoldFactors=s;const i={lineHeight:1.2,lineGap:.2};o.HelveticaBoldMetrics=i;const l=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];o.HelveticaBoldItalicFactors=l;const d={lineHeight:1.35,lineGap:.2};o.HelveticaBoldItalicMetrics=d;const e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];o.HelveticaItalicFactors=e;const r={lineHeight:1.35,lineGap:.2};o.HelveticaItalicMetrics=r;const p=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.HelveticaRegularFactors=p;const x={lineHeight:1.2,lineGap:.2};o.HelveticaRegularMetrics=x},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LiberationSansRegularWidths=o.LiberationSansRegularMapping=o.LiberationSansItalicWidths=o.LiberationSansItalicMapping=o.LiberationSansBoldWidths=o.LiberationSansBoldMapping=o.LiberationSansBoldItalicWidths=o.LiberationSansBoldItalicMapping=void 0;const s=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];o.LiberationSansBoldWidths=s;const i=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];o.LiberationSansBoldMapping=i;const l=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];o.LiberationSansBoldItalicWidths=l;const d=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];o.LiberationSansBoldItalicMapping=d;const e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];o.LiberationSansItalicWidths=e;const r=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];o.LiberationSansItalicMapping=r;const p=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];o.LiberationSansRegularWidths=p;const x=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];o.LiberationSansRegularMapping=x},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MyriadProRegularMetrics=o.MyriadProRegularFactors=o.MyriadProItalicMetrics=o.MyriadProItalicFactors=o.MyriadProBoldMetrics=o.MyriadProBoldItalicMetrics=o.MyriadProBoldItalicFactors=o.MyriadProBoldFactors=void 0;const s=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.MyriadProBoldFactors=s;const i={lineHeight:1.2,lineGap:.2};o.MyriadProBoldMetrics=i;const l=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.MyriadProBoldItalicFactors=l;const d={lineHeight:1.2,lineGap:.2};o.MyriadProBoldItalicMetrics=d;const e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.MyriadProItalicFactors=e;const r={lineHeight:1.2,lineGap:.2};o.MyriadProItalicMetrics=r;const p=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.MyriadProRegularFactors=p;const x={lineHeight:1.2,lineGap:.2};o.MyriadProRegularMetrics=x},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SegoeuiRegularMetrics=o.SegoeuiRegularFactors=o.SegoeuiItalicMetrics=o.SegoeuiItalicFactors=o.SegoeuiBoldMetrics=o.SegoeuiBoldItalicMetrics=o.SegoeuiBoldItalicFactors=o.SegoeuiBoldFactors=void 0;const s=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.SegoeuiBoldFactors=s;const i={lineHeight:1.33008,lineGap:0};o.SegoeuiBoldMetrics=i;const l=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.SegoeuiBoldItalicFactors=l;const d={lineHeight:1.33008,lineGap:0};o.SegoeuiBoldItalicMetrics=d;const e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];o.SegoeuiItalicFactors=e;const r={lineHeight:1.33008,lineGap:0};o.SegoeuiItalicMetrics=r;const p=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];o.SegoeuiRegularFactors=p;const x={lineHeight:1.33008,lineGap:0};o.SegoeuiRegularMetrics=x},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PostScriptEvaluator=o.PostScriptCompiler=o.PDFFunctionFactory=void 0,o.isPDFFunction=v,s(2),s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(160);var i=s(151),l=s(145),d=s(209),e=s(152),r=s(210);class p{constructor(N){let{xref:U,isEvalSupported:Y=!0}=N;this.xref=U,this.isEvalSupported=Y!==!1}create(N){const U=this.getCached(N);if(U)return U;const Y=y.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:N instanceof i.Ref?this.xref.fetch(N):N});return this._cache(N,Y),Y}createFromArray(N){const U=this.getCached(N);if(U)return U;const Y=y.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:N instanceof i.Ref?this.xref.fetch(N):N});return this._cache(N,Y),Y}getCached(N){var Y;let U;if(N instanceof i.Ref?U=N:N instanceof i.Dict?U=N.objId:N instanceof e.BaseStream&&(U=(Y=N.dict)==null?void 0:Y.objId),U){const _=this._localFunctionCache.getByRef(U);if(_)return _}return null}_cache(N,U){var _;if(!U)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let Y;N instanceof i.Ref?Y=N:N instanceof i.Dict?Y=N.objId:N instanceof e.BaseStream&&(Y=(_=N.dict)==null?void 0:_.objId),Y&&this._localFunctionCache.set(null,Y,U)}get _localFunctionCache(){return(0,l.shadow)(this,"_localFunctionCache",new r.LocalFunctionCache)}}o.PDFFunctionFactory=p;function x(H){if(!Array.isArray(H))return null;const N=H.length;for(let U=0;U<N;U++)if(typeof H[U]!="number"){const Y=new Array(N);for(let _=0;_<N;_++)Y[_]=+H[_];return Y}return H}class y{static getSampleArray(N,U,Y,_){let V,Z,q=1;for(V=0,Z=N.length;V<Z;V++)q*=N[V];q*=U;const re=new Array(q);let oe=0,ae=0;const R=1/(2**Y-1),S=_.getBytes((q*Y+7)/8);let L=0;for(V=0;V<q;V++){for(;oe<Y;)ae<<=8,ae|=S[L++],oe+=8;oe-=Y,re[V]=(ae>>oe)*R,ae&=(1<<oe)-1}return re}static parse(N){let{xref:U,isEvalSupported:Y,fn:_}=N;const V=_.dict||_;switch(V.get("FunctionType")){case 0:return this.constructSampled({xref:U,isEvalSupported:Y,fn:_,dict:V});case 1:break;case 2:return this.constructInterpolated({xref:U,isEvalSupported:Y,dict:V});case 3:return this.constructStiched({xref:U,isEvalSupported:Y,dict:V});case 4:return this.constructPostScript({xref:U,isEvalSupported:Y,fn:_,dict:V})}throw new l.FormatError("Unknown type of function")}static parseArray(N){let{xref:U,isEvalSupported:Y,fnObj:_}=N;if(!Array.isArray(_))return this.parse({xref:U,isEvalSupported:Y,fn:_});const V=[];for(const Z of _)V.push(this.parse({xref:U,isEvalSupported:Y,fn:U.fetchIfRef(Z)}));return function(Z,q,re,oe){for(let ae=0,R=V.length;ae<R;ae++)V[ae](Z,q,re,oe+ae)}}static constructSampled(N){let{xref:U,isEvalSupported:Y,fn:_,dict:V}=N;function Z(te){const X=te.length,ee=[];let G=0;for(let ne=0;ne<X;ne+=2)ee[G++]=[te[ne],te[ne+1]];return ee}function q(te,X,ee,G,ne){return G+(te-X)*((ne-G)/(ee-X))}let re=x(V.getArray("Domain")),oe=x(V.getArray("Range"));if(!re||!oe)throw new l.FormatError("No domain or range");const ae=re.length/2,R=oe.length/2;re=Z(re),oe=Z(oe);const S=x(V.getArray("Size")),L=V.get("BitsPerSample"),k=V.get("Order")||1;k!==1&&(0,l.info)("No support for cubic spline interpolation: "+k);let z=x(V.getArray("Encode"));if(z)z=Z(z);else{z=[];for(let te=0;te<ae;++te)z.push([0,S[te]-1])}let P=x(V.getArray("Decode"));P=P?Z(P):oe;const K=this.getSampleArray(S,R,L,_);return function(X,ee,G,ne){const se=1<<ae,le=new Float64Array(se),he=new Uint32Array(se);let be,ye;for(ye=0;ye<se;ye++)le[ye]=1;let de=R,xe=1;for(be=0;be<ae;++be){const fe=re[be][0],ce=re[be][1],ue=Math.min(Math.max(X[ee+be],fe),ce);let ve=q(ue,fe,ce,z[be][0],z[be][1]);const Ee=S[be];ve=Math.min(Math.max(ve,0),Ee-1);const Me=ve<Ee-1?Math.floor(ve):ve-1,_e=Me+1-ve,ze=ve-Me,We=Me*de,Ve=We+de;for(ye=0;ye<se;ye++)ye&xe?(le[ye]*=ze,he[ye]+=Ve):(le[ye]*=_e,he[ye]+=We);de*=Ee,xe<<=1}for(ye=0;ye<R;++ye){let fe=0;for(be=0;be<se;be++)fe+=K[he[be]+ye]*le[be];fe=q(fe,0,1,P[ye][0],P[ye][1]),G[ne+ye]=Math.min(Math.max(fe,oe[ye][0]),oe[ye][1])}}}static constructInterpolated(N){let{xref:U,isEvalSupported:Y,dict:_}=N;const V=x(_.getArray("C0"))||[0],Z=x(_.getArray("C1"))||[1],q=_.get("N"),re=[];for(let ae=0,R=V.length;ae<R;++ae)re.push(Z[ae]-V[ae]);const oe=re.length;return function(R,S,L,k){const z=q===1?R[S]:R[S]**q;for(let P=0;P<oe;++P)L[k+P]=V[P]+z*re[P]}}static constructStiched(N){let{xref:U,isEvalSupported:Y,dict:_}=N;const V=x(_.getArray("Domain"));if(!V)throw new l.FormatError("No domain");if(V.length/2!==1)throw new l.FormatError("Bad domain for stiched function");const q=[];for(const R of _.get("Functions"))q.push(this.parse({xref:U,isEvalSupported:Y,fn:U.fetchIfRef(R)}));const re=x(_.getArray("Bounds")),oe=x(_.getArray("Encode")),ae=new Float32Array(1);return function(S,L,k,z){const K=function(he,be,ye){return he>ye?he=ye:he<be&&(he=be),he}(S[L],V[0],V[1]),te=re.length;let X;for(X=0;X<te&&!(K<re[X]);++X);let ee=V[0];X>0&&(ee=re[X-1]);let G=V[1];X<re.length&&(G=re[X]);const ne=oe[2*X],se=oe[2*X+1];ae[0]=ee===G?ne:ne+(K-ee)*(se-ne)/(G-ee),q[X](ae,0,k,z)}}static constructPostScript(N){let{xref:U,isEvalSupported:Y,fn:_,dict:V}=N;const Z=x(V.getArray("Domain")),q=x(V.getArray("Range"));if(!Z)throw new l.FormatError("No domain.");if(!q)throw new l.FormatError("No range.");const re=new d.PostScriptLexer(_),ae=new d.PostScriptParser(re).parse();if(Y&&l.FeatureTest.isEvalSupported){const te=new W().compile(ae,Z,q);if(te)return new Function("src","srcOffset","dest","destOffset",te)}(0,l.info)("Unable to compile PS function");const R=q.length>>1,S=Z.length>>1,L=new g(ae),k=Object.create(null);let P=2048*4;const K=new Float32Array(S);return function(X,ee,G,ne){let se,le,he="";const be=K;for(se=0;se<S;se++)le=X[ee+se],be[se]=le,he+=le+"_";const ye=k[he];if(ye!==void 0){G.set(ye,ne);return}const de=new Float32Array(R),xe=L.execute(be),fe=xe.length-R;for(se=0;se<R;se++){le=xe[fe+se];let ce=q[se*2];le<ce?le=ce:(ce=q[se*2+1],le>ce&&(le=ce)),de[se]=le}P>0&&(P--,k[he]=de),G.set(de,ne)}}}function v(H){let N;if(H instanceof i.Dict)N=H;else if(H instanceof e.BaseStream)N=H.dict;else return!1;return N.has("FunctionType")}const J=class{constructor(N){this.stack=N?Array.from(N):[]}push(N){if(this.stack.length>=J.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(N)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(N){if(this.stack.length+N>=J.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const U=this.stack;for(let Y=U.length-N,_=N-1;_>=0;_--,Y++)U.push(U[Y])}index(N){this.push(this.stack[this.stack.length-N-1])}roll(N,U){const Y=this.stack,_=Y.length-N,V=Y.length-1,Z=_+(U-Math.floor(U/N)*N);for(let q=_,re=V;q<re;q++,re--){const oe=Y[q];Y[q]=Y[re],Y[re]=oe}for(let q=_,re=Z-1;q<re;q++,re--){const oe=Y[q];Y[q]=Y[re],Y[re]=oe}for(let q=Z,re=V;q<re;q++,re--){const oe=Y[q];Y[q]=Y[re],Y[re]=oe}}};let b=J;Ct(b,"MAX_STACK_SIZE",100);class g{constructor(N){this.operators=N}execute(N){const U=new b(N);let Y=0;const _=this.operators,V=_.length;let Z,q,re;for(;Y<V;){if(Z=_[Y++],typeof Z=="number"){U.push(Z);continue}switch(Z){case"jz":re=U.pop(),q=U.pop(),q||(Y=re);break;case"j":q=U.pop(),Y=q;break;case"abs":q=U.pop(),U.push(Math.abs(q));break;case"add":re=U.pop(),q=U.pop(),U.push(q+re);break;case"and":re=U.pop(),q=U.pop(),typeof q=="boolean"&&typeof re=="boolean"?U.push(q&&re):U.push(q&re);break;case"atan":re=U.pop(),q=U.pop(),q=Math.atan2(q,re)/Math.PI*180,q<0&&(q+=360),U.push(q);break;case"bitshift":re=U.pop(),q=U.pop(),q>0?U.push(q<<re):U.push(q>>re);break;case"ceiling":q=U.pop(),U.push(Math.ceil(q));break;case"copy":q=U.pop(),U.copy(q);break;case"cos":q=U.pop(),U.push(Math.cos(q%360/180*Math.PI));break;case"cvi":q=U.pop()|0,U.push(q);break;case"cvr":break;case"div":re=U.pop(),q=U.pop(),U.push(q/re);break;case"dup":U.copy(1);break;case"eq":re=U.pop(),q=U.pop(),U.push(q===re);break;case"exch":U.roll(2,1);break;case"exp":re=U.pop(),q=U.pop(),U.push(q**re);break;case"false":U.push(!1);break;case"floor":q=U.pop(),U.push(Math.floor(q));break;case"ge":re=U.pop(),q=U.pop(),U.push(q>=re);break;case"gt":re=U.pop(),q=U.pop(),U.push(q>re);break;case"idiv":re=U.pop(),q=U.pop(),U.push(q/re|0);break;case"index":q=U.pop(),U.index(q);break;case"le":re=U.pop(),q=U.pop(),U.push(q<=re);break;case"ln":q=U.pop(),U.push(Math.log(q));break;case"log":q=U.pop(),U.push(Math.log10(q));break;case"lt":re=U.pop(),q=U.pop(),U.push(q<re);break;case"mod":re=U.pop(),q=U.pop(),U.push(q%re);break;case"mul":re=U.pop(),q=U.pop(),U.push(q*re);break;case"ne":re=U.pop(),q=U.pop(),U.push(q!==re);break;case"neg":q=U.pop(),U.push(-q);break;case"not":q=U.pop(),typeof q=="boolean"?U.push(!q):U.push(~q);break;case"or":re=U.pop(),q=U.pop(),typeof q=="boolean"&&typeof re=="boolean"?U.push(q||re):U.push(q|re);break;case"pop":U.pop();break;case"roll":re=U.pop(),q=U.pop(),U.roll(q,re);break;case"round":q=U.pop(),U.push(Math.round(q));break;case"sin":q=U.pop(),U.push(Math.sin(q%360/180*Math.PI));break;case"sqrt":q=U.pop(),U.push(Math.sqrt(q));break;case"sub":re=U.pop(),q=U.pop(),U.push(q-re);break;case"true":U.push(!0);break;case"truncate":q=U.pop(),q=q<0?Math.ceil(q):Math.floor(q),U.push(q);break;case"xor":re=U.pop(),q=U.pop(),typeof q=="boolean"&&typeof re=="boolean"?U.push(q!==re):U.push(q^re);break;default:throw new l.FormatError(`Unknown operator ${Z}`)}}return U.stack}}o.PostScriptEvaluator=g;class w{constructor(N){this.type=N}visit(N){(0,l.unreachable)("abstract method")}}class f extends w{constructor(N,U,Y){super("args"),this.index=N,this.min=U,this.max=Y}visit(N){N.visitArgument(this)}}class E extends w{constructor(N){super("literal"),this.number=N,this.min=N,this.max=N}visit(N){N.visitLiteral(this)}}class A extends w{constructor(N,U,Y,_,V){super("binary"),this.op=N,this.arg1=U,this.arg2=Y,this.min=_,this.max=V}visit(N){N.visitBinaryOperation(this)}}class O extends w{constructor(N,U){super("max"),this.arg=N,this.min=N.min,this.max=U}visit(N){N.visitMin(this)}}class T extends w{constructor(N,U,Y){super("var"),this.index=N,this.min=U,this.max=Y}visit(N){N.visitVariable(this)}}class D extends w{constructor(N,U){super("definition"),this.variable=N,this.arg=U}visit(N){N.visitVariableDefinition(this)}}class F{constructor(){this.parts=[]}visitArgument(N){this.parts.push("Math.max(",N.min,", Math.min(",N.max,", src[srcOffset + ",N.index,"]))")}visitVariable(N){this.parts.push("v",N.index)}visitLiteral(N){this.parts.push(N.number)}visitBinaryOperation(N){this.parts.push("("),N.arg1.visit(this),this.parts.push(" ",N.op," "),N.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(N){this.parts.push("var "),N.variable.visit(this),this.parts.push(" = "),N.arg.visit(this),this.parts.push(";")}visitMin(N){this.parts.push("Math.min("),N.arg.visit(this),this.parts.push(", ",N.max,")")}toString(){return this.parts.join("")}}function C(H,N){return N.type==="literal"&&N.number===0?H:H.type==="literal"&&H.number===0?N:N.type==="literal"&&H.type==="literal"?new E(H.number+N.number):new A("+",H,N,H.min+N.min,H.max+N.max)}function B(H,N){if(N.type==="literal"){if(N.number===0)return new E(0);if(N.number===1)return H;if(H.type==="literal")return new E(H.number*N.number)}if(H.type==="literal"){if(H.number===0)return new E(0);if(H.number===1)return N}const U=Math.min(H.min*N.min,H.min*N.max,H.max*N.min,H.max*N.max),Y=Math.max(H.min*N.min,H.min*N.max,H.max*N.min,H.max*N.max);return new A("*",H,N,U,Y)}function M(H,N){if(N.type==="literal"){if(N.number===0)return H;if(H.type==="literal")return new E(H.number-N.number)}return N.type==="binary"&&N.op==="-"&&H.type==="literal"&&H.number===1&&N.arg1.type==="literal"&&N.arg1.number===1?N.arg2:new A("-",H,N,H.min-N.max,H.max-N.min)}function I(H,N){return H.min>=N?new E(N):H.max<=N?H:new O(H,N)}class W{compile(N,U,Y){const _=[],V=[],Z=U.length>>1,q=Y.length>>1;let re=0,oe,ae,R,S,L,k,z,P;for(let te=0;te<Z;te++)_.push(new f(te,U[te*2],U[te*2+1]));for(let te=0,X=N.length;te<X;te++){if(P=N[te],typeof P=="number"){_.push(new E(P));continue}switch(P){case"add":if(_.length<2)return null;S=_.pop(),R=_.pop(),_.push(C(R,S));break;case"cvr":if(_.length<1)return null;break;case"mul":if(_.length<2)return null;S=_.pop(),R=_.pop(),_.push(B(R,S));break;case"sub":if(_.length<2)return null;S=_.pop(),R=_.pop(),_.push(M(R,S));break;case"exch":if(_.length<2)return null;L=_.pop(),k=_.pop(),_.push(L,k);break;case"pop":if(_.length<1)return null;_.pop();break;case"index":if(_.length<1||(R=_.pop(),R.type!=="literal")||(oe=R.number,oe<0||!Number.isInteger(oe)||_.length<oe))return null;if(L=_[_.length-oe-1],L.type==="literal"||L.type==="var"){_.push(L);break}z=new T(re++,L.min,L.max),_[_.length-oe-1]=z,_.push(z),V.push(new D(z,L));break;case"dup":if(_.length<1)return null;if(typeof N[te+1]=="number"&&N[te+2]==="gt"&&N[te+3]===te+7&&N[te+4]==="jz"&&N[te+5]==="pop"&&N[te+6]===N[te+1]){R=_.pop(),_.push(I(R,N[te+1])),te+=6;break}if(L=_.at(-1),L.type==="literal"||L.type==="var"){_.push(L);break}z=new T(re++,L.min,L.max),_[_.length-1]=z,_.push(z),V.push(new D(z,L));break;case"roll":if(_.length<2||(S=_.pop(),R=_.pop(),S.type!=="literal"||R.type!=="literal")||(ae=S.number,oe=R.number,oe<=0||!Number.isInteger(oe)||!Number.isInteger(ae)||_.length<oe))return null;if(ae=(ae%oe+oe)%oe,ae===0)break;_.push(..._.splice(_.length-oe,oe-ae));break;default:return null}}if(_.length!==q)return null;const K=[];for(const te of V){const X=new F;te.visit(X),K.push(X.toString())}for(let te=0,X=_.length;te<X;te++){const ee=_[te],G=new F;ee.visit(G);const ne=Y[te*2],se=Y[te*2+1],le=[G.toString()];ne>ee.min&&(le.unshift("Math.max(",ne,", "),le.push(")")),se<ee.max&&(le.unshift("Math.min(",se,", "),le.push(")")),le.unshift("dest[destOffset + ",te,"] = "),le.push(";"),K.push(le.join(""))}return K.join(`
`)}}o.PostScriptCompiler=W},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PostScriptParser=o.PostScriptLexer=void 0,s(140);var i=s(145),l=s(151),d=s(150);class e{constructor(v){this.lexer=v,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(v){return this.token.type===v?(this.nextToken(),!0):!1}expect(v){if(this.accept(v))return!0;throw new i.FormatError(`Unexpected symbol: found ${this.token.type} expected ${v}.`)}parse(){return this.nextToken(),this.expect(r.LBRACE),this.parseBlock(),this.expect(r.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(r.NUMBER))this.operators.push(this.prev.value);else if(this.accept(r.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(r.LBRACE))this.parseCondition();else return}parseCondition(){const v=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(r.RBRACE),this.accept(r.IF))this.operators[v]=this.operators.length,this.operators[v+1]="jz";else if(this.accept(r.LBRACE)){const b=this.operators.length;this.operators.push(null,null);const g=this.operators.length;this.parseBlock(),this.expect(r.RBRACE),this.expect(r.IFELSE),this.operators[b]=this.operators.length,this.operators[b+1]="j",this.operators[v]=g,this.operators[v+1]="jz"}else throw new i.FormatError("PS Function: error parsing conditional.")}}o.PostScriptParser=e;const r={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class p{static get opCache(){return(0,i.shadow)(this,"opCache",Object.create(null))}constructor(v,b){this.type=v,this.value=b}static getOperator(v){var b;return(b=p.opCache)[v]||(b[v]=new p(r.OPERATOR,v))}static get LBRACE(){return(0,i.shadow)(this,"LBRACE",new p(r.LBRACE,"{"))}static get RBRACE(){return(0,i.shadow)(this,"RBRACE",new p(r.RBRACE,"}"))}static get IF(){return(0,i.shadow)(this,"IF",new p(r.IF,"IF"))}static get IFELSE(){return(0,i.shadow)(this,"IFELSE",new p(r.IFELSE,"IFELSE"))}}class x{constructor(v){this.stream=v,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let v=!1,b=this.currentChar;for(;;){if(b<0)return l.EOF;if(v)(b===10||b===13)&&(v=!1);else if(b===37)v=!0;else if(!(0,d.isWhiteSpace)(b))break;b=this.nextChar()}switch(b|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new p(r.NUMBER,this.getNumber());case 123:return this.nextChar(),p.LBRACE;case 125:return this.nextChar(),p.RBRACE}const g=this.strBuf;for(g.length=0,g[0]=String.fromCharCode(b);(b=this.nextChar())>=0&&(b>=65&&b<=90||b>=97&&b<=122);)g.push(String.fromCharCode(b));const w=g.join("");switch(w.toLowerCase()){case"if":return p.IF;case"ifelse":return p.IFELSE;default:return p.getOperator(w)}}getNumber(){let v=this.currentChar;const b=this.strBuf;for(b.length=0,b[0]=String.fromCharCode(v);(v=this.nextChar())>=0&&(v>=48&&v<=57||v===45||v===46);)b.push(String.fromCharCode(v));const g=parseFloat(b.join(""));if(isNaN(g))throw new i.FormatError(`Invalid floating point number: ${g}`);return g}}o.PostScriptLexer=x},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RegionalImageCache=o.LocalTilingPatternCache=o.LocalImageCache=o.LocalGStateCache=o.LocalFunctionCache=o.LocalColorSpaceCache=o.GlobalImageCache=void 0,s(2),s(116),s(127),s(129),s(132),s(134),s(136),s(138);var i=s(145),l=s(151);class d{constructor(f){this.constructor===d&&(0,i.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(f==null?void 0:f.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new l.RefSetCache}getByName(f){this._onlyRefs&&(0,i.unreachable)("Should not call `getByName` method.");const E=this._nameRefMap.get(f);return E?this.getByRef(E):this._imageMap.get(f)||null}getByRef(f){return this._imageCache.get(f)||null}set(f,E,A){(0,i.unreachable)("Abstract method `set` called.")}}class e extends d{set(f){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=arguments.length>2?arguments[2]:void 0;if(typeof f!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(E){if(this._imageCache.has(E))return;this._nameRefMap.set(f,E),this._imageCache.put(E,A);return}this._imageMap.has(f)||this._imageMap.set(f,A)}}o.LocalImageCache=e;class r extends d{set(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=arguments.length>2?arguments[2]:void 0;if(typeof f!="string"&&!E)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(E){if(this._imageCache.has(E))return;f!==null&&this._nameRefMap.set(f,E),this._imageCache.put(E,A);return}this._imageMap.has(f)||this._imageMap.set(f,A)}}o.LocalColorSpaceCache=r;class p extends d{constructor(f){super({onlyRefs:!0})}set(){let f=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0;if(!f)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(f)||this._imageCache.put(f,E)}}o.LocalFunctionCache=p;class x extends d{set(f){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=arguments.length>2?arguments[2]:void 0;if(typeof f!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(E){if(this._imageCache.has(E))return;this._nameRefMap.set(f,E),this._imageCache.put(E,A);return}this._imageMap.has(f)||this._imageMap.set(f,A)}}o.LocalGStateCache=x;class y extends d{constructor(f){super({onlyRefs:!0})}set(){let f=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0;if(!f)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(f)||this._imageCache.put(f,E)}}o.LocalTilingPatternCache=y;class v extends d{constructor(f){super({onlyRefs:!0})}set(){let f=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0;if(!f)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(f)||this._imageCache.put(f,E)}}o.RegionalImageCache=v;const g=class{constructor(){this._refCache=new l.RefSetCache,this._imageCache=new l.RefSetCache}get _byteSize(){let f=0;for(const E of this._imageCache)f+=E.byteSize;return f}get _cacheLimitReached(){return!(this._imageCache.size<g.MIN_IMAGES_TO_CACHE||this._byteSize<g.MAX_BYTE_SIZE)}shouldCache(f,E){let A=this._refCache.get(f);return A||(A=new Set,this._refCache.put(f,A)),A.add(E),!(A.size<g.NUM_PAGES_THRESHOLD||!this._imageCache.has(f)&&this._cacheLimitReached)}addByteSize(f,E){const A=this._imageCache.get(f);!A||A.byteSize||(A.byteSize=E)}getData(f,E){const A=this._refCache.get(f);if(!A||A.size<g.NUM_PAGES_THRESHOLD)return null;const O=this._imageCache.get(f);return O?(A.add(E),O):null}setData(f,E){if(!this._refCache.has(f))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(f)){if(this._cacheLimitReached){(0,i.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(f,E)}}clear(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||this._refCache.clear(),this._imageCache.clear()}};let b=g;Ct(b,"NUM_PAGES_THRESHOLD",2),Ct(b,"MIN_IMAGES_TO_CACHE",10),Ct(b,"MAX_BYTE_SIZE",5*i.MAX_IMAGE_SIZE_TO_CACHE),o.GlobalImageCache=b},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.bidi=w;var i=s(145);const l=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],d=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(f){return(f&1)!==0}function r(f){return(f&1)===0}function p(f,E,A){let O,T;for(O=E,T=f.length;O<T;++O)if(f[O]!==A)return O;return O}function x(f,E,A,O){for(let T=E;T<A;++T)f[T]=O}function y(f,E,A){for(let O=E,T=A-1;O<T;++O,--T){const D=f[O];f[O]=f[T],f[T]=D}}function v(f,E){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O="ltr";return A?O="ttb":E||(O="rtl"),{str:f,dir:O}}const b=[],g=[];function w(f){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=!0;const T=f.length;if(T===0||A)return v(f,O,A);b.length=T,g.length=T;let D=0,F,C;for(F=0;F<T;++F){b[F]=f.charAt(F);const _=f.charCodeAt(F);let V="L";_<=255?V=l[_]:1424<=_&&_<=1524?V="R":1536<=_&&_<=1791?(V=d[_&255],V||(0,i.warn)("Bidi: invalid Unicode character "+_.toString(16))):(1792<=_&&_<=2220||64336<=_&&_<=65023||65136<=_&&_<=65279)&&(V="AL"),(V==="R"||V==="AL"||V==="AN")&&D++,g[F]=V}if(D===0)return O=!0,v(f,O);E===-1&&(D/T<.3&&T>4?(O=!0,E=0):(O=!1,E=1));const B=[];for(F=0;F<T;++F)B[F]=E;const M=e(E)?"R":"L",I=M,W=I;let J=I;for(F=0;F<T;++F)g[F]==="NSM"?g[F]=J:J=g[F];J=I;let H;for(F=0;F<T;++F)H=g[F],H==="EN"?g[F]=J==="AL"?"AN":"EN":(H==="R"||H==="L"||H==="AL")&&(J=H);for(F=0;F<T;++F)H=g[F],H==="AL"&&(g[F]="R");for(F=1;F<T-1;++F)g[F]==="ES"&&g[F-1]==="EN"&&g[F+1]==="EN"&&(g[F]="EN"),g[F]==="CS"&&(g[F-1]==="EN"||g[F-1]==="AN")&&g[F+1]===g[F-1]&&(g[F]=g[F-1]);for(F=0;F<T;++F)if(g[F]==="EN"){for(let _=F-1;_>=0&&g[_]==="ET";--_)g[_]="EN";for(let _=F+1;_<T&&g[_]==="ET";++_)g[_]="EN"}for(F=0;F<T;++F)H=g[F],(H==="WS"||H==="ES"||H==="ET"||H==="CS")&&(g[F]="ON");for(J=I,F=0;F<T;++F)H=g[F],H==="EN"?g[F]=J==="L"?"L":"EN":(H==="R"||H==="L")&&(J=H);for(F=0;F<T;++F)if(g[F]==="ON"){const _=p(g,F+1,"ON");let V=I;F>0&&(V=g[F-1]);let Z=W;_+1<T&&(Z=g[_+1]),V!=="L"&&(V="R"),Z!=="L"&&(Z="R"),V===Z&&x(g,F,_,V),F=_-1}for(F=0;F<T;++F)g[F]==="ON"&&(g[F]=M);for(F=0;F<T;++F)H=g[F],r(B[F])?H==="R"?B[F]+=1:(H==="AN"||H==="EN")&&(B[F]+=2):(H==="L"||H==="AN"||H==="EN")&&(B[F]+=1);let N=-1,U=99,Y;for(F=0,C=B.length;F<C;++F)Y=B[F],N<Y&&(N=Y),U>Y&&e(Y)&&(U=Y);for(Y=N;Y>=U;--Y){let _=-1;for(F=0,C=B.length;F<C;++F)B[F]<Y?_>=0&&(y(b,_,F),_=-1):_<0&&(_=F);_>=0&&y(b,_,B.length)}for(F=0,C=b.length;F<C;++F){const _=b[F];(_==="<"||_===">")&&(b[F]="")}return v(b.join(""),O)}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFontSubstitution=g,s(140);var i=s(189),l=s(150);const d={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},r={style:"italic",weight:"normal"},p={style:"italic",weight:"bold"},x=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:d,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:r,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:p,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:d,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:r,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:p,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:d,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:r,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:p,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:d,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:r,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:p,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:d,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:r,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:p,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:d}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),y=new Map([["Arial-Black","ArialBlack"]]);function v(w){switch(w){case e:return"Bold";case r:return"Italic";case p:return"Bold Italic";default:if((w==null?void 0:w.weight)==="bold")return"Bold";if((w==null?void 0:w.style)==="italic")return"Italic"}return""}function b(w,f,E){let{alias:A,local:O,path:T,fallback:D,style:F,ultimate:C}=w,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"";const W={style:null,ultimate:null};if(O){const J=I?` ${I}`:"";for(const H of O)f.push(`local(${H}${J})`)}if(A){const J=x.get(A),H=I||v(F);Object.assign(W,b(J,f,E,B&&!D,M&&!T,H))}if(F&&(W.style=F),C&&(W.ultimate=C),B&&D){const J=x.get(D),{ultimate:H}=b(J,f,E,B,M&&!T,I);W.ultimate||(W.ultimate=H)}return M&&T&&E&&f.push(`url(${E}${T})`),W}function g(w,f,E,A,O){A=(0,i.normalizeFontName)(A);const T=A;let D=w.get(T);if(D)return D;let F=x.get(A);if(!F){for(const[N,U]of y)if(A.startsWith(N)){A=`${U}${A.substring(N.length)}`,F=x.get(A);break}}let C=!1;F||(F=x.get(O),C=!0);const B=`${f.getDocId()}_s${f.createFontId()}`;if(!F){if(!(0,l.validateFontName)(A))return w.set(T,null),null;const N=/bold/gi.test(A),U=/oblique|italic/gi.test(A),Y=N&&U&&p||N&&e||U&&r||d;return D={css:B,guessFallback:!0,loadedName:B,baseFontName:A,src:`local(${A})`,style:Y},w.set(T,D),D}const M=[];C&&(0,l.validateFontName)(A)&&M.push(`local(${A})`);const{style:I,ultimate:W}=b(F,M,E),J=W===null,H=J?"":`,${W}`;return D={css:`${B}${H}`,guessFallback:J,loadedName:B,baseFontName:A,src:M.join(","),style:I},w.set(T,D),D}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ImageResizer=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(2);var i=s(145);const l=2048,d=65537,e=128;class r{constructor(x,y){this._imgData=x,this._isMask=y}static needsToBeResized(x,y){if(x<=this._goodSquareLength&&y<=this._goodSquareLength)return!1;const{MAX_DIM:v}=this;if(x>v||y>v)return!0;const b=x*y;if(this._hasMaxArea)return b>this.MAX_AREA;if(b<this._goodSquareLength**2)return!1;if(this._areGoodDims(x,y))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(x*y))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,v,e,0);const g=this.MAX_AREA=this._goodSquareLength**2;return b>g}static get MAX_DIM(){return(0,i.shadow)(this,"MAX_DIM",this._guessMax(l,d,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,i.shadow)(this,"MAX_AREA",this._guessMax(r._goodSquareLength,this.MAX_DIM,e,0)**2)}static set MAX_AREA(x){x>=0&&(this._hasMaxArea=!0,(0,i.shadow)(this,"MAX_AREA",x))}static setMaxArea(x){this._hasMaxArea||(this.MAX_AREA=x>>2)}static _areGoodDims(x,y){try{const v=new OffscreenCanvas(x,y),b=v.getContext("2d");b.fillRect(0,0,1,1);const g=b.getImageData(0,0,1,1).data[3];return v.width=v.height=1,g!==0}catch{return!1}}static _guessMax(x,y,v,b){for(;x+v+1<y;){const g=Math.floor((x+y)/2),w=b||g;this._areGoodDims(g,w)?x=g:y=g}return x}static async createImage(x){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new r(x,y)._createImage()}async _createImage(){const x=this._encodeBMP(),y=new Blob([x.buffer],{type:"image/bmp"}),v=createImageBitmap(y),{MAX_AREA:b,MAX_DIM:g}=r,{_imgData:w}=this,{width:f,height:E}=w,A=Math.max(f/g,E/g,Math.sqrt(f*E/b)),O=Math.max(A,2),T=Math.round(10*(A+1.25))/10/O,D=Math.floor(Math.log2(T)),F=new Array(D+2).fill(2);F[0]=O,F.splice(-1,1,T/(1<<D));let C=f,B=E,M=await v;for(const I of F){const W=C,J=B;C=Math.floor(C/I)-1,B=Math.floor(B/I)-1;const H=new OffscreenCanvas(C,B);H.getContext("2d").drawImage(M,0,0,W,J,0,0,C,B),M=H.transferToImageBitmap()}return w.data=null,w.bitmap=M,w.width=C,w.height=B,w}_encodeBMP(){const{width:x,height:y,kind:v}=this._imgData;let b=this._imgData.data,g,w=new Uint8Array(0),f=w,E=0;switch(v){case i.ImageKind.GRAYSCALE_1BPP:{g=1,w=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const B=x+7>>3,M=B+3&-4;if(B!==M){const I=new Uint8Array(M*y);let W=0;for(let J=0,H=y*B;J<H;J+=B,W+=M)I.set(b.subarray(J,J+B),W);b=I}break}case i.ImageKind.RGB_24BPP:{if(g=24,x&3){const B=3*x,M=B+3&-4,I=M-B,W=new Uint8Array(M*y);let J=0;for(let H=0,N=y*B;H<N;H+=B){const U=b.subarray(H,H+B);for(let Y=0;Y<B;Y+=3)W[J++]=U[Y+2],W[J++]=U[Y+1],W[J++]=U[Y];J+=I}b=W}else for(let B=0,M=b.length;B<M;B+=3){const I=b[B];b[B]=b[B+2],b[B+2]=I}break}case i.ImageKind.RGBA_32BPP:g=32,E=3,f=new Uint8Array(68);const C=new DataView(f.buffer);i.FeatureTest.isLittleEndian?(C.setUint32(0,255,!0),C.setUint32(4,65280,!0),C.setUint32(8,16711680,!0),C.setUint32(12,4278190080,!0)):(C.setUint32(0,4278190080,!0),C.setUint32(4,16711680,!0),C.setUint32(8,65280,!0),C.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let A=0;const O=40+f.length,T=14+O+w.length+b.length,D=new Uint8Array(T),F=new DataView(D.buffer);return F.setUint16(A,19778,!0),A+=2,F.setUint32(A,T,!0),A+=4,F.setUint32(A,0,!0),A+=4,F.setUint32(A,14+O+w.length,!0),A+=4,F.setUint32(A,O,!0),A+=4,F.setInt32(A,x,!0),A+=4,F.setInt32(A,-y,!0),A+=4,F.setUint16(A,1,!0),A+=2,F.setUint16(A,g,!0),A+=2,F.setUint32(A,E,!0),A+=4,F.setUint32(A,0,!0),A+=4,F.setInt32(A,0,!0),A+=4,F.setInt32(A,0,!0),A+=4,F.setUint32(A,w.length/4,!0),A+=4,F.setUint32(A,0,!0),A+=4,D.set(f,A),A+=f.length,D.set(w,A),A+=w.length,D.set(b,A),D}}o.ImageResizer=r,r._goodSquareLength=l},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(2);var i=s(145);const l=3285377520,d=4294901760,e=65535;class r{constructor(x){this.h1=x?x&4294967295:l,this.h2=x?x&4294967295:l}update(x){let y,v;if(typeof x=="string"){y=new Uint8Array(x.length*2),v=0;for(let B=0,M=x.length;B<M;B++){const I=x.charCodeAt(B);I<=255?y[v++]=I:(y[v++]=I>>>8,y[v++]=I&255)}}else if((0,i.isArrayBuffer)(x))y=x.slice(),v=y.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const b=v>>2,g=v-b*4,w=new Uint32Array(y.buffer,0,b);let f=0,E=0,A=this.h1,O=this.h2;const T=3432918353,D=461845907,F=T&e,C=D&e;for(let B=0;B<b;B++)B&1?(f=w[B],f=f*T&d|f*F&e,f=f<<15|f>>>17,f=f*D&d|f*C&e,A^=f,A=A<<13|A>>>19,A=A*5+3864292196):(E=w[B],E=E*T&d|E*F&e,E=E<<15|E>>>17,E=E*D&d|E*C&e,O^=E,O=O<<13|O>>>19,O=O*5+3864292196);switch(f=0,g){case 3:f^=y[b*4+2]<<16;case 2:f^=y[b*4+1]<<8;case 1:f^=y[b*4],f=f*T&d|f*F&e,f=f<<15|f>>>17,f=f*D&d|f*C&e,b&1?A^=f:O^=f}this.h1=A,this.h2=O}hexdigest(){let x=this.h1,y=this.h2;return x^=y>>>1,x=x*3981806797&d|x*36045&e,y=y*4283543511&d|((y<<16|x>>>16)*2950163797&d)>>>16,x^=y>>>1,x=x*444984403&d|x*60499&e,y=y*3301882366&d|((y<<16|x>>>16)*3120437893&d)>>>16,x^=y>>>1,(x>>>0).toString(16).padStart(8,"0")+(y>>>0).toString(16).padStart(8,"0")}}o.MurmurHash3_64=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OperatorList=void 0,s(2),s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(116),s(127),s(129),s(132),s(134),s(136),s(138);var i=s(145);function l(y,v,b,g,w){let f=y;for(let E=0,A=v.length-1;E<A;E++){const O=v[E];f=f[O]||(f[O]=[])}f[v.at(-1)]={checkFn:b,iterateFn:g,processFn:w}}const d=[];l(d,[i.OPS.save,i.OPS.transform,i.OPS.paintInlineImageXObject,i.OPS.restore],null,function(v,b){const g=v.fnArray,w=v.iCurr-3,f=(b-w)%4;switch(f){case 0:return g[b]===i.OPS.save;case 1:return g[b]===i.OPS.transform;case 2:return g[b]===i.OPS.paintInlineImageXObject;case 3:return g[b]===i.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${f}`)},function(v,b){const A=v.fnArray,O=v.argsArray,T=v.iCurr,D=T-3,F=T-2,C=T-1,B=Math.min(Math.floor((b-D)/4),200);if(B<10)return b-(b-D)%4;let M=0;const I=[];let W=0,J=1,H=1;for(let Z=0;Z<B;Z++){const q=O[F+(Z<<2)],re=O[C+(Z<<2)][0];J+re.width>1e3&&(M=Math.max(M,J),H+=W+2,J=0,W=0),I.push({transform:q,x:J,y:H,w:re.width,h:re.height}),J+=re.width+2,W=Math.max(W,re.height)}const N=Math.max(M,J)+1,U=H+W+1,Y=new Uint8Array(N*U*4),_=N<<2;for(let Z=0;Z<B;Z++){const q=O[C+(Z<<2)][0].data,re=I[Z].w<<2;let oe=0,ae=I[Z].x+I[Z].y*N<<2;Y.set(q.subarray(0,re),ae-_);for(let R=0,S=I[Z].h;R<S;R++)Y.set(q.subarray(oe,oe+re),ae),oe+=re,ae+=_;for(Y.set(q.subarray(oe-re,oe),ae);ae>=0;)q[ae-4]=q[ae],q[ae-3]=q[ae+1],q[ae-2]=q[ae+2],q[ae-1]=q[ae+3],q[ae+re]=q[ae+re-4],q[ae+re+1]=q[ae+re-3],q[ae+re+2]=q[ae+re-2],q[ae+re+3]=q[ae+re-1],ae-=_}const V={width:N,height:U};if(v.isOffscreenCanvasSupported){const Z=new OffscreenCanvas(N,U);Z.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(Y.buffer),N,U),0,0),V.bitmap=Z.transferToImageBitmap(),V.data=null}else V.kind=i.ImageKind.RGBA_32BPP,V.data=Y;return A.splice(D,B*4,i.OPS.paintInlineImageXObjectGroup),O.splice(D,B*4,[V,I]),D+1}),l(d,[i.OPS.save,i.OPS.transform,i.OPS.paintImageMaskXObject,i.OPS.restore],null,function(v,b){const g=v.fnArray,w=v.iCurr-3,f=(b-w)%4;switch(f){case 0:return g[b]===i.OPS.save;case 1:return g[b]===i.OPS.transform;case 2:return g[b]===i.OPS.paintImageMaskXObject;case 3:return g[b]===i.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${f}`)},function(v,b){const E=v.fnArray,A=v.argsArray,O=v.iCurr,T=O-3,D=O-2,F=O-1;let C=Math.floor((b-T)/4);if(C<10)return b-(b-T)%4;let B=!1,M,I;const W=A[F][0],J=A[D][0],H=A[D][1],N=A[D][2],U=A[D][3];if(H===N){B=!0,M=D+4;let Y=F+4;for(let _=1;_<C;_++,M+=4,Y+=4)if(I=A[M],A[Y][0]!==W||I[0]!==J||I[1]!==H||I[2]!==N||I[3]!==U){_<10?B=!1:C=_;break}}if(B){C=Math.min(C,1e3);const Y=new Float32Array(C*2);M=D;for(let _=0;_<C;_++,M+=4)I=A[M],Y[_<<1]=I[4],Y[(_<<1)+1]=I[5];E.splice(T,C*4,i.OPS.paintImageMaskXObjectRepeat),A.splice(T,C*4,[W,J,H,N,U,Y])}else{C=Math.min(C,100);const Y=[];for(let _=0;_<C;_++){I=A[D+(_<<2)];const V=A[F+(_<<2)][0];Y.push({data:V.data,width:V.width,height:V.height,interpolate:V.interpolate,count:V.count,transform:I})}E.splice(T,C*4,i.OPS.paintImageMaskXObjectGroup),A.splice(T,C*4,[Y])}return T+1}),l(d,[i.OPS.save,i.OPS.transform,i.OPS.paintImageXObject,i.OPS.restore],function(y){const v=y.argsArray,b=y.iCurr-2;return v[b][1]===0&&v[b][2]===0},function(v,b){const g=v.fnArray,w=v.argsArray,f=v.iCurr-3,E=(b-f)%4;switch(E){case 0:return g[b]===i.OPS.save;case 1:if(g[b]!==i.OPS.transform)return!1;const A=v.iCurr-2,O=w[A][0],T=w[A][3];return!(w[b][0]!==O||w[b][1]!==0||w[b][2]!==0||w[b][3]!==T);case 2:if(g[b]!==i.OPS.paintImageXObject)return!1;const D=v.iCurr-1,F=w[D][0];return w[b][0]===F;case 3:return g[b]===i.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${E}`)},function(y,v){const w=y.fnArray,f=y.argsArray,E=y.iCurr,A=E-3,O=E-2,T=E-1,D=f[T][0],F=f[O][0],C=f[O][3],B=Math.min(Math.floor((v-A)/4),1e3);if(B<3)return v-(v-A)%4;const M=new Float32Array(B*2);let I=O;for(let J=0;J<B;J++,I+=4){const H=f[I];M[J<<1]=H[4],M[(J<<1)+1]=H[5]}const W=[D,F,C,M];return w.splice(A,B*4,i.OPS.paintImageXObjectRepeat),f.splice(A,B*4,W),A+1}),l(d,[i.OPS.beginText,i.OPS.setFont,i.OPS.setTextMatrix,i.OPS.showText,i.OPS.endText],null,function(v,b){const g=v.fnArray,w=v.argsArray,f=v.iCurr-4,E=(b-f)%5;switch(E){case 0:return g[b]===i.OPS.beginText;case 1:return g[b]===i.OPS.setFont;case 2:return g[b]===i.OPS.setTextMatrix;case 3:if(g[b]!==i.OPS.showText)return!1;const A=v.iCurr-3,O=w[A][0],T=w[A][1];return!(w[b][0]!==O||w[b][1]!==T);case 4:return g[b]===i.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${E}`)},function(y,v){const w=y.fnArray,f=y.argsArray,E=y.iCurr,A=E-4,O=E-3,T=E-2,D=E-1,F=E,C=f[O][0],B=f[O][1];let M=Math.min(Math.floor((v-A)/5),1e3);if(M<3)return v-(v-A)%5;let I=A;A>=4&&w[A-4]===w[O]&&w[A-3]===w[T]&&w[A-2]===w[D]&&w[A-1]===w[F]&&f[A-4][0]===C&&f[A-4][1]===B&&(M++,I-=5);let W=I+4;for(let J=1;J<M;J++)w.splice(W,3),f.splice(W,3),W+=2;return W+1});class e{constructor(v){this.queue=v}_optimize(){}push(v,b){this.queue.fnArray.push(v),this.queue.argsArray.push(b),this._optimize()}flush(){}reset(){}}class r extends e{constructor(v){super(v),this.state=null,this.context={iCurr:0,fnArray:v.fnArray,argsArray:v.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(v){this.context.isOffscreenCanvasSupported=v}_optimize(){const v=this.queue.fnArray;let b=this.lastProcessed,g=v.length,w=this.state,f=this.match;if(!w&&!f&&b+1===g&&!d[v[b]]){this.lastProcessed=g;return}const E=this.context;for(;b<g;){if(f){if((0,f.iterateFn)(E,b)){b++;continue}if(b=(0,f.processFn)(E,b+1),g=v.length,f=null,w=null,b>=g)break}if(w=(w||d)[v[b]],!w||Array.isArray(w)){b++;continue}if(E.iCurr=b,b++,w.checkFn&&!(0,w.checkFn)(E)){w=null;continue}f=w,w=null}this.state=w,this.match=f,this.lastProcessed=b}flush(){for(;this.match;){const v=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,v),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const x=class{constructor(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1?arguments[1]:void 0;this._streamSink=b,this.fnArray=[],this.argsArray=[],this.optimizer=b&&!(v&i.RenderingIntentFlag.OPLIST)?new r(this):new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=b?null:Promise.resolve()}set isOffscreenCanvasSupported(v){this.optimizer.isOffscreenCanvasSupported=v}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(v,b){this.optimizer.push(v,b),this.weight++,this._streamSink&&(this.weight>=x.CHUNK_SIZE?this.flush():this.weight>=x.CHUNK_SIZE_ABOUT&&(v===i.OPS.restore||v===i.OPS.endText)&&this.flush())}addImageOps(v,b,g){g!==void 0&&this.addOp(i.OPS.beginMarkedContentProps,["OC",g]),this.addOp(v,b),g!==void 0&&this.addOp(i.OPS.endMarkedContent,[])}addDependency(v){this.dependencies.has(v)||(this.dependencies.add(v),this.addOp(i.OPS.dependency,[v]))}addDependencies(v){for(const b of v)this.addDependency(b)}addOpList(v){if(!(v instanceof x)){(0,i.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const b of v.dependencies)this.dependencies.add(b);for(let b=0,g=v.length;b<g;b++)this.addOp(v.fnArray[b],v.argsArray[b])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var f;const v=[],{fnArray:b,argsArray:g,length:w}=this;for(let E=0;E<w;E++)switch(b[E]){case i.OPS.paintInlineImageXObject:case i.OPS.paintInlineImageXObjectGroup:case i.OPS.paintImageMaskXObject:const A=g[E][0];!A.cached&&((f=A.data)==null?void 0:f.buffer)instanceof ArrayBuffer&&v.push(A.data.buffer);break}return v}flush(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.optimizer.flush();const g=this.length;this._totalLength+=g,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:v,separateAnnots:b,length:g},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};let p=x;Ct(p,"CHUNK_SIZE",1e3),Ct(p,"CHUNK_SIZE_ABOUT",x.CHUNK_SIZE-5),o.OperatorList=p},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFImage=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(2);var i=s(145),l=s(179),d=s(152),e=s(163),r=s(169),p=s(213),x=s(177),y=s(181),v=s(151);function b(f,E,A,O){return f=E+f*A,f<0?f=0:f>O&&(f=O),f}function g(f,E,A,O,T,D){const F=T*D;let C;E<=8?C=new Uint8Array(F):E<=16?C=new Uint16Array(F):C=new Uint32Array(F);const B=A/T,M=O/D;let I,W,J,H=0,N;const U=new Uint16Array(T),Y=A;for(I=0;I<T;I++)U[I]=Math.floor(I*B);for(I=0;I<D;I++)for(J=Math.floor(I*M)*Y,W=0;W<T;W++)N=J+U[W],C[H++]=f[N];return C}class w{constructor(E){var _;let{xref:A,res:O,image:T,isInline:D=!1,smask:F=null,mask:C=null,isMask:B=!1,pdfFunctionFactory:M,localColorSpaceCache:I}=E;this.image=T;const W=T.dict,J=W.get("F","Filter");let H;if(J instanceof v.Name)H=J.name;else if(Array.isArray(J)){const V=A.fetchIfRef(J[0]);V instanceof v.Name&&(H=V.name)}switch(H){case"JPXDecode":const V=new y.JpxImage;V.parseImageProperties(T.stream),T.stream.reset(),T.width=V.width,T.height=V.height,T.bitsPerComponent=V.bitsPerComponent,T.numComps=V.componentsCount;break;case"JBIG2Decode":T.bitsPerComponent=1,T.numComps=1;break}let N=W.get("W","Width"),U=W.get("H","Height");if(Number.isInteger(T.width)&&T.width>0&&Number.isInteger(T.height)&&T.height>0&&(T.width!==N||T.height!==U)&&((0,i.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),N=T.width,U=T.height),N<1||U<1)throw new i.FormatError(`Invalid image width: ${N} or height: ${U}`);this.width=N,this.height=U,this.interpolate=W.get("I","Interpolate"),this.imageMask=W.get("IM","ImageMask")||!1,this.matte=W.get("Matte")||!1;let Y=T.bitsPerComponent;if(!Y&&(Y=W.get("BPC","BitsPerComponent"),!Y))if(this.imageMask)Y=1;else throw new i.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=Y,!this.imageMask){let V=W.getRaw("CS")||W.getRaw("ColorSpace");if(!V)switch((0,i.info)("JPX images (which do not require color spaces)"),T.numComps){case 1:V=v.Name.get("DeviceGray");break;case 3:V=v.Name.get("DeviceRGB");break;case 4:V=v.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${T.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:V,xref:A,resources:D?O:null,pdfFunctionFactory:M,localColorSpaceCache:I}),this.numComps=this.colorSpace.numComps}if(this.decode=W.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,Y)||B&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const V=(1<<Y)-1;this.decodeCoefficients=[],this.decodeAddends=[];const Z=((_=this.colorSpace)==null?void 0:_.name)==="Indexed";for(let q=0,re=0;q<this.decode.length;q+=2,++re){const oe=this.decode[q],ae=this.decode[q+1];this.decodeCoefficients[re]=Z?(ae-oe)/V:ae-oe,this.decodeAddends[re]=Z?oe:V*oe}}F?this.smask=new w({xref:A,res:O,image:F,isInline:D,pdfFunctionFactory:M,localColorSpaceCache:I}):C&&(C instanceof d.BaseStream?C.dict.get("IM","ImageMask")?this.mask=new w({xref:A,res:O,image:C,isInline:D,isMask:!0,pdfFunctionFactory:M,localColorSpaceCache:I}):(0,i.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=C)}static async buildImage(E){let{xref:A,res:O,image:T,isInline:D=!1,pdfFunctionFactory:F,localColorSpaceCache:C}=E;const B=T;let M=null,I=null;const W=T.dict.get("SMask"),J=T.dict.get("Mask");return W?W instanceof d.BaseStream?M=W:(0,i.warn)("Unsupported /SMask format."):J&&(J instanceof d.BaseStream||Array.isArray(J)?I=J:(0,i.warn)("Unsupported /Mask format.")),new w({xref:A,res:O,image:B,isInline:D,smask:M,mask:I,pdfFunctionFactory:F,localColorSpaceCache:C})}static createRawMask(E){let{imgArray:A,width:O,height:T,imageIsFromDecodeStream:D,inverseDecode:F,interpolate:C}=E;const B=(O+7>>3)*T,M=A.byteLength,I=B===M;let W,J;if(D&&(!F||I)?W=A:F?(W=new Uint8Array(B),W.set(A),W.fill(255,M)):W=new Uint8Array(A),F)for(J=0;J<M;J++)W[J]^=255;return{data:W,width:O,height:T,interpolate:C}}static async createMask(E){let{imgArray:A,width:O,height:T,imageIsFromDecodeStream:D,inverseDecode:F,interpolate:C,isOffscreenCanvasSupported:B=!1}=E;const M=O===1&&T===1&&F===(A.length===0||!!(A[0]&128));if(M)return{isSingleOpaquePixel:M};if(B){if(p.ImageResizer.needsToBeResized(O,T)){const N=new Uint8ClampedArray(O*T*4);return(0,l.convertBlackAndWhiteToRGBA)({src:A,dest:N,width:O,height:T,nonBlackColor:0,inverseDecode:F}),p.ImageResizer.createImage({kind:i.ImageKind.RGBA_32BPP,data:N,width:O,height:T,interpolate:C})}const I=new OffscreenCanvas(O,T),W=I.getContext("2d"),J=W.createImageData(O,T);(0,l.convertBlackAndWhiteToRGBA)({src:A,dest:J.data,width:O,height:T,nonBlackColor:0,inverseDecode:F}),W.putImageData(J,0,0);const H=I.transferToImageBitmap();return{data:null,width:O,height:T,interpolate:C,bitmap:H}}return this.createRawMask({imgArray:A,width:O,height:T,inverseDecode:F,imageIsFromDecodeStream:D,interpolate:C})}get drawWidth(){var E,A;return Math.max(this.width,((E=this.smask)==null?void 0:E.width)||0,((A=this.mask)==null?void 0:A.width)||0)}get drawHeight(){var E,A;return Math.max(this.height,((E=this.smask)==null?void 0:E.height)||0,((A=this.mask)==null?void 0:A.height)||0)}decodeBuffer(E){const A=this.bpc,O=this.numComps,T=this.decodeAddends,D=this.decodeCoefficients,F=(1<<A)-1;let C,B;if(A===1){for(C=0,B=E.length;C<B;C++)E[C]=+!E[C];return}let M=0;for(C=0,B=this.width*this.height;C<B;C++)for(let I=0;I<O;I++)E[M]=b(E[M],T[I],D[I],F),M++}getComponents(E){const A=this.bpc;if(A===8)return E;const O=this.width,T=this.height,D=this.numComps,F=O*T*D;let C=0,B;A<=8?B=new Uint8Array(F):A<=16?B=new Uint16Array(F):B=new Uint32Array(F);const M=O*D,I=(1<<A)-1;let W=0,J,H;if(A===1){let N,U,Y;for(let _=0;_<T;_++){for(U=W+(M&-8),Y=W+M;W<U;)H=E[C++],B[W]=H>>7&1,B[W+1]=H>>6&1,B[W+2]=H>>5&1,B[W+3]=H>>4&1,B[W+4]=H>>3&1,B[W+5]=H>>2&1,B[W+6]=H>>1&1,B[W+7]=H&1,W+=8;if(W<Y)for(H=E[C++],N=128;W<Y;)B[W++]=+!!(H&N),N>>=1}}else{let N=0;for(H=0,W=0,J=F;W<J;++W){for(W%M===0&&(H=0,N=0);N<A;)H=H<<8|E[C++],N+=8;const U=N-A;let Y=H>>U;Y<0?Y=0:Y>I&&(Y=I),B[W]=Y,H&=(1<<U)-1,N=U}}return B}fillOpacity(E,A,O,T,D){const F=this.smask,C=this.mask;let B,M,I,W,J,H;if(F)M=F.width,I=F.height,B=new Uint8ClampedArray(M*I),F.fillGrayBuffer(B),(M!==A||I!==O)&&(B=g(B,F.bpc,M,I,A,O));else if(C)if(C instanceof w){for(M=C.width,I=C.height,B=new Uint8ClampedArray(M*I),C.numComps=1,C.fillGrayBuffer(B),W=0,J=M*I;W<J;++W)B[W]=255-B[W];(M!==A||I!==O)&&(B=g(B,C.bpc,M,I,A,O))}else if(Array.isArray(C)){B=new Uint8ClampedArray(A*O);const N=this.numComps;for(W=0,J=A*O;W<J;++W){let U=0;const Y=W*N;for(H=0;H<N;++H){const _=D[Y+H],V=H*2;if(_<C[V]||_>C[V+1]){U=255;break}}B[W]=U}}else throw new i.FormatError("Unknown mask format.");if(B)for(W=0,H=3,J=A*T;W<J;++W,H+=4)E[H]=B[W];else for(W=0,H=3,J=A*T;W<J;++W,H+=4)E[H]=255}undoPreblend(E,A,O){var I;const T=(I=this.smask)==null?void 0:I.matte;if(!T)return;const D=this.colorSpace.getRgb(T,0),F=D[0],C=D[1],B=D[2],M=A*O*4;for(let W=0;W<M;W+=4){const J=E[W+3];if(J===0){E[W]=255,E[W+1]=255,E[W+2]=255;continue}const H=255/J;E[W]=(E[W]-F)*H+F,E[W+1]=(E[W+1]-C)*H+C,E[W+2]=(E[W+2]-B)*H+B}}async createImageData(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const O=this.drawWidth,T=this.drawHeight,D={width:O,height:T,interpolate:this.interpolate,kind:0,data:null},F=this.numComps,C=this.width,B=this.height,M=this.bpc,I=C*F*M+7>>3,W=A&&p.ImageResizer.needsToBeResized(O,T);if(!E){let re;if(this.colorSpace.name==="DeviceGray"&&M===1?re=i.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&M===8&&!this.needsDecode&&(re=i.ImageKind.RGB_24BPP),re&&!this.smask&&!this.mask&&O===C&&T===B){const oe=this.getImageBytes(B*I,{});if(A)return W?p.ImageResizer.createImage({data:oe,kind:re,width:O,height:T,interpolate:this.interpolate},this.needsDecode):this.createBitmap(re,C,B,oe);if(D.kind=re,D.data=oe,this.needsDecode){(0,i.assert)(re===i.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const ae=D.data;for(let R=0,S=ae.length;R<S;R++)ae[R]^=255}return D}if(this.image instanceof x.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let oe=B*I;if(A&&!W){let ae=!1;switch(this.colorSpace.name){case"DeviceGray":oe*=4,ae=!0;break;case"DeviceRGB":oe=oe/3*4,ae=!0;break;case"DeviceCMYK":ae=!0;break}if(ae){const R=this.getImageBytes(oe,{drawWidth:O,drawHeight:T,forceRGBA:!0});return this.createBitmap(i.ImageKind.RGBA_32BPP,O,T,R)}}else switch(this.colorSpace.name){case"DeviceGray":oe*=3;case"DeviceRGB":case"DeviceCMYK":return D.kind=i.ImageKind.RGB_24BPP,D.data=this.getImageBytes(oe,{drawWidth:O,drawHeight:T,forceRGB:!0}),W?p.ImageResizer.createImage(D):D}}}const J=this.getImageBytes(B*I,{internal:!0}),H=0|J.length/I*T/B,N=this.getComponents(J);let U,Y,_,V,Z,q;if(A&&!W&&(_=new OffscreenCanvas(O,T),V=_.getContext("2d"),Z=V.createImageData(O,T),q=Z.data),D.kind=i.ImageKind.RGBA_32BPP,!E&&!this.smask&&!this.mask?(!A||W?(D.kind=i.ImageKind.RGB_24BPP,q=new Uint8ClampedArray(O*T*3),U=0):(new Uint32Array(q.buffer).fill(i.FeatureTest.isLittleEndian?4278190080:255),U=1),Y=!1):((!A||W)&&(q=new Uint8ClampedArray(O*T*4)),U=1,Y=!0,this.fillOpacity(q,O,T,H,N)),this.needsDecode&&this.decodeBuffer(N),this.colorSpace.fillRgb(q,C,B,O,T,H,M,N,U),Y&&this.undoPreblend(q,O,H),A&&!W){V.putImageData(Z,0,0);const re=_.transferToImageBitmap();return{data:null,width:O,height:T,bitmap:re,interpolate:this.interpolate}}return D.data=q,W?p.ImageResizer.createImage(D):D}fillGrayBuffer(E){const A=this.numComps;if(A!==1)throw new i.FormatError(`Reading gray scale from a color image: ${A}`);const O=this.width,T=this.height,D=this.bpc,F=O*A*D+7>>3,C=this.getImageBytes(T*F,{internal:!0}),B=this.getComponents(C);let M,I;if(D===1){if(I=O*T,this.needsDecode)for(M=0;M<I;++M)E[M]=B[M]-1&255;else for(M=0;M<I;++M)E[M]=-B[M]&255;return}this.needsDecode&&this.decodeBuffer(B),I=O*T;const W=255/((1<<D)-1);for(M=0;M<I;++M)E[M]=W*B[M]}createBitmap(E,A,O,T){const D=new OffscreenCanvas(A,O),F=D.getContext("2d");let C;E===i.ImageKind.RGBA_32BPP?C=new ImageData(T,A,O):(C=F.createImageData(A,O),(0,l.convertToRGBA)({kind:E,src:T,dest:new Uint32Array(C.data.buffer),width:A,height:O,inverseDecode:this.needsDecode})),F.putImageData(C,0,0);const B=D.transferToImageBitmap();return{data:null,width:A,height:O,bitmap:B,interpolate:this.interpolate}}getImageBytes(E,A){let{drawWidth:O,drawHeight:T,forceRGBA:D=!1,forceRGB:F=!1,internal:C=!1}=A;this.image.reset(),this.image.drawWidth=O||this.width,this.image.drawHeight=T||this.height,this.image.forceRGBA=!!D,this.image.forceRGB=!!F;const B=this.image.getBytes(E);return C||this.image instanceof r.DecodeStream?B:((0,i.assert)(B instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(B))}}o.PDFImage=w},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Catalog=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140),s(2);var i=s(150),l=s(145),d=s(151),e=s(218),r=s(152),p=s(219),x=s(163),y=s(220),v=s(210),b=s(221),g=s(223);function w(E){return E instanceof d.Dict&&(E=E.get("D")),Array.isArray(E)?E:null}class f{constructor(A,O){if(this.pdfManager=A,this.xref=O,this._catDict=O.getCatalogObj(),!(this._catDict instanceof d.Dict))throw new l.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new d.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new v.GlobalImageCache,this.pageKidsCountCache=new d.RefSetCache,this.pageIndexCache=new d.RefSetCache,this.nonBlendModesSet=new d.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const A=this._catDict.get("Version");if(A instanceof d.Name){if(i.PDF_VERSION_REGEXP.test(A.name))return(0,l.shadow)(this,"version",A.name);(0,l.warn)(`Invalid PDF catalog version: ${A.name}`)}return(0,l.shadow)(this,"version",null)}get lang(){const A=this._catDict.get("Lang");return(0,l.shadow)(this,"lang",typeof A=="string"?(0,l.stringToPDFString)(A):null)}get needsRendering(){const A=this._catDict.get("NeedsRendering");return(0,l.shadow)(this,"needsRendering",typeof A=="boolean"?A:!1)}get collection(){let A=null;try{const O=this._catDict.get("Collection");O instanceof d.Dict&&O.size>0&&(A=O)}catch(O){if(O instanceof i.MissingDataException)throw O;(0,l.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,l.shadow)(this,"collection",A)}get acroForm(){let A=null;try{const O=this._catDict.get("AcroForm");O instanceof d.Dict&&O.size>0&&(A=O)}catch(O){if(O instanceof i.MissingDataException)throw O;(0,l.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,l.shadow)(this,"acroForm",A)}get acroFormRef(){const A=this._catDict.getRaw("AcroForm");return(0,l.shadow)(this,"acroFormRef",A instanceof d.Ref?A:null)}get metadata(){var T;const A=this._catDict.getRaw("Metadata");if(!(A instanceof d.Ref))return(0,l.shadow)(this,"metadata",null);let O=null;try{const D=this.xref.fetch(A,!((T=this.xref.encrypt)!=null&&T.encryptMetadata));if(D instanceof r.BaseStream&&D.dict instanceof d.Dict){const F=D.dict.get("Type"),C=D.dict.get("Subtype");if((0,d.isName)(F,"Metadata")&&(0,d.isName)(C,"XML")){const B=(0,l.stringToUTF8String)(D.getString());B&&(O=new b.MetadataParser(B).serializable)}}}catch(D){if(D instanceof i.MissingDataException)throw D;(0,l.info)(`Skipping invalid Metadata: "${D}".`)}return(0,l.shadow)(this,"metadata",O)}get markInfo(){let A=null;try{A=this._readMarkInfo()}catch(O){if(O instanceof i.MissingDataException)throw O;(0,l.warn)("Unable to read mark info.")}return(0,l.shadow)(this,"markInfo",A)}_readMarkInfo(){const A=this._catDict.get("MarkInfo");if(!(A instanceof d.Dict))return null;const O={Marked:!1,UserProperties:!1,Suspects:!1};for(const T in O){const D=A.get(T);typeof D=="boolean"&&(O[T]=D)}return O}get structTreeRoot(){let A=null;try{A=this._readStructTreeRoot()}catch(O){if(O instanceof i.MissingDataException)throw O;(0,l.warn)("Unable read to structTreeRoot info.")}return(0,l.shadow)(this,"structTreeRoot",A)}_readStructTreeRoot(){const A=this._catDict.getRaw("StructTreeRoot"),O=this.xref.fetchIfRef(A);if(!(O instanceof d.Dict))return null;const T=new g.StructTreeRoot(O,A);return T.init(),T}get toplevelPagesDict(){const A=this._catDict.get("Pages");if(!(A instanceof d.Dict))throw new l.FormatError("Invalid top-level pages dictionary.");return(0,l.shadow)(this,"toplevelPagesDict",A)}get documentOutline(){let A=null;try{A=this._readDocumentOutline()}catch(O){if(O instanceof i.MissingDataException)throw O;(0,l.warn)("Unable to read document outline.")}return(0,l.shadow)(this,"documentOutline",A)}_readDocumentOutline(){let A=this._catDict.get("Outlines");if(!(A instanceof d.Dict)||(A=A.getRaw("First"),!(A instanceof d.Ref)))return null;const O={items:[]},T=[{obj:A,parent:O}],D=new d.RefSet;D.put(A);const F=this.xref,C=new Uint8ClampedArray(3);for(;T.length>0;){const B=T.shift(),M=F.fetchIfRef(B.obj);if(M===null)continue;if(!M.has("Title"))throw new l.FormatError("Invalid outline item encountered.");const I={url:null,dest:null,action:null};f.parseDestDictionary({destDict:M,resultObj:I,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const W=M.get("Title"),J=M.get("F")||0,H=M.getArray("C"),N=M.get("Count");let U=C;Array.isArray(H)&&H.length===3&&(H[0]!==0||H[1]!==0||H[2]!==0)&&(U=x.ColorSpace.singletons.rgb.getRgb(H,0));const Y={action:I.action,attachment:I.attachment,dest:I.dest,url:I.url,unsafeUrl:I.unsafeUrl,newWindow:I.newWindow,setOCGState:I.setOCGState,title:(0,l.stringToPDFString)(W),color:U,count:Number.isInteger(N)?N:void 0,bold:!!(J&2),italic:!!(J&1),items:[]};B.parent.items.push(Y),A=M.getRaw("First"),A instanceof d.Ref&&!D.has(A)&&(T.push({obj:A,parent:Y}),D.put(A)),A=M.getRaw("Next"),A instanceof d.Ref&&!D.has(A)&&(T.push({obj:A,parent:B.parent}),D.put(A))}return O.items.length>0?O.items:null}get permissions(){let A=null;try{A=this._readPermissions()}catch(O){if(O instanceof i.MissingDataException)throw O;(0,l.warn)("Unable to read permissions.")}return(0,l.shadow)(this,"permissions",A)}_readPermissions(){const A=this.xref.trailer.get("Encrypt");if(!(A instanceof d.Dict))return null;let O=A.get("P");if(typeof O!="number")return null;O+=4294967296;const T=[];for(const D in l.PermissionFlag){const F=l.PermissionFlag[D];O&F&&T.push(F)}return T}get optionalContentConfig(){let A=null;try{const O=this._catDict.get("OCProperties");if(!O)return(0,l.shadow)(this,"optionalContentConfig",null);const T=O.get("D");if(!T)return(0,l.shadow)(this,"optionalContentConfig",null);const D=O.get("OCGs");if(!Array.isArray(D))return(0,l.shadow)(this,"optionalContentConfig",null);const F=[],C=[];for(const B of D){if(!(B instanceof d.Ref))continue;C.push(B);const M=this.xref.fetchIfRef(B);F.push({id:B.toString(),name:typeof M.get("Name")=="string"?(0,l.stringToPDFString)(M.get("Name")):null,intent:typeof M.get("Intent")=="string"?(0,l.stringToPDFString)(M.get("Intent")):null})}A=this._readOptionalContentConfig(T,C),A.groups=F}catch(O){if(O instanceof i.MissingDataException)throw O;(0,l.warn)(`Unable to read optional content config: ${O}`)}return(0,l.shadow)(this,"optionalContentConfig",A)}_readOptionalContentConfig(A,O){function T(I){const W=[];if(Array.isArray(I))for(const J of I)J instanceof d.Ref&&O.includes(J)&&W.push(J.toString());return W}function D(I){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Array.isArray(I))return null;const J=[];for(const N of I){if(N instanceof d.Ref&&O.includes(N)){B.put(N),J.push(N.toString());continue}const U=F(N,W);U&&J.push(U)}if(W>0)return J;const H=[];for(const N of O)B.has(N)||H.push(N.toString());return H.length&&J.push({name:null,order:H}),J}function F(I,W){if(++W>M)return(0,l.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const J=C.fetchIfRef(I);if(!Array.isArray(J))return null;const H=C.fetchIfRef(J[0]);if(typeof H!="string")return null;const N=D(J.slice(1),W);return!N||!N.length?null:{name:(0,l.stringToPDFString)(H),order:N}}const C=this.xref,B=new d.RefSet,M=10;return{name:typeof A.get("Name")=="string"?(0,l.stringToPDFString)(A.get("Name")):null,creator:typeof A.get("Creator")=="string"?(0,l.stringToPDFString)(A.get("Creator")):null,baseState:A.get("BaseState")instanceof d.Name?A.get("BaseState").name:null,on:T(A.get("ON")),off:T(A.get("OFF")),order:D(A.get("Order")),groups:null}}setActualNumPages(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._actualNumPages=A}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const A=this.toplevelPagesDict.get("Count");if(!Number.isInteger(A))throw new l.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,l.shadow)(this,"_pagesCount",A)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const A=this._readDests(),O=Object.create(null);if(A instanceof e.NameTree)for(const[T,D]of A.getAll()){const F=w(D);F&&(O[(0,l.stringToPDFString)(T)]=F)}else A instanceof d.Dict&&A.forEach(function(T,D){const F=w(D);F&&(O[T]=F)});return(0,l.shadow)(this,"destinations",O)}getDestination(A){const O=this._readDests();if(O instanceof e.NameTree){const T=w(O.get(A));if(T)return T;const D=this.destinations[A];if(D)return(0,l.warn)(`Found "${A}" at an incorrect position in the NameTree.`),D}else if(O instanceof d.Dict){const T=w(O.get(A));if(T)return T}return null}_readDests(){const A=this._catDict.get("Names");if(A!=null&&A.has("Dests"))return new e.NameTree(A.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let A=null;try{A=this._readPageLabels()}catch(O){if(O instanceof i.MissingDataException)throw O;(0,l.warn)("Unable to read page labels.")}return(0,l.shadow)(this,"pageLabels",A)}_readPageLabels(){const A=this._catDict.getRaw("PageLabels");if(!A)return null;const O=new Array(this.numPages);let T=null,D="";const C=new e.NumberTree(A,this.xref).getAll();let B="",M=1;for(let I=0,W=this.numPages;I<W;I++){const J=C.get(I);if(J!==void 0){if(!(J instanceof d.Dict))throw new l.FormatError("PageLabel is not a dictionary.");if(J.has("Type")&&!(0,d.isName)(J.get("Type"),"PageLabel"))throw new l.FormatError("Invalid type in PageLabel dictionary.");if(J.has("S")){const H=J.get("S");if(!(H instanceof d.Name))throw new l.FormatError("Invalid style in PageLabel dictionary.");T=H.name}else T=null;if(J.has("P")){const H=J.get("P");if(typeof H!="string")throw new l.FormatError("Invalid prefix in PageLabel dictionary.");D=(0,l.stringToPDFString)(H)}else D="";if(J.has("St")){const H=J.get("St");if(!(Number.isInteger(H)&&H>=1))throw new l.FormatError("Invalid start in PageLabel dictionary.");M=H}else M=1}switch(T){case"D":B=M;break;case"R":case"r":B=(0,i.toRomanNumerals)(M,T==="r");break;case"A":case"a":const H=26,Y=T==="a"?97:65,_=M-1;B=String.fromCharCode(Y+_%H).repeat(Math.floor(_/H)+1);break;default:if(T)throw new l.FormatError(`Invalid style "${T}" in PageLabel dictionary.`);B=""}O[I]=D+B,M++}return O}get pageLayout(){const A=this._catDict.get("PageLayout");let O="";if(A instanceof d.Name)switch(A.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":O=A.name}return(0,l.shadow)(this,"pageLayout",O)}get pageMode(){const A=this._catDict.get("PageMode");let O="UseNone";if(A instanceof d.Name)switch(A.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":O=A.name}return(0,l.shadow)(this,"pageMode",O)}get viewerPreferences(){const A=this._catDict.get("ViewerPreferences");if(!(A instanceof d.Dict))return(0,l.shadow)(this,"viewerPreferences",null);let O=null;for(const T of A.getKeys()){const D=A.get(T);let F;switch(T){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof D=="boolean"&&(F=D);break;case"NonFullScreenPageMode":if(D instanceof d.Name)switch(D.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":F=D.name;break;default:F="UseNone"}break;case"Direction":if(D instanceof d.Name)switch(D.name){case"L2R":case"R2L":F=D.name;break;default:F="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(D instanceof d.Name)switch(D.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":F=D.name;break;default:F="CropBox"}break;case"PrintScaling":if(D instanceof d.Name)switch(D.name){case"None":case"AppDefault":F=D.name;break;default:F="AppDefault"}break;case"Duplex":if(D instanceof d.Name)switch(D.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":F=D.name;break;default:F="None"}break;case"PrintPageRange":Array.isArray(D)&&D.length%2===0&&D.every((B,M,I)=>Number.isInteger(B)&&B>0&&(M===0||B>=I[M-1])&&B<=this.numPages)&&(F=D);break;case"NumCopies":Number.isInteger(D)&&D>0&&(F=D);break;default:(0,l.warn)(`Ignoring non-standard key in ViewerPreferences: ${T}.`);continue}if(F===void 0){(0,l.warn)(`Bad value, for key "${T}", in ViewerPreferences: ${D}.`);continue}O||(O=Object.create(null)),O[T]=F}return(0,l.shadow)(this,"viewerPreferences",O)}get openAction(){const A=this._catDict.get("OpenAction"),O=Object.create(null);if(A instanceof d.Dict){const T=new d.Dict(this.xref);T.set("A",A);const D={url:null,dest:null,action:null};f.parseDestDictionary({destDict:T,resultObj:D}),Array.isArray(D.dest)?O.dest=D.dest:D.action&&(O.action=D.action)}else Array.isArray(A)&&(O.dest=A);return(0,l.shadow)(this,"openAction",(0,l.objectSize)(O)>0?O:null)}get attachments(){const A=this._catDict.get("Names");let O=null;if(A instanceof d.Dict&&A.has("EmbeddedFiles")){const T=new e.NameTree(A.getRaw("EmbeddedFiles"),this.xref);for(const[D,F]of T.getAll()){const C=new y.FileSpec(F,this.xref);O||(O=Object.create(null)),O[(0,l.stringToPDFString)(D)]=C.serializable}}return(0,l.shadow)(this,"attachments",O)}get xfaImages(){const A=this._catDict.get("Names");let O=null;if(A instanceof d.Dict&&A.has("XFAImages")){const T=new e.NameTree(A.getRaw("XFAImages"),this.xref);for(const[D,F]of T.getAll())O||(O=new d.Dict(this.xref)),O.set((0,l.stringToPDFString)(D),F)}return(0,l.shadow)(this,"xfaImages",O)}_collectJavaScript(){const A=this._catDict.get("Names");let O=null;function T(F,C){if(!(C instanceof d.Dict)||!(0,d.isName)(C.get("S"),"JavaScript"))return;let B=C.get("JS");if(B instanceof r.BaseStream)B=B.getString();else if(typeof B!="string")return;B=(0,l.stringToPDFString)(B).replaceAll("\0",""),B&&(O||(O=new Map)).set(F,B)}if(A instanceof d.Dict&&A.has("JavaScript")){const F=new e.NameTree(A.getRaw("JavaScript"),this.xref);for(const[C,B]of F.getAll())T((0,l.stringToPDFString)(C),B)}const D=this._catDict.get("OpenAction");return D&&T("OpenAction",D),O}get jsActions(){const A=this._collectJavaScript();let O=(0,i.collectActions)(this.xref,this._catDict,l.DocumentActionEventType);if(A){O||(O=Object.create(null));for(const[T,D]of A)T in O?O[T].push(D):O[T]=[D]}return(0,l.shadow)(this,"jsActions",O)}async fontFallback(A,O){const T=await Promise.all(this.fontCache);for(const D of T)if(D.loadedName===A){D.fallback(O);return}}async cleanup(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(0,p.clearGlobalCaches)(),this.globalImageCache.clear(A),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const O=await Promise.all(this.fontCache);for(const{dict:T}of O)delete T.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(A){const O=[this.toplevelPagesDict],T=new d.RefSet,D=this._catDict.getRaw("Pages");D instanceof d.Ref&&T.put(D);const F=this.xref,C=this.pageKidsCountCache,B=this.pageIndexCache;let M=0;for(;O.length;){const I=O.pop();if(I instanceof d.Ref){const N=C.get(I);if(N>=0&&M+N<=A){M+=N;continue}if(T.has(I))throw new l.FormatError("Pages tree contains circular reference.");T.put(I);const U=await F.fetchAsync(I);if(U instanceof d.Dict){let Y=U.getRaw("Type");if(Y instanceof d.Ref&&(Y=await F.fetchAsync(Y)),(0,d.isName)(Y,"Page")||!U.has("Kids")){if(C.has(I)||C.put(I,1),B.has(I)||B.put(I,M),M===A)return[U,I];M++;continue}}O.push(U);continue}if(!(I instanceof d.Dict))throw new l.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:W}=I;let J=I.getRaw("Count");if(J instanceof d.Ref&&(J=await F.fetchAsync(J)),Number.isInteger(J)&&J>=0&&(W&&!C.has(W)&&C.put(W,J),M+J<=A)){M+=J;continue}let H=I.getRaw("Kids");if(H instanceof d.Ref&&(H=await F.fetchAsync(H)),!Array.isArray(H)){let N=I.getRaw("Type");if(N instanceof d.Ref&&(N=await F.fetchAsync(N)),(0,d.isName)(N,"Page")||!I.has("Kids")){if(M===A)return[I,null];M++;continue}throw new l.FormatError("Page dictionary kids object is not an array.")}for(let N=H.length-1;N>=0;N--)O.push(H[N])}throw new Error(`Page index ${A} not found.`)}async getAllPageDicts(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{ignoreErrors:O}=this.pdfManager.evaluatorOptions,T=[{currentNode:this.toplevelPagesDict,posInKids:0}],D=new d.RefSet,F=this._catDict.getRaw("Pages");F instanceof d.Ref&&D.put(F);const C=new Map,B=this.xref,M=this.pageIndexCache;let I=0;function W(H,N){N&&!M.has(N)&&M.put(N,I),C.set(I++,[H,N])}function J(H){if(H instanceof i.XRefEntryException&&!A)throw H;A&&O&&I===0&&((0,l.warn)(`getAllPageDicts - Skipping invalid first page: "${H}".`),H=d.Dict.empty),C.set(I++,[H,null])}for(;T.length>0;){const H=T.at(-1),{currentNode:N,posInKids:U}=H;let Y=N.getRaw("Kids");if(Y instanceof d.Ref)try{Y=await B.fetchAsync(Y)}catch(q){J(q);break}if(!Array.isArray(Y)){J(new l.FormatError("Page dictionary kids object is not an array."));break}if(U>=Y.length){T.pop();continue}const _=Y[U];let V;if(_ instanceof d.Ref){if(D.has(_)){J(new l.FormatError("Pages tree contains circular reference."));break}D.put(_);try{V=await B.fetchAsync(_)}catch(q){J(q);break}}else V=_;if(!(V instanceof d.Dict)){J(new l.FormatError("Page dictionary kid reference points to wrong type of object."));break}let Z=V.getRaw("Type");if(Z instanceof d.Ref)try{Z=await B.fetchAsync(Z)}catch(q){J(q);break}(0,d.isName)(Z,"Page")||!V.has("Kids")?W(V,_ instanceof d.Ref?_:null):T.push({currentNode:V,posInKids:0}),H.posInKids++}return C}getPageIndex(A){const O=this.pageIndexCache.get(A);if(O!==void 0)return Promise.resolve(O);const T=this.xref;function D(B){let M=0,I;return T.fetchAsync(B).then(function(W){if((0,d.isRefsEqual)(B,A)&&!(0,d.isDict)(W,"Page")&&!(W instanceof d.Dict&&!W.has("Type")&&W.has("Contents")))throw new l.FormatError("The reference does not point to a /Page dictionary.");if(!W)return null;if(!(W instanceof d.Dict))throw new l.FormatError("Node must be a dictionary.");return I=W.getRaw("Parent"),W.getAsync("Parent")}).then(function(W){if(!W)return null;if(!(W instanceof d.Dict))throw new l.FormatError("Parent must be a dictionary.");return W.getAsync("Kids")}).then(function(W){if(!W)return null;const J=[];let H=!1;for(const N of W){if(!(N instanceof d.Ref))throw new l.FormatError("Kid must be a reference.");if((0,d.isRefsEqual)(N,B)){H=!0;break}J.push(T.fetchAsync(N).then(function(U){if(!(U instanceof d.Dict))throw new l.FormatError("Kid node must be a dictionary.");U.has("Count")?M+=U.get("Count"):M++}))}if(!H)throw new l.FormatError("Kid reference not found in parent's kids.");return Promise.all(J).then(function(){return[M,I]})})}let F=0;const C=B=>D(B).then(M=>{if(!M)return this.pageIndexCache.put(A,F),F;const[I,W]=M;return F+=I,C(W)});return C(A)}get baseUrl(){const A=this._catDict.get("URI");if(A instanceof d.Dict){const O=A.get("Base");if(typeof O=="string"){const T=(0,l.createValidAbsoluteUrl)(O,null,{tryConvertEncoding:!0});if(T)return(0,l.shadow)(this,"baseUrl",T.href)}}return(0,l.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary(A){let{destDict:O,resultObj:T,docBaseUrl:D=null,docAttachments:F=null}=A;if(!(O instanceof d.Dict)){(0,l.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let C=O.get("A"),B,M;if(C instanceof d.Dict||(O.has("Dest")?C=O.get("Dest"):(C=O.get("AA"),C instanceof d.Dict&&(C.has("D")?C=C.get("D"):C.has("U")&&(C=C.get("U"))))),C instanceof d.Dict){const I=C.get("S");if(!(I instanceof d.Name)){(0,l.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const W=I.name;switch(W){case"ResetForm":const J=C.get("Flags"),H=((typeof J=="number"?J:0)&1)===0,N=[],U=[];for(const z of C.get("Fields")||[])z instanceof d.Ref?U.push(z.toString()):typeof z=="string"&&N.push((0,l.stringToPDFString)(z));T.resetForm={fields:N,refs:U,include:H};break;case"URI":B=C.get("URI"),B instanceof d.Name&&(B="/"+B.name);break;case"GoTo":M=C.get("D");break;case"Launch":case"GoToR":const Y=C.get("F");Y instanceof d.Dict?B=Y.get("F")||null:typeof Y=="string"&&(B=Y);let _=C.get("D");if(_&&(_ instanceof d.Name&&(_=_.name),typeof B=="string")){const z=B.split("#")[0];typeof _=="string"?B=z+"#"+_:Array.isArray(_)&&(B=z+"#"+JSON.stringify(_))}const V=C.get("NewWindow");typeof V=="boolean"&&(T.newWindow=V);break;case"GoToE":const Z=C.get("T");let q;if(F&&Z instanceof d.Dict){const z=Z.get("R"),P=Z.get("N");(0,d.isName)(z,"C")&&typeof P=="string"&&(q=F[(0,l.stringToPDFString)(P)])}q?T.attachment=q:(0,l.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const re=C.get("N");re instanceof d.Name&&(T.action=re.name);break;case"SetOCGState":const oe=C.get("State"),ae=C.get("PreserveRB");if(!Array.isArray(oe)||oe.length===0)break;const R=[];for(const z of oe)if(z instanceof d.Name)switch(z.name){case"ON":case"OFF":case"Toggle":R.push(z.name);break}else z instanceof d.Ref&&R.push(z.toString());if(R.length!==oe.length)break;T.setOCGState={state:R,preserveRB:typeof ae=="boolean"?ae:!0};break;case"JavaScript":const S=C.get("JS");let L;S instanceof r.BaseStream?L=S.getString():typeof S=="string"&&(L=S);const k=L&&(0,i.recoverJsURL)((0,l.stringToPDFString)(L));if(k){B=k.url,T.newWindow=k.newWindow;break}default:if(W==="JavaScript"||W==="SubmitForm")break;(0,l.warn)(`parseDestDictionary - unsupported action: "${W}".`);break}}else O.has("Dest")&&(M=O.get("Dest"));if(typeof B=="string"){const I=(0,l.createValidAbsoluteUrl)(B,D,{addDefaultProtocol:!0,tryConvertEncoding:!0});I&&(T.url=I.href),T.unsafeUrl=B}M&&(M instanceof d.Name&&(M=M.name),typeof M=="string"?T.dest=(0,l.stringToPDFString)(M):Array.isArray(M)&&(T.dest=M))}}o.Catalog=f},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NumberTree=o.NameTree=void 0,s(140);var i=s(151),l=s(145);class d{constructor(x,y,v){this.constructor===d&&(0,l.unreachable)("Cannot initialize NameOrNumberTree."),this.root=x,this.xref=y,this._type=v}getAll(){const x=new Map;if(!this.root)return x;const y=this.xref,v=new i.RefSet;v.put(this.root);const b=[this.root];for(;b.length>0;){const g=y.fetchIfRef(b.shift());if(!(g instanceof i.Dict))continue;if(g.has("Kids")){const f=g.get("Kids");if(!Array.isArray(f))continue;for(const E of f){if(v.has(E))throw new l.FormatError(`Duplicate entry in "${this._type}" tree.`);b.push(E),v.put(E)}continue}const w=g.get(this._type);if(!!Array.isArray(w))for(let f=0,E=w.length;f<E;f+=2)x.set(y.fetchIfRef(w[f]),y.fetchIfRef(w[f+1]))}return x}get(x){if(!this.root)return null;const y=this.xref;let v=y.fetchIfRef(this.root),b=0;const g=10;for(;v.has("Kids");){if(++b>g)return(0,l.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const f=v.get("Kids");if(!Array.isArray(f))return null;let E=0,A=f.length-1;for(;E<=A;){const O=E+A>>1,T=y.fetchIfRef(f[O]),D=T.get("Limits");if(x<y.fetchIfRef(D[0]))A=O-1;else if(x>y.fetchIfRef(D[1]))E=O+1;else{v=T;break}}if(E>A)return null}const w=v.get(this._type);if(Array.isArray(w)){let f=0,E=w.length-2;for(;f<=E;){const A=f+E>>1,O=A+(A&1),T=y.fetchIfRef(w[O]);if(x<T)E=O-2;else if(x>T)f=O+2;else return y.fetchIfRef(w[O+1])}}return null}}class e extends d{constructor(x,y){super(x,y,"Names")}}o.NameTree=e;class r extends d{constructor(x,y){super(x,y,"Nums")}}o.NumberTree=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clearGlobalCaches=e;var i=s(201),l=s(151),d=s(191);function e(){(0,i.clearPatternCaches)(),(0,l.clearPrimitiveCaches)(),(0,d.clearUnicodeCaches)()}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FileSpec=void 0;var i=s(145),l=s(152),d=s(151);function e(p){return p.has("UF")?p.get("UF"):p.has("F")?p.get("F"):p.has("Unix")?p.get("Unix"):p.has("Mac")?p.get("Mac"):p.has("DOS")?p.get("DOS"):null}class r{constructor(x,y){x instanceof d.Dict&&(this.xref=y,this.root=x,x.has("FS")&&(this.fs=x.get("FS")),this.description=x.has("Desc")?(0,i.stringToPDFString)(x.get("Desc")):"",x.has("RF")&&(0,i.warn)("Related file specifications are not supported"),this.contentAvailable=!0,x.has("EF")||(this.contentAvailable=!1,(0,i.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const x=e(this.root)||"unnamed";this._filename=(0,i.stringToPDFString)(x).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let x=null;if(this.contentRef){const y=this.xref.fetchIfRef(this.contentRef);y instanceof l.BaseStream?x=y.getBytes():(0,i.warn)("Embedded file specification points to non-existing/invalid content")}else(0,i.warn)("Embedded file specification does not have a content");return x}get serializable(){return{filename:this.filename,content:this.content}}}o.FileSpec=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MetadataParser=void 0,s(2),s(140);var i=s(222);class l{constructor(e){e=this._repair(e);const p=new i.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,p&&this._parse(p)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(r,p){const x=p.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(v,b,g,w){return String.fromCharCode(b*64+g*8+w*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(v,b){switch(b){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${b} isn't defined.`)}),y=[">"];for(let v=0,b=x.length;v<b;v+=2){const g=x.charCodeAt(v)*256+x.charCodeAt(v+1);g>=32&&g<127&&g!==60&&g!==62&&g!==38?y.push(String.fromCharCode(g)):y.push("&#x"+(65536+g).toString(16).substring(1)+";")}return y.join("")})}_getSequence(e){const r=e.nodeName;return r!=="rdf:bag"&&r!=="rdf:seq"&&r!=="rdf:alt"?null:e.childNodes.filter(p=>p.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[r]=e.childNodes,p=this._getSequence(r)||[];this._metadataMap.set(e.nodeName,p.map(x=>x.textContent.trim()))}_parse(e){let r=e.documentElement;if(r.nodeName!=="rdf:rdf")for(r=r.firstChild;r&&r.nodeName!=="rdf:rdf";)r=r.nextSibling;if(!(!r||r.nodeName!=="rdf:rdf"||!r.hasChildNodes())){for(const p of r.childNodes)if(p.nodeName==="rdf:description")for(const x of p.childNodes){const y=x.nodeName;switch(y){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(x);continue}this._metadataMap.set(y,x.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}o.MetadataParser=l},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XMLParserErrorCode=o.XMLParserBase=o.SimpleXMLParser=o.SimpleDOMNode=void 0,s(140);var i=s(150);const l={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};o.XMLParserErrorCode=l;function d(y,v){const b=y[v];return b===" "||b===`
`||b==="\r"||b==="	"}function e(y){for(let v=0,b=y.length;v<b;v++)if(!d(y,v))return!1;return!0}class r{_resolveEntities(v){return v.replaceAll(/&([^;]+);/g,(b,g)=>{if(g.substring(0,2)==="#x")return String.fromCodePoint(parseInt(g.substring(2),16));if(g.substring(0,1)==="#")return String.fromCodePoint(parseInt(g.substring(1),10));switch(g){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(g)})}_parseContent(v,b){const g=[];let w=b;function f(){for(;w<v.length&&d(v,w);)++w}for(;w<v.length&&!d(v,w)&&v[w]!==">"&&v[w]!=="/";)++w;const E=v.substring(b,w);for(f();w<v.length&&v[w]!==">"&&v[w]!=="/"&&v[w]!=="?";){f();let A="",O="";for(;w<v.length&&!d(v,w)&&v[w]!=="=";)A+=v[w],++w;if(f(),v[w]!=="=")return null;++w,f();const T=v[w];if(T!=='"'&&T!=="'")return null;const D=v.indexOf(T,++w);if(D<0)return null;O=v.substring(w,D),g.push({name:A,value:this._resolveEntities(O)}),w=D+1,f()}return{name:E,attributes:g,parsed:w-b}}_parseProcessingInstruction(v,b){let g=b;function w(){for(;g<v.length&&d(v,g);)++g}for(;g<v.length&&!d(v,g)&&v[g]!==">"&&v[g]!=="?"&&v[g]!=="/";)++g;const f=v.substring(b,g);w();const E=g;for(;g<v.length&&(v[g]!=="?"||v[g+1]!==">");)++g;const A=v.substring(E,g);return{name:f,value:A,parsed:g-b}}parseXml(v){let b=0;for(;b<v.length;){const g=v[b];let w=b;if(g==="<"){++w;const f=v[w];let E;switch(f){case"/":if(++w,E=v.indexOf(">",w),E<0){this.onError(l.UnterminatedElement);return}this.onEndElement(v.substring(w,E)),w=E+1;break;case"?":++w;const A=this._parseProcessingInstruction(v,w);if(v.substring(w+A.parsed,w+A.parsed+2)!=="?>"){this.onError(l.UnterminatedXmlDeclaration);return}this.onPi(A.name,A.value),w+=A.parsed+2;break;case"!":if(v.substring(w+1,w+3)==="--"){if(E=v.indexOf("-->",w+3),E<0){this.onError(l.UnterminatedComment);return}this.onComment(v.substring(w+3,E)),w=E+3}else if(v.substring(w+1,w+8)==="[CDATA["){if(E=v.indexOf("]]>",w+8),E<0){this.onError(l.UnterminatedCdat);return}this.onCdata(v.substring(w+8,E)),w=E+3}else if(v.substring(w+1,w+8)==="DOCTYPE"){const D=v.indexOf("[",w+8);let F=!1;if(E=v.indexOf(">",w+8),E<0){this.onError(l.UnterminatedDoctypeDeclaration);return}if(D>0&&E>D){if(E=v.indexOf("]>",w+8),E<0){this.onError(l.UnterminatedDoctypeDeclaration);return}F=!0}const C=v.substring(w+8,E+(F?1:0));this.onDoctype(C),w=E+(F?2:1)}else{this.onError(l.MalformedElement);return}break;default:const O=this._parseContent(v,w);if(O===null){this.onError(l.MalformedElement);return}let T=!1;if(v.substring(w+O.parsed,w+O.parsed+2)==="/>")T=!0;else if(v.substring(w+O.parsed,w+O.parsed+1)!==">"){this.onError(l.UnterminatedElement);return}this.onBeginElement(O.name,O.attributes,T),w+=O.parsed+(T?2:1);break}}else{for(;w<v.length&&v[w]!=="<";)w++;const f=v.substring(b,w);this.onText(this._resolveEntities(f))}b=w}}onResolveEntity(v){return`&${v};`}onPi(v,b){}onComment(v){}onCdata(v){}onDoctype(v){}onText(v){}onBeginElement(v,b,g){}onEndElement(v){}onError(v){}}o.XMLParserBase=r;class p{constructor(v,b){this.nodeName=v,this.nodeValue=b,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var v;return(v=this.childNodes)==null?void 0:v[0]}get nextSibling(){const v=this.parentNode.childNodes;if(!v)return;const b=v.indexOf(this);if(b!==-1)return v[b+1]}get textContent(){return this.childNodes?this.childNodes.map(function(v){return v.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var v;return((v=this.childNodes)==null?void 0:v.length)>0}searchNode(v,b){var E;if(b>=v.length)return this;const g=v[b];if(g.name.startsWith("#")&&b<v.length-1)return this.searchNode(v,b+1);const w=[];let f=this;for(;;){if(g.name===f.nodeName)if(g.pos===0){const A=f.searchNode(v,b+1);if(A!==null)return A}else{if(w.length===0)return null;{const[A]=w.pop();let O=0;for(const T of A.childNodes)if(g.name===T.nodeName){if(O===g.pos)return T.searchNode(v,b+1);O++}return f.searchNode(v,b+1)}}if(((E=f.childNodes)==null?void 0:E.length)>0)w.push([f,0]),f=f.childNodes[0];else{if(w.length===0)return null;for(;w.length!==0;){const[A,O]=w.pop(),T=O+1;if(T<A.childNodes.length){w.push([A,T]),f=A.childNodes[T];break}}if(w.length===0)return null}}}dump(v){if(this.nodeName==="#text"){v.push((0,i.encodeToXmlString)(this.nodeValue));return}if(v.push(`<${this.nodeName}`),this.attributes)for(const b of this.attributes)v.push(` ${b.name}="${(0,i.encodeToXmlString)(b.value)}"`);if(this.hasChildNodes()){v.push(">");for(const b of this.childNodes)b.dump(v);v.push(`</${this.nodeName}>`)}else this.nodeValue?v.push(`>${(0,i.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):v.push("/>")}}o.SimpleDOMNode=p;class x extends r{constructor(v){let{hasAttributes:b=!1,lowerCaseName:g=!1}=v;super(),this._currentFragment=null,this._stack=null,this._errorCode=l.NoError,this._hasAttributes=b,this._lowerCaseName=g}parseFromString(v){if(this._currentFragment=[],this._stack=[],this._errorCode=l.NoError,this.parseXml(v),this._errorCode!==l.NoError)return;const[b]=this._currentFragment;if(!!b)return{documentElement:b}}onText(v){if(e(v))return;const b=new p("#text",v);this._currentFragment.push(b)}onCdata(v){const b=new p("#text",v);this._currentFragment.push(b)}onBeginElement(v,b,g){this._lowerCaseName&&(v=v.toLowerCase());const w=new p(v);w.childNodes=[],this._hasAttributes&&(w.attributes=b),this._currentFragment.push(w),!g&&(this._stack.push(this._currentFragment),this._currentFragment=w.childNodes)}onEndElement(v){this._currentFragment=this._stack.pop()||[];const b=this._currentFragment.at(-1);if(!b)return null;for(const g of b.childNodes)g.parentNode=b;return b}onError(v){this._errorCode=v}}o.SimpleXMLParser=x},(h,o,s)=>{var g,av,f,jd,A,iv,T,sv;Object.defineProperty(o,"__esModule",{value:!0}),o.StructTreeRoot=o.StructTreePage=void 0,s(140);var i=s(145),l=s(151),d=s(218),e=s(224);const r=40,p={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},F=class{constructor(B,M){Le(this,g);this.dict=B,this.ref=M instanceof l.Ref?M:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(B,M){Ue(this,g,av).call(this,B,M,p.ANNOTATION)}readRoleMap(){const B=this.dict.get("RoleMap");B instanceof l.Dict&&B.forEach((M,I)=>{I instanceof l.Name&&this.roleMap.set(M,I.name)})}static async canCreateStructureTree(B){var N;let{catalogRef:M,pdfManager:I,newAnnotationsByPage:W}=B;if(!(M instanceof l.Ref))return(0,i.warn)("Cannot save the struct tree: no catalog reference."),!1;let J=0,H=!0;for(const[U,Y]of W){const{ref:_}=await I.getPage(U);if(!(_ instanceof l.Ref)){(0,i.warn)(`Cannot save the struct tree: page ${U} has no ref.`),H=!0;break}for(const V of Y)(N=V.accessibilityData)!=null&&N.type&&(V.parentTreeId=J++,H=!1)}if(H){for(const U of W.values())for(const Y of U)delete Y.parentTreeId;return!1}return!0}static async createStructureTree(B){let{newAnnotationsByPage:M,xref:I,catalogRef:W,pdfManager:J,newRefs:H}=B;const N=J.catalog.cloneDict(),U=I.getNewTemporaryRef();N.set("StructTreeRoot",U);const Y=[];await(0,e.writeObject)(W,N,Y,I),H.push({ref:W,data:Y.join("")});const _=new l.Dict(I);_.set("Type",l.Name.get("StructTreeRoot"));const V=I.getNewTemporaryRef();_.set("ParentTree",V);const Z=[];_.set("K",Z);const q=new l.Dict(I),re=[];q.set("Nums",re);const oe=await Ue(this,f,jd).call(this,{newAnnotationsByPage:M,structTreeRootRef:U,kids:Z,nums:re,xref:I,pdfManager:J,newRefs:H,buffer:Y});_.set("ParentTreeNextKey",oe),Y.length=0,await(0,e.writeObject)(V,q,Y,I),H.push({ref:V,data:Y.join("")}),Y.length=0,await(0,e.writeObject)(U,_,Y,I),H.push({ref:U,data:Y.join("")})}async canUpdateStructTree(B){var Y,_;let{pdfManager:M,newAnnotationsByPage:I}=B;if(!this.ref)return(0,i.warn)("Cannot update the struct tree: no root reference."),!1;let W=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(W)||W<0)return(0,i.warn)("Cannot update the struct tree: invalid next key."),!1;const J=this.dict.get("ParentTree");if(!(J instanceof l.Dict))return(0,i.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const H=J.get("Nums");if(!Array.isArray(H))return(0,i.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:N}=M.catalog;for(const V of I.keys()){const{pageDict:Z,ref:q}=await M.getPage(V);if(!(q instanceof l.Ref))return(0,i.warn)(`Cannot save the struct tree: page ${V} has no ref.`),!1;const re=Z.get("StructParents");if(!Number.isInteger(re)||re<0||re>=N)return(0,i.warn)(`Cannot save the struct tree: page ${V} has no id.`),!1}let U=!0;for(const[V,Z]of I){const{pageDict:q}=await M.getPage(V);Ue(Y=F,A,iv).call(Y,{elements:Z,xref:this.dict.xref,pageDict:q,parentTree:J});for(const re of Z)(_=re.accessibilityData)!=null&&_.type&&(re.parentTreeId=W++,U=!1)}if(U){for(const V of I.values())for(const Z of V)delete Z.parentTreeId,delete Z.structTreeParent;return!1}return!0}async updateStructureTree(B){var ae;let{newAnnotationsByPage:M,pdfManager:I,newRefs:W}=B;const J=this.dict.xref,H=this.dict.clone(),N=this.ref;let U=H.getRaw("ParentTree"),Y;U instanceof l.Ref?Y=J.fetch(U):(Y=U,U=J.getNewTemporaryRef(),H.set("ParentTree",U)),Y=Y.clone();let _=Y.getRaw("Nums"),V=null;_ instanceof l.Ref&&(V=_,_=J.fetch(V)),_=_.slice(),V||Y.set("Nums",_);let Z=H.getRaw("K"),q=null;Z instanceof l.Ref?(q=Z,Z=J.fetch(q)):(q=J.getNewTemporaryRef(),H.set("K",q)),Z=Array.isArray(Z)?Z.slice():[Z];const re=[],oe=await Ue(ae=F,f,jd).call(ae,{newAnnotationsByPage:M,structTreeRootRef:N,kids:Z,nums:_,xref:J,pdfManager:I,newRefs:W,buffer:re});H.set("ParentTreeNextKey",oe),re.length=0,await(0,e.writeObject)(q,Z,re,J),W.push({ref:q,data:re.join("")}),V&&(re.length=0,await(0,e.writeObject)(V,_,re,J),W.push({ref:V,data:re.join("")})),re.length=0,await(0,e.writeObject)(U,Y,re,J),W.push({ref:U,data:re.join("")}),re.length=0,await(0,e.writeObject)(N,H,re,J),W.push({ref:N,data:re.join("")})}};let x=F;g=new WeakSet,av=function(B,M,I){if(!(B instanceof l.Ref)||M<0)return;this.structParentIds||(this.structParentIds=new l.RefSetCache);let W=this.structParentIds.get(B);W||(W=[],this.structParentIds.put(B,W)),W.push([M,I])},f=new WeakSet,jd=async function(B){let{newAnnotationsByPage:M,structTreeRootRef:I,kids:W,nums:J,xref:H,pdfManager:N,newRefs:U,buffer:Y}=B;const _=l.Name.get("OBJR");let V=-1/0;for(const[Z,q]of M){const{ref:re}=await N.getPage(Z);for(const{accessibilityData:{type:oe,title:ae,lang:R,alt:S,expanded:L,actualText:k},ref:z,parentTreeId:P,structTreeParent:K}of q){V=Math.max(V,P);const te=H.getNewTemporaryRef(),X=new l.Dict(H);X.set("S",l.Name.get(oe)),ae&&X.set("T",ae),R&&X.set("Lang",R),S&&X.set("Alt",S),L&&X.set("E",L),k&&X.set("ActualText",k),K?await Ue(this,T,sv).call(this,{structTreeParent:K,tagDict:X,newTagRef:te,fallbackRef:I,xref:H,newRefs:U,buffer:Y}):X.set("P",I);const ee=new l.Dict(H);X.set("K",ee),ee.set("Type",_),ee.set("Pg",re),ee.set("Obj",z),Y.length=0,await(0,e.writeObject)(te,X,Y,H),U.push({ref:te,data:Y.join("")}),J.push(P,te),W.push(te)}}return V+1},A=new WeakSet,iv=function(B){let{elements:M,xref:I,pageDict:W,parentTree:J}=B;const H=new Map;for(const V of M)if(V.structTreeParentId){const Z=parseInt(V.structTreeParentId.split("_mc")[1],10);H.set(Z,V)}const N=W.get("StructParents"),Y=new d.NumberTree(J,I).get(N);if(!Array.isArray(Y))return;const _=(V,Z,q)=>{const re=H.get(V);if(re){const oe=Z.getRaw("P"),ae=I.fetchIfRef(oe);return oe instanceof l.Ref&&ae instanceof l.Dict&&(re.structTreeParent={ref:q,dict:Z}),!0}return!1};for(const V of Y){if(!(V instanceof l.Ref))continue;const Z=I.fetch(V),q=Z.get("K");if(Number.isInteger(q)){_(q,Z,V);continue}if(!!Array.isArray(q)){for(let re of q)if(re=I.fetchIfRef(re),Number.isInteger(re)&&_(re,Z,V))break}}},T=new WeakSet,sv=async function(B){let{structTreeParent:{ref:M,dict:I},tagDict:W,newTagRef:J,fallbackRef:H,xref:N,newRefs:U,buffer:Y}=B;const _=I.getRaw("P");let V=N.fetchIfRef(_);W.set("P",_);let Z=!1,q,re=V.getRaw("K");if(re instanceof l.Ref?q=N.fetch(re):(q=re,re=N.getNewTemporaryRef(),V=V.clone(),V.set("K",re),Z=!0),Array.isArray(q)){const oe=q.indexOf(M);if(oe>=0)q=q.slice(),q.splice(oe+1,0,J);else{(0,i.warn)("Cannot update the struct tree: parent kid not found."),W.set("P",H);return}}else q instanceof l.Dict&&(q=[re,J],re=N.getNewTemporaryRef(),V.set("K",re),Z=!0);Y.length=0,await(0,e.writeObject)(re,q,Y,N),U.push({ref:re,data:Y.join("")}),Z&&(Y.length=0,await(0,e.writeObject)(_,V,Y,N),U.push({ref:_,data:Y.join("")}))},Le(x,f),Le(x,A),Le(x,T),o.StructTreeRoot=x;class y{constructor(B,M){this.tree=B,this.dict=M,this.kids=[],this.parseKids()}get role(){const B=this.dict.get("S"),M=B instanceof l.Name?B.name:"",{root:I}=this.tree;return I.roleMap.has(M)?I.roleMap.get(M):M}parseKids(){let B=null;const M=this.dict.getRaw("Pg");M instanceof l.Ref&&(B=M.toString());const I=this.dict.get("K");if(Array.isArray(I))for(const W of I){const J=this.parseKid(B,W);J&&this.kids.push(J)}else{const W=this.parseKid(B,I);W&&this.kids.push(W)}}parseKid(B,M){if(Number.isInteger(M))return this.tree.pageDict.objId!==B?null:new v({type:p.PAGE_CONTENT,mcid:M,pageObjId:B});let I=null;if(M instanceof l.Ref?I=this.dict.xref.fetch(M):M instanceof l.Dict&&(I=M),!I)return null;const W=I.getRaw("Pg");W instanceof l.Ref&&(B=W.toString());const J=I.get("Type")instanceof l.Name?I.get("Type").name:null;if(J==="MCR"){if(this.tree.pageDict.objId!==B)return null;const H=I.getRaw("Stm");return new v({type:p.STREAM_CONTENT,refObjId:H instanceof l.Ref?H.toString():null,pageObjId:B,mcid:I.get("MCID")})}if(J==="OBJR"){if(this.tree.pageDict.objId!==B)return null;const H=I.getRaw("Obj");return new v({type:p.OBJECT,refObjId:H instanceof l.Ref?H.toString():null,pageObjId:B})}return new v({type:p.ELEMENT,dict:I})}}class v{constructor(B){let{type:M,dict:I=null,mcid:W=null,pageObjId:J=null,refObjId:H=null}=B;this.type=M,this.dict=I,this.mcid=W,this.pageObjId=J,this.refObjId=H,this.parentNode=null}}class b{constructor(B,M){this.root=B,this.rootDict=B?B.dict:null,this.pageDict=M,this.nodes=[]}parse(B){var N,U;if(!this.root||!this.rootDict)return;const M=this.rootDict.get("ParentTree");if(!M)return;const I=this.pageDict.get("StructParents"),W=B instanceof l.Ref&&((N=this.root.structParentIds)==null?void 0:N.get(B));if(!Number.isInteger(I)&&!W)return;const J=new Map,H=new d.NumberTree(M,this.rootDict.xref);if(Number.isInteger(I)){const Y=H.get(I);if(Array.isArray(Y))for(const _ of Y)_ instanceof l.Ref&&this.addNode(this.rootDict.xref.fetch(_),J)}if(!!W)for(const[Y,_]of W){const V=H.get(Y);if(V){const Z=this.addNode(this.rootDict.xref.fetchIfRef(V),J);((U=Z==null?void 0:Z.kids)==null?void 0:U.length)===1&&Z.kids[0].type===p.OBJECT&&(Z.kids[0].type=_)}}}addNode(B,M){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(I>r)return(0,i.warn)("StructTree MAX_DEPTH reached."),null;if(M.has(B))return M.get(B);const W=new y(this,B);M.set(B,W);const J=B.get("P");if(!J||(0,l.isName)(J.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(B,W)||M.delete(B),W;const H=this.addNode(J,M,I+1);if(!H)return W;let N=!1;for(const U of H.kids)U.type===p.ELEMENT&&U.dict===B&&(U.parentNode=W,N=!0);return N||M.delete(B),W}addTopLevelNode(B,M){const I=this.rootDict.get("K");if(!I)return!1;if(I instanceof l.Dict)return I.objId!==B.objId?!1:(this.nodes[0]=M,!0);if(!Array.isArray(I))return!0;let W=!1;for(let J=0;J<I.length;J++){const H=I[J];(H==null?void 0:H.toString())===B.objId&&(this.nodes[J]=M,W=!0)}return W}get serializable(){function B(I,W){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(J>r){(0,i.warn)("StructTree too deep to be fully serialized.");return}const H=Object.create(null);H.role=I.role,H.children=[],W.children.push(H);const N=I.dict.get("Alt");typeof N=="string"&&(H.alt=(0,i.stringToPDFString)(N));const U=I.dict.get("Lang");typeof U=="string"&&(H.lang=(0,i.stringToPDFString)(U));for(const Y of I.kids){const _=Y.type===p.ELEMENT?Y.parentNode:null;if(_){B(_,H,J+1);continue}else Y.type===p.PAGE_CONTENT||Y.type===p.STREAM_CONTENT?H.children.push({type:"content",id:`p${Y.pageObjId}_mc${Y.mcid}`}):Y.type===p.OBJECT?H.children.push({type:"object",id:Y.refObjId}):Y.type===p.ANNOTATION&&H.children.push({type:"annotation",id:`${i.AnnotationPrefix}${Y.refObjId}`})}}const M=Object.create(null);M.children=[],M.role="Root";for(const I of this.nodes)!I||B(I,M);return M}}o.StructTreePage=b},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.incrementalUpdate=D,o.writeDict=y,o.writeObject=x,s(140),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115);var i=s(145),l=s(151),d=s(150),e=s(222),r=s(152),p=s(225);async function x(F,C,B,M){let{encrypt:I=null}=M;const W=I==null?void 0:I.createCipherTransform(F.num,F.gen);B.push(`${F.num} ${F.gen} obj
`),C instanceof l.Dict?await y(C,B,W):C instanceof r.BaseStream?await v(C,B,W):Array.isArray(C)&&await b(C,B,W),B.push(`
endobj
`)}async function y(F,C,B){C.push("<<");for(const M of F.getKeys())C.push(` /${(0,d.escapePDFName)(M)} `),await g(F.getRaw(M),C,B);C.push(">>")}async function v(F,C,B){let M=F.getString();const{dict:I}=F,[W,J]=await Promise.all([I.getAsync("Filter"),I.getAsync("DecodeParms")]),H=Array.isArray(W)?await I.xref.fetchIfRefAsync(W[0]):W,N=(0,l.isName)(H,"FlateDecode"),U=256;if(typeof CompressionStream<"u"&&(M.length>=U||N))try{const Y=(0,i.stringToBytes)(M),_=new CompressionStream("deflate"),V=_.writable.getWriter();V.write(Y),V.close();const Z=await new Response(_.readable).arrayBuffer();M=(0,i.bytesToString)(new Uint8Array(Z));let q,re;W?N||(q=Array.isArray(W)?[l.Name.get("FlateDecode"),...W]:[l.Name.get("FlateDecode"),W],J&&(re=Array.isArray(J)?[null,...J]:[null,J])):q=l.Name.get("FlateDecode"),q&&I.set("Filter",q),re&&I.set("DecodeParms",re)}catch(Y){(0,i.info)(`writeStream - cannot compress data: "${Y}".`)}B&&(M=B.encryptString(M)),I.set("Length",M.length),await y(I,C,B),C.push(` stream
`,M,`
endstream`)}async function b(F,C,B){C.push("[");let M=!0;for(const I of F)M?M=!1:C.push(" "),await g(I,C,B);C.push("]")}async function g(F,C,B){F instanceof l.Name?C.push(`/${(0,d.escapePDFName)(F.name)}`):F instanceof l.Ref?C.push(`${F.num} ${F.gen} R`):Array.isArray(F)?await b(F,C,B):typeof F=="string"?(B&&(F=B.encryptString(F)),C.push(`(${(0,d.escapeString)(F)})`)):typeof F=="number"?C.push((0,d.numberToString)(F)):typeof F=="boolean"?C.push(F.toString()):F instanceof l.Dict?await y(F,C,B):F instanceof r.BaseStream?await v(F,C,B):F===null?C.push("null"):(0,i.warn)(`Unhandled value in writer: ${typeof F}, please file a bug.`)}function w(F,C,B,M){for(let I=C+B-1;I>B-1;I--)M[I]=F&255,F>>=8;return B+C}function f(F,C,B){for(let M=0,I=F.length;M<I;M++)B[C+M]=F.charCodeAt(M)&255}function E(F,C){const B=Math.floor(Date.now()/1e3),M=C.filename||"",I=[B.toString(),M,F.toString()];let W=I.reduce((N,U)=>N+U.length,0);for(const N of Object.values(C.info))I.push(N),W+=N.length;const J=new Uint8Array(W);let H=0;for(const N of I)f(N,H,J),H+=N.length;return(0,i.bytesToString)((0,p.calculateMD5)(J))}function A(F,C){const B=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(F);for(const{xfa:I}of C){if(!I)continue;const{path:W,value:J}=I;if(!W)continue;const H=(0,d.parseXFAPath)(W);let N=B.documentElement.searchNode(H,0);!N&&H.length>1&&(N=B.documentElement.searchNode([H.at(-1)],0)),N?N.childNodes=Array.isArray(J)?J.map(U=>new e.SimpleDOMNode("value",U)):[new e.SimpleDOMNode("#text",J)]:(0,i.warn)(`Node not found for path: ${W}`)}const M=[];return B.documentElement.dump(M),M.join("")}async function O(F){let{xref:C,acroForm:B,acroFormRef:M,hasXfa:I,hasXfaDatasetsEntry:W,xfaDatasetsRef:J,needAppearances:H,newRefs:N}=F;if(I&&!W&&!J&&(0,i.warn)("XFA - Cannot save it"),!H&&(!I||!J||W))return;const U=B.clone();if(I&&!W){const _=B.get("XFA").slice();_.splice(2,0,"datasets"),_.splice(3,0,J),U.set("XFA",_)}H&&U.set("NeedAppearances",!0);const Y=[];await x(M,U,Y,C),N.push({ref:M,data:Y.join("")})}function T(F){let{xfaData:C,xfaDatasetsRef:B,newRefs:M,xref:I}=F;if(C===null){const H=I.fetchIfRef(B);C=A(H.getString(),M)}const W=I.encrypt;W&&(C=W.createCipherTransform(B.num,B.gen).encryptString(C));const J=`${B.num} ${B.gen} obj
<< /Type /EmbeddedFile /Length ${C.length}>>
stream
`+C+`
endstream
endobj
`;M.push({ref:B,data:J})}async function D(F){let{originalData:C,xrefInfo:B,newRefs:M,xref:I=null,hasXfa:W=!1,xfaDatasetsRef:J=null,hasXfaDatasetsEntry:H=!1,needAppearances:N,acroFormRef:U=null,acroForm:Y=null,xfaData:_=null}=F;await O({xref:I,acroForm:Y,acroFormRef:U,hasXfa:W,hasXfaDatasetsEntry:H,xfaDatasetsRef:J,needAppearances:N,newRefs:M}),W&&T({xfaData:_,xfaDatasetsRef:J,newRefs:M,xref:I});const V=new l.Dict(null),Z=B.newRef;let q,re;const oe=C.at(-1);oe===10||oe===13?(q=[],re=C.length):(q=[`
`],re=C.length+1),V.set("Size",Z.num+1),V.set("Prev",B.startXRef),V.set("Type",l.Name.get("XRef")),B.rootRef!==null&&V.set("Root",B.rootRef),B.infoRef!==null&&V.set("Info",B.infoRef),B.encryptRef!==null&&V.set("Encrypt",B.encryptRef),M.push({ref:Z,data:""}),M=M.sort((G,ne)=>G.ref.num-ne.ref.num);const ae=[[0,1,65535]],R=[0,1];let S=0;for(const{ref:G,data:ne}of M)S=Math.max(S,re),ae.push([1,re,Math.min(G.gen,65535)]),re+=ne.length,R.push(G.num,1),q.push(ne);if(V.set("Index",R),Array.isArray(B.fileIds)&&B.fileIds.length>0){const G=E(re,B);V.set("ID",[B.fileIds[0],G])}const k=[1,Math.ceil(Math.log2(S)/8),2],P=(k[0]+k[1]+k[2])*ae.length;V.set("W",k),V.set("Length",P),q.push(`${Z.num} ${Z.gen} obj
`),await y(V,q,null),q.push(` stream
`);const K=q.reduce((G,ne)=>G+ne.length,0),te=`
endstream
endobj
startxref
${re}
%%EOF
`,X=new Uint8Array(C.length+K+P+te.length);X.set(C);let ee=C.length;for(const G of q)f(G,ee,X),ee+=G.length;for(const[G,ne,se]of ae)ee=w(G,k[0],ee,X),ee=w(ne,k[1],ee,X),ee=w(se,k[2],ee,X);return f(te,ee,X),X}},(h,o,s)=>{var D,F,ov,B,Kd,I,cv,J,O0,N,Yd;Object.defineProperty(o,"__esModule",{value:!0}),o.calculateSHA256=o.calculateMD5=o.PDF20=o.PDF17=o.CipherTransformFactory=o.ARCFourCipher=o.AES256Cipher=o.AES128Cipher=void 0,o.calculateSHA384=v,o.calculateSHA512=void 0,s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140);var i=s(145),l=s(151),d=s(226);class e{constructor(V){this.a=0,this.b=0;const Z=new Uint8Array(256),q=V.length;for(let re=0;re<256;++re)Z[re]=re;for(let re=0,oe=0;re<256;++re){const ae=Z[re];oe=oe+ae+V[re%q]&255,Z[re]=Z[oe],Z[oe]=ae}this.s=Z}encryptBlock(V){let Z=this.a,q=this.b;const re=this.s,oe=V.length,ae=new Uint8Array(oe);for(let R=0;R<oe;++R){Z=Z+1&255;const S=re[Z];q=q+S&255;const L=re[q];re[Z]=L,re[q]=S,ae[R]=V[R]^re[S+L&255]}return this.a=Z,this.b=q,ae}decryptBlock(V){return this.encryptBlock(V)}encrypt(V){return this.encryptBlock(V)}}o.ARCFourCipher=e;const r=function(){const V=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),Z=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function q(re,oe,ae){let R=1732584193,S=-271733879,L=-1732584194,k=271733878;const z=ae+72&-64,P=new Uint8Array(z);let K,te;for(K=0;K<ae;++K)P[K]=re[oe++];P[K++]=128;const X=z-8;for(;K<X;)P[K++]=0;P[K++]=ae<<3&255,P[K++]=ae>>5&255,P[K++]=ae>>13&255,P[K++]=ae>>21&255,P[K++]=ae>>>29&255,P[K++]=0,P[K++]=0,P[K++]=0;const ee=new Int32Array(16);for(K=0;K<z;){for(te=0;te<16;++te,K+=4)ee[te]=P[K]|P[K+1]<<8|P[K+2]<<16|P[K+3]<<24;let G=R,ne=S,se=L,le=k,he,be;for(te=0;te<64;++te){te<16?(he=ne&se|~ne&le,be=te):te<32?(he=le&ne|~le&se,be=5*te+1&15):te<48?(he=ne^se^le,be=3*te+5&15):(he=se^(ne|~le),be=7*te&15);const ye=le,de=G+he+Z[te]+ee[be]|0,xe=V[te];le=se,se=ne,ne=ne+(de<<xe|de>>>32-xe)|0,G=ye}R=R+G|0,S=S+ne|0,L=L+se|0,k=k+le|0}return new Uint8Array([R&255,R>>8&255,R>>16&255,R>>>24&255,S&255,S>>8&255,S>>16&255,S>>>24&255,L&255,L>>8&255,L>>16&255,L>>>24&255,k&255,k>>8&255,k>>16&255,k>>>24&255])}return q}();o.calculateMD5=r;class p{constructor(V,Z){this.high=V|0,this.low=Z|0}and(V){this.high&=V.high,this.low&=V.low}xor(V){this.high^=V.high,this.low^=V.low}or(V){this.high|=V.high,this.low|=V.low}shiftRight(V){V>=32?(this.low=this.high>>>V-32|0,this.high=0):(this.low=this.low>>>V|this.high<<32-V,this.high=this.high>>>V|0)}shiftLeft(V){V>=32?(this.high=this.low<<V-32,this.low=0):(this.high=this.high<<V|this.low>>>32-V,this.low<<=V)}rotateRight(V){let Z,q;V&32?(q=this.low,Z=this.high):(Z=this.low,q=this.high),V&=31,this.low=Z>>>V|q<<32-V,this.high=q>>>V|Z<<32-V}not(){this.high=~this.high,this.low=~this.low}add(V){const Z=(this.low>>>0)+(V.low>>>0);let q=(this.high>>>0)+(V.high>>>0);Z>4294967295&&(q+=1),this.low=Z|0,this.high=q|0}copyTo(V,Z){V[Z]=this.high>>>24&255,V[Z+1]=this.high>>16&255,V[Z+2]=this.high>>8&255,V[Z+3]=this.high&255,V[Z+4]=this.low>>>24&255,V[Z+5]=this.low>>16&255,V[Z+6]=this.low>>8&255,V[Z+7]=this.low&255}assign(V){this.high=V.high,this.low=V.low}}const x=function(){function V(k,z){return k>>>z|k<<32-z}function Z(k,z,P){return k&z^~k&P}function q(k,z,P){return k&z^k&P^z&P}function re(k){return V(k,2)^V(k,13)^V(k,22)}function oe(k){return V(k,6)^V(k,11)^V(k,25)}function ae(k){return V(k,7)^V(k,18)^k>>>3}function R(k){return V(k,17)^V(k,19)^k>>>10}const S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function L(k,z,P){let K=1779033703,te=3144134277,X=1013904242,ee=2773480762,G=1359893119,ne=2600822924,se=528734635,le=1541459225;const he=Math.ceil((P+9)/64)*64,be=new Uint8Array(he);let ye,de;for(ye=0;ye<P;++ye)be[ye]=k[z++];be[ye++]=128;const xe=he-8;for(;ye<xe;)be[ye++]=0;be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=P>>>29&255,be[ye++]=P>>21&255,be[ye++]=P>>13&255,be[ye++]=P>>5&255,be[ye++]=P<<3&255;const fe=new Uint32Array(64);for(ye=0;ye<he;){for(de=0;de<16;++de)fe[de]=be[ye]<<24|be[ye+1]<<16|be[ye+2]<<8|be[ye+3],ye+=4;for(de=16;de<64;++de)fe[de]=R(fe[de-2])+fe[de-7]+ae(fe[de-15])+fe[de-16]|0;let ce=K,ue=te,ve=X,Ee=ee,Me=G,_e=ne,ze=se,We=le,Ve,Ne;for(de=0;de<64;++de)Ve=We+oe(Me)+Z(Me,_e,ze)+S[de]+fe[de],Ne=re(ce)+q(ce,ue,ve),We=ze,ze=_e,_e=Me,Me=Ee+Ve|0,Ee=ve,ve=ue,ue=ce,ce=Ve+Ne|0;K=K+ce|0,te=te+ue|0,X=X+ve|0,ee=ee+Ee|0,G=G+Me|0,ne=ne+_e|0,se=se+ze|0,le=le+We|0}return new Uint8Array([K>>24&255,K>>16&255,K>>8&255,K&255,te>>24&255,te>>16&255,te>>8&255,te&255,X>>24&255,X>>16&255,X>>8&255,X&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,G>>24&255,G>>16&255,G>>8&255,G&255,ne>>24&255,ne>>16&255,ne>>8&255,ne&255,se>>24&255,se>>16&255,se>>8&255,se&255,le>>24&255,le>>16&255,le>>8&255,le&255])}return L}();o.calculateSHA256=x;const y=function(){function V(L,k,z,P,K){L.assign(k),L.and(z),K.assign(k),K.not(),K.and(P),L.xor(K)}function Z(L,k,z,P,K){L.assign(k),L.and(z),K.assign(k),K.and(P),L.xor(K),K.assign(z),K.and(P),L.xor(K)}function q(L,k,z){L.assign(k),L.rotateRight(28),z.assign(k),z.rotateRight(34),L.xor(z),z.assign(k),z.rotateRight(39),L.xor(z)}function re(L,k,z){L.assign(k),L.rotateRight(14),z.assign(k),z.rotateRight(18),L.xor(z),z.assign(k),z.rotateRight(41),L.xor(z)}function oe(L,k,z){L.assign(k),L.rotateRight(1),z.assign(k),z.rotateRight(8),L.xor(z),z.assign(k),z.shiftRight(7),L.xor(z)}function ae(L,k,z){L.assign(k),L.rotateRight(19),z.assign(k),z.rotateRight(61),L.xor(z),z.assign(k),z.shiftRight(6),L.xor(z)}const R=[new p(1116352408,3609767458),new p(1899447441,602891725),new p(3049323471,3964484399),new p(3921009573,2173295548),new p(961987163,4081628472),new p(1508970993,3053834265),new p(2453635748,2937671579),new p(2870763221,3664609560),new p(3624381080,2734883394),new p(310598401,1164996542),new p(607225278,1323610764),new p(1426881987,3590304994),new p(1925078388,4068182383),new p(2162078206,991336113),new p(2614888103,633803317),new p(3248222580,3479774868),new p(3835390401,2666613458),new p(4022224774,944711139),new p(264347078,2341262773),new p(604807628,2007800933),new p(770255983,1495990901),new p(1249150122,1856431235),new p(1555081692,3175218132),new p(1996064986,2198950837),new p(2554220882,3999719339),new p(2821834349,766784016),new p(2952996808,2566594879),new p(3210313671,3203337956),new p(3336571891,1034457026),new p(3584528711,2466948901),new p(113926993,3758326383),new p(338241895,168717936),new p(666307205,1188179964),new p(773529912,1546045734),new p(1294757372,1522805485),new p(1396182291,2643833823),new p(1695183700,2343527390),new p(1986661051,1014477480),new p(2177026350,1206759142),new p(2456956037,344077627),new p(2730485921,1290863460),new p(2820302411,3158454273),new p(3259730800,3505952657),new p(3345764771,106217008),new p(3516065817,3606008344),new p(3600352804,1432725776),new p(4094571909,1467031594),new p(275423344,851169720),new p(430227734,3100823752),new p(506948616,1363258195),new p(659060556,3750685593),new p(883997877,3785050280),new p(958139571,3318307427),new p(1322822218,3812723403),new p(1537002063,2003034995),new p(1747873779,3602036899),new p(1955562222,1575990012),new p(2024104815,1125592928),new p(2227730452,2716904306),new p(2361852424,442776044),new p(2428436474,593698344),new p(2756734187,3733110249),new p(3204031479,2999351573),new p(3329325298,3815920427),new p(3391569614,3928383900),new p(3515267271,566280711),new p(3940187606,3454069534),new p(4118630271,4000239992),new p(116418474,1914138554),new p(174292421,2731055270),new p(289380356,3203993006),new p(460393269,320620315),new p(685471733,587496836),new p(852142971,1086792851),new p(1017036298,365543100),new p(1126000580,2618297676),new p(1288033470,3409855158),new p(1501505948,4234509866),new p(1607167915,987167468),new p(1816402316,1246189591)];function S(L,k,z){let P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,K,te,X,ee,G,ne,se,le;P?(K=new p(3418070365,3238371032),te=new p(1654270250,914150663),X=new p(2438529370,812702999),ee=new p(355462360,4144912697),G=new p(1731405415,4290775857),ne=new p(2394180231,1750603025),se=new p(3675008525,1694076839),le=new p(1203062813,3204075428)):(K=new p(1779033703,4089235720),te=new p(3144134277,2227873595),X=new p(1013904242,4271175723),ee=new p(2773480762,1595750129),G=new p(1359893119,2917565137),ne=new p(2600822924,725511199),se=new p(528734635,4215389547),le=new p(1541459225,327033209));const he=Math.ceil((z+17)/128)*128,be=new Uint8Array(he);let ye,de;for(ye=0;ye<z;++ye)be[ye]=L[k++];be[ye++]=128;const xe=he-16;for(;ye<xe;)be[ye++]=0;be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=0,be[ye++]=z>>>29&255,be[ye++]=z>>21&255,be[ye++]=z>>13&255,be[ye++]=z>>5&255,be[ye++]=z<<3&255;const fe=new Array(80);for(ye=0;ye<80;ye++)fe[ye]=new p(0,0);let ce=new p(0,0),ue=new p(0,0),ve=new p(0,0),Ee=new p(0,0),Me=new p(0,0),_e=new p(0,0),ze=new p(0,0),We=new p(0,0);const Ve=new p(0,0),Ne=new p(0,0),ke=new p(0,0),Ie=new p(0,0);let Te;for(ye=0;ye<he;){for(de=0;de<16;++de)fe[de].high=be[ye]<<24|be[ye+1]<<16|be[ye+2]<<8|be[ye+3],fe[de].low=be[ye+4]<<24|be[ye+5]<<16|be[ye+6]<<8|be[ye+7],ye+=8;for(de=16;de<80;++de)Te=fe[de],ae(Te,fe[de-2],Ie),Te.add(fe[de-7]),oe(ke,fe[de-15],Ie),Te.add(ke),Te.add(fe[de-16]);for(ce.assign(K),ue.assign(te),ve.assign(X),Ee.assign(ee),Me.assign(G),_e.assign(ne),ze.assign(se),We.assign(le),de=0;de<80;++de)Ve.assign(We),re(ke,Me,Ie),Ve.add(ke),V(ke,Me,_e,ze,Ie),Ve.add(ke),Ve.add(R[de]),Ve.add(fe[de]),q(Ne,ce,Ie),Z(ke,ce,ue,ve,Ie),Ne.add(ke),Te=We,We=ze,ze=_e,_e=Me,Ee.add(Ve),Me=Ee,Ee=ve,ve=ue,ue=ce,Te.assign(Ve),Te.add(Ne),ce=Te;K.add(ce),te.add(ue),X.add(ve),ee.add(Ee),G.add(Me),ne.add(_e),se.add(ze),le.add(We)}let Ae;return P?(Ae=new Uint8Array(48),K.copyTo(Ae,0),te.copyTo(Ae,8),X.copyTo(Ae,16),ee.copyTo(Ae,24),G.copyTo(Ae,32),ne.copyTo(Ae,40)):(Ae=new Uint8Array(64),K.copyTo(Ae,0),te.copyTo(Ae,8),X.copyTo(Ae,16),ee.copyTo(Ae,24),G.copyTo(Ae,32),ne.copyTo(Ae,40),se.copyTo(Ae,48),le.copyTo(Ae,56)),Ae}return S}();o.calculateSHA512=y;function v(_,V,Z){return y(_,V,Z,!0)}class b{decryptBlock(V){return V}encrypt(V){return V}}class g{constructor(){this.constructor===g&&(0,i.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let V=0;V<256;V++)this._mixCol[V]=V<128?V<<1:V<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(V){(0,i.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(V,Z){let q,re,oe;const ae=new Uint8Array(16);ae.set(V);for(let R=0,S=this._keySize;R<16;++R,++S)ae[R]^=Z[S];for(let R=this._cyclesOfRepetition-1;R>=1;--R){q=ae[13],ae[13]=ae[9],ae[9]=ae[5],ae[5]=ae[1],ae[1]=q,q=ae[14],re=ae[10],ae[14]=ae[6],ae[10]=ae[2],ae[6]=q,ae[2]=re,q=ae[15],re=ae[11],oe=ae[7],ae[15]=ae[3],ae[11]=q,ae[7]=re,ae[3]=oe;for(let S=0;S<16;++S)ae[S]=this._inv_s[ae[S]];for(let S=0,L=R*16;S<16;++S,++L)ae[S]^=Z[L];for(let S=0;S<16;S+=4){const L=this._mix[ae[S]],k=this._mix[ae[S+1]],z=this._mix[ae[S+2]],P=this._mix[ae[S+3]];q=L^k>>>8^k<<24^z>>>16^z<<16^P>>>24^P<<8,ae[S]=q>>>24&255,ae[S+1]=q>>16&255,ae[S+2]=q>>8&255,ae[S+3]=q&255}}q=ae[13],ae[13]=ae[9],ae[9]=ae[5],ae[5]=ae[1],ae[1]=q,q=ae[14],re=ae[10],ae[14]=ae[6],ae[10]=ae[2],ae[6]=q,ae[2]=re,q=ae[15],re=ae[11],oe=ae[7],ae[15]=ae[3],ae[11]=q,ae[7]=re,ae[3]=oe;for(let R=0;R<16;++R)ae[R]=this._inv_s[ae[R]],ae[R]^=Z[R];return ae}_encrypt(V,Z){const q=this._s;let re,oe,ae;const R=new Uint8Array(16);R.set(V);for(let S=0;S<16;++S)R[S]^=Z[S];for(let S=1;S<this._cyclesOfRepetition;S++){for(let L=0;L<16;++L)R[L]=q[R[L]];ae=R[1],R[1]=R[5],R[5]=R[9],R[9]=R[13],R[13]=ae,ae=R[2],oe=R[6],R[2]=R[10],R[6]=R[14],R[10]=ae,R[14]=oe,ae=R[3],oe=R[7],re=R[11],R[3]=R[15],R[7]=ae,R[11]=oe,R[15]=re;for(let L=0;L<16;L+=4){const k=R[L+0],z=R[L+1],P=R[L+2],K=R[L+3];re=k^z^P^K,R[L+0]^=re^this._mixCol[k^z],R[L+1]^=re^this._mixCol[z^P],R[L+2]^=re^this._mixCol[P^K],R[L+3]^=re^this._mixCol[K^k]}for(let L=0,k=S*16;L<16;++L,++k)R[L]^=Z[k]}for(let S=0;S<16;++S)R[S]=q[R[S]];ae=R[1],R[1]=R[5],R[5]=R[9],R[9]=R[13],R[13]=ae,ae=R[2],oe=R[6],R[2]=R[10],R[6]=R[14],R[10]=ae,R[14]=oe,ae=R[3],oe=R[7],re=R[11],R[3]=R[15],R[7]=ae,R[11]=oe,R[15]=re;for(let S=0,L=this._keySize;S<16;++S,++L)R[S]^=Z[L];return R}_decryptBlock2(V,Z){const q=V.length;let re=this.buffer,oe=this.bufferPosition;const ae=[];let R=this.iv;for(let k=0;k<q;++k){if(re[oe]=V[k],++oe,oe<16)continue;const z=this._decrypt(re,this._key);for(let P=0;P<16;++P)z[P]^=R[P];R=re,ae.push(z),re=new Uint8Array(16),oe=0}if(this.buffer=re,this.bufferLength=oe,this.iv=R,ae.length===0)return new Uint8Array(0);let S=16*ae.length;if(Z){const k=ae.at(-1);let z=k[15];if(z<=16){for(let P=15,K=16-z;P>=K;--P)if(k[P]!==z){z=0;break}S-=z,ae[ae.length-1]=k.subarray(0,16-z)}}const L=new Uint8Array(S);for(let k=0,z=0,P=ae.length;k<P;++k,z+=16)L.set(ae[k],z);return L}decryptBlock(V,Z){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const re=V.length,oe=this.buffer;let ae=this.bufferPosition;if(q)this.iv=q;else{for(let R=0;ae<16&&R<re;++R,++ae)oe[ae]=V[R];if(ae<16)return this.bufferLength=ae,new Uint8Array(0);this.iv=oe,V=V.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(V,Z)}encrypt(V,Z){const q=V.length;let re=this.buffer,oe=this.bufferPosition;const ae=[];Z||(Z=new Uint8Array(16));for(let L=0;L<q;++L){if(re[oe]=V[L],++oe,oe<16)continue;for(let z=0;z<16;++z)re[z]^=Z[z];const k=this._encrypt(re,this._key);Z=k,ae.push(k),re=new Uint8Array(16),oe=0}if(this.buffer=re,this.bufferLength=oe,this.iv=Z,ae.length===0)return new Uint8Array(0);const R=16*ae.length,S=new Uint8Array(R);for(let L=0,k=0,z=ae.length;L<z;++L,k+=16)S.set(ae[L],k);return S}}class w extends g{constructor(V){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(V)}_expandKey(V){const q=this._s,re=this._rcon,oe=new Uint8Array(176);oe.set(V);for(let ae=16,R=1;ae<176;++R){let S=oe[ae-3],L=oe[ae-2],k=oe[ae-1],z=oe[ae-4];S=q[S],L=q[L],k=q[k],z=q[z],S^=re[R];for(let P=0;P<4;++P)oe[ae]=S^=oe[ae-16],ae++,oe[ae]=L^=oe[ae-16],ae++,oe[ae]=k^=oe[ae-16],ae++,oe[ae]=z^=oe[ae-16],ae++}return oe}}o.AES128Cipher=w;class f extends g{constructor(V){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(V)}_expandKey(V){const q=this._s,re=new Uint8Array(240);re.set(V);let oe=1,ae,R,S,L;for(let k=32,z=1;k<240;++z){k%32===16?(ae=q[ae],R=q[R],S=q[S],L=q[L]):k%32===0&&(ae=re[k-3],R=re[k-2],S=re[k-1],L=re[k-4],ae=q[ae],R=q[R],S=q[S],L=q[L],ae^=oe,(oe<<=1)>=256&&(oe=(oe^27)&255));for(let P=0;P<4;++P)re[k]=ae^=re[k-32],k++,re[k]=R^=re[k-32],k++,re[k]=S^=re[k-32],k++,re[k]=L^=re[k-32],k++}return re}}o.AES256Cipher=f;class E{checkOwnerPassword(V,Z,q,re){const oe=new Uint8Array(V.length+56);oe.set(V,0),oe.set(Z,V.length),oe.set(q,V.length+Z.length);const ae=x(oe,0,oe.length);return(0,i.isArrayEqual)(ae,re)}checkUserPassword(V,Z,q){const re=new Uint8Array(V.length+8);re.set(V,0),re.set(Z,V.length);const oe=x(re,0,re.length);return(0,i.isArrayEqual)(oe,q)}getOwnerKey(V,Z,q,re){const oe=new Uint8Array(V.length+56);oe.set(V,0),oe.set(Z,V.length),oe.set(q,V.length+Z.length);const ae=x(oe,0,oe.length);return new f(ae).decryptBlock(re,!1,new Uint8Array(16))}getUserKey(V,Z,q){const re=new Uint8Array(V.length+8);re.set(V,0),re.set(Z,V.length);const oe=x(re,0,re.length);return new f(oe).decryptBlock(q,!1,new Uint8Array(16))}}o.PDF17=E;class A{_hash(V,Z,q){let re=x(Z,0,Z.length).subarray(0,32),oe=[0],ae=0;for(;ae<64||oe.at(-1)>ae-32;){const R=V.length+re.length+q.length,S=new Uint8Array(R);let L=0;S.set(V,L),L+=V.length,S.set(re,L),L+=re.length,S.set(q,L);const k=new Uint8Array(R*64);for(let K=0,te=0;K<64;K++,te+=R)k.set(S,te);oe=new w(re.subarray(0,16)).encrypt(k,re.subarray(16,32));const P=oe.slice(0,16).reduce((K,te)=>K+te,0)%3;P===0?re=x(oe,0,oe.length):P===1?re=v(oe,0,oe.length):P===2&&(re=y(oe,0,oe.length)),ae++}return re.subarray(0,32)}checkOwnerPassword(V,Z,q,re){const oe=new Uint8Array(V.length+56);oe.set(V,0),oe.set(Z,V.length),oe.set(q,V.length+Z.length);const ae=this._hash(V,oe,q);return(0,i.isArrayEqual)(ae,re)}checkUserPassword(V,Z,q){const re=new Uint8Array(V.length+8);re.set(V,0),re.set(Z,V.length);const oe=this._hash(V,re,[]);return(0,i.isArrayEqual)(oe,q)}getOwnerKey(V,Z,q,re){const oe=new Uint8Array(V.length+56);oe.set(V,0),oe.set(Z,V.length),oe.set(q,V.length+Z.length);const ae=this._hash(V,oe,q);return new f(ae).decryptBlock(re,!1,new Uint8Array(16))}getUserKey(V,Z,q){const re=new Uint8Array(V.length+8);re.set(V,0),re.set(Z,V.length);const oe=this._hash(V,re,[]);return new f(oe).decryptBlock(q,!1,new Uint8Array(16))}}o.PDF20=A;class O{constructor(V,Z){this.StringCipherConstructor=V,this.StreamCipherConstructor=Z}createStream(V,Z){const q=new this.StreamCipherConstructor;return new d.DecryptStream(V,Z,function(oe,ae){return q.decryptBlock(oe,ae)})}decryptString(V){const Z=new this.StringCipherConstructor;let q=(0,i.stringToBytes)(V);return q=Z.decryptBlock(q,!0),(0,i.bytesToString)(q)}encryptString(V){const Z=new this.StringCipherConstructor;if(Z instanceof g){const oe=16-V.length%16;V+=String.fromCharCode(oe).repeat(oe);const ae=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(ae);else for(let L=0;L<16;L++)ae[L]=Math.floor(256*Math.random());let R=(0,i.stringToBytes)(V);R=Z.encrypt(R,ae);const S=new Uint8Array(16+R.length);return S.set(ae),S.set(R,16),(0,i.bytesToString)(S)}let q=(0,i.stringToBytes)(V);return q=Z.encrypt(q),(0,i.bytesToString)(q)}}const Y=class{constructor(V,Z,q){Le(this,F);Le(this,B);Le(this,I);Le(this,J);Le(this,N);const re=V.get("Filter");if(!(0,l.isName)(re,"Standard"))throw new i.FormatError("unknown encryption method");this.filterName=re.name,this.dict=V;const oe=V.get("V");if(!Number.isInteger(oe)||oe!==1&&oe!==2&&oe!==4&&oe!==5)throw new i.FormatError("unsupported encryption algorithm");this.algorithm=oe;let ae=V.get("Length");if(!ae)if(oe<=3)ae=40;else{const G=V.get("CF"),ne=V.get("StmF");if(G instanceof l.Dict&&ne instanceof l.Name){G.suppressEncryption=!0;const se=G.get(ne.name);ae=(se==null?void 0:se.get("Length"))||128,ae<40&&(ae<<=3)}}if(!Number.isInteger(ae)||ae<40||ae%8!==0)throw new i.FormatError("invalid key length");const R=(0,i.stringToBytes)(V.get("O")),S=(0,i.stringToBytes)(V.get("U")),L=R.subarray(0,32),k=S.subarray(0,32),z=V.get("P"),P=V.get("R"),K=(oe===4||oe===5)&&V.get("EncryptMetadata")!==!1;this.encryptMetadata=K;const te=(0,i.stringToBytes)(Z);let X;if(q){if(P===6)try{q=(0,i.utf8StringToString)(q)}catch{(0,i.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}X=(0,i.stringToBytes)(q)}let ee;if(oe!==5)ee=Ue(this,B,Kd).call(this,te,X,L,k,z,P,ae,K);else{const G=R.subarray(32,40),ne=R.subarray(40,48),se=S.subarray(0,48),le=S.subarray(32,40),he=S.subarray(40,48),be=(0,i.stringToBytes)(V.get("OE")),ye=(0,i.stringToBytes)(V.get("UE")),de=(0,i.stringToBytes)(V.get("Perms"));ee=Ue(this,F,ov).call(this,P,X,L,G,ne,se,k,le,he,be,ye,de)}if(!ee&&!q)throw new i.PasswordException("No password given",i.PasswordResponses.NEED_PASSWORD);if(!ee&&q){const G=Ue(this,I,cv).call(this,X,L,P,ae);ee=Ue(this,B,Kd).call(this,te,G,L,k,z,P,ae,K)}if(!ee)throw new i.PasswordException("Incorrect Password",i.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=ee,oe>=4){const G=V.get("CF");G instanceof l.Dict&&(G.suppressEncryption=!0),this.cf=G,this.stmf=V.get("StmF")||l.Name.get("Identity"),this.strf=V.get("StrF")||l.Name.get("Identity"),this.eff=V.get("EFF")||this.stmf}}createCipherTransform(V,Z){if(this.algorithm===4||this.algorithm===5)return new O(Ue(this,N,Yd).call(this,this.cf,this.strf,V,Z,this.encryptionKey),Ue(this,N,Yd).call(this,this.cf,this.stmf,V,Z,this.encryptionKey));const q=Ue(this,J,O0).call(this,V,Z,this.encryptionKey,!1),re=function(){return new e(q)};return new O(re,re)}};let T=Y;D=new WeakMap,F=new WeakSet,ov=function(V,Z,q,re,oe,ae,R,S,L,k,z,P){if(Z){const te=Math.min(127,Z.length);Z=Z.subarray(0,te)}else Z=[];const K=V===6?new A:new E;return K.checkUserPassword(Z,S,R)?K.getUserKey(Z,L,z):Z.length&&K.checkOwnerPassword(Z,re,ae,q)?K.getOwnerKey(Z,oe,ae,k):null},B=new WeakSet,Kd=function(V,Z,q,re,oe,ae,R,S){const L=40+q.length+V.length,k=new Uint8Array(L);let z=0,P,K;if(Z)for(K=Math.min(32,Z.length);z<K;++z)k[z]=Z[z];for(P=0;z<32;)k[z++]=ie(Y,D)[P++];for(P=0,K=q.length;P<K;++P)k[z++]=q[P];for(k[z++]=oe&255,k[z++]=oe>>8&255,k[z++]=oe>>16&255,k[z++]=oe>>>24&255,P=0,K=V.length;P<K;++P)k[z++]=V[P];ae>=4&&!S&&(k[z++]=255,k[z++]=255,k[z++]=255,k[z++]=255);let te=r(k,0,z);const X=R>>3;if(ae>=3)for(P=0;P<50;++P)te=r(te,0,X);const ee=te.subarray(0,X);let G,ne;if(ae>=3){for(z=0;z<32;++z)k[z]=ie(Y,D)[z];for(P=0,K=V.length;P<K;++P)k[z++]=V[P];G=new e(ee),ne=G.encryptBlock(r(k,0,z)),K=ee.length;const se=new Uint8Array(K);for(P=1;P<=19;++P){for(let le=0;le<K;++le)se[le]=ee[le]^P;G=new e(se),ne=G.encryptBlock(ne)}for(P=0,K=ne.length;P<K;++P)if(re[P]!==ne[P])return null}else for(G=new e(ee),ne=G.encryptBlock(ie(Y,D)),P=0,K=ne.length;P<K;++P)if(re[P]!==ne[P])return null;return ee},I=new WeakSet,cv=function(V,Z,q,re){const oe=new Uint8Array(32);let ae=0;const R=Math.min(32,V.length);for(;ae<R;++ae)oe[ae]=V[ae];let S=0;for(;ae<32;)oe[ae++]=ie(Y,D)[S++];let L=r(oe,0,ae);const k=re>>3;if(q>=3)for(S=0;S<50;++S)L=r(L,0,L.length);let z,P;if(q>=3){P=Z;const K=new Uint8Array(k);for(S=19;S>=0;S--){for(let te=0;te<k;++te)K[te]=L[te]^S;z=new e(K),P=z.encryptBlock(P)}}else z=new e(L.subarray(0,k)),P=z.encryptBlock(Z);return P},J=new WeakSet,O0=function(V,Z,q){let re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const oe=new Uint8Array(q.length+9),ae=q.length;let R;for(R=0;R<ae;++R)oe[R]=q[R];return oe[R++]=V&255,oe[R++]=V>>8&255,oe[R++]=V>>16&255,oe[R++]=Z&255,oe[R++]=Z>>8&255,re&&(oe[R++]=115,oe[R++]=65,oe[R++]=108,oe[R++]=84),r(oe,0,R).subarray(0,Math.min(q.length+5,16))},N=new WeakSet,Yd=function(V,Z,q,re,oe){if(!(Z instanceof l.Name))throw new i.FormatError("Invalid crypt filter name.");const ae=this,R=V.get(Z.name),S=R==null?void 0:R.get("CFM");if(!S||S.name==="None")return function(){return new b};if(S.name==="V2")return function(){var L;return new e(Ue(L=ae,J,O0).call(L,q,re,oe,!1))};if(S.name==="AESV2")return function(){var L;return new w(Ue(L=ae,J,O0).call(L,q,re,oe,!0))};if(S.name==="AESV3")return function(){return new f(oe)};throw new i.FormatError("Unknown crypto method")},Le(T,D,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122])),o.CipherTransformFactory=T},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecryptStream=void 0;var i=s(169);const l=512;class d extends i.DecodeStream{constructor(r,p,x){super(p),this.str=r,this.dict=r.dict,this.decrypt=x,this.nextChunk=null,this.initialized=!1}readBlock(){var g;let r;if(this.initialized?r=this.nextChunk:(r=this.str.getBytes(l),this.initialized=!0),!r||r.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(l);const p=((g=this.nextChunk)==null?void 0:g.length)>0,x=this.decrypt;r=x(r,!p);const y=this.bufferLength,v=y+r.length;this.ensureBuffer(v).set(r,y),this.bufferLength=v}}o.DecryptStream=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ObjectLoader=void 0,s(140);var i=s(151),l=s(152),d=s(150),e=s(145);function r(y){return y instanceof i.Ref||y instanceof i.Dict||y instanceof l.BaseStream||Array.isArray(y)}function p(y,v){if(y instanceof i.Dict)y=y.getRawValues();else if(y instanceof l.BaseStream)y=y.dict.getRawValues();else if(!Array.isArray(y))return;for(const b of y)r(b)&&v.push(b)}class x{constructor(v,b,g){this.dict=v,this.keys=b,this.xref=g,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:v,dict:b}=this;this.refSet=new i.RefSet;const g=[];for(const w of v){const f=b.getRaw(w);f!==void 0&&g.push(f)}return this._walk(g)}async _walk(v){const b=[],g=[];for(;v.length;){let w=v.pop();if(w instanceof i.Ref){if(this.refSet.has(w))continue;try{this.refSet.put(w),w=this.xref.fetch(w)}catch(f){if(!(f instanceof d.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${f}".`),this.refSet=null;const{manager:E}=this.xref.stream;return E.requestAllChunks()}b.push(w),g.push({begin:f.begin,end:f.end})}}if(w instanceof l.BaseStream){const f=w.getBaseStreams();if(f){let E=!1;for(const A of f)A.isDataLoaded||(E=!0,g.push({begin:A.start,end:A.end}));E&&b.push(w)}}p(w,v)}if(g.length){await this.xref.stream.manager.requestRanges(g);for(const w of b)w instanceof i.Ref&&this.refSet.remove(w);return this._walk(b)}this.refSet=null}}o.ObjectLoader=x},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XFAFactory=void 0,s(140);var i=s(229),l=s(230),d=s(243),e=s(239),r=s(238),p=s(145),x=s(244),y=s(254);class v{constructor(g){try{this.root=new x.XFAParser().parse(v._createDocument(g));const w=new l.Binder(this.root);this.form=w.bind(),this.dataHandler=new d.DataHandler(this.root,w.getData()),this.form[i.$globalData].template=this.form}catch(w){(0,p.warn)(`XFA - an error occurred during parsing and binding: ${w}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const g=this.form[i.$toPages]();return new Promise((w,f)=>{const E=()=>{try{const A=g.next();A.done?w(A.value):setTimeout(E,0)}catch(A){f(A)}};setTimeout(E,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(g=>{const{width:w,height:f}=g.attributes.style;return[0,0,parseInt(w),parseInt(f)]})}catch(g){(0,p.warn)(`XFA - an error occurred during layout: ${g}`)}}getBoundingBox(g){return this.dims[g]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(g){this.form[i.$globalData].images=g}setFonts(g){this.form[i.$globalData].fontFinder=new e.FontFinder(g);const w=[];for(let f of this.form[i.$globalData].usedTypefaces)f=(0,r.stripQuotes)(f),this.form[i.$globalData].fontFinder.find(f)||w.push(f);return w.length>0?w:null}appendFonts(g,w){this.form[i.$globalData].fontFinder.add(g,w)}async getPages(){this.pages||await this._createPages();const g=this.pages;return this.pages=null,g}serializeData(g){return this.dataHandler.serialize(g)}static _createDocument(g){return g["/xdp:xdp"]?Object.values(g).join(""):g["xdp:xdp"]}static getRichTextAsHtml(g){if(!g||typeof g!="string")return null;try{let w=new x.XFAParser(y.XhtmlNamespace,!0).parse(g);if(!["body","xhtml"].includes(w[i.$nodeName])){const O=y.XhtmlNamespace.body({});O[i.$appendChild](w),w=O}const f=w[i.$toHTML]();if(!f.success)return null;const{html:E}=f,{attributes:A}=E;return A&&(A.class&&(A.class=A.class.filter(O=>!O.startsWith("xfa"))),A.dir="auto"),{html:E,str:w[i.$text]()}}catch(w){(0,p.warn)(`XFA - an error occurred during parsing of rich text: ${w}`)}return null}}o.XFAFactory=v},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.$uid=o.$toStyle=o.$toString=o.$toPages=o.$toHTML=o.$text=o.$tabIndex=o.$setValue=o.$setSetAttributes=o.$setId=o.$searchNode=o.$root=o.$resolvePrototypes=o.$removeChild=o.$pushPara=o.$pushGlyphs=o.$popPara=o.$onText=o.$onChildCheck=o.$onChild=o.$nsAttributes=o.$nodeName=o.$namespaceId=o.$lastAttribute=o.$isUsable=o.$isTransparent=o.$isThereMoreWidth=o.$isSplittable=o.$isNsAgnostic=o.$isDescendent=o.$isDataValue=o.$isCDATAXml=o.$isBindable=o.$insertAt=o.$indexOf=o.$ids=o.$hasSettableValue=o.$globalData=o.$getTemplateRoot=o.$getSubformParent=o.$getRealChildrenByNameIt=o.$getParent=o.$getNextPage=o.$getExtra=o.$getDataValue=o.$getContainedChildren=o.$getChildrenByNameIt=o.$getChildrenByName=o.$getChildrenByClass=o.$getChildren=o.$getAvailableSpace=o.$getAttributes=o.$getAttributeIt=o.$flushHTML=o.$finalize=o.$extra=o.$dump=o.$data=o.$content=o.$consumed=o.$clone=o.$cleanup=o.$cleanPage=o.$clean=o.$childrenToHTML=o.$appendChild=o.$addHTML=o.$acceptWhitespace=void 0;const s=Symbol();o.$acceptWhitespace=s;const i=Symbol();o.$addHTML=i;const l=Symbol();o.$appendChild=l;const d=Symbol();o.$childrenToHTML=d;const e=Symbol();o.$clean=e;const r=Symbol();o.$cleanPage=r;const p=Symbol();o.$cleanup=p;const x=Symbol();o.$clone=x;const y=Symbol();o.$consumed=y;const v=Symbol("content");o.$content=v;const b=Symbol("data");o.$data=b;const g=Symbol();o.$dump=g;const w=Symbol("extra");o.$extra=w;const f=Symbol();o.$finalize=f;const E=Symbol();o.$flushHTML=E;const A=Symbol();o.$getAttributeIt=A;const O=Symbol();o.$getAttributes=O;const T=Symbol();o.$getAvailableSpace=T;const D=Symbol();o.$getChildrenByClass=D;const F=Symbol();o.$getChildrenByName=F;const C=Symbol();o.$getChildrenByNameIt=C;const B=Symbol();o.$getDataValue=B;const M=Symbol();o.$getExtra=M;const I=Symbol();o.$getRealChildrenByNameIt=I;const W=Symbol();o.$getChildren=W;const J=Symbol();o.$getContainedChildren=J;const H=Symbol();o.$getNextPage=H;const N=Symbol();o.$getSubformParent=N;const U=Symbol();o.$getParent=U;const Y=Symbol();o.$getTemplateRoot=Y;const _=Symbol();o.$globalData=_;const V=Symbol();o.$hasSettableValue=V;const Z=Symbol();o.$ids=Z;const q=Symbol();o.$indexOf=q;const re=Symbol();o.$insertAt=re;const oe=Symbol();o.$isCDATAXml=oe;const ae=Symbol();o.$isBindable=ae;const R=Symbol();o.$isDataValue=R;const S=Symbol();o.$isDescendent=S;const L=Symbol();o.$isNsAgnostic=L;const k=Symbol();o.$isSplittable=k;const z=Symbol();o.$isThereMoreWidth=z;const P=Symbol();o.$isTransparent=P;const K=Symbol();o.$isUsable=K;const te=Symbol();o.$lastAttribute=te;const X=Symbol("namespaceId");o.$namespaceId=X;const ee=Symbol("nodeName");o.$nodeName=ee;const G=Symbol();o.$nsAttributes=G;const ne=Symbol();o.$onChild=ne;const se=Symbol();o.$onChildCheck=se;const le=Symbol();o.$onText=le;const he=Symbol();o.$pushGlyphs=he;const be=Symbol();o.$popPara=be;const ye=Symbol();o.$pushPara=ye;const de=Symbol();o.$removeChild=de;const xe=Symbol("root");o.$root=xe;const fe=Symbol();o.$resolvePrototypes=fe;const ce=Symbol();o.$searchNode=ce;const ue=Symbol();o.$setId=ue;const ve=Symbol();o.$setSetAttributes=ve;const Ee=Symbol();o.$setValue=Ee;const Me=Symbol();o.$tabIndex=Me;const _e=Symbol();o.$text=_e;const ze=Symbol();o.$toPages=ze;const We=Symbol();o.$toHTML=We;const Ve=Symbol();o.$toString=Ve;const Ne=Symbol();o.$toStyle=Ne;const ke=Symbol("uid");o.$uid=ke},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Binder=void 0,s(140);var i=s(229),l=s(231),d=s(242),e=s(241),r=s(235),p=s(145);const x=r.NamespaceIds.datasets.id;function y(b){const g=new l.Text({});return g[i.$content]=b,g}class v{constructor(g){var w;this.root=g,this.datasets=g.datasets,this.data=((w=g.datasets)==null?void 0:w.data)||new e.XmlObject(r.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[i.$getChildren]().length===0,this.root.form=this.form=g.template[i.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(g,w,f){var E,A;if(g[i.$data]=w,g[i.$hasSettableValue]())if(w[i.$isDataValue]()){const O=w[i.$getDataValue]();g[i.$setValue](y(O))}else if(g instanceof l.Field&&((A=(E=g.ui)==null?void 0:E.choiceList)==null?void 0:A.open)==="multiSelect"){const O=w[i.$getChildren]().map(T=>T[i.$content].trim()).join(`
`);g[i.$setValue](y(O))}else this._isConsumeData()&&(0,p.warn)("XFA - Nodes haven't the same type.");else!w[i.$isDataValue]()||this._isMatchTemplate()?this._bindElement(g,w):(0,p.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(g,w,f,E){if(!g)return null;let A,O;for(let T=0;T<3;T++){for(A=f[i.$getRealChildrenByNameIt](g,!1,!0);O=A.next().value,!!O;)if(w===O[i.$isDataValue]())return O;if(f[i.$namespaceId]===r.NamespaceIds.datasets.id&&f[i.$nodeName]==="data")break;f=f[i.$getParent]()}return E?(A=this.data[i.$getRealChildrenByNameIt](g,!0,!1),O=A.next().value,O||(A=this.data[i.$getAttributeIt](g,!0),O=A.next().value,O!=null&&O[i.$isDataValue]())?O:null):null}_setProperties(g,w){if(!!g.hasOwnProperty("setProperty"))for(const{ref:f,target:E,connection:A}of g.setProperty.children){if(A||!f)continue;const O=(0,d.searchNode)(this.root,w,f,!1,!1);if(!O){(0,p.warn)(`XFA - Invalid reference: ${f}.`);continue}const[T]=O;if(!T[i.$isDescendent](this.data)){(0,p.warn)("XFA - Invalid node: must be a data node.");continue}const D=(0,d.searchNode)(this.root,g,E,!1,!1);if(!D){(0,p.warn)(`XFA - Invalid target: ${E}.`);continue}const[F]=D;if(!F[i.$isDescendent](g)){(0,p.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const C=F[i.$getParent]();if(F instanceof l.SetProperty||C instanceof l.SetProperty){(0,p.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(F instanceof l.BindItems||C instanceof l.BindItems){(0,p.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const B=T[i.$text](),M=F[i.$nodeName];if(F instanceof e.XFAAttribute){const I=Object.create(null);I[M]=B;const W=Reflect.construct(Object.getPrototypeOf(C).constructor,[I]);C[M]=W[M];continue}if(!F.hasOwnProperty(i.$content)){(0,p.warn)("XFA - Invalid node to use in setProperty");continue}F[i.$data]=T,F[i.$content]=B,F[i.$finalize]()}}_bindItems(g,w){if(!g.hasOwnProperty("items")||!g.hasOwnProperty("bindItems")||g.bindItems.isEmpty())return;for(const A of g.items.children)g[i.$removeChild](A);g.items.clear();const f=new l.Items({}),E=new l.Items({});g[i.$appendChild](f),g.items.push(f),g[i.$appendChild](E),g.items.push(E);for(const{ref:A,labelRef:O,valueRef:T,connection:D}of g.bindItems.children){if(D||!A)continue;const F=(0,d.searchNode)(this.root,w,A,!1,!1);if(!F){(0,p.warn)(`XFA - Invalid reference: ${A}.`);continue}for(const C of F){if(!C[i.$isDescendent](this.datasets)){(0,p.warn)(`XFA - Invalid ref (${A}): must be a datasets child.`);continue}const B=(0,d.searchNode)(this.root,C,O,!0,!1);if(!B){(0,p.warn)(`XFA - Invalid label: ${O}.`);continue}const[M]=B;if(!M[i.$isDescendent](this.datasets)){(0,p.warn)("XFA - Invalid label: must be a datasets child.");continue}const I=(0,d.searchNode)(this.root,C,T,!0,!1);if(!I){(0,p.warn)(`XFA - Invalid value: ${T}.`);continue}const[W]=I;if(!W[i.$isDescendent](this.datasets)){(0,p.warn)("XFA - Invalid value: must be a datasets child.");continue}const J=y(M[i.$text]()),H=y(W[i.$text]());f[i.$appendChild](J),f.text.push(J),E[i.$appendChild](H),E.text.push(H)}}}_bindOccurrences(g,w,f){let E;if(w.length>1&&(E=g[i.$clone](),E[i.$removeChild](E.occur),E.occur=null),this._bindValue(g,w[0],f),this._setProperties(g,w[0]),this._bindItems(g,w[0]),w.length===1)return;const A=g[i.$getParent](),O=g[i.$nodeName],T=A[i.$indexOf](g);for(let D=1,F=w.length;D<F;D++){const C=w[D],B=E[i.$clone]();A[O].push(B),A[i.$insertAt](T+D,B),this._bindValue(B,C,f),this._setProperties(B,C),this._bindItems(B,C)}}_createOccurrences(g){if(!this.emptyMerge)return;const{occur:w}=g;if(!w||w.initial<=1)return;const f=g[i.$getParent](),E=g[i.$nodeName];if(!(f[E]instanceof e.XFAObjectArray))return;let A;g.name?A=f[E].children.filter(D=>D.name===g.name).length:A=f[E].children.length;const O=f[i.$indexOf](g)+1,T=w.initial-A;if(T){const D=g[i.$clone]();D[i.$removeChild](D.occur),D.occur=null,f[E].push(D),f[i.$insertAt](O,D);for(let F=1;F<T;F++){const C=D[i.$clone]();f[E].push(C),f[i.$insertAt](O+F,C)}}}_getOccurInfo(g){const{name:w,occur:f}=g;if(!f||!w)return[1,1];const E=f.max===-1?1/0:f.max;return[f.min,E]}_setAndBind(g,w){this._setProperties(g,w),this._bindItems(g,w),this._bindElement(g,w)}_bindElement(g,w){const f=[];this._createOccurrences(g);for(const E of g[i.$getChildren]()){if(E[i.$data])continue;if(this._mergeMode===void 0&&E[i.$nodeName]==="subform"){this._mergeMode=E.mergeMode==="consumeData";const B=w[i.$getChildren]();if(B.length>0)this._bindOccurrences(E,[B[0]],null);else if(this.emptyMerge){const M=w[i.$namespaceId]===x?-1:w[i.$namespaceId],I=E[i.$data]=new e.XmlObject(M,E.name||"root");w[i.$appendChild](I),this._bindElement(E,I)}continue}if(!E[i.$isBindable]())continue;let A=!1,O=null,T=null,D=null;if(E.bind){switch(E.bind.match){case"none":this._setAndBind(E,w);continue;case"global":A=!0;break;case"dataRef":if(!E.bind.ref){(0,p.warn)(`XFA - ref is empty in node ${E[i.$nodeName]}.`),this._setAndBind(E,w);continue}T=E.bind.ref;break}E.bind.picture&&(O=E.bind.picture[i.$content])}const[F,C]=this._getOccurInfo(E);if(T)if(D=(0,d.searchNode)(this.root,w,T,!0,!1),D===null){if(D=(0,d.createDataNode)(this.data,w,T),!D)continue;this._isConsumeData()&&(D[i.$consumed]=!0),this._setAndBind(E,D);continue}else this._isConsumeData()&&(D=D.filter(B=>!B[i.$consumed])),D.length>C?D=D.slice(0,C):D.length===0&&(D=null),D&&this._isConsumeData()&&D.forEach(B=>{B[i.$consumed]=!0});else{if(!E.name){this._setAndBind(E,w);continue}if(this._isConsumeData()){const B=[];for(;B.length<C;){const M=this._findDataByNameToConsume(E.name,E[i.$hasSettableValue](),w,A);if(!M)break;M[i.$consumed]=!0,B.push(M)}D=B.length>0?B:null}else{if(D=w[i.$getRealChildrenByNameIt](E.name,!1,this.emptyMerge).next().value,!D){if(F===0){f.push(E);continue}const B=w[i.$namespaceId]===x?-1:w[i.$namespaceId];D=E[i.$data]=new e.XmlObject(B,E.name),this.emptyMerge&&(D[i.$consumed]=!0),w[i.$appendChild](D),this._setAndBind(E,D);continue}this.emptyMerge&&(D[i.$consumed]=!0),D=[D]}}D?this._bindOccurrences(E,D,O):F>0?this._setAndBind(E,w):f.push(E)}f.forEach(E=>E[i.$getParent]()[i.$removeChild](E))}}o.Binder=v},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Value=o.Text=o.TemplateNamespace=o.Template=o.SetProperty=o.Items=o.Field=o.BindItems=void 0,s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(140),s(232),s(146),s(148),s(149);var i=s(229),l=s(235),d=s(236),e=s(237),r=s(241),p=s(238),x=s(145),y=s(239),v=s(150),b=s(242);const g=l.NamespaceIds.template.id,w="http://www.w3.org/2000/svg",f=2,E=3,A=5e3,O=/^H(\d+)$/,T=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),D=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function F(ht){if(!ht||!ht.border)return{w:0,h:0};const j=ht.border[i.$getExtra]();return j?{w:j.widths[0]+j.widths[2]+j.insets[0]+j.insets[2],h:j.widths[1]+j.widths[3]+j.insets[1]+j.insets[3]}:{w:0,h:0}}function C(ht){return ht.margin&&(ht.margin.topInset||ht.margin.rightInset||ht.margin.bottomInset||ht.margin.leftInset)}function B(ht,j){if(!ht.value){const Se=new As({});ht[i.$appendChild](Se),ht.value=Se}ht.value[i.$setValue](j)}function*M(ht){for(const j of ht[i.$getChildren]()){if(j instanceof Do){yield*j[i.$getContainedChildren]();continue}yield j}}function I(ht){var j;return((j=ht.validate)==null?void 0:j.nullTest)==="error"}function W(ht){for(;ht;){if(!ht.traversal){ht[i.$tabIndex]=ht[i.$getParent]()[i.$tabIndex];return}if(ht[i.$tabIndex])return;let j=null;for(const dt of ht.traversal[i.$getChildren]())if(dt.operation==="next"){j=dt;break}if(!j||!j.ref){ht[i.$tabIndex]=ht[i.$getParent]()[i.$tabIndex];return}const Se=ht[i.$getTemplateRoot]();ht[i.$tabIndex]=++Se[i.$tabIndex];const ut=Se[i.$searchNode](j.ref,ht);if(!ut)return;ht=ut[0]}}function J(ht,j){var ut;const Se=ht.assist;if(Se){const dt=Se[i.$toHTML]();dt&&(j.title=dt);const kt=Se.role.match(O);if(kt){const Ft="heading",It=kt[1];j.role=Ft,j["aria-level"]=It}}if(ht.layout==="table")j.role="table";else if(ht.layout==="row")j.role="row";else{const dt=ht[i.$getParent]();dt.layout==="row"&&(j.role=((ut=dt.assist)==null?void 0:ut.role)==="TH"?"columnheader":"cell")}}function H(ht){if(!ht.assist)return null;const j=ht.assist;return j.speak&&j.speak[i.$content]!==""?j.speak[i.$content]:j.toolTip?j.toolTip[i.$content]:null}function N(ht){return p.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:ht}]})}function U(ht){const j=ht[i.$getTemplateRoot]();j[i.$extra].firstUnsplittable===null&&(j[i.$extra].firstUnsplittable=ht,j[i.$extra].noLayoutFailure=!0)}function Y(ht){const j=ht[i.$getTemplateRoot]();j[i.$extra].firstUnsplittable===ht&&(j[i.$extra].noLayoutFailure=!1)}function _(ht){if(ht[i.$extra]||(ht[i.$extra]=Object.create(null),ht.targetType==="auto"))return!1;const j=ht[i.$getTemplateRoot]();let Se=null;if(ht.target){if(Se=j[i.$searchNode](ht.target,ht[i.$getParent]()),!Se)return!1;Se=Se[0]}const{currentPageArea:ut,currentContentArea:dt}=j[i.$extra];if(ht.targetType==="pageArea")return Se instanceof wt||(Se=null),ht.startNew?(ht[i.$extra].target=Se||ut,!0):Se&&Se!==ut?(ht[i.$extra].target=Se,!0):!1;Se instanceof xe||(Se=null);const gt=Se&&Se[i.$getParent]();let kt,Ft=gt;if(ht.startNew)if(Se){const It=gt.contentArea.children,Bt=It.indexOf(dt),zt=It.indexOf(Se);Bt!==-1&&Bt<zt&&(Ft=null),kt=zt-1}else kt=ut.contentArea.children.indexOf(dt);else if(Se&&Se!==dt)kt=gt.contentArea.children.indexOf(Se)-1,Ft=gt===ut?null:gt;else return!1;return ht[i.$extra].target=Ft,ht[i.$extra].index=kt,!0}function V(ht,j,Se){const ut=ht[i.$getTemplateRoot](),dt=ut[i.$extra].noLayoutFailure,gt=j[i.$getSubformParent];j[i.$getSubformParent]=()=>ht,ut[i.$extra].noLayoutFailure=!0;const kt=j[i.$toHTML](Se);ht[i.$addHTML](kt.html,kt.bbox),ut[i.$extra].noLayoutFailure=dt,j[i.$getSubformParent]=gt}class Z extends r.StringObject{constructor(j){super(g,"appearanceFilter"),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||""}}class q extends r.XFAObject{constructor(j){super(g,"arc",!0),this.circular=(0,p.getInteger)({data:j.circular,defaultValue:0,validate:Se=>Se===1}),this.hand=(0,p.getStringOption)(j.hand,["even","left","right"]),this.id=j.id||"",this.startAngle=(0,p.getFloat)({data:j.startAngle,defaultValue:0,validate:Se=>!0}),this.sweepAngle=(0,p.getFloat)({data:j.sweepAngle,defaultValue:360,validate:Se=>!0}),this.use=j.use||"",this.usehref=j.usehref||"",this.edge=null,this.fill=null}[i.$toHTML](){var It;const j=this.edge||new Ne({}),Se=j[i.$toStyle](),ut=Object.create(null);((It=this.fill)==null?void 0:It.presence)==="visible"?Object.assign(ut,this.fill[i.$toStyle]()):ut.fill="transparent",ut.strokeWidth=(0,e.measureToString)(j.presence==="visible"?j.thickness:0),ut.stroke=Se.color;let dt;const gt={xmlns:w,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)dt={name:"ellipse",attributes:{xmlns:w,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:ut}};else{const Bt=this.startAngle*Math.PI/180,zt=this.sweepAngle*Math.PI/180,tn=this.sweepAngle>180?1:0,[Qt,nn,gn,$t]=[50*(1+Math.cos(Bt)),50*(1-Math.sin(Bt)),50*(1+Math.cos(Bt+zt)),50*(1-Math.sin(Bt+zt))];dt={name:"path",attributes:{xmlns:w,d:`M ${Qt} ${nn} A 50 50 0 ${tn} 0 ${gn} ${$t}`,vectorEffect:"non-scaling-stroke",style:ut}},Object.assign(gt,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const kt={name:"svg",children:[dt],attributes:gt},Ft=this[i.$getParent]()[i.$getParent]();return C(Ft)?p.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[kt]}):(kt.attributes.style.position="absolute",p.HTMLResult.success(kt))}}class re extends r.XFAObject{constructor(j){super(g,"area",!0),this.colSpan=(0,p.getInteger)({data:j.colSpan,defaultValue:1,validate:Se=>Se>=1||Se===-1}),this.id=j.id||"",this.name=j.name||"",this.relevant=(0,p.getRelevant)(j.relevant),this.use=j.use||"",this.usehref=j.usehref||"",this.x=(0,p.getMeasurement)(j.x,"0pt"),this.y=(0,p.getMeasurement)(j.y,"0pt"),this.desc=null,this.extras=null,this.area=new r.XFAObjectArray,this.draw=new r.XFAObjectArray,this.exObject=new r.XFAObjectArray,this.exclGroup=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.subform=new r.XFAObjectArray,this.subformSet=new r.XFAObjectArray}*[i.$getContainedChildren](){yield*M(this)}[i.$isTransparent](){return!0}[i.$isBindable](){return!0}[i.$addHTML](j,Se){const[ut,dt,gt,kt]=Se;this[i.$extra].width=Math.max(this[i.$extra].width,ut+gt),this[i.$extra].height=Math.max(this[i.$extra].height,dt+kt),this[i.$extra].children.push(j)}[i.$getAvailableSpace](){return this[i.$extra].availableSpace}[i.$toHTML](j){const Se=(0,e.toStyle)(this,"position"),ut={style:Se,id:this[i.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&ut.class.push("xfaPrintOnly"),this.name&&(ut.xfaName=this.name);const dt=[];this[i.$extra]={children:dt,width:0,height:0,availableSpace:j};const gt=this[i.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!gt.success)return gt.isBreak()?gt:(delete this[i.$extra],p.HTMLResult.FAILURE);Se.width=(0,e.measureToString)(this[i.$extra].width),Se.height=(0,e.measureToString)(this[i.$extra].height);const kt={name:"div",attributes:ut,children:dt},Ft=[this.x,this.y,this[i.$extra].width,this[i.$extra].height];return delete this[i.$extra],p.HTMLResult.success(kt,Ft)}}class oe extends r.XFAObject{constructor(j){super(g,"assist",!0),this.id=j.id||"",this.role=j.role||"",this.use=j.use||"",this.usehref=j.usehref||"",this.speak=null,this.toolTip=null}[i.$toHTML](){var j;return((j=this.toolTip)==null?void 0:j[i.$content])||null}}class ae extends r.XFAObject{constructor(j){super(g,"barcode",!0),this.charEncoding=(0,p.getKeyword)({data:j.charEncoding?j.charEncoding.toLowerCase():"",defaultValue:"",validate:Se=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Se)||Se.match(/iso-8859-\d{2}/)}),this.checksum=(0,p.getStringOption)(j.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,p.getInteger)({data:j.dataColumnCount,defaultValue:-1,validate:Se=>Se>=0}),this.dataLength=(0,p.getInteger)({data:j.dataLength,defaultValue:-1,validate:Se=>Se>=0}),this.dataPrep=(0,p.getStringOption)(j.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,p.getInteger)({data:j.dataRowCount,defaultValue:-1,validate:Se=>Se>=0}),this.endChar=j.endChar||"",this.errorCorrectionLevel=(0,p.getInteger)({data:j.errorCorrectionLevel,defaultValue:-1,validate:Se=>Se>=0&&Se<=8}),this.id=j.id||"",this.moduleHeight=(0,p.getMeasurement)(j.moduleHeight,"5mm"),this.moduleWidth=(0,p.getMeasurement)(j.moduleWidth,"0.25mm"),this.printCheckDigit=(0,p.getInteger)({data:j.printCheckDigit,defaultValue:0,validate:Se=>Se===1}),this.rowColumnRatio=(0,p.getRatio)(j.rowColumnRatio),this.startChar=j.startChar||"",this.textLocation=(0,p.getStringOption)(j.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,p.getInteger)({data:j.truncate,defaultValue:0,validate:Se=>Se===1}),this.type=(0,p.getStringOption)(j.type?j.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,p.getStringOption)(j.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=j.use||"",this.usehref=j.usehref||"",this.wideNarrowRatio=(0,p.getRatio)(j.wideNarrowRatio),this.encrypt=null,this.extras=null}}class R extends r.XFAObject{constructor(j){super(g,"bind",!0),this.match=(0,p.getStringOption)(j.match,["once","dataRef","global","none"]),this.ref=j.ref||"",this.picture=null}}class S extends r.XFAObject{constructor(j){super(g,"bindItems"),this.connection=j.connection||"",this.labelRef=j.labelRef||"",this.ref=j.ref||"",this.valueRef=j.valueRef||""}}o.BindItems=S;class L extends r.XFAObject{constructor(j){super(g,"bookend"),this.id=j.id||"",this.leader=j.leader||"",this.trailer=j.trailer||"",this.use=j.use||"",this.usehref=j.usehref||""}}class k extends r.Option01{constructor(j){super(g,"boolean"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$toHTML](j){return N(this[i.$content]===1?"1":"0")}}class z extends r.XFAObject{constructor(j){super(g,"border",!0),this.break=(0,p.getStringOption)(j.break,["close","open"]),this.hand=(0,p.getStringOption)(j.hand,["even","left","right"]),this.id=j.id||"",this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,p.getRelevant)(j.relevant),this.use=j.use||"",this.usehref=j.usehref||"",this.corner=new r.XFAObjectArray(4),this.edge=new r.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[i.$getExtra](){if(!this[i.$extra]){const j=this.edge.children.slice();if(j.length<4){const dt=j.at(-1)||new Ne({});for(let gt=j.length;gt<4;gt++)j.push(dt)}const Se=j.map(dt=>dt.thickness),ut=[0,0,0,0];this.margin&&(ut[0]=this.margin.topInset,ut[1]=this.margin.rightInset,ut[2]=this.margin.bottomInset,ut[3]=this.margin.leftInset),this[i.$extra]={widths:Se,insets:ut,edges:j}}return this[i.$extra]}[i.$toStyle](){var dt;const{edges:j}=this[i.$getExtra](),Se=j.map(gt=>{const kt=gt[i.$toStyle]();return kt.color||(kt.color="#000000"),kt}),ut=Object.create(null);if(this.margin&&Object.assign(ut,this.margin[i.$toStyle]()),((dt=this.fill)==null?void 0:dt.presence)==="visible"&&Object.assign(ut,this.fill[i.$toStyle]()),this.corner.children.some(gt=>gt.radius!==0)){const gt=this.corner.children.map(kt=>kt[i.$toStyle]());if(gt.length===2||gt.length===3){const kt=gt.at(-1);for(let Ft=gt.length;Ft<4;Ft++)gt.push(kt)}ut.borderRadius=gt.map(kt=>kt.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":ut.borderStyle="";break;case"inactive":ut.borderStyle="none";break;default:ut.borderStyle=Se.map(gt=>gt.style).join(" ");break}return ut.borderWidth=Se.map(gt=>gt.width).join(" "),ut.borderColor=Se.map(gt=>gt.color).join(" "),ut}}class P extends r.XFAObject{constructor(j){super(g,"break",!0),this.after=(0,p.getStringOption)(j.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=j.afterTarget||"",this.before=(0,p.getStringOption)(j.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=j.beforeTarget||"",this.bookendLeader=j.bookendLeader||"",this.bookendTrailer=j.bookendTrailer||"",this.id=j.id||"",this.overflowLeader=j.overflowLeader||"",this.overflowTarget=j.overflowTarget||"",this.overflowTrailer=j.overflowTrailer||"",this.startNew=(0,p.getInteger)({data:j.startNew,defaultValue:0,validate:Se=>Se===1}),this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null}}class K extends r.XFAObject{constructor(j){super(g,"breakAfter",!0),this.id=j.id||"",this.leader=j.leader||"",this.startNew=(0,p.getInteger)({data:j.startNew,defaultValue:0,validate:Se=>Se===1}),this.target=j.target||"",this.targetType=(0,p.getStringOption)(j.targetType,["auto","contentArea","pageArea"]),this.trailer=j.trailer||"",this.use=j.use||"",this.usehref=j.usehref||"",this.script=null}}class te extends r.XFAObject{constructor(j){super(g,"breakBefore",!0),this.id=j.id||"",this.leader=j.leader||"",this.startNew=(0,p.getInteger)({data:j.startNew,defaultValue:0,validate:Se=>Se===1}),this.target=j.target||"",this.targetType=(0,p.getStringOption)(j.targetType,["auto","contentArea","pageArea"]),this.trailer=j.trailer||"",this.use=j.use||"",this.usehref=j.usehref||"",this.script=null}[i.$toHTML](j){return this[i.$extra]={},p.HTMLResult.FAILURE}}class X extends r.XFAObject{constructor(j){super(g,"button",!0),this.highlight=(0,p.getStringOption)(j.highlight,["inverted","none","outline","push"]),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null}[i.$toHTML](j){const ut=this[i.$getParent]()[i.$getParent](),dt={name:"button",attributes:{id:this[i.$uid],class:["xfaButton"],style:{}},children:[]};for(const gt of ut.event.children){if(gt.activity!=="click"||!gt.script)continue;const kt=(0,v.recoverJsURL)(gt.script[i.$content]);if(!kt)continue;const Ft=(0,e.fixURL)(kt.url);!Ft||dt.children.push({name:"a",attributes:{id:"link"+this[i.$uid],href:Ft,newWindow:kt.newWindow,class:["xfaLink"],style:{}},children:[]})}return p.HTMLResult.success(dt)}}class ee extends r.XFAObject{constructor(j){super(g,"calculate",!0),this.id=j.id||"",this.override=(0,p.getStringOption)(j.override,["disabled","error","ignore","warning"]),this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.message=null,this.script=null}}class G extends r.XFAObject{constructor(j){super(g,"caption",!0),this.id=j.id||"",this.placement=(0,p.getStringOption)(j.placement,["left","bottom","inline","right","top"]),this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,p.getMeasurement)(j.reserve)),this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[i.$setValue](j){B(this,j)}[i.$getExtra](j){if(!this[i.$extra]){let{width:Se,height:ut}=j;switch(this.placement){case"left":case"right":case"inline":Se=this.reserve<=0?Se:this.reserve;break;case"top":case"bottom":ut=this.reserve<=0?ut:this.reserve;break}this[i.$extra]=(0,e.layoutNode)(this,{width:Se,height:ut})}return this[i.$extra]}[i.$toHTML](j){if(!this.value)return p.HTMLResult.EMPTY;this[i.$pushPara]();const Se=this.value[i.$toHTML](j).html;if(!Se)return this[i.$popPara](),p.HTMLResult.EMPTY;const ut=this.reserve;if(this.reserve<=0){const{w:kt,h:Ft}=this[i.$getExtra](j);switch(this.placement){case"left":case"right":case"inline":this.reserve=kt;break;case"top":case"bottom":this.reserve=Ft;break}}const dt=[];typeof Se=="string"?dt.push({name:"#text",value:Se}):dt.push(Se);const gt=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(gt.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(gt.height=(0,e.measureToString)(this.reserve));break}return(0,e.setPara)(this,null,Se),this[i.$popPara](),this.reserve=ut,p.HTMLResult.success({name:"div",attributes:{style:gt,class:["xfaCaption"]},children:dt})}}class ne extends r.StringObject{constructor(j){super(g,"certificate"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}}class se extends r.XFAObject{constructor(j){super(g,"certificates",!0),this.credentialServerPolicy=(0,p.getStringOption)(j.credentialServerPolicy,["optional","required"]),this.id=j.id||"",this.url=j.url||"",this.urlPolicy=j.urlPolicy||"",this.use=j.use||"",this.usehref=j.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class le extends r.XFAObject{constructor(j){super(g,"checkButton",!0),this.id=j.id||"",this.mark=(0,p.getStringOption)(j.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,p.getStringOption)(j.shape,["square","round"]),this.size=(0,p.getMeasurement)(j.size,"10pt"),this.use=j.use||"",this.usehref=j.usehref||"",this.border=null,this.extras=null,this.margin=null}[i.$toHTML](j){var Bn,an,Er;const Se=(0,e.toStyle)("margin"),ut=(0,e.measureToString)(this.size);Se.width=Se.height=ut;let dt,gt,kt;const Ft=this[i.$getParent]()[i.$getParent](),It=Ft.items.children.length&&Ft.items.children[0][i.$toHTML]().html||[],Bt={on:(It[0]!==void 0?It[0]:"on").toString(),off:(It[1]!==void 0?It[1]:"off").toString()},tn=(((Bn=Ft.value)==null?void 0:Bn[i.$text]())||"off")===Bt.on||void 0,Qt=Ft[i.$getSubformParent](),nn=Ft[i.$uid];let gn;Qt instanceof He?(kt=Qt[i.$uid],dt="radio",gt="xfaRadio",gn=((an=Qt[i.$data])==null?void 0:an[i.$uid])||Qt[i.$uid]):(dt="checkbox",gt="xfaCheckbox",gn=((Er=Ft[i.$data])==null?void 0:Er[i.$uid])||Ft[i.$uid]);const $t={name:"input",attributes:{class:[gt],style:Se,fieldId:nn,dataId:gn,type:dt,checked:tn,xfaOn:Bt.on,xfaOff:Bt.off,"aria-label":H(Ft),"aria-required":!1}};return kt&&($t.attributes.name=kt),I(Ft)&&($t.attributes["aria-required"]=!0,$t.attributes.required=!0),p.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[$t]})}}class he extends r.XFAObject{constructor(j){super(g,"choiceList",!0),this.commitOn=(0,p.getStringOption)(j.commitOn,["select","exit"]),this.id=j.id||"",this.open=(0,p.getStringOption)(j.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,p.getInteger)({data:j.textEntry,defaultValue:0,validate:Se=>Se===1}),this.use=j.use||"",this.usehref=j.usehref||"",this.border=null,this.extras=null,this.margin=null}[i.$toHTML](j){var Bt,zt,tn;const Se=(0,e.toStyle)(this,"border","margin"),dt=this[i.$getParent]()[i.$getParent](),kt={fontSize:`calc(${((Bt=dt.font)==null?void 0:Bt.size)||10}px * var(--scale-factor))`},Ft=[];if(dt.items.children.length>0){const Qt=dt.items;let nn=0,gn=0;Qt.children.length===2&&(nn=Qt.children[0].save,gn=1-nn);const $t=Qt.children[nn][i.$toHTML]().html,Bn=Qt.children[gn][i.$toHTML]().html;let an=!1;const Er=((zt=dt.value)==null?void 0:zt[i.$text]())||"";for(let $n=0,Wt=$t.length;$n<Wt;$n++){const Ot={name:"option",attributes:{value:Bn[$n]||$t[$n],style:kt},value:$t[$n]};Bn[$n]===Er&&(Ot.attributes.selected=an=!0),Ft.push(Ot)}an||Ft.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const It={class:["xfaSelect"],fieldId:dt[i.$uid],dataId:((tn=dt[i.$data])==null?void 0:tn[i.$uid])||dt[i.$uid],style:Se,"aria-label":H(dt),"aria-required":!1};return I(dt)&&(It["aria-required"]=!0,It.required=!0),this.open==="multiSelect"&&(It.multiple=!0),p.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:Ft,attributes:It}]})}}class be extends r.XFAObject{constructor(j){super(g,"color",!0),this.cSpace=(0,p.getStringOption)(j.cSpace,["SRGB"]),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.value=j.value?(0,p.getColor)(j.value):"",this.extras=null}[i.$hasSettableValue](){return!1}[i.$toStyle](){return this.value?x.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class ye extends r.XFAObject{constructor(j){super(g,"comb"),this.id=j.id||"",this.numberOfCells=(0,p.getInteger)({data:j.numberOfCells,defaultValue:0,validate:Se=>Se>=0}),this.use=j.use||"",this.usehref=j.usehref||""}}class de extends r.XFAObject{constructor(j){super(g,"connect",!0),this.connection=j.connection||"",this.id=j.id||"",this.ref=j.ref||"",this.usage=(0,p.getStringOption)(j.usage,["exportAndImport","exportOnly","importOnly"]),this.use=j.use||"",this.usehref=j.usehref||"",this.picture=null}}class xe extends r.XFAObject{constructor(j){super(g,"contentArea",!0),this.h=(0,p.getMeasurement)(j.h),this.id=j.id||"",this.name=j.name||"",this.relevant=(0,p.getRelevant)(j.relevant),this.use=j.use||"",this.usehref=j.usehref||"",this.w=(0,p.getMeasurement)(j.w),this.x=(0,p.getMeasurement)(j.x,"0pt"),this.y=(0,p.getMeasurement)(j.y,"0pt"),this.desc=null,this.extras=null}[i.$toHTML](j){const Se=(0,e.measureToString)(this.x),ut=(0,e.measureToString)(this.y),dt={left:Se,top:ut,width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},gt=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&gt.push("xfaPrintOnly"),p.HTMLResult.success({name:"div",children:[],attributes:{style:dt,class:gt,id:this[i.$uid]}})}}class fe extends r.XFAObject{constructor(j){super(g,"corner",!0),this.id=j.id||"",this.inverted=(0,p.getInteger)({data:j.inverted,defaultValue:0,validate:Se=>Se===1}),this.join=(0,p.getStringOption)(j.join,["square","round"]),this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,p.getMeasurement)(j.radius),this.stroke=(0,p.getStringOption)(j.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,p.getMeasurement)(j.thickness,"0.5pt"),this.use=j.use||"",this.usehref=j.usehref||"",this.color=null,this.extras=null}[i.$toStyle](){const j=(0,e.toStyle)(this,"visibility");return j.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),j}}class ce extends r.ContentObject{constructor(j){super(g,"date"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$finalize](){const j=this[i.$content].trim();this[i.$content]=j?new Date(j):null}[i.$toHTML](j){return N(this[i.$content]?this[i.$content].toString():"")}}class ue extends r.ContentObject{constructor(j){super(g,"dateTime"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$finalize](){const j=this[i.$content].trim();this[i.$content]=j?new Date(j):null}[i.$toHTML](j){return N(this[i.$content]?this[i.$content].toString():"")}}class ve extends r.XFAObject{constructor(j){super(g,"dateTimeEdit",!0),this.hScrollPolicy=(0,p.getStringOption)(j.hScrollPolicy,["auto","off","on"]),this.id=j.id||"",this.picker=(0,p.getStringOption)(j.picker,["host","none"]),this.use=j.use||"",this.usehref=j.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[i.$toHTML](j){var gt;const Se=(0,e.toStyle)(this,"border","font","margin"),ut=this[i.$getParent]()[i.$getParent](),dt={name:"input",attributes:{type:"text",fieldId:ut[i.$uid],dataId:((gt=ut[i.$data])==null?void 0:gt[i.$uid])||ut[i.$uid],class:["xfaTextfield"],style:Se,"aria-label":H(ut),"aria-required":!1}};return I(ut)&&(dt.attributes["aria-required"]=!0,dt.attributes.required=!0),p.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[dt]})}}class Ee extends r.ContentObject{constructor(j){super(g,"decimal"),this.fracDigits=(0,p.getInteger)({data:j.fracDigits,defaultValue:2,validate:Se=>!0}),this.id=j.id||"",this.leadDigits=(0,p.getInteger)({data:j.leadDigits,defaultValue:-1,validate:Se=>!0}),this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$finalize](){const j=parseFloat(this[i.$content].trim());this[i.$content]=isNaN(j)?null:j}[i.$toHTML](j){return N(this[i.$content]!==null?this[i.$content].toString():"")}}class Me extends r.XFAObject{constructor(j){super(g,"defaultUi",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null}}class _e extends r.XFAObject{constructor(j){super(g,"desc",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}}class ze extends r.OptionObject{constructor(j){super(g,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||""}}class We extends r.XFAObject{constructor(j){super(g,"digestMethods",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.digestMethod=new r.XFAObjectArray}}class Ve extends r.XFAObject{constructor(j){super(g,"draw",!0),this.anchorType=(0,p.getStringOption)(j.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,p.getInteger)({data:j.colSpan,defaultValue:1,validate:Se=>Se>=1||Se===-1}),this.h=j.h?(0,p.getMeasurement)(j.h):"",this.hAlign=(0,p.getStringOption)(j.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=j.id||"",this.locale=j.locale||"",this.maxH=(0,p.getMeasurement)(j.maxH,"0pt"),this.maxW=(0,p.getMeasurement)(j.maxW,"0pt"),this.minH=(0,p.getMeasurement)(j.minH,"0pt"),this.minW=(0,p.getMeasurement)(j.minW,"0pt"),this.name=j.name||"",this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,p.getRelevant)(j.relevant),this.rotate=(0,p.getInteger)({data:j.rotate,defaultValue:0,validate:Se=>Se%90===0}),this.use=j.use||"",this.usehref=j.usehref||"",this.w=j.w?(0,p.getMeasurement)(j.w):"",this.x=(0,p.getMeasurement)(j.x,"0pt"),this.y=(0,p.getMeasurement)(j.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new r.XFAObjectArray}[i.$setValue](j){B(this,j)}[i.$toHTML](j){if(W(this),this.presence==="hidden"||this.presence==="inactive")return p.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[i.$pushPara]();const Se=this.w,ut=this.h,{w:dt,h:gt,isBroken:kt}=(0,e.layoutNode)(this,j);if(dt&&this.w===""){if(kt&&this[i.$getSubformParent]()[i.$isThereMoreWidth]())return this[i.$popPara](),p.HTMLResult.FAILURE;this.w=dt}if(gt&&this.h===""&&(this.h=gt),U(this),!(0,d.checkDimensions)(this,j))return this.w=Se,this.h=ut,this[i.$popPara](),p.HTMLResult.FAILURE;Y(this);const Ft=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,Ft),Ft.margin&&(Ft.padding=Ft.margin,delete Ft.margin);const It=["xfaDraw"];this.font&&It.push("xfaFont"),(0,e.isPrintOnly)(this)&&It.push("xfaPrintOnly");const Bt={style:Ft,id:this[i.$uid],class:It};this.name&&(Bt.xfaName=this.name);const zt={name:"div",attributes:Bt,children:[]};J(this,Bt);const tn=(0,e.computeBbox)(this,zt,j),Qt=this.value?this.value[i.$toHTML](j).html:null;return Qt===null?(this.w=Se,this.h=ut,this[i.$popPara](),p.HTMLResult.success((0,e.createWrapper)(this,zt),tn)):(zt.children.push(Qt),(0,e.setPara)(this,Ft,Qt),this.w=Se,this.h=ut,this[i.$popPara](),p.HTMLResult.success((0,e.createWrapper)(this,zt),tn))}}class Ne extends r.XFAObject{constructor(j){super(g,"edge",!0),this.cap=(0,p.getStringOption)(j.cap,["square","butt","round"]),this.id=j.id||"",this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,p.getStringOption)(j.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,p.getMeasurement)(j.thickness,"0.5pt"),this.use=j.use||"",this.usehref=j.usehref||"",this.color=null,this.extras=null}[i.$toStyle](){const j=(0,e.toStyle)(this,"visibility");if(Object.assign(j,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[i.$toStyle]():"#000000",style:""}),this.presence!=="visible")j.style="none";else switch(this.stroke){case"solid":j.style="solid";break;case"dashDot":j.style="dashed";break;case"dashDotDot":j.style="dashed";break;case"dashed":j.style="dashed";break;case"dotted":j.style="dotted";break;case"embossed":j.style="ridge";break;case"etched":j.style="groove";break;case"lowered":j.style="inset";break;case"raised":j.style="outset";break}return j}}class ke extends r.OptionObject{constructor(j){super(g,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||""}}class Ie extends r.XFAObject{constructor(j){super(g,"encodings",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.encoding=new r.XFAObjectArray}}class Te extends r.XFAObject{constructor(j){super(g,"encrypt",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.certificate=null}}class Ae extends r.XFAObject{constructor(j){super(g,"encryptData",!0),this.id=j.id||"",this.operation=(0,p.getStringOption)(j.operation,["encrypt","decrypt"]),this.target=j.target||"",this.use=j.use||"",this.usehref=j.usehref||"",this.filter=null,this.manifest=null}}class ge extends r.XFAObject{constructor(j){super(g,"encryption",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.certificate=new r.XFAObjectArray}}class Ce extends r.OptionObject{constructor(j){super(g,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||""}}class Be extends r.XFAObject{constructor(j){super(g,"encryptionMethods",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.encryptionMethod=new r.XFAObjectArray}}class Ye extends r.XFAObject{constructor(j){super(g,"event",!0),this.activity=(0,p.getStringOption)(j.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=j.id||"",this.listen=(0,p.getStringOption)(j.listen,["refOnly","refAndDescendents"]),this.name=j.name||"",this.ref=j.ref||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Je extends r.ContentObject{constructor(j){super(g,"exData"),this.contentType=j.contentType||"",this.href=j.href||"",this.id=j.id||"",this.maxLength=(0,p.getInteger)({data:j.maxLength,defaultValue:-1,validate:Se=>Se>=-1}),this.name=j.name||"",this.rid=j.rid||"",this.transferEncoding=(0,p.getStringOption)(j.transferEncoding,["none","base64","package"]),this.use=j.use||"",this.usehref=j.usehref||""}[i.$isCDATAXml](){return this.contentType==="text/html"}[i.$onChild](j){return this.contentType==="text/html"&&j[i.$namespaceId]===l.NamespaceIds.xhtml.id?(this[i.$content]=j,!0):this.contentType==="text/xml"?(this[i.$content]=j,!0):!1}[i.$toHTML](j){return this.contentType!=="text/html"||!this[i.$content]?p.HTMLResult.EMPTY:this[i.$content][i.$toHTML](j)}}class Re extends r.XFAObject{constructor(j){super(g,"exObject",!0),this.archive=j.archive||"",this.classId=j.classId||"",this.codeBase=j.codeBase||"",this.codeType=j.codeType||"",this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.exObject=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}}class He extends r.XFAObject{constructor(j){super(g,"exclGroup",!0),this.access=(0,p.getStringOption)(j.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=j.accessKey||"",this.anchorType=(0,p.getStringOption)(j.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,p.getInteger)({data:j.colSpan,defaultValue:1,validate:Se=>Se>=1||Se===-1}),this.h=j.h?(0,p.getMeasurement)(j.h):"",this.hAlign=(0,p.getStringOption)(j.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=j.id||"",this.layout=(0,p.getStringOption)(j.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,p.getMeasurement)(j.maxH,"0pt"),this.maxW=(0,p.getMeasurement)(j.maxW,"0pt"),this.minH=(0,p.getMeasurement)(j.minH,"0pt"),this.minW=(0,p.getMeasurement)(j.minW,"0pt"),this.name=j.name||"",this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,p.getRelevant)(j.relevant),this.use=j.use||"",this.usehref=j.usehref||"",this.w=j.w?(0,p.getMeasurement)(j.w):"",this.x=(0,p.getMeasurement)(j.x,"0pt"),this.y=(0,p.getMeasurement)(j.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new r.XFAObjectArray,this.event=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.setProperty=new r.XFAObjectArray}[i.$isBindable](){return!0}[i.$hasSettableValue](){return!0}[i.$setValue](j){for(const Se of this.field.children){if(!Se.value){const ut=new As({});Se[i.$appendChild](ut),Se.value=ut}Se.value[i.$setValue](j)}}[i.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[i.$extra].attempt===0&&this[i.$extra].numberInLine>0||this[i.$getParent]()[i.$isThereMoreWidth]()}[i.$isSplittable](){var Se;const j=this[i.$getSubformParent]();return j[i.$isSplittable]()?this[i.$extra]._isSplittable!==void 0?this[i.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[i.$extra]._isSplittable=!1,!1):((Se=j.layout)==null?void 0:Se.endsWith("-tb"))&&j[i.$extra].numberInLine!==0?!1:(this[i.$extra]._isSplittable=!0,!0):!1}[i.$flushHTML](){return(0,d.flushHTML)(this)}[i.$addHTML](j,Se){(0,d.addHTML)(this,j,Se)}[i.$getAvailableSpace](){return(0,d.getAvailableSpace)(this)}[i.$toHTML](j){if(W(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return p.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const Se=[],ut={id:this[i.$uid],class:[]};(0,e.setAccess)(this,ut.class),this[i.$extra]||(this[i.$extra]=Object.create(null)),Object.assign(this[i.$extra],{children:Se,attributes:ut,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,j.width),height:Math.min(this.h||1/0,j.height)},width:0,height:0,prevHeight:0,currentWidth:0});const dt=this[i.$isSplittable]();if(dt||U(this),!(0,d.checkDimensions)(this,j))return p.HTMLResult.FAILURE;const gt=new Set(["field"]);if(this.layout.includes("row")){const an=this[i.$getSubformParent]().columnWidths;Array.isArray(an)&&an.length>0&&(this[i.$extra].columnWidths=an,this[i.$extra].currentColumn=0)}const kt=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Ft=["xfaExclgroup"],It=(0,e.layoutClass)(this);It&&Ft.push(It),(0,e.isPrintOnly)(this)&&Ft.push("xfaPrintOnly"),ut.style=kt,ut.class=Ft,this.name&&(ut.xfaName=this.name),this[i.$pushPara]();const Bt=this.layout==="lr-tb"||this.layout==="rl-tb",zt=Bt?f:1;for(;this[i.$extra].attempt<zt;this[i.$extra].attempt++){Bt&&this[i.$extra].attempt===f-1&&(this[i.$extra].numberInLine=0);const an=this[i.$childrenToHTML]({filter:gt,include:!0});if(an.success)break;if(an.isBreak())return this[i.$popPara](),an;if(Bt&&this[i.$extra].attempt===0&&this[i.$extra].numberInLine===0&&!this[i.$getTemplateRoot]()[i.$extra].noLayoutFailure){this[i.$extra].attempt=zt;break}}if(this[i.$popPara](),dt||Y(this),this[i.$extra].attempt===zt)return dt||delete this[i.$extra],p.HTMLResult.FAILURE;let tn=0,Qt=0;this.margin&&(tn=this.margin.leftInset+this.margin.rightInset,Qt=this.margin.topInset+this.margin.bottomInset);const nn=Math.max(this[i.$extra].width+tn,this.w||0),gn=Math.max(this[i.$extra].height+Qt,this.h||0),$t=[this.x,this.y,nn,gn];this.w===""&&(kt.width=(0,e.measureToString)(nn)),this.h===""&&(kt.height=(0,e.measureToString)(gn));const Bn={name:"div",attributes:ut,children:Se};return J(this,ut),delete this[i.$extra],p.HTMLResult.success((0,e.createWrapper)(this,Bn),$t)}}class nt extends r.XFAObject{constructor(j){super(g,"execute"),this.connection=j.connection||"",this.executeType=(0,p.getStringOption)(j.executeType,["import","remerge"]),this.id=j.id||"",this.runAt=(0,p.getStringOption)(j.runAt,["client","both","server"]),this.use=j.use||"",this.usehref=j.usehref||""}}class et extends r.XFAObject{constructor(j){super(g,"extras",!0),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||"",this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.extras=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}}class it extends r.XFAObject{constructor(j){super(g,"field",!0),this.access=(0,p.getStringOption)(j.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=j.accessKey||"",this.anchorType=(0,p.getStringOption)(j.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,p.getInteger)({data:j.colSpan,defaultValue:1,validate:Se=>Se>=1||Se===-1}),this.h=j.h?(0,p.getMeasurement)(j.h):"",this.hAlign=(0,p.getStringOption)(j.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=j.id||"",this.locale=j.locale||"",this.maxH=(0,p.getMeasurement)(j.maxH,"0pt"),this.maxW=(0,p.getMeasurement)(j.maxW,"0pt"),this.minH=(0,p.getMeasurement)(j.minH,"0pt"),this.minW=(0,p.getMeasurement)(j.minW,"0pt"),this.name=j.name||"",this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,p.getRelevant)(j.relevant),this.rotate=(0,p.getInteger)({data:j.rotate,defaultValue:0,validate:Se=>Se%90===0}),this.use=j.use||"",this.usehref=j.usehref||"",this.w=j.w?(0,p.getMeasurement)(j.w):"",this.x=(0,p.getMeasurement)(j.x,"0pt"),this.y=(0,p.getMeasurement)(j.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new r.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new r.XFAObjectArray,this.connect=new r.XFAObjectArray,this.event=new r.XFAObjectArray,this.setProperty=new r.XFAObjectArray}[i.$isBindable](){return!0}[i.$setValue](j){B(this,j)}[i.$toHTML](j){var an,Er,$n;if(W(this),!this.ui){this.ui=new No({}),this.ui[i.$globalData]=this[i.$globalData],this[i.$appendChild](this.ui);let Wt;switch(this.items.children.length){case 0:Wt=new wl({}),this.ui.textEdit=Wt;break;case 1:Wt=new le({}),this.ui.checkButton=Wt;break;case 2:Wt=new he({}),this.ui.choiceList=Wt;break}this.ui[i.$appendChild](Wt)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return p.HTMLResult.EMPTY;this.caption&&delete this.caption[i.$extra],this[i.$pushPara]();const Se=this.caption?this.caption[i.$toHTML](j).html:null,ut=this.w,dt=this.h;let gt=0,kt=0;this.margin&&(gt=this.margin.leftInset+this.margin.rightInset,kt=this.margin.topInset+this.margin.bottomInset);let Ft=null;if(this.w===""||this.h===""){let Wt=null,Ot=null,ta=0,Nr=0;if(this.ui.checkButton)ta=Nr=this.ui.checkButton.size;else{const{w:ni,h:ba}=(0,e.layoutNode)(this,j);ni!==null?(ta=ni,Nr=ba):Nr=(0,y.getMetrics)(this.font,!0).lineNoGap}if(Ft=F(this.ui[i.$getExtra]()),ta+=Ft.w,Nr+=Ft.h,this.caption){const{w:ni,h:ba,isBroken:Un}=this.caption[i.$getExtra](j);if(Un&&this[i.$getSubformParent]()[i.$isThereMoreWidth]())return this[i.$popPara](),p.HTMLResult.FAILURE;switch(Wt=ni,Ot=ba,this.caption.placement){case"left":case"right":case"inline":Wt+=ta;break;case"top":case"bottom":Ot+=Nr;break}}else Wt=ta,Ot=Nr;Wt&&this.w===""&&(Wt+=gt,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Wt?Wt:this.minW)),Ot&&this.h===""&&(Ot+=kt,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Ot?Ot:this.minH))}if(this[i.$popPara](),(0,e.fixDimensions)(this),U(this),!(0,d.checkDimensions)(this,j))return this.w=ut,this.h=dt,this[i.$popPara](),p.HTMLResult.FAILURE;Y(this);const It=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,It);const Bt=["xfaField"];this.font&&Bt.push("xfaFont"),(0,e.isPrintOnly)(this)&&Bt.push("xfaPrintOnly");const zt={style:It,id:this[i.$uid],class:Bt};It.margin&&(It.padding=It.margin,delete It.margin),(0,e.setAccess)(this,Bt),this.name&&(zt.xfaName=this.name);const tn=[],Qt={name:"div",attributes:zt,children:tn};J(this,zt);const nn=this.border?this.border[i.$toStyle]():null,gn=(0,e.computeBbox)(this,Qt,j),$t=this.ui[i.$toHTML]().html;if(!$t)return Object.assign(It,nn),p.HTMLResult.success((0,e.createWrapper)(this,Qt),gn);this[i.$tabIndex]&&((an=$t.children)!=null&&an[0]?$t.children[0].attributes.tabindex=this[i.$tabIndex]:$t.attributes.tabindex=this[i.$tabIndex]),$t.attributes.style||($t.attributes.style=Object.create(null));let Bn=null;if(this.ui.button?($t.children.length===1&&([Bn]=$t.children.splice(0,1)),Object.assign($t.attributes.style,nn)):Object.assign(It,nn),tn.push($t),this.value){if(this.ui.imageEdit)$t.children.push(this.value[i.$toHTML]().html);else if(!this.ui.button){let Wt="";if(this.value.exData)Wt=this.value.exData[i.$text]();else if(this.value.text)Wt=this.value.text[i.$getExtra]();else{const Ot=this.value[i.$toHTML]().html;Ot!==null&&(Wt=Ot.children[0].value)}this.ui.textEdit&&((Er=this.value.text)==null?void 0:Er.maxChars)&&($t.children[0].attributes.maxLength=this.value.text.maxChars),Wt&&(this.ui.numericEdit&&(Wt=parseFloat(Wt),Wt=isNaN(Wt)?"":Wt.toString()),$t.children[0].name==="textarea"?$t.children[0].attributes.textContent=Wt:$t.children[0].attributes.value=Wt)}}if(!this.ui.imageEdit&&(($n=$t.children)==null?void 0:$n[0])&&this.h){Ft=Ft||F(this.ui[i.$getExtra]());let Wt=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Wt=this.caption.reserve,Wt<=0&&(Wt=this.caption[i.$getExtra](j).h);const Ot=this.h-Wt-kt-Ft.h;$t.children[0].attributes.style.height=(0,e.measureToString)(Ot)}else $t.children[0].attributes.style.height="100%"}if(Bn&&$t.children.push(Bn),!Se)return $t.attributes.class&&$t.attributes.class.push("xfaLeft"),this.w=ut,this.h=dt,p.HTMLResult.success((0,e.createWrapper)(this,Qt),gn);if(this.ui.button)return It.padding&&delete It.padding,Se.name==="div"&&(Se.name="span"),$t.children.push(Se),p.HTMLResult.success(Qt,gn);switch(this.ui.checkButton&&(Se.attributes.class[0]="xfaCaptionForCheckButton"),$t.attributes.class||($t.attributes.class=[]),$t.children.splice(0,0,Se),this.caption.placement){case"left":$t.attributes.class.push("xfaLeft");break;case"right":$t.attributes.class.push("xfaRight");break;case"top":$t.attributes.class.push("xfaTop");break;case"bottom":$t.attributes.class.push("xfaBottom");break;case"inline":$t.attributes.class.push("xfaLeft");break}return this.w=ut,this.h=dt,p.HTMLResult.success((0,e.createWrapper)(this,Qt),gn)}}o.Field=it;class qe extends r.XFAObject{constructor(j){super(g,"fill",!0),this.id=j.id||"",this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.use=j.use||"",this.usehref=j.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[i.$toStyle](){var Ft;const j=this[i.$getParent](),ut=j[i.$getParent]()[i.$getParent](),dt=Object.create(null);let gt="color",kt=gt;j instanceof z&&(gt="background-color",kt="background",ut instanceof No&&(dt.backgroundColor="white")),(j instanceof Nt||j instanceof q)&&(gt=kt="fill",dt.fill="white");for(const It of Object.getOwnPropertyNames(this)){if(It==="extras"||It==="color")continue;const Bt=this[It];if(!(Bt instanceof r.XFAObject))continue;const zt=Bt[i.$toStyle](this.color);return zt&&(dt[zt.startsWith("#")?gt:kt]=zt),dt}if((Ft=this.color)!=null&&Ft.value){const It=this.color[i.$toStyle]();dt[It.startsWith("#")?gt:kt]=It}return dt}}class lt extends r.XFAObject{constructor(j){super(g,"filter",!0),this.addRevocationInfo=(0,p.getStringOption)(j.addRevocationInfo,["","required","optional","none"]),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||"",this.version=(0,p.getInteger)({data:this.version,defaultValue:5,validate:Se=>Se>=1&&Se<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class rt extends r.ContentObject{constructor(j){super(g,"float"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$finalize](){const j=parseFloat(this[i.$content].trim());this[i.$content]=isNaN(j)?null:j}[i.$toHTML](j){return N(this[i.$content]!==null?this[i.$content].toString():"")}}class Oe extends r.XFAObject{constructor(j){super(g,"font",!0),this.baselineShift=(0,p.getMeasurement)(j.baselineShift),this.fontHorizontalScale=(0,p.getFloat)({data:j.fontHorizontalScale,defaultValue:100,validate:Se=>Se>=0}),this.fontVerticalScale=(0,p.getFloat)({data:j.fontVerticalScale,defaultValue:100,validate:Se=>Se>=0}),this.id=j.id||"",this.kerningMode=(0,p.getStringOption)(j.kerningMode,["none","pair"]),this.letterSpacing=(0,p.getMeasurement)(j.letterSpacing,"0"),this.lineThrough=(0,p.getInteger)({data:j.lineThrough,defaultValue:0,validate:Se=>Se===1||Se===2}),this.lineThroughPeriod=(0,p.getStringOption)(j.lineThroughPeriod,["all","word"]),this.overline=(0,p.getInteger)({data:j.overline,defaultValue:0,validate:Se=>Se===1||Se===2}),this.overlinePeriod=(0,p.getStringOption)(j.overlinePeriod,["all","word"]),this.posture=(0,p.getStringOption)(j.posture,["normal","italic"]),this.size=(0,p.getMeasurement)(j.size,"10pt"),this.typeface=j.typeface||"Courier",this.underline=(0,p.getInteger)({data:j.underline,defaultValue:0,validate:Se=>Se===1||Se===2}),this.underlinePeriod=(0,p.getStringOption)(j.underlinePeriod,["all","word"]),this.use=j.use||"",this.usehref=j.usehref||"",this.weight=(0,p.getStringOption)(j.weight,["normal","bold"]),this.extras=null,this.fill=null}[i.$clean](j){super[i.$clean](j),this[i.$globalData].usedTypefaces.add(this.typeface)}[i.$toStyle](){const j=(0,e.toStyle)(this,"fill"),Se=j.color;return Se&&(Se==="#000000"?delete j.color:Se.startsWith("#")||(j.background=Se,j.backgroundClip="text",j.color="transparent")),this.baselineShift&&(j.verticalAlign=(0,e.measureToString)(this.baselineShift)),j.fontKerning=this.kerningMode==="none"?"none":"normal",j.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(j.textDecoration="line-through",this.lineThrough===2&&(j.textDecorationStyle="double")),this.overline!==0&&(j.textDecoration="overline",this.overline===2&&(j.textDecorationStyle="double")),j.fontStyle=this.posture,j.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[i.$globalData].fontFinder,j),this.underline!==0&&(j.textDecoration="underline",this.underline===2&&(j.textDecorationStyle="double")),j.fontWeight=this.weight,j}}class $e extends r.XFAObject{constructor(j){super(g,"format",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.picture=null}}class me extends r.StringObject{constructor(j){super(g,"handler"),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||""}}class Q extends r.XFAObject{constructor(j){super(g,"hyphenation"),this.excludeAllCaps=(0,p.getInteger)({data:j.excludeAllCaps,defaultValue:0,validate:Se=>Se===1}),this.excludeInitialCap=(0,p.getInteger)({data:j.excludeInitialCap,defaultValue:0,validate:Se=>Se===1}),this.hyphenate=(0,p.getInteger)({data:j.hyphenate,defaultValue:0,validate:Se=>Se===1}),this.id=j.id||"",this.pushCharacterCount=(0,p.getInteger)({data:j.pushCharacterCount,defaultValue:3,validate:Se=>Se>=0}),this.remainCharacterCount=(0,p.getInteger)({data:j.remainCharacterCount,defaultValue:3,validate:Se=>Se>=0}),this.use=j.use||"",this.usehref=j.usehref||"",this.wordCharacterCount=(0,p.getInteger)({data:j.wordCharacterCount,defaultValue:7,validate:Se=>Se>=0})}}class pe extends r.StringObject{constructor(j){super(g,"image"),this.aspect=(0,p.getStringOption)(j.aspect,["fit","actual","height","none","width"]),this.contentType=j.contentType||"",this.href=j.href||"",this.id=j.id||"",this.name=j.name||"",this.transferEncoding=(0,p.getStringOption)(j.transferEncoding,["base64","none","package"]),this.use=j.use||"",this.usehref=j.usehref||""}[i.$toHTML](){if(this.contentType&&!T.has(this.contentType.toLowerCase()))return p.HTMLResult.EMPTY;let j=this[i.$globalData].images&&this[i.$globalData].images.get(this.href);if(!j&&(this.href||!this[i.$content])||(!j&&this.transferEncoding==="base64"&&(j=(0,x.stringToBytes)(atob(this[i.$content]))),!j))return p.HTMLResult.EMPTY;if(!this.contentType){for(const[gt,kt]of D)if(j.length>gt.length&&gt.every((Ft,It)=>Ft===j[It])){this.contentType=kt;break}if(!this.contentType)return p.HTMLResult.EMPTY}const Se=new Blob([j],{type:this.contentType});let ut;switch(this.aspect){case"fit":case"actual":break;case"height":ut={height:"100%",objectFit:"fill"};break;case"none":ut={width:"100%",height:"100%",objectFit:"fill"};break;case"width":ut={width:"100%",objectFit:"fill"};break}const dt=this[i.$getParent]();return p.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:ut,src:URL.createObjectURL(Se),alt:dt?H(dt[i.$getParent]()):null}})}}class we extends r.XFAObject{constructor(j){super(g,"imageEdit",!0),this.data=(0,p.getStringOption)(j.data,["link","embed"]),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.border=null,this.extras=null,this.margin=null}[i.$toHTML](j){return this.data==="embed"?p.HTMLResult.success({name:"div",children:[],attributes:{}}):p.HTMLResult.EMPTY}}class Fe extends r.ContentObject{constructor(j){super(g,"integer"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$finalize](){const j=parseInt(this[i.$content].trim(),10);this[i.$content]=isNaN(j)?null:j}[i.$toHTML](j){return N(this[i.$content]!==null?this[i.$content].toString():"")}}class Pe extends r.XFAObject{constructor(j){super(g,"issuers",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.certificate=new r.XFAObjectArray}}class De extends r.XFAObject{constructor(j){super(g,"items",!0),this.id=j.id||"",this.name=j.name||"",this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.ref=j.ref||"",this.save=(0,p.getInteger)({data:j.save,defaultValue:0,validate:Se=>Se===1}),this.use=j.use||"",this.usehref=j.usehref||"",this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}[i.$toHTML](){const j=[];for(const Se of this[i.$getChildren]())j.push(Se[i.$text]());return p.HTMLResult.success(j)}}o.Items=De;class Xe extends r.XFAObject{constructor(j){super(g,"keep",!0),this.id=j.id||"";const Se=["none","contentArea","pageArea"];this.intact=(0,p.getStringOption)(j.intact,Se),this.next=(0,p.getStringOption)(j.next,Se),this.previous=(0,p.getStringOption)(j.previous,Se),this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null}}class je extends r.XFAObject{constructor(j){super(g,"keyUsage");const Se=["","yes","no"];this.crlSign=(0,p.getStringOption)(j.crlSign,Se),this.dataEncipherment=(0,p.getStringOption)(j.dataEncipherment,Se),this.decipherOnly=(0,p.getStringOption)(j.decipherOnly,Se),this.digitalSignature=(0,p.getStringOption)(j.digitalSignature,Se),this.encipherOnly=(0,p.getStringOption)(j.encipherOnly,Se),this.id=j.id||"",this.keyAgreement=(0,p.getStringOption)(j.keyAgreement,Se),this.keyCertSign=(0,p.getStringOption)(j.keyCertSign,Se),this.keyEncipherment=(0,p.getStringOption)(j.keyEncipherment,Se),this.nonRepudiation=(0,p.getStringOption)(j.nonRepudiation,Se),this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||""}}class Ze extends r.XFAObject{constructor(j){super(g,"line",!0),this.hand=(0,p.getStringOption)(j.hand,["even","left","right"]),this.id=j.id||"",this.slope=(0,p.getStringOption)(j.slope,["\\","/"]),this.use=j.use||"",this.usehref=j.usehref||"",this.edge=null}[i.$toHTML](){const j=this[i.$getParent]()[i.$getParent](),Se=this.edge||new Ne({}),ut=Se[i.$toStyle](),dt=Object.create(null),gt=Se.presence==="visible"?Se.thickness:0;dt.strokeWidth=(0,e.measureToString)(gt),dt.stroke=ut.color;let kt,Ft,It,Bt,zt="100%",tn="100%";j.w<=gt?([kt,Ft,It,Bt]=["50%",0,"50%","100%"],zt=dt.strokeWidth):j.h<=gt?([kt,Ft,It,Bt]=[0,"50%","100%","50%"],tn=dt.strokeWidth):this.slope==="\\"?[kt,Ft,It,Bt]=[0,0,"100%","100%"]:[kt,Ft,It,Bt]=[0,"100%","100%",0];const nn={name:"svg",children:[{name:"line",attributes:{xmlns:w,x1:kt,y1:Ft,x2:It,y2:Bt,style:dt}}],attributes:{xmlns:w,width:zt,height:tn,style:{overflow:"visible"}}};return C(j)?p.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[nn]}):(nn.attributes.style.position="absolute",p.HTMLResult.success(nn))}}class ot extends r.XFAObject{constructor(j){super(g,"linear",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["toRight","toBottom","toLeft","toTop"]),this.use=j.use||"",this.usehref=j.usehref||"",this.color=null,this.extras=null}[i.$toStyle](j){j=j?j[i.$toStyle]():"#FFFFFF";const Se=this.type.replace(/([RBLT])/," $1").toLowerCase(),ut=this.color?this.color[i.$toStyle]():"#000000";return`linear-gradient(${Se}, ${j}, ${ut})`}}class Ke extends r.ContentObject{constructor(j){super(g,"lockDocument"),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||""}[i.$finalize](){this[i.$content]=(0,p.getStringOption)(this[i.$content],["auto","0","1"])}}class Ge extends r.XFAObject{constructor(j){super(g,"manifest",!0),this.action=(0,p.getStringOption)(j.action,["include","all","exclude"]),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.ref=new r.XFAObjectArray}}class tt extends r.XFAObject{constructor(j){super(g,"margin",!0),this.bottomInset=(0,p.getMeasurement)(j.bottomInset,"0"),this.id=j.id||"",this.leftInset=(0,p.getMeasurement)(j.leftInset,"0"),this.rightInset=(0,p.getMeasurement)(j.rightInset,"0"),this.topInset=(0,p.getMeasurement)(j.topInset,"0"),this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null}[i.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class at extends r.XFAObject{constructor(j){super(g,"mdp"),this.id=j.id||"",this.permissions=(0,p.getInteger)({data:j.permissions,defaultValue:2,validate:Se=>Se===1||Se===3}),this.signatureType=(0,p.getStringOption)(j.signatureType,["filler","author"]),this.use=j.use||"",this.usehref=j.usehref||""}}class st extends r.XFAObject{constructor(j){super(g,"medium"),this.id=j.id||"",this.imagingBBox=(0,p.getBBox)(j.imagingBBox),this.long=(0,p.getMeasurement)(j.long),this.orientation=(0,p.getStringOption)(j.orientation,["portrait","landscape"]),this.short=(0,p.getMeasurement)(j.short),this.stock=j.stock||"",this.trayIn=(0,p.getStringOption)(j.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,p.getStringOption)(j.trayOut,["auto","delegate"]),this.use=j.use||"",this.usehref=j.usehref||""}}class ft extends r.XFAObject{constructor(j){super(g,"message",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.text=new r.XFAObjectArray}}class pt extends r.XFAObject{constructor(j){super(g,"numericEdit",!0),this.hScrollPolicy=(0,p.getStringOption)(j.hScrollPolicy,["auto","off","on"]),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[i.$toHTML](j){var gt;const Se=(0,e.toStyle)(this,"border","font","margin"),ut=this[i.$getParent]()[i.$getParent](),dt={name:"input",attributes:{type:"text",fieldId:ut[i.$uid],dataId:((gt=ut[i.$data])==null?void 0:gt[i.$uid])||ut[i.$uid],class:["xfaTextfield"],style:Se,"aria-label":H(ut),"aria-required":!1}};return I(ut)&&(dt.attributes["aria-required"]=!0,dt.attributes.required=!0),p.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[dt]})}}class ct extends r.XFAObject{constructor(j){super(g,"occur",!0),this.id=j.id||"",this.initial=j.initial!==""?(0,p.getInteger)({data:j.initial,defaultValue:"",validate:Se=>!0}):"",this.max=j.max!==""?(0,p.getInteger)({data:j.max,defaultValue:1,validate:Se=>!0}):"",this.min=j.min!==""?(0,p.getInteger)({data:j.min,defaultValue:1,validate:Se=>!0}):"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null}[i.$clean](){const j=this[i.$getParent](),Se=this.min;this.min===""&&(this.min=j instanceof wt||j instanceof Tt?0:1),this.max===""&&(Se===""?this.max=j instanceof wt||j instanceof Tt?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=j instanceof Lo?1:this.min)}}class yt extends r.StringObject{constructor(j){super(g,"oid"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}}class bt extends r.XFAObject{constructor(j){super(g,"oids",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.oid=new r.XFAObjectArray}}class Et extends r.XFAObject{constructor(j){super(g,"overflow"),this.id=j.id||"",this.leader=j.leader||"",this.target=j.target||"",this.trailer=j.trailer||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$getExtra](){if(!this[i.$extra]){const j=this[i.$getParent](),Se=this[i.$getTemplateRoot](),ut=Se[i.$searchNode](this.target,j),dt=Se[i.$searchNode](this.leader,j),gt=Se[i.$searchNode](this.trailer,j);this[i.$extra]={target:(ut==null?void 0:ut[0])||null,leader:(dt==null?void 0:dt[0])||null,trailer:(gt==null?void 0:gt[0])||null,addLeader:!1,addTrailer:!1}}return this[i.$extra]}}class wt extends r.XFAObject{constructor(j){super(g,"pageArea",!0),this.blankOrNotBlank=(0,p.getStringOption)(j.blankOrNotBlank,["any","blank","notBlank"]),this.id=j.id||"",this.initialNumber=(0,p.getInteger)({data:j.initialNumber,defaultValue:1,validate:Se=>!0}),this.name=j.name||"",this.numbered=(0,p.getInteger)({data:j.numbered,defaultValue:1,validate:Se=>!0}),this.oddOrEven=(0,p.getStringOption)(j.oddOrEven,["any","even","odd"]),this.pagePosition=(0,p.getStringOption)(j.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,p.getRelevant)(j.relevant),this.use=j.use||"",this.usehref=j.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new r.XFAObjectArray,this.contentArea=new r.XFAObjectArray,this.draw=new r.XFAObjectArray,this.exclGroup=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.subform=new r.XFAObjectArray}[i.$isUsable](){return this[i.$extra]?!this.occur||this.occur.max===-1||this[i.$extra].numberOfUse<this.occur.max:(this[i.$extra]={numberOfUse:0},!0)}[i.$cleanPage](){delete this[i.$extra]}[i.$getNextPage](){this[i.$extra]||(this[i.$extra]={numberOfUse:0});const j=this[i.$getParent]();return j.relation==="orderedOccurrence"&&this[i.$isUsable]()?(this[i.$extra].numberOfUse+=1,this):j[i.$getNextPage]()}[i.$getAvailableSpace](){return this[i.$extra].space||{width:0,height:0}}[i.$toHTML](){this[i.$extra]||(this[i.$extra]={numberOfUse:1});const j=[];this[i.$extra].children=j;const Se=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(Se.width=(0,e.measureToString)(this.medium.short),Se.height=(0,e.measureToString)(this.medium.long),this[i.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const ut=Se.width;Se.width=Se.height,Se.height=ut,this[i.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,x.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[i.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[i.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),p.HTMLResult.success({name:"div",children:j,attributes:{class:["xfaPage"],id:this[i.$uid],style:Se,xfaName:this.name}})}}class Tt extends r.XFAObject{constructor(j){super(g,"pageSet",!0),this.duplexImposition=(0,p.getStringOption)(j.duplexImposition,["longEdge","shortEdge"]),this.id=j.id||"",this.name=j.name||"",this.relation=(0,p.getStringOption)(j.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,p.getRelevant)(j.relevant),this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.occur=null,this.pageArea=new r.XFAObjectArray,this.pageSet=new r.XFAObjectArray}[i.$cleanPage](){for(const j of this.pageArea.children)j[i.$cleanPage]();for(const j of this.pageSet.children)j[i.$cleanPage]()}[i.$isUsable](){return!this.occur||this.occur.max===-1||this[i.$extra].numberOfUse<this.occur.max}[i.$getNextPage](){if(this[i.$extra]||(this[i.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[i.$extra].pageIndex+1<this.pageArea.children.length)return this[i.$extra].pageIndex+=1,this.pageArea.children[this[i.$extra].pageIndex][i.$getNextPage]();if(this[i.$extra].pageSetIndex+1<this.pageSet.children.length)return this[i.$extra].pageSetIndex+=1,this.pageSet.children[this[i.$extra].pageSetIndex][i.$getNextPage]();if(this[i.$isUsable]())return this[i.$extra].numberOfUse+=1,this[i.$extra].pageIndex=-1,this[i.$extra].pageSetIndex=-1,this[i.$getNextPage]();const gt=this[i.$getParent]();return gt instanceof Tt?gt[i.$getNextPage]():(this[i.$cleanPage](),this[i.$getNextPage]())}const j=this[i.$getTemplateRoot]()[i.$extra].pageNumber,Se=j%2===0?"even":"odd",ut=j===0?"first":"rest";let dt=this.pageArea.children.find(gt=>gt.oddOrEven===Se&&gt.pagePosition===ut);return dt||(dt=this.pageArea.children.find(gt=>gt.oddOrEven==="any"&&gt.pagePosition===ut),dt)||(dt=this.pageArea.children.find(gt=>gt.oddOrEven==="any"&&gt.pagePosition==="any"),dt)?dt:this.pageArea.children[0]}}class Mt extends r.XFAObject{constructor(j){super(g,"para",!0),this.hAlign=(0,p.getStringOption)(j.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=j.id||"",this.lineHeight=j.lineHeight?(0,p.getMeasurement)(j.lineHeight,"0pt"):"",this.marginLeft=j.marginLeft?(0,p.getMeasurement)(j.marginLeft,"0pt"):"",this.marginRight=j.marginRight?(0,p.getMeasurement)(j.marginRight,"0pt"):"",this.orphans=(0,p.getInteger)({data:j.orphans,defaultValue:0,validate:Se=>Se>=0}),this.preserve=j.preserve||"",this.radixOffset=j.radixOffset?(0,p.getMeasurement)(j.radixOffset,"0pt"):"",this.spaceAbove=j.spaceAbove?(0,p.getMeasurement)(j.spaceAbove,"0pt"):"",this.spaceBelow=j.spaceBelow?(0,p.getMeasurement)(j.spaceBelow,"0pt"):"",this.tabDefault=j.tabDefault?(0,p.getMeasurement)(this.tabDefault):"",this.tabStops=(j.tabStops||"").trim().split(/\s+/).map((Se,ut)=>ut%2===1?(0,p.getMeasurement)(Se):Se),this.textIndent=j.textIndent?(0,p.getMeasurement)(j.textIndent,"0pt"):"",this.use=j.use||"",this.usehref=j.usehref||"",this.vAlign=(0,p.getStringOption)(j.vAlign,["top","bottom","middle"]),this.widows=(0,p.getInteger)({data:j.widows,defaultValue:0,validate:Se=>Se>=0}),this.hyphenation=null}[i.$toStyle](){const j=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(j.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(j.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(j.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(j.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(j.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(j)),this.lineHeight>0&&(j.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(j.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(j,this.hyphenatation[i.$toStyle]()),j}}class St extends r.XFAObject{constructor(j){super(g,"passwordEdit",!0),this.hScrollPolicy=(0,p.getStringOption)(j.hScrollPolicy,["auto","off","on"]),this.id=j.id||"",this.passwordChar=j.passwordChar||"*",this.use=j.use||"",this.usehref=j.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Pt extends r.XFAObject{constructor(j){super(g,"pattern",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=j.use||"",this.usehref=j.usehref||"",this.color=null,this.extras=null}[i.$toStyle](j){j=j?j[i.$toStyle]():"#FFFFFF";const Se=this.color?this.color[i.$toStyle]():"#000000",ut=5,dt="repeating-linear-gradient",gt=`${j},${j} ${ut}px,${Se} ${ut}px,${Se} ${2*ut}px`;switch(this.type){case"crossHatch":return`${dt}(to top,${gt}) ${dt}(to right,${gt})`;case"crossDiagonal":return`${dt}(45deg,${gt}) ${dt}(-45deg,${gt})`;case"diagonalLeft":return`${dt}(45deg,${gt})`;case"diagonalRight":return`${dt}(-45deg,${gt})`;case"horizontal":return`${dt}(to top,${gt})`;case"vertical":return`${dt}(to right,${gt})`}return""}}class vt extends r.StringObject{constructor(j){super(g,"picture"),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||""}}class Lt extends r.XFAObject{constructor(j){super(g,"proto",!0),this.appearanceFilter=new r.XFAObjectArray,this.arc=new r.XFAObjectArray,this.area=new r.XFAObjectArray,this.assist=new r.XFAObjectArray,this.barcode=new r.XFAObjectArray,this.bindItems=new r.XFAObjectArray,this.bookend=new r.XFAObjectArray,this.boolean=new r.XFAObjectArray,this.border=new r.XFAObjectArray,this.break=new r.XFAObjectArray,this.breakAfter=new r.XFAObjectArray,this.breakBefore=new r.XFAObjectArray,this.button=new r.XFAObjectArray,this.calculate=new r.XFAObjectArray,this.caption=new r.XFAObjectArray,this.certificate=new r.XFAObjectArray,this.certificates=new r.XFAObjectArray,this.checkButton=new r.XFAObjectArray,this.choiceList=new r.XFAObjectArray,this.color=new r.XFAObjectArray,this.comb=new r.XFAObjectArray,this.connect=new r.XFAObjectArray,this.contentArea=new r.XFAObjectArray,this.corner=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.dateTimeEdit=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.defaultUi=new r.XFAObjectArray,this.desc=new r.XFAObjectArray,this.digestMethod=new r.XFAObjectArray,this.digestMethods=new r.XFAObjectArray,this.draw=new r.XFAObjectArray,this.edge=new r.XFAObjectArray,this.encoding=new r.XFAObjectArray,this.encodings=new r.XFAObjectArray,this.encrypt=new r.XFAObjectArray,this.encryptData=new r.XFAObjectArray,this.encryption=new r.XFAObjectArray,this.encryptionMethod=new r.XFAObjectArray,this.encryptionMethods=new r.XFAObjectArray,this.event=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.exObject=new r.XFAObjectArray,this.exclGroup=new r.XFAObjectArray,this.execute=new r.XFAObjectArray,this.extras=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.fill=new r.XFAObjectArray,this.filter=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.font=new r.XFAObjectArray,this.format=new r.XFAObjectArray,this.handler=new r.XFAObjectArray,this.hyphenation=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.imageEdit=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.issuers=new r.XFAObjectArray,this.items=new r.XFAObjectArray,this.keep=new r.XFAObjectArray,this.keyUsage=new r.XFAObjectArray,this.line=new r.XFAObjectArray,this.linear=new r.XFAObjectArray,this.lockDocument=new r.XFAObjectArray,this.manifest=new r.XFAObjectArray,this.margin=new r.XFAObjectArray,this.mdp=new r.XFAObjectArray,this.medium=new r.XFAObjectArray,this.message=new r.XFAObjectArray,this.numericEdit=new r.XFAObjectArray,this.occur=new r.XFAObjectArray,this.oid=new r.XFAObjectArray,this.oids=new r.XFAObjectArray,this.overflow=new r.XFAObjectArray,this.pageArea=new r.XFAObjectArray,this.pageSet=new r.XFAObjectArray,this.para=new r.XFAObjectArray,this.passwordEdit=new r.XFAObjectArray,this.pattern=new r.XFAObjectArray,this.picture=new r.XFAObjectArray,this.radial=new r.XFAObjectArray,this.reason=new r.XFAObjectArray,this.reasons=new r.XFAObjectArray,this.rectangle=new r.XFAObjectArray,this.ref=new r.XFAObjectArray,this.script=new r.XFAObjectArray,this.setProperty=new r.XFAObjectArray,this.signData=new r.XFAObjectArray,this.signature=new r.XFAObjectArray,this.signing=new r.XFAObjectArray,this.solid=new r.XFAObjectArray,this.speak=new r.XFAObjectArray,this.stipple=new r.XFAObjectArray,this.subform=new r.XFAObjectArray,this.subformSet=new r.XFAObjectArray,this.subjectDN=new r.XFAObjectArray,this.subjectDNs=new r.XFAObjectArray,this.submit=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.textEdit=new r.XFAObjectArray,this.time=new r.XFAObjectArray,this.timeStamp=new r.XFAObjectArray,this.toolTip=new r.XFAObjectArray,this.traversal=new r.XFAObjectArray,this.traverse=new r.XFAObjectArray,this.ui=new r.XFAObjectArray,this.validate=new r.XFAObjectArray,this.value=new r.XFAObjectArray,this.variables=new r.XFAObjectArray}}class _t extends r.XFAObject{constructor(j){super(g,"radial",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["toEdge","toCenter"]),this.use=j.use||"",this.usehref=j.usehref||"",this.color=null,this.extras=null}[i.$toStyle](j){j=j?j[i.$toStyle]():"#FFFFFF";const Se=this.color?this.color[i.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${j},${Se}`:`${Se},${j}`})`}}class vn extends r.StringObject{constructor(j){super(g,"reason"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}}class Dt extends r.XFAObject{constructor(j){super(g,"reasons",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.reason=new r.XFAObjectArray}}class Nt extends r.XFAObject{constructor(j){super(g,"rectangle",!0),this.hand=(0,p.getStringOption)(j.hand,["even","left","right"]),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.corner=new r.XFAObjectArray(4),this.edge=new r.XFAObjectArray(4),this.fill=null}[i.$toHTML](){var Bt;const j=this.edge.children.length?this.edge.children[0]:new Ne({}),Se=j[i.$toStyle](),ut=Object.create(null);((Bt=this.fill)==null?void 0:Bt.presence)==="visible"?Object.assign(ut,this.fill[i.$toStyle]()):ut.fill="transparent",ut.strokeWidth=(0,e.measureToString)(j.presence==="visible"?j.thickness:0),ut.stroke=Se.color;const gt=(this.corner.children.length?this.corner.children[0]:new fe({}))[i.$toStyle](),Ft={name:"svg",children:[{name:"rect",attributes:{xmlns:w,width:"100%",height:"100%",x:0,y:0,rx:gt.radius,ry:gt.radius,style:ut}}],attributes:{xmlns:w,style:{overflow:"visible"},width:"100%",height:"100%"}},It=this[i.$getParent]()[i.$getParent]();return C(It)?p.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Ft]}):(Ft.attributes.style.position="absolute",p.HTMLResult.success(Ft))}}class Zt extends r.StringObject{constructor(j){super(g,"ref"),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||""}}class rn extends r.StringObject{constructor(j){super(g,"script"),this.binding=j.binding||"",this.contentType=j.contentType||"",this.id=j.id||"",this.name=j.name||"",this.runAt=(0,p.getStringOption)(j.runAt,["client","both","server"]),this.use=j.use||"",this.usehref=j.usehref||""}}class sr extends r.XFAObject{constructor(j){super(g,"setProperty"),this.connection=j.connection||"",this.ref=j.ref||"",this.target=j.target||""}}o.SetProperty=sr;class Ui extends r.XFAObject{constructor(j){super(g,"signData",!0),this.id=j.id||"",this.operation=(0,p.getStringOption)(j.operation,["sign","clear","verify"]),this.ref=j.ref||"",this.target=j.target||"",this.use=j.use||"",this.usehref=j.usehref||"",this.filter=null,this.manifest=null}}class sh extends r.XFAObject{constructor(j){super(g,"signature",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["PDF1.3","PDF1.6"]),this.use=j.use||"",this.usehref=j.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class oh extends r.XFAObject{constructor(j){super(g,"signing",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.certificate=new r.XFAObjectArray}}class ch extends r.XFAObject{constructor(j){super(g,"solid",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null}[i.$toStyle](j){return j?j[i.$toStyle]():"#FFFFFF"}}class lh extends r.StringObject{constructor(j){super(g,"speak"),this.disable=(0,p.getInteger)({data:j.disable,defaultValue:0,validate:Se=>Se===1}),this.id=j.id||"",this.priority=(0,p.getStringOption)(j.priority,["custom","caption","name","toolTip"]),this.rid=j.rid||"",this.use=j.use||"",this.usehref=j.usehref||""}}class uh extends r.XFAObject{constructor(j){super(g,"stipple",!0),this.id=j.id||"",this.rate=(0,p.getInteger)({data:j.rate,defaultValue:50,validate:Se=>Se>=0&&Se<=100}),this.use=j.use||"",this.usehref=j.usehref||"",this.color=null,this.extras=null}[i.$toStyle](j){const Se=this.rate/100;return x.Util.makeHexColor(Math.round(j.value.r*(1-Se)+this.value.r*Se),Math.round(j.value.g*(1-Se)+this.value.g*Se),Math.round(j.value.b*(1-Se)+this.value.b*Se))}}class yl extends r.XFAObject{constructor(j){super(g,"subform",!0),this.access=(0,p.getStringOption)(j.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,p.getInteger)({data:j.allowMacro,defaultValue:0,validate:Se=>Se===1}),this.anchorType=(0,p.getStringOption)(j.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,p.getInteger)({data:j.colSpan,defaultValue:1,validate:Se=>Se>=1||Se===-1}),this.columnWidths=(j.columnWidths||"").trim().split(/\s+/).map(Se=>Se==="-1"?-1:(0,p.getMeasurement)(Se)),this.h=j.h?(0,p.getMeasurement)(j.h):"",this.hAlign=(0,p.getStringOption)(j.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=j.id||"",this.layout=(0,p.getStringOption)(j.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=j.locale||"",this.maxH=(0,p.getMeasurement)(j.maxH,"0pt"),this.maxW=(0,p.getMeasurement)(j.maxW,"0pt"),this.mergeMode=(0,p.getStringOption)(j.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,p.getMeasurement)(j.minH,"0pt"),this.minW=(0,p.getMeasurement)(j.minW,"0pt"),this.name=j.name||"",this.presence=(0,p.getStringOption)(j.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,p.getRelevant)(j.relevant),this.restoreState=(0,p.getStringOption)(j.restoreState,["manual","auto"]),this.scope=(0,p.getStringOption)(j.scope,["name","none"]),this.use=j.use||"",this.usehref=j.usehref||"",this.w=j.w?(0,p.getMeasurement)(j.w):"",this.x=(0,p.getMeasurement)(j.x,"0pt"),this.y=(0,p.getMeasurement)(j.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new r.XFAObjectArray,this.breakAfter=new r.XFAObjectArray,this.breakBefore=new r.XFAObjectArray,this.connect=new r.XFAObjectArray,this.draw=new r.XFAObjectArray,this.event=new r.XFAObjectArray,this.exObject=new r.XFAObjectArray,this.exclGroup=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.proto=new r.XFAObjectArray,this.setProperty=new r.XFAObjectArray,this.subform=new r.XFAObjectArray,this.subformSet=new r.XFAObjectArray}[i.$getSubformParent](){const j=this[i.$getParent]();return j instanceof Do?j[i.$getSubformParent]():j}[i.$isBindable](){return!0}[i.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[i.$extra].attempt===0&&this[i.$extra].numberInLine>0||this[i.$getParent]()[i.$isThereMoreWidth]()}*[i.$getContainedChildren](){yield*M(this)}[i.$flushHTML](){return(0,d.flushHTML)(this)}[i.$addHTML](j,Se){(0,d.addHTML)(this,j,Se)}[i.$getAvailableSpace](){return(0,d.getAvailableSpace)(this)}[i.$isSplittable](){var Se;const j=this[i.$getSubformParent]();return j[i.$isSplittable]()?this[i.$extra]._isSplittable!==void 0?this[i.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[i.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[i.$extra]._isSplittable=!1,!1):((Se=j.layout)==null?void 0:Se.endsWith("-tb"))&&j[i.$extra].numberInLine!==0?!1:(this[i.$extra]._isSplittable=!0,!0):!1}[i.$toHTML](j){var Wt;if(W(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Ot=new K({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Ot[i.$globalData]=this[i.$globalData],this[i.$appendChild](Ot),this.breakAfter.push(Ot)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Ot=new te({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Ot[i.$globalData]=this[i.$globalData],this[i.$appendChild](Ot),this.breakBefore.push(Ot)}if(this.break.overflowTarget!==""){const Ot=new Et({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Ot[i.$globalData]=this[i.$globalData],this[i.$appendChild](Ot),this.overflow.push(Ot)}this[i.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return p.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,x.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Ot=this.breakBefore.children[0];if(_(Ot))return p.HTMLResult.breakNode(Ot)}if((Wt=this[i.$extra])!=null&&Wt.afterBreakAfter)return p.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const Se=[],ut={id:this[i.$uid],class:[]};(0,e.setAccess)(this,ut.class),this[i.$extra]||(this[i.$extra]=Object.create(null)),Object.assign(this[i.$extra],{children:Se,line:null,attributes:ut,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,j.width),height:Math.min(this.h||1/0,j.height)},width:0,height:0,prevHeight:0,currentWidth:0});const dt=this[i.$getTemplateRoot](),gt=dt[i.$extra].noLayoutFailure,kt=this[i.$isSplittable]();if(kt||U(this),!(0,d.checkDimensions)(this,j))return p.HTMLResult.FAILURE;const Ft=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Ot=this[i.$getSubformParent]().columnWidths;Array.isArray(Ot)&&Ot.length>0&&(this[i.$extra].columnWidths=Ot,this[i.$extra].currentColumn=0)}const It=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Bt=["xfaSubform"],zt=(0,e.layoutClass)(this);if(zt&&Bt.push(zt),ut.style=It,ut.class=Bt,this.name&&(ut.xfaName=this.name),this.overflow){const Ot=this.overflow[i.$getExtra]();Ot.addLeader&&(Ot.addLeader=!1,V(this,Ot.leader,j))}this[i.$pushPara]();const tn=this.layout==="lr-tb"||this.layout==="rl-tb",Qt=tn?f:1;for(;this[i.$extra].attempt<Qt;this[i.$extra].attempt++){tn&&this[i.$extra].attempt===f-1&&(this[i.$extra].numberInLine=0);const Ot=this[i.$childrenToHTML]({filter:Ft,include:!0});if(Ot.success)break;if(Ot.isBreak())return this[i.$popPara](),Ot;if(tn&&this[i.$extra].attempt===0&&this[i.$extra].numberInLine===0&&!dt[i.$extra].noLayoutFailure){this[i.$extra].attempt=Qt;break}}if(this[i.$popPara](),kt||Y(this),dt[i.$extra].noLayoutFailure=gt,this[i.$extra].attempt===Qt)return this.overflow&&(this[i.$getTemplateRoot]()[i.$extra].overflowNode=this.overflow),kt||delete this[i.$extra],p.HTMLResult.FAILURE;if(this.overflow){const Ot=this.overflow[i.$getExtra]();Ot.addTrailer&&(Ot.addTrailer=!1,V(this,Ot.trailer,j))}let nn=0,gn=0;this.margin&&(nn=this.margin.leftInset+this.margin.rightInset,gn=this.margin.topInset+this.margin.bottomInset);const $t=Math.max(this[i.$extra].width+nn,this.w||0),Bn=Math.max(this[i.$extra].height+gn,this.h||0),an=[this.x,this.y,$t,Bn];if(this.w===""&&(It.width=(0,e.measureToString)($t)),this.h===""&&(It.height=(0,e.measureToString)(Bn)),(It.width==="0px"||It.height==="0px")&&Se.length===0)return p.HTMLResult.EMPTY;const Er={name:"div",attributes:ut,children:Se};J(this,ut);const $n=p.HTMLResult.success((0,e.createWrapper)(this,Er),an);if(this.breakAfter.children.length>=1){const Ot=this.breakAfter.children[0];if(_(Ot))return this[i.$extra].afterBreakAfter=$n,p.HTMLResult.breakNode(Ot)}return delete this[i.$extra],$n}}class Do extends r.XFAObject{constructor(j){super(g,"subformSet",!0),this.id=j.id||"",this.name=j.name||"",this.relation=(0,p.getStringOption)(j.relation,["ordered","choice","unordered"]),this.relevant=(0,p.getRelevant)(j.relevant),this.use=j.use||"",this.usehref=j.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new r.XFAObjectArray,this.breakBefore=new r.XFAObjectArray,this.subform=new r.XFAObjectArray,this.subformSet=new r.XFAObjectArray}*[i.$getContainedChildren](){yield*M(this)}[i.$getSubformParent](){let j=this[i.$getParent]();for(;!(j instanceof yl);)j=j[i.$getParent]();return j}[i.$isBindable](){return!0}}class hh extends r.ContentObject{constructor(j){super(g,"subjectDN"),this.delimiter=j.delimiter||",",this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$finalize](){this[i.$content]=new Map(this[i.$content].split(this.delimiter).map(j=>(j=j.split("=",2),j[0]=j[0].trim(),j)))}}class fh extends r.XFAObject{constructor(j){super(g,"subjectDNs",!0),this.id=j.id||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||"",this.subjectDN=new r.XFAObjectArray}}class dh extends r.XFAObject{constructor(j){super(g,"submit",!0),this.embedPDF=(0,p.getInteger)({data:j.embedPDF,defaultValue:0,validate:Se=>Se===1}),this.format=(0,p.getStringOption)(j.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=j.id||"",this.target=j.target||"",this.textEncoding=(0,p.getKeyword)({data:j.textEncoding?j.textEncoding.toLowerCase():"",defaultValue:"",validate:Se=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Se)||Se.match(/iso-8859-\d{2}/)}),this.use=j.use||"",this.usehref=j.usehref||"",this.xdpContent=j.xdpContent||"",this.encrypt=null,this.encryptData=new r.XFAObjectArray,this.signData=new r.XFAObjectArray}}class Lo extends r.XFAObject{constructor(j){super(g,"template",!0),this.baseProfile=(0,p.getStringOption)(j.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new r.XFAObjectArray}[i.$finalize](){this.subform.children.length===0&&(0,x.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,x.warn)("XFA - Several subforms in template node: please file a bug."),this[i.$tabIndex]=A}[i.$isSplittable](){return!0}[i.$searchNode](j,Se){return j.startsWith("#")?[this[i.$ids].get(j.slice(1))]:(0,b.searchNode)(this,Se,j,!0,!0)}*[i.$toPages](){var gn,$t,Bn;if(!this.subform.children.length)return p.HTMLResult.success({name:"div",children:[]});this[i.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const j=this.subform.children[0];j.pageSet[i.$cleanPage]();const Se=j.pageSet.pageArea.children,ut={name:"div",children:[]};let dt=null,gt=null,kt=null;if(j.breakBefore.children.length>=1?(gt=j.breakBefore.children[0],kt=gt.target):j.subform.children.length>=1&&j.subform.children[0].breakBefore.children.length>=1?(gt=j.subform.children[0].breakBefore.children[0],kt=gt.target):(gn=j.break)!=null&&gn.beforeTarget?(gt=j.break,kt=gt.beforeTarget):j.subform.children.length>=1&&(($t=j.subform.children[0].break)==null?void 0:$t.beforeTarget)&&(gt=j.subform.children[0].break,kt=gt.beforeTarget),gt){const an=this[i.$searchNode](kt,gt[i.$getParent]());an instanceof wt&&(dt=an,gt[i.$extra]={})}dt||(dt=Se[0]),dt[i.$extra]={numberOfUse:1};const Ft=dt[i.$getParent]();Ft[i.$extra]={numberOfUse:1,pageIndex:Ft.pageArea.children.indexOf(dt),pageSetIndex:0};let It,Bt=null,zt=null,tn=!0,Qt=0,nn=0;for(;;){if(tn)Qt=0;else if(ut.children.pop(),++Qt===E)return(0,x.warn)("XFA - Something goes wrong: please file a bug."),ut;It=null,this[i.$extra].currentPageArea=dt;const an=dt[i.$toHTML]().html;ut.children.push(an),Bt&&(this[i.$extra].noLayoutFailure=!0,an.children.push(Bt[i.$toHTML](dt[i.$extra].space).html),Bt=null),zt&&(this[i.$extra].noLayoutFailure=!0,an.children.push(zt[i.$toHTML](dt[i.$extra].space).html),zt=null);const Er=dt.contentArea.children,$n=an.children.filter(Ot=>Ot.attributes.class.includes("xfaContentarea"));tn=!1,this[i.$extra].firstUnsplittable=null,this[i.$extra].noLayoutFailure=!1;const Wt=Ot=>{var Nr;const ta=j[i.$flushHTML]();ta&&(tn||(tn=((Nr=ta.children)==null?void 0:Nr.length)>0),$n[Ot].children.push(ta))};for(let Ot=nn,ta=Er.length;Ot<ta;Ot++){const Nr=this[i.$extra].currentContentArea=Er[Ot],ni={width:Nr.w,height:Nr.h};nn=0,Bt&&($n[Ot].children.push(Bt[i.$toHTML](ni).html),Bt=null),zt&&($n[Ot].children.push(zt[i.$toHTML](ni).html),zt=null);const ba=j[i.$toHTML](ni);if(ba.success)return ba.html?(tn||(tn=((Bn=ba.html.children)==null?void 0:Bn.length)>0),$n[Ot].children.push(ba.html)):!tn&&ut.children.length>1&&ut.children.pop(),ut;if(ba.isBreak()){const Un=ba.breakNode;if(Wt(Ot),Un.targetType==="auto")continue;Un.leader&&(Bt=this[i.$searchNode](Un.leader,Un[i.$getParent]()),Bt=Bt?Bt[0]:null),Un.trailer&&(zt=this[i.$searchNode](Un.trailer,Un[i.$getParent]()),zt=zt?zt[0]:null),Un.targetType==="pageArea"?(It=Un[i.$extra].target,Ot=1/0):Un[i.$extra].target?(It=Un[i.$extra].target,nn=Un[i.$extra].index+1,Ot=1/0):Ot=Un[i.$extra].index;continue}if(this[i.$extra].overflowNode){const Un=this[i.$extra].overflowNode;this[i.$extra].overflowNode=null;const Bo=Un[i.$getExtra](),ks=Bo.target;Bo.addLeader=Bo.leader!==null,Bo.addTrailer=Bo.trailer!==null,Wt(Ot);const h8=Ot;if(Ot=1/0,ks instanceof wt)It=ks;else if(ks instanceof xe){const Al=Er.indexOf(ks);Al!==-1?Al>h8?Ot=Al-1:nn=Al:(It=ks[i.$getParent](),nn=It.contentArea.children.indexOf(ks))}continue}Wt(Ot)}this[i.$extra].pageNumber+=1,It&&(It[i.$isUsable]()?It[i.$extra].numberOfUse+=1:It=null),dt=It||dt[i.$getNextPage](),yield null}}}o.Template=Lo;class vl extends r.ContentObject{constructor(j){super(g,"text"),this.id=j.id||"",this.maxChars=(0,p.getInteger)({data:j.maxChars,defaultValue:0,validate:Se=>Se>=0}),this.name=j.name||"",this.rid=j.rid||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$acceptWhitespace](){return!0}[i.$onChild](j){return j[i.$namespaceId]===l.NamespaceIds.xhtml.id?(this[i.$content]=j,!0):((0,x.warn)(`XFA - Invalid content in Text: ${j[i.$nodeName]}.`),!1)}[i.$onText](j){this[i.$content]instanceof r.XFAObject||super[i.$onText](j)}[i.$finalize](){typeof this[i.$content]=="string"&&(this[i.$content]=this[i.$content].replaceAll(`\r
`,`
`))}[i.$getExtra](){return typeof this[i.$content]=="string"?this[i.$content].split(/[\u2029\u2028\n]/).reduce((j,Se)=>(Se&&j.push(Se),j),[]).join(`
`):this[i.$content][i.$text]()}[i.$toHTML](j){if(typeof this[i.$content]=="string"){const Se=N(this[i.$content]).html;return this[i.$content].includes("\u2029")?(Se.name="div",Se.children=[],this[i.$content].split("\u2029").map(ut=>ut.split(/[\u2028\n]/).reduce((dt,gt)=>(dt.push({name:"span",value:gt},{name:"br"}),dt),[])).forEach(ut=>{Se.children.push({name:"p",children:ut})})):/[\u2028\n]/.test(this[i.$content])&&(Se.name="div",Se.children=[],this[i.$content].split(/[\u2028\n]/).forEach(ut=>{Se.children.push({name:"span",value:ut},{name:"br"})})),p.HTMLResult.success(Se)}return this[i.$content][i.$toHTML](j)}}o.Text=vl;class wl extends r.XFAObject{constructor(j){super(g,"textEdit",!0),this.allowRichText=(0,p.getInteger)({data:j.allowRichText,defaultValue:0,validate:Se=>Se===1}),this.hScrollPolicy=(0,p.getStringOption)(j.hScrollPolicy,["auto","off","on"]),this.id=j.id||"",this.multiLine=(0,p.getInteger)({data:j.multiLine,defaultValue:"",validate:Se=>Se===0||Se===1}),this.use=j.use||"",this.usehref=j.usehref||"",this.vScrollPolicy=(0,p.getStringOption)(j.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[i.$toHTML](j){var gt,kt;const Se=(0,e.toStyle)(this,"border","font","margin");let ut;const dt=this[i.$getParent]()[i.$getParent]();return this.multiLine===""&&(this.multiLine=dt instanceof Ve?1:0),this.multiLine===1?ut={name:"textarea",attributes:{dataId:((gt=dt[i.$data])==null?void 0:gt[i.$uid])||dt[i.$uid],fieldId:dt[i.$uid],class:["xfaTextfield"],style:Se,"aria-label":H(dt),"aria-required":!1}}:ut={name:"input",attributes:{type:"text",dataId:((kt=dt[i.$data])==null?void 0:kt[i.$uid])||dt[i.$uid],fieldId:dt[i.$uid],class:["xfaTextfield"],style:Se,"aria-label":H(dt),"aria-required":!1}},I(dt)&&(ut.attributes["aria-required"]=!0,ut.attributes.required=!0),p.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[ut]})}}class ph extends r.StringObject{constructor(j){super(g,"time"),this.id=j.id||"",this.name=j.name||"",this.use=j.use||"",this.usehref=j.usehref||""}[i.$finalize](){const j=this[i.$content].trim();this[i.$content]=j?new Date(j):null}[i.$toHTML](j){return N(this[i.$content]?this[i.$content].toString():"")}}class gh extends r.XFAObject{constructor(j){super(g,"timeStamp"),this.id=j.id||"",this.server=j.server||"",this.type=(0,p.getStringOption)(j.type,["optional","required"]),this.use=j.use||"",this.usehref=j.usehref||""}}class mh extends r.StringObject{constructor(j){super(g,"toolTip"),this.id=j.id||"",this.rid=j.rid||"",this.use=j.use||"",this.usehref=j.usehref||""}}class xh extends r.XFAObject{constructor(j){super(g,"traversal",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.traverse=new r.XFAObjectArray}}class bh extends r.XFAObject{constructor(j){super(g,"traverse",!0),this.id=j.id||"",this.operation=(0,p.getStringOption)(j.operation,["next","back","down","first","left","right","up"]),this.ref=j.ref||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[i.$isTransparent](){return!1}}class No extends r.XFAObject{constructor(j){super(g,"ui",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[i.$getExtra](){if(this[i.$extra]===void 0){for(const j of Object.getOwnPropertyNames(this)){if(j==="extras"||j==="picture")continue;const Se=this[j];if(Se instanceof r.XFAObject)return this[i.$extra]=Se,Se}this[i.$extra]=null}return this[i.$extra]}[i.$toHTML](j){const Se=this[i.$getExtra]();return Se?Se[i.$toHTML](j):p.HTMLResult.EMPTY}}class yh extends r.XFAObject{constructor(j){super(g,"validate",!0),this.formatTest=(0,p.getStringOption)(j.formatTest,["warning","disabled","error"]),this.id=j.id||"",this.nullTest=(0,p.getStringOption)(j.nullTest,["disabled","error","warning"]),this.scriptTest=(0,p.getStringOption)(j.scriptTest,["error","disabled","warning"]),this.use=j.use||"",this.usehref=j.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class As extends r.XFAObject{constructor(j){super(g,"value",!0),this.id=j.id||"",this.override=(0,p.getInteger)({data:j.override,defaultValue:0,validate:Se=>Se===1}),this.relevant=(0,p.getRelevant)(j.relevant),this.use=j.use||"",this.usehref=j.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[i.$setValue](j){var dt;const Se=this[i.$getParent]();if(Se instanceof it&&(dt=Se.ui)!=null&&dt.imageEdit){this.image||(this.image=new pe({}),this[i.$appendChild](this.image)),this.image[i.$content]=j[i.$content];return}const ut=j[i.$nodeName];if(this[ut]!==null){this[ut][i.$content]=j[i.$content];return}for(const gt of Object.getOwnPropertyNames(this)){const kt=this[gt];kt instanceof r.XFAObject&&(this[gt]=null,this[i.$removeChild](kt))}this[j[i.$nodeName]]=j,this[i.$appendChild](j)}[i.$text](){if(this.exData)return typeof this.exData[i.$content]=="string"?this.exData[i.$content].trim():this.exData[i.$content][i.$text]().trim();for(const j of Object.getOwnPropertyNames(this)){if(j==="image")continue;const Se=this[j];if(Se instanceof r.XFAObject)return(Se[i.$content]||"").toString().trim()}return null}[i.$toHTML](j){for(const Se of Object.getOwnPropertyNames(this)){const ut=this[Se];if(ut instanceof r.XFAObject)return ut[i.$toHTML](j)}return p.HTMLResult.EMPTY}}o.Value=As;class vh extends r.XFAObject{constructor(j){super(g,"variables",!0),this.id=j.id||"",this.use=j.use||"",this.usehref=j.usehref||"",this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.manifest=new r.XFAObjectArray,this.script=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}[i.$isTransparent](){return!0}}class Ss{static[l.$buildXFAObject](j,Se){if(Ss.hasOwnProperty(j)){const ut=Ss[j](Se);return ut[i.$setSetAttributes](Se),ut}}static appearanceFilter(j){return new Z(j)}static arc(j){return new q(j)}static area(j){return new re(j)}static assist(j){return new oe(j)}static barcode(j){return new ae(j)}static bind(j){return new R(j)}static bindItems(j){return new S(j)}static bookend(j){return new L(j)}static boolean(j){return new k(j)}static border(j){return new z(j)}static break(j){return new P(j)}static breakAfter(j){return new K(j)}static breakBefore(j){return new te(j)}static button(j){return new X(j)}static calculate(j){return new ee(j)}static caption(j){return new G(j)}static certificate(j){return new ne(j)}static certificates(j){return new se(j)}static checkButton(j){return new le(j)}static choiceList(j){return new he(j)}static color(j){return new be(j)}static comb(j){return new ye(j)}static connect(j){return new de(j)}static contentArea(j){return new xe(j)}static corner(j){return new fe(j)}static date(j){return new ce(j)}static dateTime(j){return new ue(j)}static dateTimeEdit(j){return new ve(j)}static decimal(j){return new Ee(j)}static defaultUi(j){return new Me(j)}static desc(j){return new _e(j)}static digestMethod(j){return new ze(j)}static digestMethods(j){return new We(j)}static draw(j){return new Ve(j)}static edge(j){return new Ne(j)}static encoding(j){return new ke(j)}static encodings(j){return new Ie(j)}static encrypt(j){return new Te(j)}static encryptData(j){return new Ae(j)}static encryption(j){return new ge(j)}static encryptionMethod(j){return new Ce(j)}static encryptionMethods(j){return new Be(j)}static event(j){return new Ye(j)}static exData(j){return new Je(j)}static exObject(j){return new Re(j)}static exclGroup(j){return new He(j)}static execute(j){return new nt(j)}static extras(j){return new et(j)}static field(j){return new it(j)}static fill(j){return new qe(j)}static filter(j){return new lt(j)}static float(j){return new rt(j)}static font(j){return new Oe(j)}static format(j){return new $e(j)}static handler(j){return new me(j)}static hyphenation(j){return new Q(j)}static image(j){return new pe(j)}static imageEdit(j){return new we(j)}static integer(j){return new Fe(j)}static issuers(j){return new Pe(j)}static items(j){return new De(j)}static keep(j){return new Xe(j)}static keyUsage(j){return new je(j)}static line(j){return new Ze(j)}static linear(j){return new ot(j)}static lockDocument(j){return new Ke(j)}static manifest(j){return new Ge(j)}static margin(j){return new tt(j)}static mdp(j){return new at(j)}static medium(j){return new st(j)}static message(j){return new ft(j)}static numericEdit(j){return new pt(j)}static occur(j){return new ct(j)}static oid(j){return new yt(j)}static oids(j){return new bt(j)}static overflow(j){return new Et(j)}static pageArea(j){return new wt(j)}static pageSet(j){return new Tt(j)}static para(j){return new Mt(j)}static passwordEdit(j){return new St(j)}static pattern(j){return new Pt(j)}static picture(j){return new vt(j)}static proto(j){return new Lt(j)}static radial(j){return new _t(j)}static reason(j){return new vn(j)}static reasons(j){return new Dt(j)}static rectangle(j){return new Nt(j)}static ref(j){return new Zt(j)}static script(j){return new rn(j)}static setProperty(j){return new sr(j)}static signData(j){return new Ui(j)}static signature(j){return new sh(j)}static signing(j){return new oh(j)}static solid(j){return new ch(j)}static speak(j){return new lh(j)}static stipple(j){return new uh(j)}static subform(j){return new yl(j)}static subformSet(j){return new Do(j)}static subjectDN(j){return new hh(j)}static subjectDNs(j){return new fh(j)}static submit(j){return new dh(j)}static template(j){return new Lo(j)}static text(j){return new vl(j)}static textEdit(j){return new wl(j)}static time(j){return new ph(j)}static timeStamp(j){return new gh(j)}static toolTip(j){return new mh(j)}static traversal(j){return new xh(j)}static traverse(j){return new bh(j)}static ui(j){return new No(j)}static validate(j){return new yh(j)}static value(j){return new As(j)}static variables(j){return new vh(j)}}o.TemplateNamespace=Ss},(h,o,s)=>{var i=s(3),l=s(4),d=s(24),e=s(11),r=s(45).f,p=s(39),x=s(233),y=s(75),v=s(76),b=s(234),g=s(82),w=s(6),f=s(36),E="DOMException",A=d("Error"),O=d(E),T=function(){x(this,D);var _=arguments.length,V=v(_<1?void 0:arguments[0]),Z=v(_<2?void 0:arguments[1],"Error"),q=new O(V,Z),re=A(V);return re.name=E,r(q,"stack",e(1,g(re.stack,1))),y(q,this,T),q},D=T.prototype=O.prototype,F="stack"in A(E),C="stack"in new O(1,2),B=O&&w&&Object.getOwnPropertyDescriptor(l,E),M=!!B&&!(B.writable&&B.configurable),I=F&&!M&&!C;i({global:!0,constructor:!0,forced:f||I},{DOMException:I?T:O});var W=d(E),J=W.prototype;if(J.constructor!==W){f||r(J,"constructor",e(1,W));for(var H in b)if(p(b,H)){var N=b[H],U=N.s;p(W,U)||r(W,U,e(6,N.c))}}},(h,o,s)=>{var i=s(25),l=TypeError;h.exports=function(d,e){if(i(e,d))return d;throw l("Incorrect invocation")}},h=>{h.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NamespaceIds=o.$buildXFAObject=void 0;const s=Symbol();o.$buildXFAObject=s;const i={config:{id:0,check:l=>l.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:l=>l==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:l=>l==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:l=>l==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:l=>l.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:l=>l==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:l=>l==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:l=>l==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:l=>l==="http://ns.adobe.com/xmpmeta/"}};o.NamespaceIds=i},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addHTML=r,o.checkDimensions=y,o.flushHTML=e,o.getAvailableSpace=p,s(140);var i=s(229),l=s(237);function d(v,b){return{name:"div",attributes:{class:[v.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:b}}function e(v){if(!v[i.$extra])return null;const g={name:"div",attributes:v[i.$extra].attributes,children:v[i.$extra].children};if(v[i.$extra].failingNode){const w=v[i.$extra].failingNode[i.$flushHTML]();w&&(v.layout.endsWith("-tb")?g.children.push(d(v,[w])):g.children.push(w))}return g.children.length===0?null:g}function r(v,b,g){const w=v[i.$extra],f=w.availableSpace,[E,A,O,T]=g;switch(v.layout){case"position":{w.width=Math.max(w.width,E+O),w.height=Math.max(w.height,A+T),w.children.push(b);break}case"lr-tb":case"rl-tb":(!w.line||w.attempt===1)&&(w.line=d(v,[]),w.children.push(w.line),w.numberInLine=0),w.numberInLine+=1,w.line.children.push(b),w.attempt===0?(w.currentWidth+=O,w.height=Math.max(w.height,w.prevHeight+T)):(w.currentWidth=O,w.prevHeight=w.height,w.height+=T,w.attempt=0),w.width=Math.max(w.width,w.currentWidth);break;case"rl-row":case"row":{w.children.push(b),w.width+=O,w.height=Math.max(w.height,T);const D=(0,l.measureToString)(w.height);for(const F of w.children)F.attributes.style.height=D;break}case"table":{w.width=Math.min(f.width,Math.max(w.width,O)),w.height+=T,w.children.push(b);break}case"tb":{w.width=Math.min(f.width,Math.max(w.width,O)),w.height+=T,w.children.push(b);break}}}function p(v){const b=v[i.$extra].availableSpace,g=v.margin?v.margin.topInset+v.margin.bottomInset:0,w=v.margin?v.margin.leftInset+v.margin.rightInset:0;switch(v.layout){case"lr-tb":case"rl-tb":return v[i.$extra].attempt===0?{width:b.width-w-v[i.$extra].currentWidth,height:b.height-g-v[i.$extra].prevHeight}:{width:b.width-w,height:b.height-g-v[i.$extra].height};case"rl-row":case"row":return{width:v[i.$extra].columnWidths.slice(v[i.$extra].currentColumn).reduce((E,A)=>E+A),height:b.height-w};case"table":case"tb":return{width:b.width-w,height:b.height-g-v[i.$extra].height};case"position":default:return b}}function x(v){let b=v.w===""?NaN:v.w,g=v.h===""?NaN:v.h,[w,f]=[0,0];switch(v.anchorType||""){case"bottomCenter":[w,f]=[b/2,g];break;case"bottomLeft":[w,f]=[0,g];break;case"bottomRight":[w,f]=[b,g];break;case"middleCenter":[w,f]=[b/2,g/2];break;case"middleLeft":[w,f]=[0,g/2];break;case"middleRight":[w,f]=[b,g/2];break;case"topCenter":[w,f]=[b/2,0];break;case"topRight":[w,f]=[b,0];break}let E,A;switch(v.rotate||0){case 0:[E,A]=[-w,-f];break;case 90:[E,A]=[-f,w],[b,g]=[g,-b];break;case 180:[E,A]=[w,f],[b,g]=[-b,-g];break;case 270:[E,A]=[f,-w],[b,g]=[-g,b];break}return[v.x+E+Math.min(0,b),v.y+A+Math.min(0,g),Math.abs(b),Math.abs(g)]}function y(v,b){var T;if(v[i.$getTemplateRoot]()[i.$extra].firstUnsplittable===null||v.w===0||v.h===0)return!0;const g=2,w=v[i.$getSubformParent](),f=((T=w[i.$extra])==null?void 0:T.attempt)||0,[,E,A,O]=x(v);switch(w.layout){case"lr-tb":case"rl-tb":return f===0?v[i.$getTemplateRoot]()[i.$extra].noLayoutFailure?v.w!==""?Math.round(A-b.width)<=g:b.width>g:v.h!==""&&Math.round(O-b.height)>g?!1:v.w!==""?Math.round(A-b.width)<=g?!0:w[i.$extra].numberInLine===0?b.height>g:!1:b.width>g:v[i.$getTemplateRoot]()[i.$extra].noLayoutFailure?!0:v.h!==""&&Math.round(O-b.height)>g?!1:v.w===""||Math.round(A-b.width)<=g?b.height>g:w[i.$isThereMoreWidth]()?!1:b.height>g;case"table":case"tb":return v[i.$getTemplateRoot]()[i.$extra].noLayoutFailure?!0:v.h!==""&&!v[i.$isSplittable]()?Math.round(O-b.height)<=g:v.w===""||Math.round(A-b.width)<=g?b.height>g:w[i.$isThereMoreWidth]()?!1:b.height>g;case"position":if(v[i.$getTemplateRoot]()[i.$extra].noLayoutFailure||v.h===""||Math.round(O+E-b.height)<=g)return!0;const D=v[i.$getTemplateRoot]()[i.$extra].currentContentArea;return O+E>D.h;case"rl-row":case"row":return v[i.$getTemplateRoot]()[i.$extra].noLayoutFailure?!0:v.h!==""?Math.round(O-b.height)<=g:!0;default:return!0}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.computeBbox=w,o.createWrapper=O,o.fixDimensions=f,o.fixTextIndent=T,o.fixURL=I,o.isPrintOnly=F,o.layoutClass=E,o.layoutNode=g,o.measureToString=x,o.setAccess=D,o.setFontFamily=M,o.setMinMaxDimensions=v,o.setPara=B,o.toStyle=A,s(140);var i=s(229),l=s(145),d=s(238),e=s(239),r=s(240),p=s(241);function x(W){return typeof W=="string"?"0px":Number.isInteger(W)?`${W}px`:`${W.toFixed(2)}px`}const y={anchorType(W,J){const H=W[i.$getSubformParent]();if(!(!H||H.layout&&H.layout!=="position"))switch("transform"in J||(J.transform=""),W.anchorType){case"bottomCenter":J.transform+="translate(-50%, -100%)";break;case"bottomLeft":J.transform+="translate(0,-100%)";break;case"bottomRight":J.transform+="translate(-100%,-100%)";break;case"middleCenter":J.transform+="translate(-50%,-50%)";break;case"middleLeft":J.transform+="translate(0,-50%)";break;case"middleRight":J.transform+="translate(-100%,-50%)";break;case"topCenter":J.transform+="translate(-50%,0)";break;case"topRight":J.transform+="translate(-100%,0)";break}},dimensions(W,J){var Y;const H=W[i.$getSubformParent]();let N=W.w;const U=W.h;if((Y=H.layout)!=null&&Y.includes("row")){const _=H[i.$extra],V=W.colSpan;let Z;V===-1?(Z=_.columnWidths.slice(_.currentColumn).reduce((q,re)=>q+re,0),_.currentColumn=0):(Z=_.columnWidths.slice(_.currentColumn,_.currentColumn+V).reduce((q,re)=>q+re,0),_.currentColumn=(_.currentColumn+W.colSpan)%_.columnWidths.length),isNaN(Z)||(N=W.w=Z)}J.width=N!==""?x(N):"auto",J.height=U!==""?x(U):"auto"},position(W,J){const H=W[i.$getSubformParent]();(H==null?void 0:H.layout)&&H.layout!=="position"||(J.position="absolute",J.left=x(W.x),J.top=x(W.y))},rotate(W,J){W.rotate&&("transform"in J||(J.transform=""),J.transform+=`rotate(-${W.rotate}deg)`,J.transformOrigin="top left")},presence(W,J){switch(W.presence){case"invisible":J.visibility="hidden";break;case"hidden":case"inactive":J.display="none";break}},hAlign(W,J){if(W[i.$nodeName]==="para")switch(W.hAlign){case"justifyAll":J.textAlign="justify-all";break;case"radix":J.textAlign="left";break;default:J.textAlign=W.hAlign}else switch(W.hAlign){case"left":J.alignSelf="start";break;case"center":J.alignSelf="center";break;case"right":J.alignSelf="end";break}},margin(W,J){W.margin&&(J.margin=W.margin[i.$toStyle]().margin)}};function v(W,J){W[i.$getSubformParent]().layout==="position"&&(W.minW>0&&(J.minWidth=x(W.minW)),W.maxW>0&&(J.maxWidth=x(W.maxW)),W.minH>0&&(J.minHeight=x(W.minH)),W.maxH>0&&(J.maxHeight=x(W.maxH)))}function b(W,J,H,N,U,Y){const _=new r.TextMeasure(J,H,N,U);return typeof W=="string"?_.addString(W):W[i.$pushGlyphs](_),_.compute(Y)}function g(W,J){let H=null,N=null,U=!1;if((!W.w||!W.h)&&W.value){let Y=0,_=0;W.margin&&(Y=W.margin.leftInset+W.margin.rightInset,_=W.margin.topInset+W.margin.bottomInset);let V=null,Z=null;W.para&&(Z=Object.create(null),V=W.para.lineHeight===""?null:W.para.lineHeight,Z.top=W.para.spaceAbove===""?0:W.para.spaceAbove,Z.bottom=W.para.spaceBelow===""?0:W.para.spaceBelow,Z.left=W.para.marginLeft===""?0:W.para.marginLeft,Z.right=W.para.marginRight===""?0:W.para.marginRight);let q=W.font;if(!q){const ae=W[i.$getTemplateRoot]();let R=W[i.$getParent]();for(;R&&R!==ae;){if(R.font){q=R.font;break}R=R[i.$getParent]()}}const re=(W.w||J.width)-Y,oe=W[i.$globalData].fontFinder;if(W.value.exData&&W.value.exData[i.$content]&&W.value.exData.contentType==="text/html"){const ae=b(W.value.exData[i.$content],q,Z,V,oe,re);N=ae.width,H=ae.height,U=ae.isBroken}else{const ae=W.value[i.$text]();if(ae){const R=b(ae,q,Z,V,oe,re);N=R.width,H=R.height,U=R.isBroken}}N!==null&&!W.w&&(N+=Y),H!==null&&!W.h&&(H+=_)}return{w:N,h:H,isBroken:U}}function w(W,J,H){let N;if(W.w!==""&&W.h!=="")N=[W.x,W.y,W.w,W.h];else{if(!H)return null;let U=W.w;if(U===""){if(W.maxW===0){const _=W[i.$getSubformParent]();U=_.layout==="position"&&_.w!==""?0:W.minW}else U=Math.min(W.maxW,H.width);J.attributes.style.width=x(U)}let Y=W.h;if(Y===""){if(W.maxH===0){const _=W[i.$getSubformParent]();Y=_.layout==="position"&&_.h!==""?0:W.minH}else Y=Math.min(W.maxH,H.height);J.attributes.style.height=x(Y)}N=[W.x,W.y,U,Y]}return N}function f(W){var H;const J=W[i.$getSubformParent]();if((H=J.layout)!=null&&H.includes("row")){const N=J[i.$extra],U=W.colSpan;let Y;U===-1?Y=N.columnWidths.slice(N.currentColumn).reduce((_,V)=>_+V,0):Y=N.columnWidths.slice(N.currentColumn,N.currentColumn+U).reduce((_,V)=>_+V,0),isNaN(Y)||(W.w=Y)}J.layout&&J.layout!=="position"&&(W.x=W.y=0),W.layout==="table"&&W.w===""&&Array.isArray(W.columnWidths)&&(W.w=W.columnWidths.reduce((N,U)=>N+U,0))}function E(W){switch(W.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function A(W){const J=Object.create(null);for(var H=arguments.length,N=new Array(H>1?H-1:0),U=1;U<H;U++)N[U-1]=arguments[U];for(const Y of N){const _=W[Y];if(_!==null){if(y.hasOwnProperty(Y)){y[Y](W,J);continue}if(_ instanceof p.XFAObject){const V=_[i.$toStyle]();V?Object.assign(J,V):(0,l.warn)(`(DEBUG) - XFA - style for ${Y} not implemented yet`)}}}return J}function O(W,J){const{attributes:H}=J,{style:N}=H,U={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(H.class.push("xfaWrapped"),W.border){const{widths:Y,insets:_}=W.border[i.$extra];let V,Z,q=_[0],re=_[3];const oe=_[0]+_[2],ae=_[1]+_[3];switch(W.border.hand){case"even":q-=Y[0]/2,re-=Y[3]/2,V=`calc(100% + ${(Y[1]+Y[3])/2-ae}px)`,Z=`calc(100% + ${(Y[0]+Y[2])/2-oe}px)`;break;case"left":q-=Y[0],re-=Y[3],V=`calc(100% + ${Y[1]+Y[3]-ae}px)`,Z=`calc(100% + ${Y[0]+Y[2]-oe}px)`;break;case"right":V=ae?`calc(100% - ${ae}px)`:"100%",Z=oe?`calc(100% - ${oe}px)`:"100%";break}const R=["xfaBorder"];F(W.border)&&R.push("xfaPrintOnly");const S={name:"div",attributes:{class:R,style:{top:`${q}px`,left:`${re}px`,width:V,height:Z}},children:[]};for(const L of["border","borderWidth","borderColor","borderRadius","borderStyle"])N[L]!==void 0&&(S.attributes.style[L]=N[L],delete N[L]);U.children.push(S,J)}else U.children.push(J);for(const Y of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])N[Y]!==void 0&&(U.attributes.style[Y]=N[Y],delete N[Y]);return U.attributes.style.position=N.position==="absolute"?"absolute":"relative",delete N.position,N.alignSelf&&(U.attributes.style.alignSelf=N.alignSelf,delete N.alignSelf),U}function T(W){const J=(0,d.getMeasurement)(W.textIndent,"0px");if(J>=0)return;const N="padding"+((W.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),U=(0,d.getMeasurement)(W[N],"0px");W[N]=`${U-J}px`}function D(W,J){switch(W.access){case"nonInteractive":J.push("xfaNonInteractive");break;case"readOnly":J.push("xfaReadOnly");break;case"protected":J.push("xfaDisabled");break}}function F(W){return W.relevant.length>0&&!W.relevant[0].excluded&&W.relevant[0].viewname==="print"}function C(W){const J=W[i.$getTemplateRoot]()[i.$extra].paraStack;return J.length?J.at(-1):null}function B(W,J,H){var N;if((N=H.attributes.class)!=null&&N.includes("xfaRich")){J&&(W.h===""&&(J.height="auto"),W.w===""&&(J.width="auto"));const U=C(W);if(U){const Y=H.attributes.style;switch(Y.display="flex",Y.flexDirection="column",U.vAlign){case"top":Y.justifyContent="start";break;case"bottom":Y.justifyContent="end";break;case"middle":Y.justifyContent="center";break}const _=U[i.$toStyle]();for(const[V,Z]of Object.entries(_))V in Y||(Y[V]=Z)}}}function M(W,J,H,N){if(!H){delete N.fontFamily;return}const U=(0,d.stripQuotes)(W.typeface);N.fontFamily=`"${U}"`;const Y=H.find(U);if(Y){const{fontFamily:_}=Y.regular.cssFontInfo;_!==U&&(N.fontFamily=`"${_}"`);const V=C(J);if(V&&V.lineHeight!==""||N.lineHeight)return;const Z=(0,e.selectFont)(W,Y);Z&&(N.lineHeight=Math.max(1.2,Z.lineHeight))}}function I(W){const J=(0,l.createValidAbsoluteUrl)(W,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return J?J.href:null}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HTMLResult=void 0,o.getBBox=f,o.getColor=w,o.getFloat=p,o.getInteger=r,o.getKeyword=x,o.getMeasurement=v,o.getRatio=b,o.getRelevant=g,o.getStringOption=y,o.stripQuotes=e,s(140);var i=s(145);const l={pt:A=>A,cm:A=>A/2.54*72,mm:A=>A/(10*2.54)*72,in:A=>A*72,px:A=>A},d=/([+-]?\d+\.?\d*)(.*)/;function e(A){return A.startsWith("'")||A.startsWith('"')?A.slice(1,-1):A}function r(A){let{data:O,defaultValue:T,validate:D}=A;if(!O)return T;O=O.trim();const F=parseInt(O,10);return!isNaN(F)&&D(F)?F:T}function p(A){let{data:O,defaultValue:T,validate:D}=A;if(!O)return T;O=O.trim();const F=parseFloat(O);return!isNaN(F)&&D(F)?F:T}function x(A){let{data:O,defaultValue:T,validate:D}=A;return O?(O=O.trim(),D(O)?O:T):T}function y(A,O){return x({data:A,defaultValue:O[0],validate:T=>O.includes(T)})}function v(A){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";if(O||(O="0"),!A)return v(O);const T=A.trim().match(d);if(!T)return v(O);const[,D,F]=T,C=parseFloat(D);if(isNaN(C))return v(O);if(C===0)return 0;const B=l[F];return B?B(C):C}function b(A){if(!A)return{num:1,den:1};const O=A.trim().split(/\s*:\s*/).map(F=>parseFloat(F)).filter(F=>!isNaN(F));if(O.length===1&&O.push(1),O.length===0)return{num:1,den:1};const[T,D]=O;return{num:T,den:D}}function g(A){return A?A.trim().split(/\s+/).map(O=>({excluded:O[0]==="-",viewname:O.substring(1)})):[]}function w(A){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],[T,D,F]=O;if(!A)return{r:T,g:D,b:F};const C=A.trim().split(/\s*,\s*/).map(B=>Math.min(Math.max(0,parseInt(B.trim(),10)),255)).map(B=>isNaN(B)?0:B);return C.length<3?{r:T,g:D,b:F}:([T,D,F]=C,{r:T,g:D,b:F})}function f(A){if(!A)return{x:-1,y:-1,width:-1,height:-1};const T=A.trim().split(/\s*,\s*/).map(M=>v(M,"-1"));if(T.length<4||T[2]<0||T[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[D,F,C,B]=T;return{x:D,y:F,width:C,height:B}}class E{static get FAILURE(){return(0,i.shadow)(this,"FAILURE",new E(!1,null,null,null))}static get EMPTY(){return(0,i.shadow)(this,"EMPTY",new E(!0,null,null,null))}constructor(O,T,D,F){this.success=O,this.html=T,this.bbox=D,this.breakNode=F}isBreak(){return!!this.breakNode}static breakNode(O){return new E(!1,null,null,O)}static success(O){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new E(!0,O,T,null)}}o.HTMLResult=E},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontFinder=void 0,o.getMetrics=p,o.selectFont=r,s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(140);var i=s(229),l=s(238),d=s(145);class e{constructor(y){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(y)}add(y){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;for(const g of y)this.addPdfFont(g);for(const g of this.fonts.values())g.regular||(g.regular=g.italic||g.bold||g.bolditalic);if(!v||v.size===0)return;const b=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const g of v)this.fonts.set(g,b)}addPdfFont(y){var E,A,O;const v=y.cssFontInfo,b=v.fontFamily;let g=this.fonts.get(b);g||(g=Object.create(null),this.fonts.set(b,g),this.defaultFont||(this.defaultFont=g));let w="";const f=parseFloat(v.fontWeight);parseFloat(v.italicAngle)!==0?w=f>=700?"bolditalic":"italic":f>=700&&(w="bold"),w||((y.name.includes("Bold")||((E=y.psName)==null?void 0:E.includes("Bold")))&&(w="bold"),(y.name.includes("Italic")||y.name.endsWith("It")||((A=y.psName)==null?void 0:A.includes("Italic"))||((O=y.psName)==null?void 0:O.endsWith("It")))&&(w+="italic")),w||(w="regular"),g[w]=y}getDefault(){return this.defaultFont}find(y){var E,A;let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,b=this.fonts.get(y)||this.cache.get(y);if(b)return b;const g=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let w=y.replaceAll(g,"");if(b=this.fonts.get(w),b)return this.cache.set(y,b),b;w=w.toLowerCase();const f=[];for(const[O,T]of this.fonts.entries())O.replaceAll(g,"").toLowerCase().startsWith(w)&&f.push(T);if(f.length===0)for(const[,O]of this.fonts.entries())(E=O.regular.name)!=null&&E.replaceAll(g,"").toLowerCase().startsWith(w)&&f.push(O);if(f.length===0){w=w.replaceAll(/psmt|mt/gi,"");for(const[O,T]of this.fonts.entries())O.replaceAll(g,"").toLowerCase().startsWith(w)&&f.push(T)}if(f.length===0)for(const O of this.fonts.values())(A=O.regular.name)!=null&&A.replaceAll(g,"").toLowerCase().startsWith(w)&&f.push(O);return f.length>=1?(f.length!==1&&v&&(0,d.warn)(`XFA - Too many choices to guess the correct font: ${y}`),this.cache.set(y,f[0]),f[0]):(v&&!this.warned.has(y)&&(this.warned.add(y),(0,d.warn)(`XFA - Cannot find the font: ${y}`)),null)}}o.FontFinder=e;function r(x,y){return x.posture==="italic"?x.weight==="bold"?y.bolditalic:y.italic:x.weight==="bold"?y.bold:y.regular}function p(x){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=null;if(x){const f=(0,l.stripQuotes)(x.typeface),E=x[i.$globalData].fontFinder.find(f);v=r(x,E)}if(!v)return{lineHeight:12,lineGap:2,lineNoGap:10};const b=x.size||10,g=v.lineHeight?Math.max(y?0:1.2,v.lineHeight):1.2,w=v.lineGap===void 0?.2:v.lineGap;return{lineHeight:g*b,lineGap:w*b,lineNoGap:Math.max(1,g-w)*b}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextMeasure=void 0,s(140);var i=s(239);const l=1.02;class d{constructor(x,y,v,b){if(this.lineHeight=v,this.paraMargin=y||{top:0,bottom:0,left:0,right:0},!x){[this.pdfFont,this.xfaFont]=this.defaultFont(b);return}this.xfaFont={typeface:x.typeface,posture:x.posture,weight:x.weight,size:x.size,letterSpacing:x.letterSpacing};const g=b.find(x.typeface);if(!g){[this.pdfFont,this.xfaFont]=this.defaultFont(b);return}this.pdfFont=(0,i.selectFont)(x,g),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(b))}defaultFont(x){const y=x.find("Helvetica",!1)||x.find("Myriad Pro",!1)||x.find("Arial",!1)||x.getDefault();if(y!=null&&y.regular){const b=y.regular,w={typeface:b.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[b,w]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(x,y,v,b){this.fontFinder=b,this.stack=[new d(x,y,v,b)]}pushData(x,y,v){const b=this.stack.at(-1);for(const w of["typeface","posture","weight","size","letterSpacing"])x[w]||(x[w]=b.xfaFont[w]);for(const w of["top","bottom","left","right"])isNaN(y[w])&&(y[w]=b.paraMargin[w]);const g=new d(x,y,v||b.lineHeight,this.fontFinder);g.pdfFont||(g.pdfFont=b.pdfFont),this.stack.push(g)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class r{constructor(x,y,v,b){this.glyphs=[],this.fontSelector=new e(x,y,v,b),this.extraHeight=0}pushData(x,y,v){this.fontSelector.pushData(x,y,v)}popFont(x){return this.fontSelector.popFont()}addPara(){const x=this.fontSelector.topFont();this.extraHeight+=x.paraMargin.top+x.paraMargin.bottom}addString(x){if(!x)return;const y=this.fontSelector.topFont(),v=y.xfaFont.size;if(y.pdfFont){const b=y.xfaFont.letterSpacing,g=y.pdfFont,w=g.lineHeight||1.2,f=y.lineHeight||Math.max(1.2,w)*v,E=g.lineGap===void 0?.2:g.lineGap,A=w-E,O=Math.max(1,A)*v,T=v/1e3,D=g.defaultWidth||g.charsToGlyphs(" ")[0].width;for(const F of x.split(/[\u2029\n]/)){const C=g.encodeString(F).join(""),B=g.charsToGlyphs(C);for(const M of B){const I=M.width||D;this.glyphs.push([I*T+b,f,O,M.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const b of x.split(/[\u2029\n]/)){for(const g of b.split(""))this.glyphs.push([v,1.2*v,v,g,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(x){let y=-1,v=0,b=0,g=0,w=0,f=0,E=!1,A=!0;for(let O=0,T=this.glyphs.length;O<T;O++){const[D,F,C,B,M]=this.glyphs[O],I=B===" ",W=A?C:F;if(M){b=Math.max(b,w),w=0,g+=f,f=W,y=-1,v=0,A=!1;continue}if(I){w+D>x?(b=Math.max(b,w),w=0,g+=f,f=W,y=-1,v=0,E=!0,A=!1):(f=Math.max(W,f),v=w,w+=D,y=O);continue}if(w+D>x){g+=f,f=W,y!==-1?(O=y,b=Math.max(b,v),w=0,y=-1,v=0):(b=Math.max(b,w),w=D),E=!0,A=!1;continue}w+=D,f=Math.max(W,f)}return b=Math.max(b,w),g+=f+this.extraHeight,{width:l*b,height:g,isBroken:E}}}o.TextMeasure=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XmlObject=o.XFAObjectArray=o.XFAObject=o.XFAAttribute=o.StringObject=o.OptionObject=o.Option10=o.Option01=o.IntegerObject=o.ContentObject=void 0,s(140),s(116),s(127),s(129),s(132),s(134),s(136),s(138);var i=s(229),l=s(238),d=s(145),e=s(150),r=s(235),p=s(242);const x=Symbol(),y=Symbol(),v=Symbol(),b=Symbol("_children"),g=Symbol(),w=Symbol(),f=Symbol(),E=Symbol(),A=Symbol(),O=Symbol(),T=Symbol(),D=Symbol(),F=Symbol(),C=Symbol("parent"),B=Symbol(),M=Symbol(),I=Symbol();let W=0;const J=r.NamespaceIds.datasets.id;class H{constructor(R,S){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this[i.$namespaceId]=R,this[i.$nodeName]=S,this[T]=L,this[C]=null,this[b]=[],this[i.$uid]=`${S}${W++}`,this[i.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(R){let S=this,L=null;for(const{name:k,index:z}of R){for(let P=0,K=isFinite(z)?z:0;P<=K;P++){const te=S[i.$namespaceId]===J?-1:S[i.$namespaceId];L=new Y(te,k),S[i.$appendChild](L)}S=L}return L}[i.$onChild](R){if(!this[T]||!this[i.$onChildCheck](R))return!1;const S=R[i.$nodeName],L=this[S];if(L instanceof N){if(L.push(R))return this[i.$appendChild](R),!0}else return L!==null&&this[i.$removeChild](L),this[S]=R,this[i.$appendChild](R),!0;let k="";return this.id?k=` (id: ${this.id})`:this.name&&(k=` (name: ${this.name} ${this.h.value})`),(0,d.warn)(`XFA - node "${this[i.$nodeName]}"${k} has already enough "${S}"!`),!1}[i.$onChildCheck](R){return this.hasOwnProperty(R[i.$nodeName])&&R[i.$namespaceId]===this[i.$namespaceId]}[i.$isNsAgnostic](){return!1}[i.$acceptWhitespace](){return!1}[i.$isCDATAXml](){return!1}[i.$isBindable](){return!1}[i.$popPara](){this.para&&this[i.$getTemplateRoot]()[i.$extra].paraStack.pop()}[i.$pushPara](){this[i.$getTemplateRoot]()[i.$extra].paraStack.push(this.para)}[i.$setId](R){this.id&&this[i.$namespaceId]===r.NamespaceIds.template.id&&R.set(this.id,this)}[i.$getTemplateRoot](){return this[i.$globalData].template}[i.$isSplittable](){return!1}[i.$isThereMoreWidth](){return!1}[i.$appendChild](R){R[C]=this,this[b].push(R),!R[i.$globalData]&&this[i.$globalData]&&(R[i.$globalData]=this[i.$globalData])}[i.$removeChild](R){const S=this[b].indexOf(R);this[b].splice(S,1)}[i.$hasSettableValue](){return this.hasOwnProperty("value")}[i.$setValue](R){}[i.$onText](R){}[i.$finalize](){}[i.$clean](R){delete this[T],this[i.$cleanup]&&(R.clean(this[i.$cleanup]),delete this[i.$cleanup])}[i.$indexOf](R){return this[b].indexOf(R)}[i.$insertAt](R,S){S[C]=this,this[b].splice(R,0,S),!S[i.$globalData]&&this[i.$globalData]&&(S[i.$globalData]=this[i.$globalData])}[i.$isTransparent](){return!this.name}[i.$lastAttribute](){return""}[i.$text](){return this[b].length===0?this[i.$content]:this[b].map(R=>R[i.$text]()).join("")}get[v](){const R=Object.getPrototypeOf(this);if(!R._attributes){const S=R._attributes=new Set;for(const L of Object.getOwnPropertyNames(this)){if(this[L]===null||this[L]instanceof H||this[L]instanceof N)break;S.add(L)}}return(0,d.shadow)(this,v,R._attributes)}[i.$isDescendent](R){let S=this;for(;S;){if(S===R)return!0;S=S[i.$getParent]()}return!1}[i.$getParent](){return this[C]}[i.$getSubformParent](){return this[i.$getParent]()}[i.$getChildren](){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return R?this[R]:this[b]}[i.$dump](){const R=Object.create(null);this[i.$content]&&(R.$content=this[i.$content]);for(const S of Object.getOwnPropertyNames(this)){const L=this[S];L!==null&&(L instanceof H?R[S]=L[i.$dump]():L instanceof N?L.isEmpty()||(R[S]=L.dump()):R[S]=L)}return R}[i.$toStyle](){return null}[i.$toHTML](){return l.HTMLResult.EMPTY}*[i.$getContainedChildren](){for(const R of this[i.$getChildren]())yield R}*[E](R,S){for(const L of this[i.$getContainedChildren]())if(!R||S===R.has(L[i.$nodeName])){const k=this[i.$getAvailableSpace](),z=L[i.$toHTML](k);z.success||(this[i.$extra].failingNode=L),yield z}}[i.$flushHTML](){return null}[i.$addHTML](R,S){this[i.$extra].children.push(R)}[i.$getAvailableSpace](){}[i.$childrenToHTML](R){let{filter:S=null,include:L=!0}=R;if(!this[i.$extra].generator)this[i.$extra].generator=this[E](S,L);else{const k=this[i.$getAvailableSpace](),z=this[i.$extra].failingNode[i.$toHTML](k);if(!z.success)return z;z.html&&this[i.$addHTML](z.html,z.bbox),delete this[i.$extra].failingNode}for(;;){const k=this[i.$extra].generator.next();if(k.done)break;const z=k.value;if(!z.success)return z;z.html&&this[i.$addHTML](z.html,z.bbox)}return this[i.$extra].generator=null,l.HTMLResult.EMPTY}[i.$setSetAttributes](R){this[M]=new Set(Object.keys(R))}[O](R){const S=this[v],L=this[M];return[...R].filter(k=>S.has(k)&&!L.has(k))}[i.$resolvePrototypes](R){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const L of this[b])L[B](R,S)}[B](R,S){const L=this[A](R,S);L?this[x](L,R,S):this[i.$resolvePrototypes](R,S)}[A](R,S){const{use:L,usehref:k}=this;if(!L&&!k)return null;let z=null,P=null,K=null,te=L;if(k?(te=k,k.startsWith("#som(")&&k.endsWith(")")?P=k.slice(5,-1):k.startsWith(".#som(")&&k.endsWith(")")?P=k.slice(6,-1):k.startsWith("#")?K=k.slice(1):k.startsWith(".#")&&(K=k.slice(2))):L.startsWith("#")?K=L.slice(1):P=L,this.use=this.usehref="",K?z=R.get(K):(z=(0,p.searchNode)(R.get(i.$root),this,P,!0,!1),z&&(z=z[0])),!z)return(0,d.warn)(`XFA - Invalid prototype reference: ${te}.`),null;if(z[i.$nodeName]!==this[i.$nodeName])return(0,d.warn)(`XFA - Incompatible prototype: ${z[i.$nodeName]} !== ${this[i.$nodeName]}.`),null;if(S.has(z))return(0,d.warn)("XFA - Cycle detected in prototypes use."),null;S.add(z);const X=z[A](R,S);return X&&z[x](X,R,S),z[i.$resolvePrototypes](R,S),S.delete(z),z}[x](R,S,L){if(L.has(R)){(0,d.warn)("XFA - Cycle detected in prototypes use.");return}!this[i.$content]&&R[i.$content]&&(this[i.$content]=R[i.$content]),new Set(L).add(R);for(const z of this[O](R[M]))this[z]=R[z],this[M]&&this[M].add(z);for(const z of Object.getOwnPropertyNames(this)){if(this[v].has(z))continue;const P=this[z],K=R[z];if(P instanceof N){for(const te of P[b])te[B](S,L);for(let te=P[b].length,X=K[b].length;te<X;te++){const ee=R[b][te][i.$clone]();if(P.push(ee))ee[C]=this,this[b].push(ee),ee[B](S,L);else break}continue}if(P!==null){P[i.$resolvePrototypes](S,L),K&&P[x](K,S,L);continue}if(K!==null){const te=K[i.$clone]();te[C]=this,this[z]=te,this[b].push(te),te[B](S,L)}}}static[g](R){return Array.isArray(R)?R.map(S=>H[g](S)):typeof R=="object"&&R!==null?Object.assign({},R):R}[i.$clone](){const R=Object.create(Object.getPrototypeOf(this));for(const S of Object.getOwnPropertySymbols(this))try{R[S]=this[S]}catch{(0,d.shadow)(R,S,this[S])}R[i.$uid]=`${R[i.$nodeName]}${W++}`,R[b]=[];for(const S of Object.getOwnPropertyNames(this)){if(this[v].has(S)){R[S]=H[g](this[S]);continue}const L=this[S];R[S]=L instanceof N?new N(L[D]):null}for(const S of this[b]){const L=S[i.$nodeName],k=S[i.$clone]();R[b].push(k),k[C]=R,R[L]===null?R[L]=k:R[L][b].push(k)}return R}[i.$getChildren](){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return R?this[b].filter(S=>S[i.$nodeName]===R):this[b]}[i.$getChildrenByClass](R){return this[R]}[i.$getChildrenByName](R,S){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Array.from(this[i.$getChildrenByNameIt](R,S,L))}[i.$getChildrenByNameIt](R,S){var L=this;let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return function*(){if(R==="parent"){yield L[C];return}for(const z of L[b])z[i.$nodeName]===R&&(yield z),z.name===R&&(yield z),(S||z[i.$isTransparent]())&&(yield*z[i.$getChildrenByNameIt](R,S,!1));k&&L[v].has(R)&&(yield new U(L,R,L[R]))}()}}o.XFAObject=H;class N{constructor(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1/0;this[D]=R,this[b]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(R){return this[b].length<=this[D]?(this[b].push(R),!0):((0,d.warn)(`XFA - node "${R[i.$nodeName]}" accepts no more than ${this[D]} children`),!1)}isEmpty(){return this[b].length===0}dump(){return this[b].length===1?this[b][0][i.$dump]():this[b].map(R=>R[i.$dump]())}[i.$clone](){const R=new N(this[D]);return R[b]=this[b].map(S=>S[i.$clone]()),R}get children(){return this[b]}clear(){this[b].length=0}}o.XFAObjectArray=N;class U{constructor(R,S,L){this[C]=R,this[i.$nodeName]=S,this[i.$content]=L,this[i.$consumed]=!1,this[i.$uid]=`attribute${W++}`}[i.$getParent](){return this[C]}[i.$isDataValue](){return!0}[i.$getDataValue](){return this[i.$content].trim()}[i.$setValue](R){R=R.value||"",this[i.$content]=R.toString()}[i.$text](){return this[i.$content]}[i.$isDescendent](R){return this[C]===R||this[C][i.$isDescendent](R)}}o.XFAAttribute=U;class Y extends H{constructor(R,S){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(super(R,S),this[i.$content]="",this[w]=null,S!=="#text"){const k=new Map;this[y]=k;for(const[z,P]of Object.entries(L))k.set(z,new U(this,z,P));if(L.hasOwnProperty(i.$nsAttributes)){const z=L[i.$nsAttributes].xfa.dataNode;z!==void 0&&(z==="dataGroup"?this[w]=!1:z==="dataValue"&&(this[w]=!0))}}this[i.$consumed]=!1}[i.$toString](R){const S=this[i.$nodeName];if(S==="#text"){R.push((0,e.encodeToXmlString)(this[i.$content]));return}const L=(0,d.utf8StringToString)(S),k=this[i.$namespaceId]===J?"xfa:":"";R.push(`<${k}${L}`);for(const[z,P]of this[y].entries()){const K=(0,d.utf8StringToString)(z);R.push(` ${K}="${(0,e.encodeToXmlString)(P[i.$content])}"`)}if(this[w]!==null&&(this[w]?R.push(' xfa:dataNode="dataValue"'):R.push(' xfa:dataNode="dataGroup"')),!this[i.$content]&&this[b].length===0){R.push("/>");return}if(R.push(">"),this[i.$content])typeof this[i.$content]=="string"?R.push((0,e.encodeToXmlString)(this[i.$content])):this[i.$content][i.$toString](R);else for(const z of this[b])z[i.$toString](R);R.push(`</${k}${L}>`)}[i.$onChild](R){if(this[i.$content]){const S=new Y(this[i.$namespaceId],"#text");this[i.$appendChild](S),S[i.$content]=this[i.$content],this[i.$content]=""}return this[i.$appendChild](R),!0}[i.$onText](R){this[i.$content]+=R}[i.$finalize](){if(this[i.$content]&&this[b].length>0){const R=new Y(this[i.$namespaceId],"#text");this[i.$appendChild](R),R[i.$content]=this[i.$content],delete this[i.$content]}}[i.$toHTML](){return this[i.$nodeName]==="#text"?l.HTMLResult.success({name:"#text",value:this[i.$content]}):l.HTMLResult.EMPTY}[i.$getChildren](){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return R?this[b].filter(S=>S[i.$nodeName]===R):this[b]}[i.$getAttributes](){return this[y]}[i.$getChildrenByClass](R){const S=this[y].get(R);return S!==void 0?S:this[i.$getChildren](R)}*[i.$getChildrenByNameIt](R,S){const L=this[y].get(R);L&&(yield L);for(const k of this[b])k[i.$nodeName]===R&&(yield k),S&&(yield*k[i.$getChildrenByNameIt](R,S))}*[i.$getAttributeIt](R,S){const L=this[y].get(R);L&&(!S||!L[i.$consumed])&&(yield L);for(const k of this[b])yield*k[i.$getAttributeIt](R,S)}*[i.$getRealChildrenByNameIt](R,S,L){for(const k of this[b])k[i.$nodeName]===R&&(!L||!k[i.$consumed])&&(yield k),S&&(yield*k[i.$getRealChildrenByNameIt](R,S,L))}[i.$isDataValue](){return this[w]===null?this[b].length===0||this[b][0][i.$namespaceId]===r.NamespaceIds.xhtml.id:this[w]}[i.$getDataValue](){return this[w]===null?this[b].length===0?this[i.$content].trim():this[b][0][i.$namespaceId]===r.NamespaceIds.xhtml.id?this[b][0][i.$text]().trim():null:this[i.$content].trim()}[i.$setValue](R){R=R.value||"",this[i.$content]=R.toString()}[i.$dump](){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const S=Object.create(null);R&&(S.$ns=this[i.$namespaceId]),this[i.$content]&&(S.$content=this[i.$content]),S.$name=this[i.$nodeName],S.children=[];for(const L of this[b])S.children.push(L[i.$dump](R));S.attributes=Object.create(null);for(const[L,k]of this[y])S.attributes[L]=k[i.$content];return S}}o.XmlObject=Y;class _ extends H{constructor(R,S){super(R,S),this[i.$content]=""}[i.$onText](R){this[i.$content]+=R}[i.$finalize](){}}o.ContentObject=_;class V extends _{constructor(R,S,L){super(R,S),this[F]=L}[i.$finalize](){this[i.$content]=(0,l.getKeyword)({data:this[i.$content],defaultValue:this[F][0],validate:R=>this[F].includes(R)})}[i.$clean](R){super[i.$clean](R),delete this[F]}}o.OptionObject=V;class Z extends _{[i.$finalize](){this[i.$content]=this[i.$content].trim()}}o.StringObject=Z;class q extends _{constructor(R,S,L,k){super(R,S),this[f]=L,this[I]=k}[i.$finalize](){this[i.$content]=(0,l.getInteger)({data:this[i.$content],defaultValue:this[f],validate:this[I]})}[i.$clean](R){super[i.$clean](R),delete this[f],delete this[I]}}o.IntegerObject=q;class re extends q{constructor(R,S){super(R,S,0,L=>L===1)}}o.Option01=re;class oe extends q{constructor(R,S){super(R,S,1,L=>L===0)}}o.Option10=oe},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDataNode=g,o.searchNode=b,s(140);var i=s(229),l=s(145);const d=/^[^.[]+/,e=/^[^\]]+/,r={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},p=new Map([["$data",(w,f)=>w.datasets?w.datasets.data:w],["$record",(w,f)=>(w.datasets?w.datasets.data:w)[i.$getChildren]()[0]],["$template",(w,f)=>w.template],["$connectionSet",(w,f)=>w.connectionSet],["$form",(w,f)=>w.form],["$layout",(w,f)=>w.layout],["$host",(w,f)=>w.host],["$dataWindow",(w,f)=>w.dataWindow],["$event",(w,f)=>w.event],["!",(w,f)=>w.datasets],["$xfa",(w,f)=>w],["xfa",(w,f)=>w],["$",(w,f)=>f]]),x=new WeakMap;function y(w){return w=w.trim(),w==="*"?1/0:parseInt(w,10)||0}function v(w,f){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,A=w.match(d);if(!A)return null;let[O]=A;const T=[{name:O,cacheName:"."+O,index:0,js:null,formCalc:null,operator:r.dot}];let D=O.length;for(;D<w.length;){const F=D;if(w.charAt(D++)==="["){if(A=w.slice(D).match(e),!A)return(0,l.warn)("XFA - Invalid index in SOM expression"),null;T.at(-1).index=y(A[0]),D+=A[0].length+1;continue}let B;switch(w.charAt(D)){case".":if(!f)return null;D++,B=r.dotDot;break;case"#":D++,B=r.dotHash;break;case"[":if(E)return(0,l.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;B=r.dotBracket;break;case"(":if(E)return(0,l.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;B=r.dotParen;break;default:B=r.dot;break}if(A=w.slice(D).match(d),!A)break;[O]=A,D+=O.length,T.push({name:O,cacheName:w.slice(F,D),operator:B,index:0,js:null,formCalc:null})}return T}function b(w,f,E){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;const T=v(E,A);if(!T)return null;const D=p.get(T[0].name);let F=0,C;D?(C=!0,w=[D(w,f)],F=1):(C=f===null,w=[f||w]);for(let B=T.length;F<B;F++){const{name:M,cacheName:I,operator:W,index:J}=T[F],H=[];for(const N of w){if(!N.isXFAObject)continue;let U,Y;if(O&&(Y=x.get(N),Y||(Y=new Map,x.set(N,Y)),U=Y.get(I)),!U){switch(W){case r.dot:U=N[i.$getChildrenByName](M,!1);break;case r.dotDot:U=N[i.$getChildrenByName](M,!0);break;case r.dotHash:U=N[i.$getChildrenByClass](M),U=U.isXFAObjectArray?U.children:[U];break}O&&Y.set(I,U)}U.length>0&&H.push(U)}if(H.length===0&&!C&&F===0){if(f=f[i.$getParent](),!f)return null;F=-1,w=[f];continue}w=isFinite(J)?H.filter(N=>J<N.length).map(N=>N[J]):H.flat()}return w.length===0?null:w}function g(w,f,E){const A=v(E);if(!A||A.some(D=>D.operator===r.dotDot))return null;const O=p.get(A[0].name);let T=0;O?(w=O(w,f),T=1):w=f||w;for(let D=A.length;T<D;T++){const{name:F,operator:C,index:B}=A[T];if(!isFinite(B))return A[T].index=0,w.createNodes(A.slice(T));let M;switch(C){case r.dot:M=w[i.$getChildrenByName](F,!1);break;case r.dotDot:M=w[i.$getChildrenByName](F,!0);break;case r.dotHash:M=w[i.$getChildrenByClass](F),M=M.isXFAObjectArray?M.children:[M];break}if(M.length===0)return w.createNodes(A.slice(T));if(B<M.length){const I=M[B];if(!I.isXFAObject)return(0,l.warn)("XFA - Cannot create a node."),null;w=I}else return A[T].index=B-M.length,w.createNodes(A.slice(T))}return null}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DataHandler=void 0,s(140);var i=s(229);class l{constructor(e,r){this.data=r,this.dataset=e.datasets||null}serialize(e){const r=[[-1,this.data[i.$getChildren]()]];for(;r.length>0;){const x=r.at(-1),[y,v]=x;if(y+1===v.length){r.pop();continue}const b=v[++x[0]],g=e.get(b[i.$uid]);if(g)b[i.$setValue](g);else{const f=b[i.$getAttributes]();for(const E of f.values()){const A=e.get(E[i.$uid]);if(A){E[i.$setValue](A);break}}}const w=b[i.$getChildren]();w.length>0&&r.push([-1,w])}const p=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const x of this.dataset[i.$getChildren]())x[i.$nodeName]!=="data"&&x[i.$toString](p);return this.data[i.$toString](p),p.push("</xfa:datasets>"),p.join("")}}o.DataHandler=l},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XFAParser=void 0,s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(140);var i=s(229),l=s(222),d=s(245),e=s(145);class r extends l.XMLParserBase{constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super(),this._builder=new d.Builder(x),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=l.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=y}parse(x){if(this.parseXml(x),this._errorCode===l.XMLParserErrorCode.NoError)return this._current[i.$finalize](),this._current.element}onText(x){if(x=x.replace(this._nbsps,y=>y.slice(1)+" "),this._richText||this._current[i.$acceptWhitespace]()){this._current[i.$onText](x,this._richText);return}this._whiteRegex.test(x)||this._current[i.$onText](x.trim())}onCdata(x){this._current[i.$onText](x)}_mkAttributes(x,y){let v=null,b=null;const g=Object.create({});for(const{name:w,value:f}of x)if(w==="xmlns")v?(0,e.warn)(`XFA - multiple namespace definition in <${y}>`):v=f;else if(w.startsWith("xmlns:")){const E=w.substring(6);b||(b=[]),b.push({prefix:E,value:f})}else{const E=w.indexOf(":");if(E===-1)g[w]=f;else{let A=g[i.$nsAttributes];A||(A=g[i.$nsAttributes]=Object.create(null));const[O,T]=[w.slice(0,E),w.slice(E+1)],D=A[O]||(A[O]=Object.create(null));D[T]=f}}return[v,b,g]}_getNameAndPrefix(x,y){const v=x.indexOf(":");return v===-1?[x,null]:[x.substring(v+1),y?"":x.substring(0,v)]}onBeginElement(x,y,v){const[b,g,w]=this._mkAttributes(y,x),[f,E]=this._getNameAndPrefix(x,this._builder.isNsAgnostic()),A=this._builder.build({nsPrefix:E,name:f,attributes:w,namespace:b,prefixes:g});if(A[i.$globalData]=this._globalData,v){A[i.$finalize](),this._current[i.$onChild](A)&&A[i.$setId](this._ids),A[i.$clean](this._builder);return}this._stack.push(this._current),this._current=A}onEndElement(x){const y=this._current;if(y[i.$isCDATAXml]()&&typeof y[i.$content]=="string"){const v=new r;v._globalData=this._globalData;const b=v.parse(y[i.$content]);y[i.$content]=null,y[i.$onChild](b)}y[i.$finalize](),this._current=this._stack.pop(),this._current[i.$onChild](y)&&y[i.$setId](this._ids),y[i.$clean](this._builder)}onError(x){this._errorCode=x}}o.XFAParser=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Builder=void 0,s(140);var i=s(235),l=s(229),d=s(246),e=s(231),r=s(255),p=s(145),x=s(241);class y extends x.XFAObject{constructor(w){super(-1,"root",Object.create(null)),this.element=null,this[l.$ids]=w}[l.$onChild](w){return this.element=w,!0}[l.$finalize](){super[l.$finalize](),this.element.template instanceof e.Template&&(this[l.$ids].set(l.$root,this.element),this.element.template[l.$resolvePrototypes](this[l.$ids]),this.element.template[l.$ids]=this[l.$ids])}}class v extends x.XFAObject{constructor(){super(-1,"",Object.create(null))}[l.$onChild](w){return!1}}class b{constructor(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(i.NamespaceIds).map(f=>{let{id:E}=f;return E})),this._currentNamespace=w||new r.UnknownNamespace(++this._nextNsId)}buildRoot(w){return new y(w)}build(w){let{nsPrefix:f,name:E,attributes:A,namespace:O,prefixes:T}=w;const D=O!==null;if(D&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(O)),T&&this._addNamespacePrefix(T),A.hasOwnProperty(l.$nsAttributes)){const B=d.NamespaceSetUp.datasets,M=A[l.$nsAttributes];let I=null;for(const[W,J]of Object.entries(M))if(this._getNamespaceToUse(W)===B){I={xfa:J};break}I?A[l.$nsAttributes]=I:delete A[l.$nsAttributes]}const F=this._getNamespaceToUse(f),C=(F==null?void 0:F[i.$buildXFAObject](E,A))||new v;return C[l.$isNsAgnostic]()&&this._nsAgnosticLevel++,(D||T||C[l.$isNsAgnostic]())&&(C[l.$cleanup]={hasNamespace:D,prefixes:T,nsAgnostic:C[l.$isNsAgnostic]()}),C}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(w){let f=this._namespaces.get(w);if(f)return f;for(const[E,{check:A}]of Object.entries(i.NamespaceIds))if(A(w)){if(f=d.NamespaceSetUp[E],f)return this._namespaces.set(w,f),f;break}return f=new r.UnknownNamespace(++this._nextNsId),this._namespaces.set(w,f),f}_addNamespacePrefix(w){for(const{prefix:f,value:E}of w){const A=this._searchNamespace(E);let O=this._namespacePrefixes.get(f);O||(O=[],this._namespacePrefixes.set(f,O)),O.push(A)}}_getNamespaceToUse(w){if(!w)return this._currentNamespace;const f=this._namespacePrefixes.get(w);return(f==null?void 0:f.length)>0?f.at(-1):((0,p.warn)(`Unknown namespace prefix: ${w}.`),null)}clean(w){const{hasNamespace:f,prefixes:E,nsAgnostic:A}=w;f&&(this._currentNamespace=this._namespaceStack.pop()),E&&E.forEach(O=>{let{prefix:T}=O;this._namespacePrefixes.get(T).pop()}),A&&this._nsAgnosticLevel--}}o.Builder=b},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NamespaceSetUp=void 0;var i=s(247),l=s(248),d=s(249),e=s(250),r=s(251),p=s(252),x=s(231),y=s(253),v=s(254);const b={config:i.ConfigNamespace,connection:l.ConnectionSetNamespace,datasets:d.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:r.SignatureNamespace,stylesheet:p.StylesheetNamespace,template:x.TemplateNamespace,xdp:y.XdpNamespace,xhtml:v.XhtmlNamespace};o.NamespaceSetUp=b},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigNamespace=void 0,s(140);var i=s(235),l=s(229),d=s(241),e=s(238),r=s(145);const p=i.NamespaceIds.config.id;class x extends d.XFAObject{constructor(Se){super(p,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new d.XFAObjectArray}}class y extends d.XFAObject{constructor(Se){super(p,"acrobat7",!0),this.dynamicRender=null}}class v extends d.OptionObject{constructor(Se){super(p,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class b extends d.OptionObject{constructor(Se){super(p,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class g extends d.Option01{constructor(Se){super(p,"addSilentPrint")}}class w extends d.Option01{constructor(Se){super(p,"addViewerPreferences")}}class f extends d.Option10{constructor(Se){super(p,"adjustData")}}class E extends d.IntegerObject{constructor(Se){super(p,"adobeExtensionLevel",0,ut=>ut>=1&&ut<=8)}}class A extends d.XFAObject{constructor(Se){super(p,"agent",!0),this.name=Se.name?Se.name.trim():"",this.common=new d.XFAObjectArray}}class O extends d.ContentObject{constructor(Se){super(p,"alwaysEmbed")}}class T extends d.StringObject{constructor(Se){super(p,"amd")}}class D extends d.XFAObject{constructor(Se){super(p,"area"),this.level=(0,e.getInteger)({data:Se.level,defaultValue:0,validate:ut=>ut>=1&&ut<=3}),this.name=(0,e.getStringOption)(Se.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class F extends d.OptionObject{constructor(Se){super(p,"attributes",["preserve","delegate","ignore"])}}class C extends d.OptionObject{constructor(Se){super(p,"autoSave",["disabled","enabled"])}}class B extends d.StringObject{constructor(Se){super(p,"base")}}class M extends d.XFAObject{constructor(Se){super(p,"batchOutput"),this.format=(0,e.getStringOption)(Se.format,["none","concat","zip","zipCompress"])}}class I extends d.ContentObject{constructor(Se){super(p,"behaviorOverride")}[l.$finalize](){this[l.$content]=new Map(this[l.$content].trim().split(/\s+/).filter(Se=>Se.includes(":")).map(Se=>Se.split(":",2)))}}class W extends d.XFAObject{constructor(Se){super(p,"cache",!0),this.templateCache=null}}class J extends d.Option01{constructor(Se){super(p,"change")}}class H extends d.XFAObject{constructor(Se){super(p,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new d.XFAObjectArray}}class N extends d.XFAObject{constructor(Se){super(p,"compress"),this.scope=(0,e.getStringOption)(Se.scope,["imageOnly","document"])}}class U extends d.Option01{constructor(Se){super(p,"compressLogicalStructure")}}class Y extends d.Option10{constructor(Se){super(p,"compressObjectStream")}}class _ extends d.XFAObject{constructor(Se){super(p,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class V extends d.XFAObject{constructor(Se){super(p,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new d.XFAObjectArray}}class Z extends d.OptionObject{constructor(Se){super(p,"conformance",["A","B"])}}class q extends d.Option01{constructor(Se){super(p,"contentCopy")}}class re extends d.IntegerObject{constructor(Se){super(p,"copies",1,ut=>ut>=1)}}class oe extends d.StringObject{constructor(Se){super(p,"creator")}}class ae extends d.IntegerObject{constructor(Se){super(p,"currentPage",0,ut=>ut>=0)}}class R extends d.XFAObject{constructor(Se){super(p,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new d.XFAObjectArray,this.transform=new d.XFAObjectArray}}class S extends d.XFAObject{constructor(Se){super(p,"debug",!0),this.uri=null}}class L extends d.ContentObject{constructor(Se){super(p,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(Se.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class k extends d.OptionObject{constructor(Se){super(p,"destination",["pdf","pcl","ps","webClient","zpl"])}}class z extends d.Option01{constructor(Se){super(p,"documentAssembly")}}class P extends d.XFAObject{constructor(Se){super(p,"driver",!0),this.name=Se.name?Se.name.trim():"",this.fontInfo=null,this.xdc=null}}class K extends d.OptionObject{constructor(Se){super(p,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class te extends d.OptionObject{constructor(Se){super(p,"dynamicRender",["forbidden","required"])}}class X extends d.Option01{constructor(Se){super(p,"embed")}}class ee extends d.Option01{constructor(Se){super(p,"encrypt")}}class G extends d.XFAObject{constructor(Se){super(p,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class ne extends d.OptionObject{constructor(Se){super(p,"encryptionLevel",["40bit","128bit"])}}class se extends d.StringObject{constructor(Se){super(p,"enforce")}}class le extends d.XFAObject{constructor(Se){super(p,"equate"),this.force=(0,e.getInteger)({data:Se.force,defaultValue:1,validate:ut=>ut===0}),this.from=Se.from||"",this.to=Se.to||""}}class he extends d.XFAObject{constructor(Se){super(p,"equateRange"),this.from=Se.from||"",this.to=Se.to||"",this._unicodeRange=Se.unicodeRange||""}get unicodeRange(){const Se=[],ut=/U\+([0-9a-fA-F]+)/,dt=this._unicodeRange;for(let gt of dt.split(",").map(kt=>kt.trim()).filter(kt=>!!kt))gt=gt.split("-",2).map(kt=>{const Ft=kt.match(ut);return Ft?parseInt(Ft[1],16):0}),gt.length===1&&gt.push(gt[0]),Se.push(gt);return(0,r.shadow)(this,"unicodeRange",Se)}}class be extends d.ContentObject{constructor(Se){super(p,"exclude")}[l.$finalize](){this[l.$content]=this[l.$content].trim().split(/\s+/).filter(Se=>Se&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Se))}}class ye extends d.StringObject{constructor(Se){super(p,"excludeNS")}}class de extends d.OptionObject{constructor(Se){super(p,"flipLabel",["usePrinterSetting","on","off"])}}class xe extends d.XFAObject{constructor(Se){super(p,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new d.XFAObjectArray,this.defaultTypeface=new d.XFAObjectArray,this.neverEmbed=new d.XFAObjectArray}}class fe extends d.Option01{constructor(Se){super(p,"formFieldFilling")}}class ce extends d.StringObject{constructor(Se){super(p,"groupParent")}}class ue extends d.OptionObject{constructor(Se){super(p,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class ve extends d.StringObject{constructor(Se){super(p,"includeXDPContent")}}class Ee extends d.OptionObject{constructor(Se){super(p,"incrementalLoad",["none","forwardOnly"])}}class Me extends d.Option01{constructor(Se){super(p,"incrementalMerge")}}class _e extends d.Option01{constructor(Se){super(p,"interactive")}}class ze extends d.OptionObject{constructor(Se){super(p,"jog",["usePrinterSetting","none","pageSet"])}}class We extends d.XFAObject{constructor(Se){super(p,"labelPrinter",!0),this.name=(0,e.getStringOption)(Se.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ve extends d.OptionObject{constructor(Se){super(p,"layout",["paginate","panel"])}}class Ne extends d.IntegerObject{constructor(Se){super(p,"level",0,ut=>ut>0)}}class ke extends d.Option01{constructor(Se){super(p,"linearized")}}class Ie extends d.StringObject{constructor(Se){super(p,"locale")}}class Te extends d.StringObject{constructor(Se){super(p,"localeSet")}}class Ae extends d.XFAObject{constructor(Se){super(p,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class ge extends d.XFAObject{constructor(Se){super(p,"map",!0),this.equate=new d.XFAObjectArray,this.equateRange=new d.XFAObjectArray}}class Ce extends d.XFAObject{constructor(Se){super(p,"mediumInfo",!0),this.map=null}}class Be extends d.XFAObject{constructor(Se){super(p,"message",!0),this.msgId=null,this.severity=null}}class Ye extends d.XFAObject{constructor(Se){super(p,"messaging",!0),this.message=new d.XFAObjectArray}}class Je extends d.OptionObject{constructor(Se){super(p,"mode",["append","overwrite"])}}class Re extends d.Option01{constructor(Se){super(p,"modifyAnnots")}}class He extends d.IntegerObject{constructor(Se){super(p,"msgId",1,ut=>ut>=1)}}class nt extends d.StringObject{constructor(Se){super(p,"nameAttr")}}class et extends d.ContentObject{constructor(Se){super(p,"neverEmbed")}}class it extends d.IntegerObject{constructor(Se){super(p,"numberOfCopies",null,ut=>ut>=2&&ut<=5)}}class qe extends d.XFAObject{constructor(Se){super(p,"openAction",!0),this.destination=null}}class lt extends d.XFAObject{constructor(Se){super(p,"output",!0),this.to=null,this.type=null,this.uri=null}}class rt extends d.StringObject{constructor(Se){super(p,"outputBin")}}class Oe extends d.XFAObject{constructor(Se){super(p,"outputXSL",!0),this.uri=null}}class $e extends d.OptionObject{constructor(Se){super(p,"overprint",["none","both","draw","field"])}}class me extends d.StringObject{constructor(Se){super(p,"packets")}[l.$finalize](){this[l.$content]!=="*"&&(this[l.$content]=this[l.$content].trim().split(/\s+/).filter(Se=>["config","datasets","template","xfdf","xslt"].includes(Se)))}}class Q extends d.XFAObject{constructor(Se){super(p,"pageOffset"),this.x=(0,e.getInteger)({data:Se.x,defaultValue:"useXDCSetting",validate:ut=>!0}),this.y=(0,e.getInteger)({data:Se.y,defaultValue:"useXDCSetting",validate:ut=>!0})}}class pe extends d.StringObject{constructor(Se){super(p,"pageRange")}[l.$finalize](){const Se=this[l.$content].trim().split(/\s+/).map(dt=>parseInt(dt,10)),ut=[];for(let dt=0,gt=Se.length;dt<gt;dt+=2)ut.push(Se.slice(dt,dt+2));this[l.$content]=ut}}class we extends d.OptionObject{constructor(Se){super(p,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Fe extends d.OptionObject{constructor(Se){super(p,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Pe extends d.IntegerObject{constructor(Se){super(p,"part",1,ut=>!1)}}class De extends d.XFAObject{constructor(Se){super(p,"pcl",!0),this.name=Se.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Xe extends d.XFAObject{constructor(Se){super(p,"pdf",!0),this.name=Se.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class je extends d.XFAObject{constructor(Se){super(p,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Ze extends d.XFAObject{constructor(Se){super(p,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class ot extends d.Option01{constructor(Se){super(p,"pickTrayByPDFSize")}}class Ke extends d.StringObject{constructor(Se){super(p,"picture")}}class Ge extends d.Option01{constructor(Se){super(p,"plaintextMetadata")}}class tt extends d.OptionObject{constructor(Se){super(p,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class at extends d.XFAObject{constructor(Se){super(p,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new d.XFAObjectArray,this.labelPrinter=new d.XFAObjectArray,this.pcl=new d.XFAObjectArray,this.pdf=new d.XFAObjectArray,this.ps=new d.XFAObjectArray,this.submitUrl=new d.XFAObjectArray,this.webClient=new d.XFAObjectArray,this.zpl=new d.XFAObjectArray}}class st extends d.Option01{constructor(Se){super(p,"print")}}class ft extends d.Option01{constructor(Se){super(p,"printHighQuality")}}class pt extends d.OptionObject{constructor(Se){super(p,"printScaling",["appdefault","noScaling"])}}class ct extends d.StringObject{constructor(Se){super(p,"printerName")}}class yt extends d.StringObject{constructor(Se){super(p,"producer")}}class bt extends d.XFAObject{constructor(Se){super(p,"ps",!0),this.name=Se.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Et extends d.ContentObject{constructor(Se){super(p,"range")}[l.$finalize](){this[l.$content]=this[l.$content].trim().split(/\s*,\s*/,2).map(Se=>Se.split("-").map(ut=>parseInt(ut.trim(),10))).filter(Se=>Se.every(ut=>!isNaN(ut))).map(Se=>(Se.length===1&&Se.push(Se[0]),Se))}}class wt extends d.ContentObject{constructor(Se){super(p,"record")}[l.$finalize](){this[l.$content]=this[l.$content].trim();const Se=parseInt(this[l.$content],10);!isNaN(Se)&&Se>=0&&(this[l.$content]=Se)}}class Tt extends d.ContentObject{constructor(Se){super(p,"relevant")}[l.$finalize](){this[l.$content]=this[l.$content].trim().split(/\s+/)}}class Mt extends d.ContentObject{constructor(Se){super(p,"rename")}[l.$finalize](){this[l.$content]=this[l.$content].trim(),(this[l.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[l.$content]))&&(0,r.warn)("XFA - Rename: invalid XFA name")}}class St extends d.OptionObject{constructor(Se){super(p,"renderPolicy",["server","client"])}}class Pt extends d.OptionObject{constructor(Se){super(p,"runScripts",["both","client","none","server"])}}class vt extends d.XFAObject{constructor(Se){super(p,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Lt extends d.OptionObject{constructor(Se){super(p,"scriptModel",["XFA","none"])}}class _t extends d.OptionObject{constructor(Se){super(p,"severity",["ignore","error","information","trace","warning"])}}class vn extends d.XFAObject{constructor(Se){super(p,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Dt extends d.XFAObject{constructor(Se){super(p,"staple"),this.mode=(0,e.getStringOption)(Se.mode,["usePrinterSetting","on","off"])}}class Nt extends d.StringObject{constructor(Se){super(p,"startNode")}}class Zt extends d.IntegerObject{constructor(Se){super(p,"startPage",0,ut=>!0)}}class rn extends d.OptionObject{constructor(Se){super(p,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class sr extends d.StringObject{constructor(Se){super(p,"submitUrl")}}class Ui extends d.IntegerObject{constructor(Se){super(p,"subsetBelow",100,ut=>ut>=0&&ut<=100)}}class sh extends d.Option01{constructor(Se){super(p,"suppressBanner")}}class oh extends d.Option01{constructor(Se){super(p,"tagged")}}class ch extends d.XFAObject{constructor(Se){super(p,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class lh extends d.OptionObject{constructor(Se){super(p,"threshold",["trace","error","information","warning"])}}class uh extends d.OptionObject{constructor(Se){super(p,"to",["null","memory","stderr","stdout","system","uri"])}}class yl extends d.XFAObject{constructor(Se){super(p,"templateCache"),this.maxEntries=(0,e.getInteger)({data:Se.maxEntries,defaultValue:5,validate:ut=>ut>=0})}}class Do extends d.XFAObject{constructor(Se){super(p,"trace",!0),this.area=new d.XFAObjectArray}}class hh extends d.XFAObject{constructor(Se){super(p,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class fh extends d.OptionObject{constructor(Se){super(p,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class dh extends d.StringObject{constructor(Se){super(p,"uri")}}class Lo extends d.OptionObject{constructor(Se){super(p,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class vl extends d.ContentObject{constructor(Se){super(p,"validateApprovalSignatures")}[l.$finalize](){this[l.$content]=this[l.$content].trim().split(/\s+/).filter(Se=>["docReady","postSign"].includes(Se))}}class wl extends d.OptionObject{constructor(Se){super(p,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class ph extends d.OptionObject{constructor(Se){super(p,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class gh extends d.XFAObject{constructor(Se){super(p,"VersionControl"),this.outputBelow=(0,e.getStringOption)(Se.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(Se.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(Se.sourceBelow,["update","maintain"])}}class mh extends d.XFAObject{constructor(Se){super(p,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class xh extends d.XFAObject{constructor(Se){super(p,"webClient",!0),this.name=Se.name?Se.name.trim():"",this.fontInfo=null,this.xdc=null}}class bh extends d.OptionObject{constructor(Se){super(p,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class No extends d.ContentObject{constructor(Se){super(p,"window")}[l.$finalize](){const Se=this[l.$content].trim().split(/\s*,\s*/,2).map(ut=>parseInt(ut,10));if(Se.some(ut=>isNaN(ut))){this[l.$content]=[0,0];return}Se.length===1&&Se.push(Se[0]),this[l.$content]=Se}}class yh extends d.XFAObject{constructor(Se){super(p,"xdc",!0),this.uri=new d.XFAObjectArray,this.xsl=new d.XFAObjectArray}}class As extends d.XFAObject{constructor(Se){super(p,"xdp",!0),this.packets=null}}class vh extends d.XFAObject{constructor(Se){super(p,"xsl",!0),this.debug=null,this.uri=null}}class Ss extends d.XFAObject{constructor(Se){super(p,"zpl",!0),this.name=Se.name?Se.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class ht{static[i.$buildXFAObject](Se,ut){if(ht.hasOwnProperty(Se))return ht[Se](ut)}static acrobat(Se){return new x(Se)}static acrobat7(Se){return new y(Se)}static ADBE_JSConsole(Se){return new v(Se)}static ADBE_JSDebugger(Se){return new b(Se)}static addSilentPrint(Se){return new g(Se)}static addViewerPreferences(Se){return new w(Se)}static adjustData(Se){return new f(Se)}static adobeExtensionLevel(Se){return new E(Se)}static agent(Se){return new A(Se)}static alwaysEmbed(Se){return new O(Se)}static amd(Se){return new T(Se)}static area(Se){return new D(Se)}static attributes(Se){return new F(Se)}static autoSave(Se){return new C(Se)}static base(Se){return new B(Se)}static batchOutput(Se){return new M(Se)}static behaviorOverride(Se){return new I(Se)}static cache(Se){return new W(Se)}static change(Se){return new J(Se)}static common(Se){return new H(Se)}static compress(Se){return new N(Se)}static compressLogicalStructure(Se){return new U(Se)}static compressObjectStream(Se){return new Y(Se)}static compression(Se){return new _(Se)}static config(Se){return new V(Se)}static conformance(Se){return new Z(Se)}static contentCopy(Se){return new q(Se)}static copies(Se){return new re(Se)}static creator(Se){return new oe(Se)}static currentPage(Se){return new ae(Se)}static data(Se){return new R(Se)}static debug(Se){return new S(Se)}static defaultTypeface(Se){return new L(Se)}static destination(Se){return new k(Se)}static documentAssembly(Se){return new z(Se)}static driver(Se){return new P(Se)}static duplexOption(Se){return new K(Se)}static dynamicRender(Se){return new te(Se)}static embed(Se){return new X(Se)}static encrypt(Se){return new ee(Se)}static encryption(Se){return new G(Se)}static encryptionLevel(Se){return new ne(Se)}static enforce(Se){return new se(Se)}static equate(Se){return new le(Se)}static equateRange(Se){return new he(Se)}static exclude(Se){return new be(Se)}static excludeNS(Se){return new ye(Se)}static flipLabel(Se){return new de(Se)}static fontInfo(Se){return new xe(Se)}static formFieldFilling(Se){return new fe(Se)}static groupParent(Se){return new ce(Se)}static ifEmpty(Se){return new ue(Se)}static includeXDPContent(Se){return new ve(Se)}static incrementalLoad(Se){return new Ee(Se)}static incrementalMerge(Se){return new Me(Se)}static interactive(Se){return new _e(Se)}static jog(Se){return new ze(Se)}static labelPrinter(Se){return new We(Se)}static layout(Se){return new Ve(Se)}static level(Se){return new Ne(Se)}static linearized(Se){return new ke(Se)}static locale(Se){return new Ie(Se)}static localeSet(Se){return new Te(Se)}static log(Se){return new Ae(Se)}static map(Se){return new ge(Se)}static mediumInfo(Se){return new Ce(Se)}static message(Se){return new Be(Se)}static messaging(Se){return new Ye(Se)}static mode(Se){return new Je(Se)}static modifyAnnots(Se){return new Re(Se)}static msgId(Se){return new He(Se)}static nameAttr(Se){return new nt(Se)}static neverEmbed(Se){return new et(Se)}static numberOfCopies(Se){return new it(Se)}static openAction(Se){return new qe(Se)}static output(Se){return new lt(Se)}static outputBin(Se){return new rt(Se)}static outputXSL(Se){return new Oe(Se)}static overprint(Se){return new $e(Se)}static packets(Se){return new me(Se)}static pageOffset(Se){return new Q(Se)}static pageRange(Se){return new pe(Se)}static pagination(Se){return new we(Se)}static paginationOverride(Se){return new Fe(Se)}static part(Se){return new Pe(Se)}static pcl(Se){return new De(Se)}static pdf(Se){return new Xe(Se)}static pdfa(Se){return new je(Se)}static permissions(Se){return new Ze(Se)}static pickTrayByPDFSize(Se){return new ot(Se)}static picture(Se){return new Ke(Se)}static plaintextMetadata(Se){return new Ge(Se)}static presence(Se){return new tt(Se)}static present(Se){return new at(Se)}static print(Se){return new st(Se)}static printHighQuality(Se){return new ft(Se)}static printScaling(Se){return new pt(Se)}static printerName(Se){return new ct(Se)}static producer(Se){return new yt(Se)}static ps(Se){return new bt(Se)}static range(Se){return new Et(Se)}static record(Se){return new wt(Se)}static relevant(Se){return new Tt(Se)}static rename(Se){return new Mt(Se)}static renderPolicy(Se){return new St(Se)}static runScripts(Se){return new Pt(Se)}static script(Se){return new vt(Se)}static scriptModel(Se){return new Lt(Se)}static severity(Se){return new _t(Se)}static silentPrint(Se){return new vn(Se)}static staple(Se){return new Dt(Se)}static startNode(Se){return new Nt(Se)}static startPage(Se){return new Zt(Se)}static submitFormat(Se){return new rn(Se)}static submitUrl(Se){return new sr(Se)}static subsetBelow(Se){return new Ui(Se)}static suppressBanner(Se){return new sh(Se)}static tagged(Se){return new oh(Se)}static template(Se){return new ch(Se)}static templateCache(Se){return new yl(Se)}static threshold(Se){return new lh(Se)}static to(Se){return new uh(Se)}static trace(Se){return new Do(Se)}static transform(Se){return new hh(Se)}static type(Se){return new fh(Se)}static uri(Se){return new dh(Se)}static validate(Se){return new Lo(Se)}static validateApprovalSignatures(Se){return new vl(Se)}static validationMessaging(Se){return new wl(Se)}static version(Se){return new ph(Se)}static versionControl(Se){return new gh(Se)}static viewerPreferences(Se){return new mh(Se)}static webClient(Se){return new xh(Se)}static whitespace(Se){return new bh(Se)}static window(Se){return new No(Se)}static xdc(Se){return new yh(Se)}static xdp(Se){return new As(Se)}static xsl(Se){return new vh(Se)}static zpl(Se){return new Ss(Se)}}o.ConfigNamespace=ht},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConnectionSetNamespace=void 0;var i=s(235),l=s(241);const d=i.NamespaceIds.connectionSet.id;class e extends l.XFAObject{constructor(D){super(d,"connectionSet",!0),this.wsdlConnection=new l.XFAObjectArray,this.xmlConnection=new l.XFAObjectArray,this.xsdConnection=new l.XFAObjectArray}}class r extends l.XFAObject{constructor(D){super(d,"effectiveInputPolicy"),this.id=D.id||"",this.name=D.name||"",this.use=D.use||"",this.usehref=D.usehref||""}}class p extends l.XFAObject{constructor(D){super(d,"effectiveOutputPolicy"),this.id=D.id||"",this.name=D.name||"",this.use=D.use||"",this.usehref=D.usehref||""}}class x extends l.StringObject{constructor(D){super(d,"operation"),this.id=D.id||"",this.input=D.input||"",this.name=D.name||"",this.output=D.output||"",this.use=D.use||"",this.usehref=D.usehref||""}}class y extends l.StringObject{constructor(D){super(d,"rootElement"),this.id=D.id||"",this.name=D.name||"",this.use=D.use||"",this.usehref=D.usehref||""}}class v extends l.StringObject{constructor(D){super(d,"soapAction"),this.id=D.id||"",this.name=D.name||"",this.use=D.use||"",this.usehref=D.usehref||""}}class b extends l.StringObject{constructor(D){super(d,"soapAddress"),this.id=D.id||"",this.name=D.name||"",this.use=D.use||"",this.usehref=D.usehref||""}}class g extends l.StringObject{constructor(D){super(d,"uri"),this.id=D.id||"",this.name=D.name||"",this.use=D.use||"",this.usehref=D.usehref||""}}class w extends l.StringObject{constructor(D){super(d,"wsdlAddress"),this.id=D.id||"",this.name=D.name||"",this.use=D.use||"",this.usehref=D.usehref||""}}class f extends l.XFAObject{constructor(D){super(d,"wsdlConnection",!0),this.dataDescription=D.dataDescription||"",this.name=D.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class E extends l.XFAObject{constructor(D){super(d,"xmlConnection",!0),this.dataDescription=D.dataDescription||"",this.name=D.name||"",this.uri=null}}class A extends l.XFAObject{constructor(D){super(d,"xsdConnection",!0),this.dataDescription=D.dataDescription||"",this.name=D.name||"",this.rootElement=null,this.uri=null}}class O{static[i.$buildXFAObject](D,F){if(O.hasOwnProperty(D))return O[D](F)}static connectionSet(D){return new e(D)}static effectiveInputPolicy(D){return new r(D)}static effectiveOutputPolicy(D){return new p(D)}static operation(D){return new x(D)}static rootElement(D){return new y(D)}static soapAction(D){return new v(D)}static soapAddress(D){return new b(D)}static uri(D){return new g(D)}static wsdlAddress(D){return new w(D)}static wsdlConnection(D){return new f(D)}static xmlConnection(D){return new E(D)}static xsdConnection(D){return new A(D)}}o.ConnectionSetNamespace=O},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DatasetsNamespace=void 0;var i=s(229),l=s(235),d=s(241);const e=l.NamespaceIds.datasets.id;class r extends d.XmlObject{constructor(v){super(e,"data",v)}[i.$isNsAgnostic](){return!0}}class p extends d.XFAObject{constructor(v){super(e,"datasets",!0),this.data=null,this.Signature=null}[i.$onChild](v){const b=v[i.$nodeName];(b==="data"&&v[i.$namespaceId]===e||b==="Signature"&&v[i.$namespaceId]===l.NamespaceIds.signature.id)&&(this[b]=v),this[i.$appendChild](v)}}class x{static[l.$buildXFAObject](v,b){if(x.hasOwnProperty(v))return x[v](b)}static datasets(v){return new p(v)}static data(v){return new r(v)}}o.DatasetsNamespace=x},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LocaleSetNamespace=void 0;var i=s(235),l=s(241),d=s(238);const e=i.NamespaceIds.localeSet.id;class r extends l.XFAObject{constructor(V){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new l.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new l.XFAObjectArray(2)}}class p extends l.StringObject{constructor(V){super(e,"currencySymbol"),this.name=(0,d.getStringOption)(V.name,["symbol","isoname","decimal"])}}class x extends l.XFAObject{constructor(V){super(e,"currencySymbols",!0),this.currencySymbol=new l.XFAObjectArray(3)}}class y extends l.StringObject{constructor(V){super(e,"datePattern"),this.name=(0,d.getStringOption)(V.name,["full","long","med","short"])}}class v extends l.XFAObject{constructor(V){super(e,"datePatterns",!0),this.datePattern=new l.XFAObjectArray(4)}}class b extends l.ContentObject{constructor(V){super(e,"dateTimeSymbols")}}class g extends l.StringObject{constructor(V){super(e,"day")}}class w extends l.XFAObject{constructor(V){super(e,"dayNames",!0),this.abbr=(0,d.getInteger)({data:V.abbr,defaultValue:0,validate:Z=>Z===1}),this.day=new l.XFAObjectArray(7)}}class f extends l.StringObject{constructor(V){super(e,"era")}}class E extends l.XFAObject{constructor(V){super(e,"eraNames",!0),this.era=new l.XFAObjectArray(2)}}class A extends l.XFAObject{constructor(V){super(e,"locale",!0),this.desc=V.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class O extends l.XFAObject{constructor(V){super(e,"localeSet",!0),this.locale=new l.XFAObjectArray}}class T extends l.StringObject{constructor(V){super(e,"meridiem")}}class D extends l.XFAObject{constructor(V){super(e,"meridiemNames",!0),this.meridiem=new l.XFAObjectArray(2)}}class F extends l.StringObject{constructor(V){super(e,"month")}}class C extends l.XFAObject{constructor(V){super(e,"monthNames",!0),this.abbr=(0,d.getInteger)({data:V.abbr,defaultValue:0,validate:Z=>Z===1}),this.month=new l.XFAObjectArray(12)}}class B extends l.StringObject{constructor(V){super(e,"numberPattern"),this.name=(0,d.getStringOption)(V.name,["full","long","med","short"])}}class M extends l.XFAObject{constructor(V){super(e,"numberPatterns",!0),this.numberPattern=new l.XFAObjectArray(4)}}class I extends l.StringObject{constructor(V){super(e,"numberSymbol"),this.name=(0,d.getStringOption)(V.name,["decimal","grouping","percent","minus","zero"])}}class W extends l.XFAObject{constructor(V){super(e,"numberSymbols",!0),this.numberSymbol=new l.XFAObjectArray(5)}}class J extends l.StringObject{constructor(V){super(e,"timePattern"),this.name=(0,d.getStringOption)(V.name,["full","long","med","short"])}}class H extends l.XFAObject{constructor(V){super(e,"timePatterns",!0),this.timePattern=new l.XFAObjectArray(4)}}class N extends l.XFAObject{constructor(V){super(e,"typeFace",!0),this.name=V.name|""}}class U extends l.XFAObject{constructor(V){super(e,"typeFaces",!0),this.typeFace=new l.XFAObjectArray}}class Y{static[i.$buildXFAObject](V,Z){if(Y.hasOwnProperty(V))return Y[V](Z)}static calendarSymbols(V){return new r(V)}static currencySymbol(V){return new p(V)}static currencySymbols(V){return new x(V)}static datePattern(V){return new y(V)}static datePatterns(V){return new v(V)}static dateTimeSymbols(V){return new b(V)}static day(V){return new g(V)}static dayNames(V){return new w(V)}static era(V){return new f(V)}static eraNames(V){return new E(V)}static locale(V){return new A(V)}static localeSet(V){return new O(V)}static meridiem(V){return new T(V)}static meridiemNames(V){return new D(V)}static month(V){return new F(V)}static monthNames(V){return new C(V)}static numberPattern(V){return new B(V)}static numberPatterns(V){return new M(V)}static numberSymbol(V){return new I(V)}static numberSymbols(V){return new W(V)}static timePattern(V){return new J(V)}static timePatterns(V){return new H(V)}static typeFace(V){return new N(V)}static typeFaces(V){return new U(V)}}o.LocaleSetNamespace=Y},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SignatureNamespace=void 0;var i=s(235),l=s(241);const d=i.NamespaceIds.signature.id;class e extends l.XFAObject{constructor(x){super(d,"signature",!0)}}class r{static[i.$buildXFAObject](x,y){if(r.hasOwnProperty(x))return r[x](y)}static signature(x){return new e(x)}}o.SignatureNamespace=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StylesheetNamespace=void 0;var i=s(235),l=s(241);const d=i.NamespaceIds.stylesheet.id;class e extends l.XFAObject{constructor(x){super(d,"stylesheet",!0)}}class r{static[i.$buildXFAObject](x,y){if(r.hasOwnProperty(x))return r[x](y)}static stylesheet(x){return new e(x)}}o.StylesheetNamespace=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XdpNamespace=void 0;var i=s(235),l=s(229),d=s(241);const e=i.NamespaceIds.xdp.id;class r extends d.XFAObject{constructor(y){super(e,"xdp",!0),this.uuid=y.uuid||"",this.timeStamp=y.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new d.XFAObjectArray,this.template=null}[l.$onChildCheck](y){const v=i.NamespaceIds[y[l.$nodeName]];return v&&y[l.$namespaceId]===v.id}}class p{static[i.$buildXFAObject](y,v){if(p.hasOwnProperty(y))return p[y](v)}static xdp(y){return new r(y)}}o.XdpNamespace=p},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XhtmlNamespace=void 0,s(116),s(127),s(129),s(132),s(134),s(136),s(138);var i=s(229),l=s(235),d=s(237),e=s(238),r=s(241);const p=l.NamespaceIds.xhtml.id,x=Symbol(),y=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),v=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",V=>V==="none"?"none":"normal"],["xfa-font-horizontal-scale",V=>`scaleX(${Math.max(0,Math.min(parseInt(V)/100)).toFixed(2)})`],["xfa-font-vertical-scale",V=>`scaleY(${Math.max(0,Math.min(parseInt(V)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(V,Z)=>(V=Z.fontSize=(0,e.getMeasurement)(V),(0,d.measureToString)(.99*V))],["letter-spacing",V=>(0,d.measureToString)((0,e.getMeasurement)(V))],["line-height",V=>(0,d.measureToString)((0,e.getMeasurement)(V))],["margin",V=>(0,d.measureToString)((0,e.getMeasurement)(V))],["margin-bottom",V=>(0,d.measureToString)((0,e.getMeasurement)(V))],["margin-left",V=>(0,d.measureToString)((0,e.getMeasurement)(V))],["margin-right",V=>(0,d.measureToString)((0,e.getMeasurement)(V))],["margin-top",V=>(0,d.measureToString)((0,e.getMeasurement)(V))],["text-indent",V=>(0,d.measureToString)((0,e.getMeasurement)(V))],["font-family",V=>V],["vertical-align",V=>(0,d.measureToString)((0,e.getMeasurement)(V))]]),b=/\s+/g,g=/[\r\n]+/g,w=/\r\n?/g;function f(V,Z,q){const re=Object.create(null);if(!V)return re;const oe=Object.create(null);for(const[ae,R]of V.split(";").map(S=>S.split(":",2))){const S=v.get(ae);if(S==="")continue;let L=R;S&&(L=typeof S=="string"?S:S(R,oe)),ae.endsWith("scale")?re.transform=re.transform?`${re[ae]} ${L}`:L:re[ae.replaceAll(/-([a-zA-Z])/g,(k,z)=>z.toUpperCase())]=L}if(re.fontFamily&&(0,d.setFontFamily)({typeface:re.fontFamily,weight:re.fontWeight||"normal",posture:re.fontStyle||"normal",size:oe.fontSize||0},Z,Z[i.$globalData].fontFinder,re),q&&re.verticalAlign&&re.verticalAlign!=="0px"&&re.fontSize){const S=(0,e.getMeasurement)(re.fontSize);re.fontSize=(0,d.measureToString)(S*.583),re.verticalAlign=(0,d.measureToString)(Math.sign((0,e.getMeasurement)(re.verticalAlign))*S*.333)}return q&&re.fontSize&&(re.fontSize=`calc(${re.fontSize} * var(--scale-factor))`),(0,d.fixTextIndent)(re),re}function E(V){return V.style?V.style.trim().split(/\s*;\s*/).filter(Z=>!!Z).map(Z=>Z.split(/\s*:\s*/,2)).filter(Z=>{let[q,re]=Z;return q==="font-family"&&V[i.$globalData].usedTypefaces.add(re),y.has(q)}).map(Z=>Z.join(":")).join(";"):""}const A=new Set(["body","html"]);class O extends r.XmlObject{constructor(Z,q){super(p,q),this[x]=!1,this.style=Z.style||""}[i.$clean](Z){super[i.$clean](Z),this.style=E(this)}[i.$acceptWhitespace](){return!A.has(this[i.$nodeName])}[i.$onText](Z){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?this[x]=!0:(Z=Z.replaceAll(g,""),this.style.includes("xfa-spacerun:yes")||(Z=Z.replaceAll(b," "))),Z&&(this[i.$content]+=Z)}[i.$pushGlyphs](Z){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const re=Object.create(null),oe={top:NaN,bottom:NaN,left:NaN,right:NaN};let ae=null;for(const[R,S]of this.style.split(";").map(L=>L.split(":",2)))switch(R){case"font-family":re.typeface=(0,e.stripQuotes)(S);break;case"font-size":re.size=(0,e.getMeasurement)(S);break;case"font-weight":re.weight=S;break;case"font-style":re.posture=S;break;case"letter-spacing":re.letterSpacing=(0,e.getMeasurement)(S);break;case"margin":const L=S.split(/ \t/).map(k=>(0,e.getMeasurement)(k));switch(L.length){case 1:oe.top=oe.bottom=oe.left=oe.right=L[0];break;case 2:oe.top=oe.bottom=L[0],oe.left=oe.right=L[1];break;case 3:oe.top=L[0],oe.bottom=L[2],oe.left=oe.right=L[1];break;case 4:oe.top=L[0],oe.left=L[1],oe.bottom=L[2],oe.right=L[3];break}break;case"margin-top":oe.top=(0,e.getMeasurement)(S);break;case"margin-bottom":oe.bottom=(0,e.getMeasurement)(S);break;case"margin-left":oe.left=(0,e.getMeasurement)(S);break;case"margin-right":oe.right=(0,e.getMeasurement)(S);break;case"line-height":ae=(0,e.getMeasurement)(S);break}if(Z.pushData(re,oe,ae),this[i.$content])Z.addString(this[i.$content]);else for(const R of this[i.$getChildren]()){if(R[i.$nodeName]==="#text"){Z.addString(R[i.$content]);continue}R[i.$pushGlyphs](Z)}q&&Z.popFont()}[i.$toHTML](Z){const q=[];if(this[i.$extra]={children:q},this[i.$childrenToHTML]({}),q.length===0&&!this[i.$content])return e.HTMLResult.EMPTY;let re;return this[x]?re=this[i.$content]?this[i.$content].replaceAll(w,`
`):void 0:re=this[i.$content]||void 0,e.HTMLResult.success({name:this[i.$nodeName],attributes:{href:this.href,style:f(this.style,this,this[x])},children:q,value:re})}}class T extends O{constructor(Z){super(Z,"a"),this.href=(0,d.fixURL)(Z.href)||""}}class D extends O{constructor(Z){super(Z,"b")}[i.$pushGlyphs](Z){Z.pushFont({weight:"bold"}),super[i.$pushGlyphs](Z),Z.popFont()}}class F extends O{constructor(Z){super(Z,"body")}[i.$toHTML](Z){const q=super[i.$toHTML](Z),{html:re}=q;return re?(re.name="div",re.attributes.class=["xfaRich"],q):e.HTMLResult.EMPTY}}class C extends O{constructor(Z){super(Z,"br")}[i.$text](){return`
`}[i.$pushGlyphs](Z){Z.addString(`
`)}[i.$toHTML](Z){return e.HTMLResult.success({name:"br"})}}class B extends O{constructor(Z){super(Z,"html")}[i.$toHTML](Z){var re;const q=[];if(this[i.$extra]={children:q},this[i.$childrenToHTML]({}),q.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[i.$content]||""});if(q.length===1){const oe=q[0];if((re=oe.attributes)!=null&&re.class.includes("xfaRich"))return e.HTMLResult.success(oe)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:q})}}class M extends O{constructor(Z){super(Z,"i")}[i.$pushGlyphs](Z){Z.pushFont({posture:"italic"}),super[i.$pushGlyphs](Z),Z.popFont()}}class I extends O{constructor(Z){super(Z,"li")}}class W extends O{constructor(Z){super(Z,"ol")}}class J extends O{constructor(Z){super(Z,"p")}[i.$pushGlyphs](Z){super[i.$pushGlyphs](Z,!1),Z.addString(`
`),Z.addPara(),Z.popFont()}[i.$text](){return this[i.$getParent]()[i.$getChildren]().at(-1)===this?super[i.$text]():super[i.$text]()+`
`}}class H extends O{constructor(Z){super(Z,"span")}}class N extends O{constructor(Z){super(Z,"sub")}}class U extends O{constructor(Z){super(Z,"sup")}}class Y extends O{constructor(Z){super(Z,"ul")}}class _{static[l.$buildXFAObject](Z,q){if(_.hasOwnProperty(Z))return _[Z](q)}static a(Z){return new T(Z)}static b(Z){return new D(Z)}static body(Z){return new F(Z)}static br(Z){return new C(Z)}static html(Z){return new B(Z)}static i(Z){return new M(Z)}static li(Z){return new I(Z)}static ol(Z){return new W(Z)}static p(Z){return new J(Z)}static span(Z){return new H(Z)}static sub(Z){return new N(Z)}static sup(Z){return new U(Z)}static ul(Z){return new Y(Z)}}o.XhtmlNamespace=_},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnknownNamespace=void 0;var i=s(235),l=s(241);class d{constructor(r){this.namespaceId=r}[i.$buildXFAObject](r,p){return new l.XmlObject(this.namespaceId,r,p)}}o.UnknownNamespace=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DatasetReader=void 0,s(2);var i=s(145),l=s(150),d=s(222);function e(x){try{return(0,i.stringToUTF8String)(x)}catch(y){return(0,i.warn)(`UTF-8 decoding failed: "${y}".`),x}}class r extends d.SimpleXMLParser{constructor(y){super(y),this.node=null}onEndElement(y){const v=super.onEndElement(y);if(v&&y==="xfa:datasets")throw this.node=v,new Error("Aborting DatasetXMLParser.")}}class p{constructor(y){if(y.datasets)this.node=new d.SimpleXMLParser({hasAttributes:!0}).parseFromString(y.datasets).documentElement;else{const v=new r({hasAttributes:!0});try{v.parseFromString(y["xdp:xdp"])}catch{}this.node=v.node}}getValue(y){if(!this.node||!y)return"";const v=this.node.searchNode((0,l.parseXFAPath)(y),0);if(!v)return"";const b=v.firstChild;return(b==null?void 0:b.nodeName)==="value"?v.children.map(g=>e(g.textContent)):e(v.textContent)}}o.DatasetReader=p},(h,o,s)=>{var y;Object.defineProperty(o,"__esModule",{value:!0}),o.XRef=void 0,s(116),s(127),s(129),s(132),s(134),s(136),s(138),s(84),s(93),s(94),s(97),s(99),s(101),s(105),s(108),s(115),s(140),s(2);var i=s(145),l=s(151),d=s(167),e=s(150),r=s(152),p=s(225);class x{constructor(b,g){Le(this,y,null);this.stream=b,this.pdfManager=g,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new l.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(b){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const g=this._newPersistentRefNum++;return this._cacheMap.set(g,b),l.Ref.get(g,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),l.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(b){this.startXRefQueue=[b]}parse(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,g;b?((0,i.warn)("Indexing all PDF objects"),g=this.indexObjects()):g=this.readXRef(),g.assignXref(this),this.trailer=g;let w;try{w=g.get("Encrypt")}catch(E){if(E instanceof e.MissingDataException)throw E;(0,i.warn)(`XRef.parse - Invalid "Encrypt" reference: "${E}".`)}if(w instanceof l.Dict){const E=g.get("ID"),A=E!=null&&E.length?E[0]:"";w.suppressEncryption=!0,this.encrypt=new p.CipherTransformFactory(w,A,this.pdfManager.password)}let f;try{f=g.get("Root")}catch(E){if(E instanceof e.MissingDataException)throw E;(0,i.warn)(`XRef.parse - Invalid "Root" reference: "${E}".`)}if(f instanceof l.Dict)try{if(f.get("Pages")instanceof l.Dict){this.root=f;return}}catch(E){if(E instanceof e.MissingDataException)throw E;(0,i.warn)(`XRef.parse - Invalid "Pages" reference: "${E}".`)}throw b?new i.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(b){"tableState"in this||(this.tableState={entryNum:0,streamPos:b.lexer.stream.pos,parserBuf1:b.buf1,parserBuf2:b.buf2});const g=this.readXRefTable(b);if(!(0,l.isCmd)(g,"trailer"))throw new i.FormatError("Invalid XRef table: could not find trailer dictionary");let w=b.getObj();if(!(w instanceof l.Dict)&&w.dict&&(w=w.dict),!(w instanceof l.Dict))throw new i.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,w}readXRefTable(b){const g=b.lexer.stream,w=this.tableState;g.pos=w.streamPos,b.buf1=w.parserBuf1,b.buf2=w.parserBuf2;let f;for(;;){if(!("firstEntryNum"in w)||!("entryCount"in w)){if((0,l.isCmd)(f=b.getObj(),"trailer"))break;w.firstEntryNum=f,w.entryCount=b.getObj()}let E=w.firstEntryNum;const A=w.entryCount;if(!Number.isInteger(E)||!Number.isInteger(A))throw new i.FormatError("Invalid XRef table: wrong types in subsection header");for(let O=w.entryNum;O<A;O++){w.streamPos=g.pos,w.entryNum=O,w.parserBuf1=b.buf1,w.parserBuf2=b.buf2;const T={};T.offset=b.getObj(),T.gen=b.getObj();const D=b.getObj();if(D instanceof l.Cmd)switch(D.cmd){case"f":T.free=!0;break;case"n":T.uncompressed=!0;break}if(!Number.isInteger(T.offset)||!Number.isInteger(T.gen)||!(T.free||T.uncompressed))throw new i.FormatError(`Invalid entry in XRef subsection: ${E}, ${A}`);O===0&&T.free&&E===1&&(E=0),this.entries[O+E]||(this.entries[O+E]=T)}w.entryNum=0,w.streamPos=g.pos,w.parserBuf1=b.buf1,w.parserBuf2=b.buf2,delete w.firstEntryNum,delete w.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new i.FormatError("Invalid XRef table: unexpected first object");return f}processXRefStream(b){if(!("streamState"in this)){const g=b.dict,w=g.get("W");let f=g.get("Index");f||(f=[0,g.get("Size")]),this.streamState={entryRanges:f,byteWidths:w,entryNum:0,streamPos:b.pos}}return this.readXRefStream(b),delete this.streamState,b.dict}readXRefStream(b){const g=this.streamState;b.pos=g.streamPos;const[w,f,E]=g.byteWidths,A=g.entryRanges;for(;A.length>0;){const[O,T]=A;if(!Number.isInteger(O)||!Number.isInteger(T))throw new i.FormatError(`Invalid XRef range fields: ${O}, ${T}`);if(!Number.isInteger(w)||!Number.isInteger(f)||!Number.isInteger(E))throw new i.FormatError(`Invalid XRef entry fields length: ${O}, ${T}`);for(let D=g.entryNum;D<T;++D){g.entryNum=D,g.streamPos=b.pos;let F=0,C=0,B=0;for(let I=0;I<w;++I){const W=b.getByte();if(W===-1)throw new i.FormatError("Invalid XRef byteWidths 'type'.");F=F<<8|W}w===0&&(F=1);for(let I=0;I<f;++I){const W=b.getByte();if(W===-1)throw new i.FormatError("Invalid XRef byteWidths 'offset'.");C=C<<8|W}for(let I=0;I<E;++I){const W=b.getByte();if(W===-1)throw new i.FormatError("Invalid XRef byteWidths 'generation'.");B=B<<8|W}const M={};switch(M.offset=C,M.gen=B,F){case 0:M.free=!0;break;case 1:M.uncompressed=!0;break;case 2:break;default:throw new i.FormatError(`Invalid XRef entry type: ${F}`)}this.entries[O+D]||(this.entries[O+D]=M)}g.entryNum=0,g.streamPos=b.pos,A.splice(0,2)}}indexObjects(){function O(oe,ae){let R="",S=oe[ae];for(;S!==10&&S!==13&&S!==60&&!(++ae>=oe.length);)R+=String.fromCharCode(S),S=oe[ae];return R}function T(oe,ae,R){const S=R.length,L=oe.length;let k=0;for(;ae<L;){let z=0;for(;z<S&&oe[ae+z]===R[z];)++z;if(z>=S)break;ae++,k++}return k}const D=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,F=/\b(startxref|\d+\s+\d+\s+obj)\b/g,C=/^(\d+)\s+(\d+)\s+obj\b/,B=new Uint8Array([116,114,97,105,108,101,114]),M=new Uint8Array([115,116,97,114,116,120,114,101,102]),I=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const W=this.stream;W.pos=0;const J=W.getBytes(),H=(0,i.bytesToString)(J),N=J.length;let U=W.start;const Y=[],_=[];for(;U<N;){let oe=J[U];if(oe===9||oe===10||oe===13||oe===32){++U;continue}if(oe===37){do{if(++U,U>=N)break;oe=J[U]}while(oe!==10&&oe!==13);continue}const ae=O(J,U);let R;if(ae.startsWith("xref")&&(ae.length===4||/\s/.test(ae[4])))U+=T(J,U,B),Y.push(U),U+=T(J,U,M);else if(R=C.exec(ae)){const S=R[1]|0,L=R[2]|0,k=U+ae.length;let z,P=!1;if(!this.entries[S])P=!0;else if(this.entries[S].gen===L)try{new d.Parser({lexer:new d.Lexer(W.makeSubStream(k))}).getObj(),P=!0}catch(ee){ee instanceof e.ParserEOFException?(0,i.warn)(`indexObjects -- checking object (${ae}): "${ee}".`):P=!0}P&&(this.entries[S]={offset:U-W.start,gen:L,uncompressed:!0}),D.lastIndex=k;const K=D.exec(H);K?(z=D.lastIndex+1-U,K[1]!=="endobj"&&((0,i.warn)(`indexObjects: Found "${K[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),z-=K[1].length+1)):z=N-U;const te=J.subarray(U,U+z),X=T(te,0,I);X<z&&te[X+5]<64&&(_.push(U-W.start),this._xrefStms.add(U-W.start)),U+=z}else if(ae.startsWith("trailer")&&(ae.length===7||/\s/.test(ae[7]))){Y.push(U);const S=U+ae.length;let L;F.lastIndex=S;const k=F.exec(H);k?(L=F.lastIndex+1-U,k[1]!=="startxref"&&((0,i.warn)(`indexObjects: Found "${k[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),L-=k[1].length+1)):L=N-U,U+=L}else U+=ae.length+1}for(const oe of _)this.startXRefQueue.push(oe),this.readXRef(!0);const V=[];let Z=!1;for(const oe of Y){W.pos=oe;const ae=new d.Parser({lexer:new d.Lexer(W),xref:this,allowStreams:!0,recoveryMode:!0}),R=ae.getObj();if(!(0,l.isCmd)(R,"trailer"))continue;const S=ae.getObj();S instanceof l.Dict&&(V.push(S),S.has("Encrypt")&&(Z=!0))}let q,re;for(const oe of[...V,"genFallback",...V]){if(oe==="genFallback"){if(!re)break;this._generationFallback=!0;continue}let ae=!1;try{const R=oe.get("Root");if(!(R instanceof l.Dict))continue;const S=R.get("Pages");if(!(S instanceof l.Dict))continue;const L=S.get("Count");Number.isInteger(L)&&(ae=!0)}catch(R){re=R;continue}if(ae&&(!Z||oe.has("Encrypt"))&&oe.has("ID"))return oe;q=oe}if(q)return q;if(this.topDict)return this.topDict;throw new i.InvalidPDFException("Invalid PDF structure.")}readXRef(){var f;let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const g=this.stream,w=new Set;for(;this.startXRefQueue.length;){try{const E=this.startXRefQueue[0];if(w.has(E)){(0,i.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}w.add(E),g.pos=E+g.start;const A=new d.Parser({lexer:new d.Lexer(g),xref:this,allowStreams:!0});let O=A.getObj(),T;if((0,l.isCmd)(O,"xref"))T=this.processXRefTable(A),this.topDict||(this.topDict=T),O=T.get("XRefStm"),Number.isInteger(O)&&!this._xrefStms.has(O)&&(this._xrefStms.add(O),this.startXRefQueue.push(O),(f=ie(this,y))!=null||Qe(this,y,O));else if(Number.isInteger(O)){if(!Number.isInteger(A.getObj())||!(0,l.isCmd)(A.getObj(),"obj")||!((O=A.getObj())instanceof r.BaseStream))throw new i.FormatError("Invalid XRef stream");if(T=this.processXRefStream(O),this.topDict||(this.topDict=T),!T)throw new i.FormatError("Failed to read XRef stream")}else throw new i.FormatError("Invalid XRef stream header");O=T.get("Prev"),Number.isInteger(O)?this.startXRefQueue.push(O):O instanceof l.Ref&&this.startXRefQueue.push(O.num)}catch(E){if(E instanceof e.MissingDataException)throw E;(0,i.info)("(while reading XRef): "+E)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!b)throw new e.XRefParseException}get lastXRefStreamPos(){var b;return(b=ie(this,y))!=null?b:this._xrefStms.size>0?Math.max(...this._xrefStms):null}getEntry(b){const g=this.entries[b];return g&&!g.free&&g.offset?g:null}fetchIfRef(b){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return b instanceof l.Ref?this.fetch(b,g):b}fetch(b){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(b instanceof l.Ref))throw new Error("ref object is not a reference");const w=b.num,f=this._cacheMap.get(w);if(f!==void 0)return f instanceof l.Dict&&!f.objId&&(f.objId=b.toString()),f;let E=this.getEntry(w);if(E===null)return this._cacheMap.set(w,E),E;if(this._pendingRefs.has(b))return this._pendingRefs.remove(b),(0,i.warn)(`Ignoring circular reference: ${b}.`),l.CIRCULAR_REF;this._pendingRefs.put(b);try{E=E.uncompressed?this.fetchUncompressed(b,E,g):this.fetchCompressed(b,E,g),this._pendingRefs.remove(b)}catch(A){throw this._pendingRefs.remove(b),A}return E instanceof l.Dict?E.objId=b.toString():E instanceof r.BaseStream&&(E.dict.objId=b.toString()),E}fetchUncompressed(b,g){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const f=b.gen;let E=b.num;if(g.gen!==f){const C=`Inconsistent generation in XRef: ${b}`;if(this._generationFallback&&g.gen<f)return(0,i.warn)(C),this.fetchUncompressed(l.Ref.get(E,g.gen),g,w);throw new e.XRefEntryException(C)}const A=this.stream.makeSubStream(g.offset+this.stream.start),O=new d.Parser({lexer:new d.Lexer(A),xref:this,allowStreams:!0}),T=O.getObj(),D=O.getObj(),F=O.getObj();if(T!==E||D!==f||!(F instanceof l.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${b}`);if(F.cmd!=="obj"){if(F.cmd.startsWith("obj")&&(E=parseInt(F.cmd.substring(3),10),!Number.isNaN(E)))return E;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${b}`)}return g=this.encrypt&&!w?O.getObj(this.encrypt.createCipherTransform(E,f)):O.getObj(),g instanceof r.BaseStream||this._cacheMap.set(E,g),g}fetchCompressed(b,g){const w=g.offset,f=this.fetch(l.Ref.get(w,0));if(!(f instanceof r.BaseStream))throw new i.FormatError("bad ObjStm stream");const E=f.dict.get("First"),A=f.dict.get("N");if(!Number.isInteger(E)||!Number.isInteger(A))throw new i.FormatError("invalid first and n parameters for ObjStm stream");let O=new d.Parser({lexer:new d.Lexer(f),xref:this,allowStreams:!0});const T=new Array(A),D=new Array(A);for(let B=0;B<A;++B){const M=O.getObj();if(!Number.isInteger(M))throw new i.FormatError(`invalid object number in the ObjStm stream: ${M}`);const I=O.getObj();if(!Number.isInteger(I))throw new i.FormatError(`invalid object offset in the ObjStm stream: ${I}`);T[B]=M,D[B]=I}const F=(f.start||0)+E,C=new Array(A);for(let B=0;B<A;++B){const M=B<A-1?D[B+1]-D[B]:void 0;if(M<0)throw new i.FormatError("Invalid offset in the ObjStm stream.");O=new d.Parser({lexer:new d.Lexer(f.makeSubStream(F+D[B],M,f.dict)),xref:this,allowStreams:!0});const I=O.getObj();if(C[B]=I,I instanceof r.BaseStream)continue;const W=T[B],J=this.entries[W];J&&J.offset===w&&J.gen===B&&this._cacheMap.set(W,I)}if(g=C[g.gen],g===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${b}`);return g}async fetchIfRefAsync(b,g){return b instanceof l.Ref?this.fetchAsync(b,g):b}async fetchAsync(b,g){try{return this.fetch(b,g)}catch(w){if(!(w instanceof e.MissingDataException))throw w;return await this.pdfManager.requestRange(w.begin,w.end),this.fetchAsync(b,g)}}getCatalogObj(){return this.root}}y=new WeakMap,o.XRef=x},(h,o,s)=>{var p,lv,y,uv,b,P0;Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0,s(2);var i=s(145);const l={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(w){switch(w instanceof Error||typeof w=="object"&&w!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),w.name){case"AbortException":return new i.AbortException(w.message);case"MissingPDFException":return new i.MissingPDFException(w.message);case"PasswordException":return new i.PasswordException(w.message,w.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(w.message,w.status);case"UnknownErrorException":return new i.UnknownErrorException(w.message,w.details);default:return new i.UnknownErrorException(w.message,w.toString())}}class r{constructor(f,E,A){Le(this,p);Le(this,y);Le(this,b);this.sourceName=f,this.targetName=E,this.comObj=A,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=O=>{const T=O.data;if(T.targetName!==this.sourceName)return;if(T.stream){Ue(this,y,uv).call(this,T);return}if(T.callback){const F=T.callbackId,C=this.callbackCapabilities[F];if(!C)throw new Error(`Cannot resolve callback ${F}`);if(delete this.callbackCapabilities[F],T.callback===l.DATA)C.resolve(T.data);else if(T.callback===l.ERROR)C.reject(e(T.reason));else throw new Error("Unexpected callback case");return}const D=this.actionHandler[T.action];if(!D)throw new Error(`Unknown action from worker: ${T.action}`);if(T.callbackId){const F=this.sourceName,C=T.sourceName;new Promise(function(B){B(D(T.data))}).then(function(B){A.postMessage({sourceName:F,targetName:C,callback:l.DATA,callbackId:T.callbackId,data:B})},function(B){A.postMessage({sourceName:F,targetName:C,callback:l.ERROR,callbackId:T.callbackId,reason:e(B)})});return}if(T.streamId){Ue(this,p,lv).call(this,T);return}D(T.data)},A.addEventListener("message",this._onComObjOnMessage)}on(f,E){const A=this.actionHandler;if(A[f])throw new Error(`There is already an actionName called "${f}"`);A[f]=E}send(f,E,A){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:E},A)}sendWithPromise(f,E,A){const O=this.callbackId++,T=new i.PromiseCapability;this.callbackCapabilities[O]=T;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:O,data:E},A)}catch(D){T.reject(D)}return T.promise}sendWithStream(f,E,A,O){const T=this.streamId++,D=this.sourceName,F=this.targetName,C=this.comObj;return new ReadableStream({start:B=>{const M=new i.PromiseCapability;return this.streamControllers[T]={controller:B,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:D,targetName:F,action:f,streamId:T,data:E,desiredSize:B.desiredSize},O),M.promise},pull:B=>{const M=new i.PromiseCapability;return this.streamControllers[T].pullCall=M,C.postMessage({sourceName:D,targetName:F,stream:d.PULL,streamId:T,desiredSize:B.desiredSize}),M.promise},cancel:B=>{(0,i.assert)(B instanceof Error,"cancel must have a valid reason");const M=new i.PromiseCapability;return this.streamControllers[T].cancelCall=M,this.streamControllers[T].isClosed=!0,C.postMessage({sourceName:D,targetName:F,stream:d.CANCEL,streamId:T,reason:e(B)}),M.promise}},A)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}p=new WeakSet,lv=function(f){const E=f.streamId,A=this.sourceName,O=f.sourceName,T=this.comObj,D=this,F=this.actionHandler[f.action],C={enqueue(B){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,I=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const W=this.desiredSize;this.desiredSize-=M,W>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),T.postMessage({sourceName:A,targetName:O,stream:d.ENQUEUE,streamId:E,chunk:B},I)},close(){this.isCancelled||(this.isCancelled=!0,T.postMessage({sourceName:A,targetName:O,stream:d.CLOSE,streamId:E}),delete D.streamSinks[E])},error(B){(0,i.assert)(B instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,T.postMessage({sourceName:A,targetName:O,stream:d.ERROR,streamId:E,reason:e(B)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[E]=C,new Promise(function(B){B(F(f.data,C))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.START_COMPLETE,streamId:E,success:!0})},function(B){T.postMessage({sourceName:A,targetName:O,stream:d.START_COMPLETE,streamId:E,reason:e(B)})})},y=new WeakSet,uv=function(f){const E=f.streamId,A=this.sourceName,O=f.sourceName,T=this.comObj,D=this.streamControllers[E],F=this.streamSinks[E];switch(f.stream){case d.START_COMPLETE:f.success?D.startCall.resolve():D.startCall.reject(e(f.reason));break;case d.PULL_COMPLETE:f.success?D.pullCall.resolve():D.pullCall.reject(e(f.reason));break;case d.PULL:if(!F){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,success:!0});break}F.desiredSize<=0&&f.desiredSize>0&&F.sinkCapability.resolve(),F.desiredSize=f.desiredSize,new Promise(function(C){var B;C((B=F.onPull)==null?void 0:B.call(F))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,success:!0})},function(C){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,reason:e(C)})});break;case d.ENQUEUE:if((0,i.assert)(D,"enqueue should have stream controller"),D.isClosed)break;D.controller.enqueue(f.chunk);break;case d.CLOSE:if((0,i.assert)(D,"close should have stream controller"),D.isClosed)break;D.isClosed=!0,D.controller.close(),Ue(this,b,P0).call(this,D,E);break;case d.ERROR:(0,i.assert)(D,"error should have stream controller"),D.controller.error(e(f.reason)),Ue(this,b,P0).call(this,D,E);break;case d.CANCEL_COMPLETE:f.success?D.cancelCall.resolve():D.cancelCall.reject(e(f.reason)),Ue(this,b,P0).call(this,D,E);break;case d.CANCEL:if(!F)break;new Promise(function(C){var B;C((B=F.onCancel)==null?void 0:B.call(F,e(f.reason)))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.CANCEL_COMPLETE,streamId:E,success:!0})},function(C){T.postMessage({sourceName:A,targetName:O,stream:d.CANCEL_COMPLETE,streamId:E,reason:e(C)})}),F.sinkCapability.reject(e(f.reason)),F.isCancelled=!0,delete this.streamSinks[E];break;default:throw new Error("Unexpected stream case")}},b=new WeakSet,P0=async function(f,E){var A,O,T;await Promise.allSettled([(A=f.startCall)==null?void 0:A.promise,(O=f.pullCall)==null?void 0:O.promise,(T=f.cancelCall)==null?void 0:T.promise]),delete this.streamControllers[E]},o.MessageHandler=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFWorkerStream=void 0,s(140);var i=s(145);class l{constructor(p){this._msgHandler=p,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._msgHandler),this._fullRequestReader}getRangeReader(p,x){const y=new e(p,x,this._msgHandler);return this._rangeRequestReaders.push(y),y}cancelAllRequests(p){var x;(x=this._fullRequestReader)==null||x.cancel(p);for(const y of this._rangeRequestReaders.slice(0))y.cancel(p)}}o.PDFWorkerStream=l;class d{constructor(p){this._msgHandler=p,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const x=this._msgHandler.sendWithStream("GetReader");this._reader=x.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(y=>{this._isStreamingSupported=y.isStreamingSupported,this._isRangeSupported=y.isRangeSupported,this._contentLength=y.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:p,done:x}=await this._reader.read();return x?{value:void 0,done:!0}:{value:p.buffer,done:!1}}cancel(p){this._reader.cancel(p)}}class e{constructor(p,x,y){this._msgHandler=y,this.onProgress=null;const v=this._msgHandler.sendWithStream("GetRangeReader",{begin:p,end:x});this._reader=v.getReader()}get isStreamingSupported(){return!1}async read(){const{value:p,done:x}=await this._reader.read();return x?{value:void 0,done:!0}:{value:p.buffer,done:!1}}cancel(p){this._reader.cancel(p)}}}],c={};function u(h){var o=c[h];if(o!==void 0)return o.exports;var s=c[h]={exports:{}};return a[h].call(s.exports,s,s.exports,u),s.exports}var m={};return(()=>{var h=m;Object.defineProperty(h,"__esModule",{value:!0}),Object.defineProperty(h,"WorkerMessageHandler",{enumerable:!0,get:function(){return o.WorkerMessageHandler}});var o=u(1)})(),m})())})(Qy);(typeof window<"u"?window:{}).pdfjsWorker=Qy.exports;var hv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,n){(function(a){t.exports=a()})(function(){return function a(c,u,m){function h(i,l){if(!u[i]){if(!c[i]){var d=typeof mi=="function"&&mi;if(!l&&d)return d(i,!0);if(o)return o(i,!0);var e=new Error("Cannot find module '"+i+"'");throw e.code="MODULE_NOT_FOUND",e}var r=u[i]={exports:{}};c[i][0].call(r.exports,function(p){var x=c[i][1][p];return h(x||p)},r,r.exports,a,c,u,m)}return u[i].exports}for(var o=typeof mi=="function"&&mi,s=0;s<m.length;s++)h(m[s]);return h}({1:[function(a,c,u){var m=a("./utils"),h=a("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(s){for(var i,l,d,e,r,p,x,y=[],v=0,b=s.length,g=b,w=m.getTypeOf(s)!=="string";v<s.length;)g=b-v,d=w?(i=s[v++],l=v<b?s[v++]:0,v<b?s[v++]:0):(i=s.charCodeAt(v++),l=v<b?s.charCodeAt(v++):0,v<b?s.charCodeAt(v++):0),e=i>>2,r=(3&i)<<4|l>>4,p=1<g?(15&l)<<2|d>>6:64,x=2<g?63&d:64,y.push(o.charAt(e)+o.charAt(r)+o.charAt(p)+o.charAt(x));return y.join("")},u.decode=function(s){var i,l,d,e,r,p,x=0,y=0,v="data:";if(s.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var b,g=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===o.charAt(64)&&g--,s.charAt(s.length-2)===o.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=h.uint8array?new Uint8Array(0|g):new Array(0|g);x<s.length;)i=o.indexOf(s.charAt(x++))<<2|(e=o.indexOf(s.charAt(x++)))>>4,l=(15&e)<<4|(r=o.indexOf(s.charAt(x++)))>>2,d=(3&r)<<6|(p=o.indexOf(s.charAt(x++))),b[y++]=i,r!==64&&(b[y++]=l),p!==64&&(b[y++]=d);return b}},{"./support":30,"./utils":32}],2:[function(a,c,u){var m=a("./external"),h=a("./stream/DataWorker"),o=a("./stream/Crc32Probe"),s=a("./stream/DataLengthProbe");function i(l,d,e,r,p){this.compressedSize=l,this.uncompressedSize=d,this.crc32=e,this.compression=r,this.compressedContent=p}i.prototype={getContentWorker:function(){var l=new h(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),d=this;return l.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new h(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(l,d,e){return l.pipe(new o).pipe(new s("uncompressedSize")).pipe(d.compressWorker(e)).pipe(new s("compressedSize")).withStreamInfo("compression",d)},c.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,c,u){var m=a("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},u.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,c,u){var m=a("./utils"),h=function(){for(var o,s=[],i=0;i<256;i++){o=i;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;s[i]=o}return s}();c.exports=function(o,s){return o!==void 0&&o.length?m.getTypeOf(o)!=="string"?function(i,l,d,e){var r=h,p=e+d;i^=-1;for(var x=e;x<p;x++)i=i>>>8^r[255&(i^l[x])];return-1^i}(0|s,o,o.length,0):function(i,l,d,e){var r=h,p=e+d;i^=-1;for(var x=e;x<p;x++)i=i>>>8^r[255&(i^l.charCodeAt(x))];return-1^i}(0|s,o,o.length,0):0}},{"./utils":32}],5:[function(a,c,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(a,c,u){var m=null;m=typeof Promise<"u"?Promise:a("lie"),c.exports={Promise:m}},{lie:37}],7:[function(a,c,u){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=a("pako"),o=a("./utils"),s=a("./stream/GenericWorker"),i=m?"uint8array":"array";function l(d,e){s.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=e,this.meta={}}u.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(i,d.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(e){d.push({data:e,meta:d.meta})}},u.compressWorker=function(d){return new l("Deflate",d)},u.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,c,u){function m(r,p){var x,y="";for(x=0;x<p;x++)y+=String.fromCharCode(255&r),r>>>=8;return y}function h(r,p,x,y,v,b){var g,w,f=r.file,E=r.compression,A=b!==i.utf8encode,O=o.transformTo("string",b(f.name)),T=o.transformTo("string",i.utf8encode(f.name)),D=f.comment,F=o.transformTo("string",b(D)),C=o.transformTo("string",i.utf8encode(D)),B=T.length!==f.name.length,M=C.length!==D.length,I="",W="",J="",H=f.dir,N=f.date,U={crc32:0,compressedSize:0,uncompressedSize:0};p&&!x||(U.crc32=r.crc32,U.compressedSize=r.compressedSize,U.uncompressedSize=r.uncompressedSize);var Y=0;p&&(Y|=8),A||!B&&!M||(Y|=2048);var _=0,V=0;H&&(_|=16),v==="UNIX"?(V=798,_|=function(q,re){var oe=q;return q||(oe=re?16893:33204),(65535&oe)<<16}(f.unixPermissions,H)):(V=20,_|=function(q){return 63&(q||0)}(f.dosPermissions)),g=N.getUTCHours(),g<<=6,g|=N.getUTCMinutes(),g<<=5,g|=N.getUTCSeconds()/2,w=N.getUTCFullYear()-1980,w<<=4,w|=N.getUTCMonth()+1,w<<=5,w|=N.getUTCDate(),B&&(W=m(1,1)+m(l(O),4)+T,I+="up"+m(W.length,2)+W),M&&(J=m(1,1)+m(l(F),4)+C,I+="uc"+m(J.length,2)+J);var Z="";return Z+=`
\0`,Z+=m(Y,2),Z+=E.magic,Z+=m(g,2),Z+=m(w,2),Z+=m(U.crc32,4),Z+=m(U.compressedSize,4),Z+=m(U.uncompressedSize,4),Z+=m(O.length,2),Z+=m(I.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Z+O+I,dirRecord:d.CENTRAL_FILE_HEADER+m(V,2)+Z+m(F.length,2)+"\0\0\0\0"+m(_,4)+m(y,4)+O+I+F}}var o=a("../utils"),s=a("../stream/GenericWorker"),i=a("../utf8"),l=a("../crc32"),d=a("../signature");function e(r,p,x,y){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=x,this.encodeFileName=y,this.streamFiles=r,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(e,s),e.prototype.push=function(r){var p=r.meta.percent||0,x=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(r):(this.bytesWritten+=r.data.length,s.prototype.push.call(this,{data:r.data,meta:{currentFile:this.currentFile,percent:x?(p+100*(x-y-1))/x:100}}))},e.prototype.openedSource=function(r){this.currentSourceOffset=this.bytesWritten,this.currentFile=r.file.name;var p=this.streamFiles&&!r.file.dir;if(p){var x=h(r,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},e.prototype.closedSource=function(r){this.accumulate=!1;var p=this.streamFiles&&!r.file.dir,x=h(r,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),p)this.push({data:function(y){return d.DATA_DESCRIPTOR+m(y.crc32,4)+m(y.compressedSize,4)+m(y.uncompressedSize,4)}(r),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},e.prototype.flush=function(){for(var r=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var x=this.bytesWritten-r,y=function(v,b,g,w,f){var E=o.transformTo("string",f(w));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(v,2)+m(v,2)+m(b,4)+m(g,4)+m(E.length,2)+E}(this.dirRecords.length,x,r,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},e.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},e.prototype.registerPrevious=function(r){this._sources.push(r);var p=this;return r.on("data",function(x){p.processChunk(x)}),r.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),r.on("error",function(x){p.error(x)}),this},e.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},e.prototype.error=function(r){var p=this._sources;if(!s.prototype.error.call(this,r))return!1;for(var x=0;x<p.length;x++)try{p[x].error(r)}catch{}return!0},e.prototype.lock=function(){s.prototype.lock.call(this);for(var r=this._sources,p=0;p<r.length;p++)r[p].lock()},c.exports=e},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,c,u){var m=a("../compressions"),h=a("./ZipFileWorker");u.generateWorker=function(o,s,i){var l=new h(s.streamFiles,i,s.platform,s.encodeFileName),d=0;try{o.forEach(function(e,r){d++;var p=function(b,g){var w=b||g,f=m[w];if(!f)throw new Error(w+" is not a valid compression method !");return f}(r.options.compression,s.compression),x=r.options.compressionOptions||s.compressionOptions||{},y=r.dir,v=r.date;r._compressWorker(p,x).withStreamInfo("file",{name:e,dir:y,date:v,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(l)}),l.entriesCount=d}catch(e){l.error(e)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,c,u){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new m;for(var o in this)typeof this[o]!="function"&&(h[o]=this[o]);return h}}(m.prototype=a("./object")).loadAsync=a("./load"),m.support=a("./support"),m.defaults=a("./defaults"),m.version="3.10.1",m.loadAsync=function(h,o){return new m().loadAsync(h,o)},m.external=a("./external"),c.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,c,u){var m=a("./utils"),h=a("./external"),o=a("./utf8"),s=a("./zipEntries"),i=a("./stream/Crc32Probe"),l=a("./nodejsUtils");function d(e){return new h.Promise(function(r,p){var x=e.decompressed.getContentWorker().pipe(new i);x.on("error",function(y){p(y)}).on("end",function(){x.streamInfo.crc32!==e.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):r()}).resume()})}c.exports=function(e,r){var p=this;return r=m.extend(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",e,!0,r.optimizedBinaryString,r.base64).then(function(x){var y=new s(r);return y.load(x),y}).then(function(x){var y=[h.Promise.resolve(x)],v=x.files;if(r.checkCRC32)for(var b=0;b<v.length;b++)y.push(d(v[b]));return h.Promise.all(y)}).then(function(x){for(var y=x.shift(),v=y.files,b=0;b<v.length;b++){var g=v[b],w=g.fileNameStr,f=m.resolve(g.fileNameStr);p.file(f,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:r.createFolders}),g.dir||(p.file(f).unsafeOriginalName=w)}return y.zipComment.length&&(p.comment=y.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,c,u){var m=a("../utils"),h=a("../stream/GenericWorker");function o(s,i){h.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(i)}m.inherits(o,h),o.prototype._bindStream=function(s){var i=this;(this._stream=s).pause(),s.on("data",function(l){i.push({data:l,meta:{percent:0}})}).on("error",function(l){i.isPaused?this.generatedError=l:i.error(l)}).on("end",function(){i.isPaused?i._upstreamEnded=!0:i.end()})},o.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},c.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,c,u){var m=a("readable-stream").Readable;function h(o,s,i){m.call(this,s),this._helper=o;var l=this;o.on("data",function(d,e){l.push(d)||l._helper.pause(),i&&i(e)}).on("error",function(d){l.emit("error",d)}).on("end",function(){l.push(null)})}a("../utils").inherits(h,m),h.prototype._read=function(){this._helper.resume()},c.exports=h},{"../utils":32,"readable-stream":16}],14:[function(a,c,u){c.exports={isNode:typeof Buffer<"u",newBufferFrom:function(m,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(m,h);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new Buffer(m,h)},allocBuffer:function(m){if(Buffer.alloc)return Buffer.alloc(m);var h=new Buffer(m);return h.fill(0),h},isBuffer:function(m){return Buffer.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(a,c,u){function m(f,E,A){var O,T=o.getTypeOf(E),D=o.extend(A||{},l);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(f=v(f)),D.createFolders&&(O=y(f))&&b.call(this,O,!0);var F=T==="string"&&D.binary===!1&&D.base64===!1;A&&A.binary!==void 0||(D.binary=!F),(E instanceof d&&E.uncompressedSize===0||D.dir||!E||E.length===0)&&(D.base64=!1,D.binary=!0,E="",D.compression="STORE",T="string");var C=null;C=E instanceof d||E instanceof s?E:p.isNode&&p.isStream(E)?new x(f,E):o.prepareContent(f,E,D.binary,D.optimizedBinaryString,D.base64);var B=new e(f,C,D);this.files[f]=B}var h=a("./utf8"),o=a("./utils"),s=a("./stream/GenericWorker"),i=a("./stream/StreamHelper"),l=a("./defaults"),d=a("./compressedObject"),e=a("./zipObject"),r=a("./generate"),p=a("./nodejsUtils"),x=a("./nodejs/NodejsStreamInputAdapter"),y=function(f){f.slice(-1)==="/"&&(f=f.substring(0,f.length-1));var E=f.lastIndexOf("/");return 0<E?f.substring(0,E):""},v=function(f){return f.slice(-1)!=="/"&&(f+="/"),f},b=function(f,E){return E=E!==void 0?E:l.createFolders,f=v(f),this.files[f]||m.call(this,f,null,{dir:!0,createFolders:E}),this.files[f]};function g(f){return Object.prototype.toString.call(f)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(f){var E,A,O;for(E in this.files)O=this.files[E],(A=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&f(A,O)},filter:function(f){var E=[];return this.forEach(function(A,O){f(A,O)&&E.push(O)}),E},file:function(f,E,A){if(arguments.length!==1)return f=this.root+f,m.call(this,f,E,A),this;if(g(f)){var O=f;return this.filter(function(D,F){return!F.dir&&O.test(D)})}var T=this.files[this.root+f];return T&&!T.dir?T:null},folder:function(f){if(!f)return this;if(g(f))return this.filter(function(T,D){return D.dir&&f.test(T)});var E=this.root+f,A=b.call(this,E),O=this.clone();return O.root=A.name,O},remove:function(f){f=this.root+f;var E=this.files[f];if(E||(f.slice(-1)!=="/"&&(f+="/"),E=this.files[f]),E&&!E.dir)delete this.files[f];else for(var A=this.filter(function(T,D){return D.name.slice(0,f.length)===f}),O=0;O<A.length;O++)delete this.files[A[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(f){var E,A={};try{if((A=o.extend(f||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");o.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var O=A.comment||this.comment||"";E=r.generateWorker(this,A,O)}catch(T){(E=new s("error")).error(T)}return new i(E,A.type||"string",A.mimeType)},generateAsync:function(f,E){return this.generateInternalStream(f).accumulate(E)},generateNodeStream:function(f,E){return(f=f||{}).type||(f.type="nodebuffer"),this.generateInternalStream(f).toNodejsStream(E)}};c.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,c,u){c.exports=a("stream")},{stream:void 0}],17:[function(a,c,u){var m=a("./DataReader");function h(o){m.call(this,o);for(var s=0;s<this.data.length;s++)o[s]=255&o[s]}a("../utils").inherits(h,m),h.prototype.byteAt=function(o){return this.data[this.zero+o]},h.prototype.lastIndexOfSignature=function(o){for(var s=o.charCodeAt(0),i=o.charCodeAt(1),l=o.charCodeAt(2),d=o.charCodeAt(3),e=this.length-4;0<=e;--e)if(this.data[e]===s&&this.data[e+1]===i&&this.data[e+2]===l&&this.data[e+3]===d)return e-this.zero;return-1},h.prototype.readAndCheckSignature=function(o){var s=o.charCodeAt(0),i=o.charCodeAt(1),l=o.charCodeAt(2),d=o.charCodeAt(3),e=this.readData(4);return s===e[0]&&i===e[1]&&l===e[2]&&d===e[3]},h.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},c.exports=h},{"../utils":32,"./DataReader":18}],18:[function(a,c,u){var m=a("../utils");function h(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var s,i=0;for(this.checkOffset(o),s=this.index+o-1;s>=this.index;s--)i=(i<<8)+this.byteAt(s);return this.index+=o,i},readString:function(o){return m.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},c.exports=h},{"../utils":32}],19:[function(a,c,u){var m=a("./Uint8ArrayReader");function h(o){m.call(this,o)}a("../utils").inherits(h,m),h.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},c.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,c,u){var m=a("./DataReader");function h(o){m.call(this,o)}a("../utils").inherits(h,m),h.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},h.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},h.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},h.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},c.exports=h},{"../utils":32,"./DataReader":18}],21:[function(a,c,u){var m=a("./ArrayReader");function h(o){m.call(this,o)}a("../utils").inherits(h,m),h.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},c.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(a,c,u){var m=a("../utils"),h=a("../support"),o=a("./ArrayReader"),s=a("./StringReader"),i=a("./NodeBufferReader"),l=a("./Uint8ArrayReader");c.exports=function(d){var e=m.getTypeOf(d);return m.checkSupport(e),e!=="string"||h.uint8array?e==="nodebuffer"?new i(d):h.uint8array?new l(m.transformTo("uint8array",d)):new o(m.transformTo("array",d)):new s(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,c,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,c,u){var m=a("./GenericWorker"),h=a("../utils");function o(s){m.call(this,"ConvertWorker to "+s),this.destType=s}h.inherits(o,m),o.prototype.processChunk=function(s){this.push({data:h.transformTo(this.destType,s.data),meta:s.meta})},c.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(a,c,u){var m=a("./GenericWorker"),h=a("../crc32");function o(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(o,m),o.prototype.processChunk=function(s){this.streamInfo.crc32=h(s.data,this.streamInfo.crc32||0),this.push(s)},c.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,c,u){var m=a("../utils"),h=a("./GenericWorker");function o(s){h.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}m.inherits(o,h),o.prototype.processChunk=function(s){if(s){var i=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=i+s.data.length}h.prototype.processChunk.call(this,s)},c.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(a,c,u){var m=a("../utils"),h=a("./GenericWorker");function o(s){h.call(this,"DataWorker");var i=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(l){i.dataIsReady=!0,i.data=l,i.max=l&&l.length||0,i.type=m.getTypeOf(l),i.isPaused||i._tickAndRepeat()},function(l){i.error(l)})}m.inherits(o,h),o.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,i=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,i);break;case"uint8array":s=this.data.subarray(this.index,i);break;case"array":case"nodebuffer":s=this.data.slice(this.index,i)}return this.index=i,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},c.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(a,c,u){function m(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,o){return this._listeners[h].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,o){if(this._listeners[h])for(var s=0;s<this._listeners[h].length;s++)this._listeners[h][s].call(this,o)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var o=this;return h.on("data",function(s){o.processChunk(s)}),h.on("end",function(){o.end()}),h.on("error",function(s){o.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,o){return this.extraStreamInfo[h]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},c.exports=m},{}],29:[function(a,c,u){var m=a("../utils"),h=a("./ConvertWorker"),o=a("./GenericWorker"),s=a("../base64"),i=a("../support"),l=a("../external"),d=null;if(i.nodestream)try{d=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function e(p,x){return new l.Promise(function(y,v){var b=[],g=p._internalType,w=p._outputType,f=p._mimeType;p.on("data",function(E,A){b.push(E),x&&x(A)}).on("error",function(E){b=[],v(E)}).on("end",function(){try{var E=function(A,O,T){switch(A){case"blob":return m.newBlob(m.transformTo("arraybuffer",O),T);case"base64":return s.encode(O);default:return m.transformTo(A,O)}}(w,function(A,O){var T,D=0,F=null,C=0;for(T=0;T<O.length;T++)C+=O[T].length;switch(A){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(F=new Uint8Array(C),T=0;T<O.length;T++)F.set(O[T],D),D+=O[T].length;return F;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+A+"'")}}(g,b),f);y(E)}catch(A){v(A)}b=[]}).resume()})}function r(p,x,y){var v=x;switch(x){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=x,this._mimeType=y,m.checkSupport(v),this._worker=p.pipe(new h(v)),p.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}r.prototype={accumulate:function(p){return e(this,p)},on:function(p,x){var y=this;return p==="data"?this._worker.on(p,function(v){x.call(y,v.data,v.meta)}):this._worker.on(p,function(){m.delay(x,arguments,y)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},c.exports=r},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,c,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var m=new ArrayBuffer(0);try{u.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(m),u.blob=h.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!a("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(a,c,u){for(var m=a("./utils"),h=a("./support"),o=a("./nodejsUtils"),s=a("./stream/GenericWorker"),i=new Array(256),l=0;l<256;l++)i[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;i[254]=i[254]=1;function d(){s.call(this,"utf-8 decode"),this.leftOver=null}function e(){s.call(this,"utf-8 encode")}u.utf8encode=function(r){return h.nodebuffer?o.newBufferFrom(r,"utf-8"):function(p){var x,y,v,b,g,w=p.length,f=0;for(b=0;b<w;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<w&&(64512&(v=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),b++),f+=y<128?1:y<2048?2:y<65536?3:4;for(x=h.uint8array?new Uint8Array(f):new Array(f),b=g=0;g<f;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<w&&(64512&(v=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),b++),y<128?x[g++]=y:(y<2048?x[g++]=192|y>>>6:(y<65536?x[g++]=224|y>>>12:(x[g++]=240|y>>>18,x[g++]=128|y>>>12&63),x[g++]=128|y>>>6&63),x[g++]=128|63&y);return x}(r)},u.utf8decode=function(r){return h.nodebuffer?m.transformTo("nodebuffer",r).toString("utf-8"):function(p){var x,y,v,b,g=p.length,w=new Array(2*g);for(x=y=0;x<g;)if((v=p[x++])<128)w[y++]=v;else if(4<(b=i[v]))w[y++]=65533,x+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&x<g;)v=v<<6|63&p[x++],b--;1<b?w[y++]=65533:v<65536?w[y++]=v:(v-=65536,w[y++]=55296|v>>10&1023,w[y++]=56320|1023&v)}return w.length!==y&&(w.subarray?w=w.subarray(0,y):w.length=y),m.applyFromCharCode(w)}(r=m.transformTo(h.uint8array?"uint8array":"array",r))},m.inherits(d,s),d.prototype.processChunk=function(r){var p=m.transformTo(h.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var x=p;(p=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),p.set(x,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var y=function(b,g){var w;for((g=g||b.length)>b.length&&(g=b.length),w=g-1;0<=w&&(192&b[w])==128;)w--;return w<0||w===0?g:w+i[b[w]]>g?w:g}(p),v=p;y!==p.length&&(h.uint8array?(v=p.subarray(0,y),this.leftOver=p.subarray(y,p.length)):(v=p.slice(0,y),this.leftOver=p.slice(y,p.length))),this.push({data:u.utf8decode(v),meta:r.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=d,m.inherits(e,s),e.prototype.processChunk=function(r){this.push({data:u.utf8encode(r.data),meta:r.meta})},u.Utf8EncodeWorker=e},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,c,u){var m=a("./support"),h=a("./base64"),o=a("./nodejsUtils"),s=a("./external");function i(x){return x}function l(x,y){for(var v=0;v<x.length;++v)y[v]=255&x.charCodeAt(v);return y}a("setimmediate"),u.newBlob=function(x,y){u.checkSupport("blob");try{return new Blob([x],{type:y})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(x),v.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(x,y,v){var b=[],g=0,w=x.length;if(w<=v)return String.fromCharCode.apply(null,x);for(;g<w;)y==="array"||y==="nodebuffer"?b.push(String.fromCharCode.apply(null,x.slice(g,Math.min(g+v,w)))):b.push(String.fromCharCode.apply(null,x.subarray(g,Math.min(g+v,w)))),g+=v;return b.join("")},stringifyByChar:function(x){for(var y="",v=0;v<x.length;v++)y+=String.fromCharCode(x[v]);return y},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function e(x){var y=65536,v=u.getTypeOf(x),b=!0;if(v==="uint8array"?b=d.applyCanBeUsed.uint8array:v==="nodebuffer"&&(b=d.applyCanBeUsed.nodebuffer),b)for(;1<y;)try{return d.stringifyByChunk(x,v,y)}catch{y=Math.floor(y/2)}return d.stringifyByChar(x)}function r(x,y){for(var v=0;v<x.length;v++)y[v]=x[v];return y}u.applyFromCharCode=e;var p={};p.string={string:i,array:function(x){return l(x,new Array(x.length))},arraybuffer:function(x){return p.string.uint8array(x).buffer},uint8array:function(x){return l(x,new Uint8Array(x.length))},nodebuffer:function(x){return l(x,o.allocBuffer(x.length))}},p.array={string:e,array:i,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return o.newBufferFrom(x)}},p.arraybuffer={string:function(x){return e(new Uint8Array(x))},array:function(x){return r(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:i,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return o.newBufferFrom(new Uint8Array(x))}},p.uint8array={string:e,array:function(x){return r(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:i,nodebuffer:function(x){return o.newBufferFrom(x)}},p.nodebuffer={string:e,array:function(x){return r(x,new Array(x.length))},arraybuffer:function(x){return p.nodebuffer.uint8array(x).buffer},uint8array:function(x){return r(x,new Uint8Array(x.length))},nodebuffer:i},u.transformTo=function(x,y){if(y=y||"",!x)return y;u.checkSupport(x);var v=u.getTypeOf(y);return p[v][x](y)},u.resolve=function(x){for(var y=x.split("/"),v=[],b=0;b<y.length;b++){var g=y[b];g==="."||g===""&&b!==0&&b!==y.length-1||(g===".."?v.pop():v.push(g))}return v.join("/")},u.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":m.nodebuffer&&o.isBuffer(x)?"nodebuffer":m.uint8array&&x instanceof Uint8Array?"uint8array":m.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(x){if(!m[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(x){var y,v,b="";for(v=0;v<(x||"").length;v++)b+="\\x"+((y=x.charCodeAt(v))<16?"0":"")+y.toString(16).toUpperCase();return b},u.delay=function(x,y,v){setImmediate(function(){x.apply(v||null,y||[])})},u.inherits=function(x,y){function v(){}v.prototype=y.prototype,x.prototype=new v},u.extend=function(){var x,y,v={};for(x=0;x<arguments.length;x++)for(y in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],y)&&v[y]===void 0&&(v[y]=arguments[x][y]);return v},u.prepareContent=function(x,y,v,b,g){return s.Promise.resolve(y).then(function(w){return m.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new s.Promise(function(f,E){var A=new FileReader;A.onload=function(O){f(O.target.result)},A.onerror=function(O){E(O.target.error)},A.readAsArrayBuffer(w)}):w}).then(function(w){var f=u.getTypeOf(w);return f?(f==="arraybuffer"?w=u.transformTo("uint8array",w):f==="string"&&(g?w=h.decode(w):v&&b!==!0&&(w=function(E){return l(E,m.uint8array?new Uint8Array(E.length):new Array(E.length))}(w))),w):s.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,c,u){var m=a("./reader/readerFor"),h=a("./utils"),o=a("./signature"),s=a("./zipEntry"),i=a("./support");function l(d){this.files=[],this.loadOptions=d}l.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(e)+", expected "+h.pretty(d)+")")}},isSignature:function(d,e){var r=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===e;return this.reader.setIndex(r),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),e=i.uint8array?"uint8array":"array",r=h.transformTo(e,d);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,e,r,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[d]={id:d,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,e;for(d=0;d<this.files.length;d++)e=this.files[d],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var e=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var p=e-r;if(0<p)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=m(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},c.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,c,u){var m=a("./reader/readerFor"),h=a("./utils"),o=a("./compressedObject"),s=a("./crc32"),i=a("./utf8"),l=a("./compressions"),d=a("./support");function e(r,p){this.options=r,this.loadOptions=p}e.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(r){var p,x;if(r.skip(22),this.fileNameLength=r.readInt(2),x=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(y){for(var v in l)if(Object.prototype.hasOwnProperty.call(l,v)&&l[v].magic===y)return l[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,r.readData(this.compressedSize))},readCentralPart:function(r){this.versionMadeBy=r.readInt(2),r.skip(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4);var p=r.readInt(2);if(this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");r.skip(p),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),r==0&&(this.dosPermissions=63&this.externalFileAttributes),r==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var r=m(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=r.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=r.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=r.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=r.readInt(4))}},readExtraFields:function(r){var p,x,y,v=r.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});r.index+4<v;)p=r.readInt(2),x=r.readInt(2),y=r.readData(x),this.extraFields[p]={id:p,length:x,value:y};r.setIndex(v)},handleUTF8:function(){var r=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=i.utf8decode(this.fileName),this.fileCommentStr=i.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var x=h.transformTo(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var v=h.transformTo(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var r=this.extraFields[28789];if(r){var p=m(r.value);return p.readInt(1)!==1||s(this.fileName)!==p.readInt(4)?null:i.utf8decode(p.readData(r.length-5))}return null},findExtraFieldUnicodeComment:function(){var r=this.extraFields[25461];if(r){var p=m(r.value);return p.readInt(1)!==1||s(this.fileComment)!==p.readInt(4)?null:i.utf8decode(p.readData(r.length-5))}return null}},c.exports=e},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,c,u){function m(p,x,y){this.name=p,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=x,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var h=a("./stream/StreamHelper"),o=a("./stream/DataWorker"),s=a("./utf8"),i=a("./compressedObject"),l=a("./stream/GenericWorker");m.prototype={internalStream:function(p){var x=null,y="string";try{if(!p)throw new Error("No output type specified.");var v=(y=p.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),x=this._decompressWorker();var b=!this._dataBinary;b&&!v&&(x=x.pipe(new s.Utf8EncodeWorker)),!b&&v&&(x=x.pipe(new s.Utf8DecodeWorker))}catch(g){(x=new l("error")).error(g)}return new h(x,y,"")},async:function(p,x){return this.internalStream(p).accumulate(x)},nodeStream:function(p,x){return this.internalStream(p||"nodebuffer").toNodejsStream(x)},_compressWorker:function(p,x){if(this._data instanceof i&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new s.Utf8EncodeWorker)),i.createWorkerFrom(y,p,x)},_decompressWorker:function(){return this._data instanceof i?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],e=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},r=0;r<d.length;r++)m.prototype[d[r]]=e;c.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,c,u){(function(m){var h,o,s=m.MutationObserver||m.WebKitMutationObserver;if(s){var i=0,l=new s(p),d=m.document.createTextNode("");l.observe(d,{characterData:!0}),h=function(){d.data=i=++i%2}}else if(m.setImmediate||m.MessageChannel===void 0)h="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var x=m.document.createElement("script");x.onreadystatechange=function(){p(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},m.document.documentElement.appendChild(x)}:function(){setTimeout(p,0)};else{var e=new m.MessageChannel;e.port1.onmessage=p,h=function(){e.port2.postMessage(0)}}var r=[];function p(){var x,y;o=!0;for(var v=r.length;v;){for(y=r,r=[],x=-1;++x<v;)y[x]();v=r.length}o=!1}c.exports=function(x){r.push(x)!==1||o||h()}}).call(this,typeof di<"u"?di:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,c,u){var m=a("immediate");function h(){}var o={},s=["REJECTED"],i=["FULFILLED"],l=["PENDING"];function d(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,v!==h&&x(this,v)}function e(v,b,g){this.promise=v,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof g=="function"&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function r(v,b,g){m(function(){var w;try{w=b(g)}catch(f){return o.reject(v,f)}w===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,w)})}function p(v){var b=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof b=="function")return function(){b.apply(v,arguments)}}function x(v,b){var g=!1;function w(A){g||(g=!0,o.reject(v,A))}function f(A){g||(g=!0,o.resolve(v,A))}var E=y(function(){b(f,w)});E.status==="error"&&w(E.value)}function y(v,b){var g={};try{g.value=v(b),g.status="success"}catch(w){g.status="error",g.value=w}return g}(c.exports=d).prototype.finally=function(v){if(typeof v!="function")return this;var b=this.constructor;return this.then(function(g){return b.resolve(v()).then(function(){return g})},function(g){return b.resolve(v()).then(function(){throw g})})},d.prototype.catch=function(v){return this.then(null,v)},d.prototype.then=function(v,b){if(typeof v!="function"&&this.state===i||typeof b!="function"&&this.state===s)return this;var g=new this.constructor(h);return this.state!==l?r(g,this.state===i?v:b,this.outcome):this.queue.push(new e(g,v,b)),g},e.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},e.prototype.otherCallFulfilled=function(v){r(this.promise,this.onFulfilled,v)},e.prototype.callRejected=function(v){o.reject(this.promise,v)},e.prototype.otherCallRejected=function(v){r(this.promise,this.onRejected,v)},o.resolve=function(v,b){var g=y(p,b);if(g.status==="error")return o.reject(v,g.value);var w=g.value;if(w)x(v,w);else{v.state=i,v.outcome=b;for(var f=-1,E=v.queue.length;++f<E;)v.queue[f].callFulfilled(b)}return v},o.reject=function(v,b){v.state=s,v.outcome=b;for(var g=-1,w=v.queue.length;++g<w;)v.queue[g].callRejected(b);return v},d.resolve=function(v){return v instanceof this?v:o.resolve(new this(h),v)},d.reject=function(v){var b=new this(h);return o.reject(b,v)},d.all=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=v.length,w=!1;if(!g)return this.resolve([]);for(var f=new Array(g),E=0,A=-1,O=new this(h);++A<g;)T(v[A],A);return O;function T(D,F){b.resolve(D).then(function(C){f[F]=C,++E!==g||w||(w=!0,o.resolve(O,f))},function(C){w||(w=!0,o.reject(O,C))})}},d.race=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=v.length,w=!1;if(!g)return this.resolve([]);for(var f=-1,E=new this(h);++f<g;)A=v[f],b.resolve(A).then(function(O){w||(w=!0,o.resolve(E,O))},function(O){w||(w=!0,o.reject(E,O))});var A;return E}},{immediate:36}],38:[function(a,c,u){var m={};(0,a("./lib/utils/common").assign)(m,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),c.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,c,u){var m=a("./zlib/deflate"),h=a("./utils/common"),o=a("./utils/strings"),s=a("./zlib/messages"),i=a("./zlib/zstream"),l=Object.prototype.toString,d=0,e=-1,r=0,p=8;function x(v){if(!(this instanceof x))return new x(v);this.options=h.assign({level:e,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:r,to:""},v||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var g=m.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(g!==d)throw new Error(s[g]);if(b.header&&m.deflateSetHeader(this.strm,b.header),b.dictionary){var w;if(w=typeof b.dictionary=="string"?o.string2buf(b.dictionary):l.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(g=m.deflateSetDictionary(this.strm,w))!==d)throw new Error(s[g]);this._dict_set=!0}}function y(v,b){var g=new x(b);if(g.push(v,!0),g.err)throw g.msg||s[g.err];return g.result}x.prototype.push=function(v,b){var g,w,f=this.strm,E=this.options.chunkSize;if(this.ended)return!1;w=b===~~b?b:b===!0?4:0,typeof v=="string"?f.input=o.string2buf(v):l.call(v)==="[object ArrayBuffer]"?f.input=new Uint8Array(v):f.input=v,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new h.Buf8(E),f.next_out=0,f.avail_out=E),(g=m.deflate(f,w))!==1&&g!==d)return this.onEnd(g),!(this.ended=!0);f.avail_out!==0&&(f.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(h.shrinkBuf(f.output,f.next_out))):this.onData(h.shrinkBuf(f.output,f.next_out)))}while((0<f.avail_in||f.avail_out===0)&&g!==1);return w===4?(g=m.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===d):w!==2||(this.onEnd(d),!(f.avail_out=0))},x.prototype.onData=function(v){this.chunks.push(v)},x.prototype.onEnd=function(v){v===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},u.Deflate=x,u.deflate=y,u.deflateRaw=function(v,b){return(b=b||{}).raw=!0,y(v,b)},u.gzip=function(v,b){return(b=b||{}).gzip=!0,y(v,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,c,u){var m=a("./zlib/inflate"),h=a("./utils/common"),o=a("./utils/strings"),s=a("./zlib/constants"),i=a("./zlib/messages"),l=a("./zlib/zstream"),d=a("./zlib/gzheader"),e=Object.prototype.toString;function r(x){if(!(this instanceof r))return new r(x);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},x||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||x&&x.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var v=m.inflateInit2(this.strm,y.windowBits);if(v!==s.Z_OK)throw new Error(i[v]);this.header=new d,m.inflateGetHeader(this.strm,this.header)}function p(x,y){var v=new r(y);if(v.push(x,!0),v.err)throw v.msg||i[v.err];return v.result}r.prototype.push=function(x,y){var v,b,g,w,f,E,A=this.strm,O=this.options.chunkSize,T=this.options.dictionary,D=!1;if(this.ended)return!1;b=y===~~y?y:y===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof x=="string"?A.input=o.binstring2buf(x):e.call(x)==="[object ArrayBuffer]"?A.input=new Uint8Array(x):A.input=x,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new h.Buf8(O),A.next_out=0,A.avail_out=O),(v=m.inflate(A,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&T&&(E=typeof T=="string"?o.string2buf(T):e.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,v=m.inflateSetDictionary(this.strm,E)),v===s.Z_BUF_ERROR&&D===!0&&(v=s.Z_OK,D=!1),v!==s.Z_STREAM_END&&v!==s.Z_OK)return this.onEnd(v),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&v!==s.Z_STREAM_END&&(A.avail_in!==0||b!==s.Z_FINISH&&b!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=o.utf8border(A.output,A.next_out),w=A.next_out-g,f=o.buf2string(A.output,g),A.next_out=w,A.avail_out=O-w,w&&h.arraySet(A.output,A.output,g,w,0),this.onData(f)):this.onData(h.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(D=!0)}while((0<A.avail_in||A.avail_out===0)&&v!==s.Z_STREAM_END);return v===s.Z_STREAM_END&&(b=s.Z_FINISH),b===s.Z_FINISH?(v=m.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===s.Z_OK):b!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(A.avail_out=0))},r.prototype.onData=function(x){this.chunks.push(x)},r.prototype.onEnd=function(x){x===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},u.Inflate=r,u.inflate=p,u.inflateRaw=function(x,y){return(y=y||{}).raw=!0,p(x,y)},u.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,c,u){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(s){for(var i=Array.prototype.slice.call(arguments,1);i.length;){var l=i.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var d in l)l.hasOwnProperty(d)&&(s[d]=l[d])}}return s},u.shrinkBuf=function(s,i){return s.length===i?s:s.subarray?s.subarray(0,i):(s.length=i,s)};var h={arraySet:function(s,i,l,d,e){if(i.subarray&&s.subarray)s.set(i.subarray(l,l+d),e);else for(var r=0;r<d;r++)s[e+r]=i[l+r]},flattenChunks:function(s){var i,l,d,e,r,p;for(i=d=0,l=s.length;i<l;i++)d+=s[i].length;for(p=new Uint8Array(d),i=e=0,l=s.length;i<l;i++)r=s[i],p.set(r,e),e+=r.length;return p}},o={arraySet:function(s,i,l,d,e){for(var r=0;r<d;r++)s[e+r]=i[l+r]},flattenChunks:function(s){return[].concat.apply([],s)}};u.setTyped=function(s){s?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,h)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,o))},u.setTyped(m)},{}],42:[function(a,c,u){var m=a("./common"),h=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new m.Buf8(256),i=0;i<256;i++)s[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(d,e){if(e<65537&&(d.subarray&&o||!d.subarray&&h))return String.fromCharCode.apply(null,m.shrinkBuf(d,e));for(var r="",p=0;p<e;p++)r+=String.fromCharCode(d[p]);return r}s[254]=s[254]=1,u.string2buf=function(d){var e,r,p,x,y,v=d.length,b=0;for(x=0;x<v;x++)(64512&(r=d.charCodeAt(x)))==55296&&x+1<v&&(64512&(p=d.charCodeAt(x+1)))==56320&&(r=65536+(r-55296<<10)+(p-56320),x++),b+=r<128?1:r<2048?2:r<65536?3:4;for(e=new m.Buf8(b),x=y=0;y<b;x++)(64512&(r=d.charCodeAt(x)))==55296&&x+1<v&&(64512&(p=d.charCodeAt(x+1)))==56320&&(r=65536+(r-55296<<10)+(p-56320),x++),r<128?e[y++]=r:(r<2048?e[y++]=192|r>>>6:(r<65536?e[y++]=224|r>>>12:(e[y++]=240|r>>>18,e[y++]=128|r>>>12&63),e[y++]=128|r>>>6&63),e[y++]=128|63&r);return e},u.buf2binstring=function(d){return l(d,d.length)},u.binstring2buf=function(d){for(var e=new m.Buf8(d.length),r=0,p=e.length;r<p;r++)e[r]=d.charCodeAt(r);return e},u.buf2string=function(d,e){var r,p,x,y,v=e||d.length,b=new Array(2*v);for(r=p=0;r<v;)if((x=d[r++])<128)b[p++]=x;else if(4<(y=s[x]))b[p++]=65533,r+=y-1;else{for(x&=y===2?31:y===3?15:7;1<y&&r<v;)x=x<<6|63&d[r++],y--;1<y?b[p++]=65533:x<65536?b[p++]=x:(x-=65536,b[p++]=55296|x>>10&1023,b[p++]=56320|1023&x)}return l(b,p)},u.utf8border=function(d,e){var r;for((e=e||d.length)>d.length&&(e=d.length),r=e-1;0<=r&&(192&d[r])==128;)r--;return r<0||r===0?e:r+s[d[r]]>e?r:e}},{"./common":41}],43:[function(a,c,u){c.exports=function(m,h,o,s){for(var i=65535&m|0,l=m>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;l=l+(i=i+h[s++]|0)|0,--d;);i%=65521,l%=65521}return i|l<<16|0}},{}],44:[function(a,c,u){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,c,u){var m=function(){for(var h,o=[],s=0;s<256;s++){h=s;for(var i=0;i<8;i++)h=1&h?3988292384^h>>>1:h>>>1;o[s]=h}return o}();c.exports=function(h,o,s,i){var l=m,d=i+s;h^=-1;for(var e=i;e<d;e++)h=h>>>8^l[255&(h^o[e])];return-1^h}},{}],46:[function(a,c,u){var m,h=a("../utils/common"),o=a("./trees"),s=a("./adler32"),i=a("./crc32"),l=a("./messages"),d=0,e=4,r=0,p=-2,x=-1,y=4,v=2,b=8,g=9,w=286,f=30,E=19,A=2*w+1,O=15,T=3,D=258,F=D+T+1,C=42,B=113,M=1,I=2,W=3,J=4;function H(P,K){return P.msg=l[K],K}function N(P){return(P<<1)-(4<P?9:0)}function U(P){for(var K=P.length;0<=--K;)P[K]=0}function Y(P){var K=P.state,te=K.pending;te>P.avail_out&&(te=P.avail_out),te!==0&&(h.arraySet(P.output,K.pending_buf,K.pending_out,te,P.next_out),P.next_out+=te,K.pending_out+=te,P.total_out+=te,P.avail_out-=te,K.pending-=te,K.pending===0&&(K.pending_out=0))}function _(P,K){o._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,K),P.block_start=P.strstart,Y(P.strm)}function V(P,K){P.pending_buf[P.pending++]=K}function Z(P,K){P.pending_buf[P.pending++]=K>>>8&255,P.pending_buf[P.pending++]=255&K}function q(P,K){var te,X,ee=P.max_chain_length,G=P.strstart,ne=P.prev_length,se=P.nice_match,le=P.strstart>P.w_size-F?P.strstart-(P.w_size-F):0,he=P.window,be=P.w_mask,ye=P.prev,de=P.strstart+D,xe=he[G+ne-1],fe=he[G+ne];P.prev_length>=P.good_match&&(ee>>=2),se>P.lookahead&&(se=P.lookahead);do if(he[(te=K)+ne]===fe&&he[te+ne-1]===xe&&he[te]===he[G]&&he[++te]===he[G+1]){G+=2,te++;do;while(he[++G]===he[++te]&&he[++G]===he[++te]&&he[++G]===he[++te]&&he[++G]===he[++te]&&he[++G]===he[++te]&&he[++G]===he[++te]&&he[++G]===he[++te]&&he[++G]===he[++te]&&G<de);if(X=D-(de-G),G=de-D,ne<X){if(P.match_start=K,se<=(ne=X))break;xe=he[G+ne-1],fe=he[G+ne]}}while((K=ye[K&be])>le&&--ee!=0);return ne<=P.lookahead?ne:P.lookahead}function re(P){var K,te,X,ee,G,ne,se,le,he,be,ye=P.w_size;do{if(ee=P.window_size-P.lookahead-P.strstart,P.strstart>=ye+(ye-F)){for(h.arraySet(P.window,P.window,ye,ye,0),P.match_start-=ye,P.strstart-=ye,P.block_start-=ye,K=te=P.hash_size;X=P.head[--K],P.head[K]=ye<=X?X-ye:0,--te;);for(K=te=ye;X=P.prev[--K],P.prev[K]=ye<=X?X-ye:0,--te;);ee+=ye}if(P.strm.avail_in===0)break;if(ne=P.strm,se=P.window,le=P.strstart+P.lookahead,he=ee,be=void 0,be=ne.avail_in,he<be&&(be=he),te=be===0?0:(ne.avail_in-=be,h.arraySet(se,ne.input,ne.next_in,be,le),ne.state.wrap===1?ne.adler=s(ne.adler,se,be,le):ne.state.wrap===2&&(ne.adler=i(ne.adler,se,be,le)),ne.next_in+=be,ne.total_in+=be,be),P.lookahead+=te,P.lookahead+P.insert>=T)for(G=P.strstart-P.insert,P.ins_h=P.window[G],P.ins_h=(P.ins_h<<P.hash_shift^P.window[G+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[G+T-1])&P.hash_mask,P.prev[G&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=G,G++,P.insert--,!(P.lookahead+P.insert<T)););}while(P.lookahead<F&&P.strm.avail_in!==0)}function oe(P,K){for(var te,X;;){if(P.lookahead<F){if(re(P),P.lookahead<F&&K===d)return M;if(P.lookahead===0)break}if(te=0,P.lookahead>=T&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+T-1])&P.hash_mask,te=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),te!==0&&P.strstart-te<=P.w_size-F&&(P.match_length=q(P,te)),P.match_length>=T)if(X=o._tr_tally(P,P.strstart-P.match_start,P.match_length-T),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=T){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+T-1])&P.hash_mask,te=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else X=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(X&&(_(P,!1),P.strm.avail_out===0))return M}return P.insert=P.strstart<T-1?P.strstart:T-1,K===e?(_(P,!0),P.strm.avail_out===0?W:J):P.last_lit&&(_(P,!1),P.strm.avail_out===0)?M:I}function ae(P,K){for(var te,X,ee;;){if(P.lookahead<F){if(re(P),P.lookahead<F&&K===d)return M;if(P.lookahead===0)break}if(te=0,P.lookahead>=T&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+T-1])&P.hash_mask,te=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=T-1,te!==0&&P.prev_length<P.max_lazy_match&&P.strstart-te<=P.w_size-F&&(P.match_length=q(P,te),P.match_length<=5&&(P.strategy===1||P.match_length===T&&4096<P.strstart-P.match_start)&&(P.match_length=T-1)),P.prev_length>=T&&P.match_length<=P.prev_length){for(ee=P.strstart+P.lookahead-T,X=o._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-T),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=ee&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+T-1])&P.hash_mask,te=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=T-1,P.strstart++,X&&(_(P,!1),P.strm.avail_out===0))return M}else if(P.match_available){if((X=o._tr_tally(P,0,P.window[P.strstart-1]))&&_(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return M}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(X=o._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<T-1?P.strstart:T-1,K===e?(_(P,!0),P.strm.avail_out===0?W:J):P.last_lit&&(_(P,!1),P.strm.avail_out===0)?M:I}function R(P,K,te,X,ee){this.good_length=P,this.max_lazy=K,this.nice_length=te,this.max_chain=X,this.func=ee}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*A),this.dyn_dtree=new h.Buf16(2*(2*f+1)),this.bl_tree=new h.Buf16(2*(2*E+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(O+1),this.heap=new h.Buf16(2*w+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*w+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function L(P){var K;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=v,(K=P.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?C:B,P.adler=K.wrap===2?0:1,K.last_flush=d,o._tr_init(K),r):H(P,p)}function k(P){var K=L(P);return K===r&&function(te){te.window_size=2*te.w_size,U(te.head),te.max_lazy_match=m[te.level].max_lazy,te.good_match=m[te.level].good_length,te.nice_match=m[te.level].nice_length,te.max_chain_length=m[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=T-1,te.match_available=0,te.ins_h=0}(P.state),K}function z(P,K,te,X,ee,G){if(!P)return p;var ne=1;if(K===x&&(K=6),X<0?(ne=0,X=-X):15<X&&(ne=2,X-=16),ee<1||g<ee||te!==b||X<8||15<X||K<0||9<K||G<0||y<G)return H(P,p);X===8&&(X=9);var se=new S;return(P.state=se).strm=P,se.wrap=ne,se.gzhead=null,se.w_bits=X,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=ee+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+T-1)/T),se.window=new h.Buf8(2*se.w_size),se.head=new h.Buf16(se.hash_size),se.prev=new h.Buf16(se.w_size),se.lit_bufsize=1<<ee+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new h.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=K,se.strategy=G,se.method=te,k(P)}m=[new R(0,0,0,0,function(P,K){var te=65535;for(te>P.pending_buf_size-5&&(te=P.pending_buf_size-5);;){if(P.lookahead<=1){if(re(P),P.lookahead===0&&K===d)return M;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var X=P.block_start+te;if((P.strstart===0||P.strstart>=X)&&(P.lookahead=P.strstart-X,P.strstart=X,_(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-F&&(_(P,!1),P.strm.avail_out===0))return M}return P.insert=0,K===e?(_(P,!0),P.strm.avail_out===0?W:J):(P.strstart>P.block_start&&(_(P,!1),P.strm.avail_out),M)}),new R(4,4,8,4,oe),new R(4,5,16,8,oe),new R(4,6,32,32,oe),new R(4,4,16,16,ae),new R(8,16,32,32,ae),new R(8,16,128,128,ae),new R(8,32,128,256,ae),new R(32,128,258,1024,ae),new R(32,258,258,4096,ae)],u.deflateInit=function(P,K){return z(P,K,b,15,8,0)},u.deflateInit2=z,u.deflateReset=k,u.deflateResetKeep=L,u.deflateSetHeader=function(P,K){return P&&P.state?P.state.wrap!==2?p:(P.state.gzhead=K,r):p},u.deflate=function(P,K){var te,X,ee,G;if(!P||!P.state||5<K||K<0)return P?H(P,p):p;if(X=P.state,!P.output||!P.input&&P.avail_in!==0||X.status===666&&K!==e)return H(P,P.avail_out===0?-5:p);if(X.strm=P,te=X.last_flush,X.last_flush=K,X.status===C)if(X.wrap===2)P.adler=0,V(X,31),V(X,139),V(X,8),X.gzhead?(V(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),V(X,255&X.gzhead.time),V(X,X.gzhead.time>>8&255),V(X,X.gzhead.time>>16&255),V(X,X.gzhead.time>>24&255),V(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),V(X,255&X.gzhead.os),X.gzhead.extra&&X.gzhead.extra.length&&(V(X,255&X.gzhead.extra.length),V(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(P.adler=i(P.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=69):(V(X,0),V(X,0),V(X,0),V(X,0),V(X,0),V(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),V(X,3),X.status=B);else{var ne=b+(X.w_bits-8<<4)<<8;ne|=(2<=X.strategy||X.level<2?0:X.level<6?1:X.level===6?2:3)<<6,X.strstart!==0&&(ne|=32),ne+=31-ne%31,X.status=B,Z(X,ne),X.strstart!==0&&(Z(X,P.adler>>>16),Z(X,65535&P.adler)),P.adler=1}if(X.status===69)if(X.gzhead.extra){for(ee=X.pending;X.gzindex<(65535&X.gzhead.extra.length)&&(X.pending!==X.pending_buf_size||(X.gzhead.hcrc&&X.pending>ee&&(P.adler=i(P.adler,X.pending_buf,X.pending-ee,ee)),Y(P),ee=X.pending,X.pending!==X.pending_buf_size));)V(X,255&X.gzhead.extra[X.gzindex]),X.gzindex++;X.gzhead.hcrc&&X.pending>ee&&(P.adler=i(P.adler,X.pending_buf,X.pending-ee,ee)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=73)}else X.status=73;if(X.status===73)if(X.gzhead.name){ee=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>ee&&(P.adler=i(P.adler,X.pending_buf,X.pending-ee,ee)),Y(P),ee=X.pending,X.pending===X.pending_buf_size)){G=1;break}G=X.gzindex<X.gzhead.name.length?255&X.gzhead.name.charCodeAt(X.gzindex++):0,V(X,G)}while(G!==0);X.gzhead.hcrc&&X.pending>ee&&(P.adler=i(P.adler,X.pending_buf,X.pending-ee,ee)),G===0&&(X.gzindex=0,X.status=91)}else X.status=91;if(X.status===91)if(X.gzhead.comment){ee=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>ee&&(P.adler=i(P.adler,X.pending_buf,X.pending-ee,ee)),Y(P),ee=X.pending,X.pending===X.pending_buf_size)){G=1;break}G=X.gzindex<X.gzhead.comment.length?255&X.gzhead.comment.charCodeAt(X.gzindex++):0,V(X,G)}while(G!==0);X.gzhead.hcrc&&X.pending>ee&&(P.adler=i(P.adler,X.pending_buf,X.pending-ee,ee)),G===0&&(X.status=103)}else X.status=103;if(X.status===103&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&Y(P),X.pending+2<=X.pending_buf_size&&(V(X,255&P.adler),V(X,P.adler>>8&255),P.adler=0,X.status=B)):X.status=B),X.pending!==0){if(Y(P),P.avail_out===0)return X.last_flush=-1,r}else if(P.avail_in===0&&N(K)<=N(te)&&K!==e)return H(P,-5);if(X.status===666&&P.avail_in!==0)return H(P,-5);if(P.avail_in!==0||X.lookahead!==0||K!==d&&X.status!==666){var se=X.strategy===2?function(le,he){for(var be;;){if(le.lookahead===0&&(re(le),le.lookahead===0)){if(he===d)return M;break}if(le.match_length=0,be=o._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,be&&(_(le,!1),le.strm.avail_out===0))return M}return le.insert=0,he===e?(_(le,!0),le.strm.avail_out===0?W:J):le.last_lit&&(_(le,!1),le.strm.avail_out===0)?M:I}(X,K):X.strategy===3?function(le,he){for(var be,ye,de,xe,fe=le.window;;){if(le.lookahead<=D){if(re(le),le.lookahead<=D&&he===d)return M;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=T&&0<le.strstart&&(ye=fe[de=le.strstart-1])===fe[++de]&&ye===fe[++de]&&ye===fe[++de]){xe=le.strstart+D;do;while(ye===fe[++de]&&ye===fe[++de]&&ye===fe[++de]&&ye===fe[++de]&&ye===fe[++de]&&ye===fe[++de]&&ye===fe[++de]&&ye===fe[++de]&&de<xe);le.match_length=D-(xe-de),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=T?(be=o._tr_tally(le,1,le.match_length-T),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(be=o._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),be&&(_(le,!1),le.strm.avail_out===0))return M}return le.insert=0,he===e?(_(le,!0),le.strm.avail_out===0?W:J):le.last_lit&&(_(le,!1),le.strm.avail_out===0)?M:I}(X,K):m[X.level].func(X,K);if(se!==W&&se!==J||(X.status=666),se===M||se===W)return P.avail_out===0&&(X.last_flush=-1),r;if(se===I&&(K===1?o._tr_align(X):K!==5&&(o._tr_stored_block(X,0,0,!1),K===3&&(U(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),Y(P),P.avail_out===0))return X.last_flush=-1,r}return K!==e?r:X.wrap<=0?1:(X.wrap===2?(V(X,255&P.adler),V(X,P.adler>>8&255),V(X,P.adler>>16&255),V(X,P.adler>>24&255),V(X,255&P.total_in),V(X,P.total_in>>8&255),V(X,P.total_in>>16&255),V(X,P.total_in>>24&255)):(Z(X,P.adler>>>16),Z(X,65535&P.adler)),Y(P),0<X.wrap&&(X.wrap=-X.wrap),X.pending!==0?r:1)},u.deflateEnd=function(P){var K;return P&&P.state?(K=P.state.status)!==C&&K!==69&&K!==73&&K!==91&&K!==103&&K!==B&&K!==666?H(P,p):(P.state=null,K===B?H(P,-3):r):p},u.deflateSetDictionary=function(P,K){var te,X,ee,G,ne,se,le,he,be=K.length;if(!P||!P.state||(G=(te=P.state).wrap)===2||G===1&&te.status!==C||te.lookahead)return p;for(G===1&&(P.adler=s(P.adler,K,be,0)),te.wrap=0,be>=te.w_size&&(G===0&&(U(te.head),te.strstart=0,te.block_start=0,te.insert=0),he=new h.Buf8(te.w_size),h.arraySet(he,K,be-te.w_size,te.w_size,0),K=he,be=te.w_size),ne=P.avail_in,se=P.next_in,le=P.input,P.avail_in=be,P.next_in=0,P.input=K,re(te);te.lookahead>=T;){for(X=te.strstart,ee=te.lookahead-(T-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[X+T-1])&te.hash_mask,te.prev[X&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=X,X++,--ee;);te.strstart=X,te.lookahead=T-1,re(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=T-1,te.match_available=0,P.next_in=se,P.input=le,P.avail_in=ne,te.wrap=G,r},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,c,u){c.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,c,u){c.exports=function(m,h){var o,s,i,l,d,e,r,p,x,y,v,b,g,w,f,E,A,O,T,D,F,C,B,M,I;o=m.state,s=m.next_in,M=m.input,i=s+(m.avail_in-5),l=m.next_out,I=m.output,d=l-(h-m.avail_out),e=l+(m.avail_out-257),r=o.dmax,p=o.wsize,x=o.whave,y=o.wnext,v=o.window,b=o.hold,g=o.bits,w=o.lencode,f=o.distcode,E=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;e:do{g<15&&(b+=M[s++]<<g,g+=8,b+=M[s++]<<g,g+=8),O=w[b&E];t:for(;;){if(b>>>=T=O>>>24,g-=T,(T=O>>>16&255)===0)I[l++]=65535&O;else{if(!(16&T)){if((64&T)==0){O=w[(65535&O)+(b&(1<<T)-1)];continue t}if(32&T){o.mode=12;break e}m.msg="invalid literal/length code",o.mode=30;break e}D=65535&O,(T&=15)&&(g<T&&(b+=M[s++]<<g,g+=8),D+=b&(1<<T)-1,b>>>=T,g-=T),g<15&&(b+=M[s++]<<g,g+=8,b+=M[s++]<<g,g+=8),O=f[b&A];n:for(;;){if(b>>>=T=O>>>24,g-=T,!(16&(T=O>>>16&255))){if((64&T)==0){O=f[(65535&O)+(b&(1<<T)-1)];continue n}m.msg="invalid distance code",o.mode=30;break e}if(F=65535&O,g<(T&=15)&&(b+=M[s++]<<g,(g+=8)<T&&(b+=M[s++]<<g,g+=8)),r<(F+=b&(1<<T)-1)){m.msg="invalid distance too far back",o.mode=30;break e}if(b>>>=T,g-=T,(T=l-d)<F){if(x<(T=F-T)&&o.sane){m.msg="invalid distance too far back",o.mode=30;break e}if(B=v,(C=0)===y){if(C+=p-T,T<D){for(D-=T;I[l++]=v[C++],--T;);C=l-F,B=I}}else if(y<T){if(C+=p+y-T,(T-=y)<D){for(D-=T;I[l++]=v[C++],--T;);if(C=0,y<D){for(D-=T=y;I[l++]=v[C++],--T;);C=l-F,B=I}}}else if(C+=y-T,T<D){for(D-=T;I[l++]=v[C++],--T;);C=l-F,B=I}for(;2<D;)I[l++]=B[C++],I[l++]=B[C++],I[l++]=B[C++],D-=3;D&&(I[l++]=B[C++],1<D&&(I[l++]=B[C++]))}else{for(C=l-F;I[l++]=I[C++],I[l++]=I[C++],I[l++]=I[C++],2<(D-=3););D&&(I[l++]=I[C++],1<D&&(I[l++]=I[C++]))}break}}break}}while(s<i&&l<e);s-=D=g>>3,b&=(1<<(g-=D<<3))-1,m.next_in=s,m.next_out=l,m.avail_in=s<i?i-s+5:5-(s-i),m.avail_out=l<e?e-l+257:257-(l-e),o.hold=b,o.bits=g}},{}],49:[function(a,c,u){var m=a("../utils/common"),h=a("./adler32"),o=a("./crc32"),s=a("./inffast"),i=a("./inftrees"),l=1,d=2,e=0,r=-2,p=1,x=852,y=592;function v(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(C){var B;return C&&C.state?(B=C.state,C.total_in=C.total_out=B.total=0,C.msg="",B.wrap&&(C.adler=1&B.wrap),B.mode=p,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new m.Buf32(x),B.distcode=B.distdyn=new m.Buf32(y),B.sane=1,B.back=-1,e):r}function w(C){var B;return C&&C.state?((B=C.state).wsize=0,B.whave=0,B.wnext=0,g(C)):r}function f(C,B){var M,I;return C&&C.state?(I=C.state,B<0?(M=0,B=-B):(M=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?r:(I.window!==null&&I.wbits!==B&&(I.window=null),I.wrap=M,I.wbits=B,w(C))):r}function E(C,B){var M,I;return C?(I=new b,(C.state=I).window=null,(M=f(C,B))!==e&&(C.state=null),M):r}var A,O,T=!0;function D(C){if(T){var B;for(A=new m.Buf32(512),O=new m.Buf32(32),B=0;B<144;)C.lens[B++]=8;for(;B<256;)C.lens[B++]=9;for(;B<280;)C.lens[B++]=7;for(;B<288;)C.lens[B++]=8;for(i(l,C.lens,0,288,A,0,C.work,{bits:9}),B=0;B<32;)C.lens[B++]=5;i(d,C.lens,0,32,O,0,C.work,{bits:5}),T=!1}C.lencode=A,C.lenbits=9,C.distcode=O,C.distbits=5}function F(C,B,M,I){var W,J=C.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new m.Buf8(J.wsize)),I>=J.wsize?(m.arraySet(J.window,B,M-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(I<(W=J.wsize-J.wnext)&&(W=I),m.arraySet(J.window,B,M-I,W,J.wnext),(I-=W)?(m.arraySet(J.window,B,M-I,I,0),J.wnext=I,J.whave=J.wsize):(J.wnext+=W,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=W))),0}u.inflateReset=w,u.inflateReset2=f,u.inflateResetKeep=g,u.inflateInit=function(C){return E(C,15)},u.inflateInit2=E,u.inflate=function(C,B){var M,I,W,J,H,N,U,Y,_,V,Z,q,re,oe,ae,R,S,L,k,z,P,K,te,X,ee=0,G=new m.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return r;(M=C.state).mode===12&&(M.mode=13),H=C.next_out,W=C.output,U=C.avail_out,J=C.next_in,I=C.input,N=C.avail_in,Y=M.hold,_=M.bits,V=N,Z=U,K=e;e:for(;;)switch(M.mode){case p:if(M.wrap===0){M.mode=13;break}for(;_<16;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if(2&M.wrap&&Y===35615){G[M.check=0]=255&Y,G[1]=Y>>>8&255,M.check=o(M.check,G,2,0),_=Y=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&Y)<<8)+(Y>>8))%31){C.msg="incorrect header check",M.mode=30;break}if((15&Y)!=8){C.msg="unknown compression method",M.mode=30;break}if(_-=4,P=8+(15&(Y>>>=4)),M.wbits===0)M.wbits=P;else if(P>M.wbits){C.msg="invalid window size",M.mode=30;break}M.dmax=1<<P,C.adler=M.check=1,M.mode=512&Y?10:12,_=Y=0;break;case 2:for(;_<16;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if(M.flags=Y,(255&M.flags)!=8){C.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){C.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=Y>>8&1),512&M.flags&&(G[0]=255&Y,G[1]=Y>>>8&255,M.check=o(M.check,G,2,0)),_=Y=0,M.mode=3;case 3:for(;_<32;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}M.head&&(M.head.time=Y),512&M.flags&&(G[0]=255&Y,G[1]=Y>>>8&255,G[2]=Y>>>16&255,G[3]=Y>>>24&255,M.check=o(M.check,G,4,0)),_=Y=0,M.mode=4;case 4:for(;_<16;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}M.head&&(M.head.xflags=255&Y,M.head.os=Y>>8),512&M.flags&&(G[0]=255&Y,G[1]=Y>>>8&255,M.check=o(M.check,G,2,0)),_=Y=0,M.mode=5;case 5:if(1024&M.flags){for(;_<16;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}M.length=Y,M.head&&(M.head.extra_len=Y),512&M.flags&&(G[0]=255&Y,G[1]=Y>>>8&255,M.check=o(M.check,G,2,0)),_=Y=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(N<(q=M.length)&&(q=N),q&&(M.head&&(P=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),m.arraySet(M.head.extra,I,J,q,P)),512&M.flags&&(M.check=o(M.check,I,q,J)),N-=q,J+=q,M.length-=q),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(N===0)break e;for(q=0;P=I[J+q++],M.head&&P&&M.length<65536&&(M.head.name+=String.fromCharCode(P)),P&&q<N;);if(512&M.flags&&(M.check=o(M.check,I,q,J)),N-=q,J+=q,P)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(N===0)break e;for(q=0;P=I[J+q++],M.head&&P&&M.length<65536&&(M.head.comment+=String.fromCharCode(P)),P&&q<N;);if(512&M.flags&&(M.check=o(M.check,I,q,J)),N-=q,J+=q,P)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;_<16;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if(Y!==(65535&M.check)){C.msg="header crc mismatch",M.mode=30;break}_=Y=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),C.adler=M.check=0,M.mode=12;break;case 10:for(;_<32;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}C.adler=M.check=v(Y),_=Y=0,M.mode=11;case 11:if(M.havedict===0)return C.next_out=H,C.avail_out=U,C.next_in=J,C.avail_in=N,M.hold=Y,M.bits=_,2;C.adler=M.check=1,M.mode=12;case 12:if(B===5||B===6)break e;case 13:if(M.last){Y>>>=7&_,_-=7&_,M.mode=27;break}for(;_<3;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}switch(M.last=1&Y,_-=1,3&(Y>>>=1)){case 0:M.mode=14;break;case 1:if(D(M),M.mode=20,B!==6)break;Y>>>=2,_-=2;break e;case 2:M.mode=17;break;case 3:C.msg="invalid block type",M.mode=30}Y>>>=2,_-=2;break;case 14:for(Y>>>=7&_,_-=7&_;_<32;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if((65535&Y)!=(Y>>>16^65535)){C.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&Y,_=Y=0,M.mode=15,B===6)break e;case 15:M.mode=16;case 16:if(q=M.length){if(N<q&&(q=N),U<q&&(q=U),q===0)break e;m.arraySet(W,I,J,q,H),N-=q,J+=q,U-=q,H+=q,M.length-=q;break}M.mode=12;break;case 17:for(;_<14;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if(M.nlen=257+(31&Y),Y>>>=5,_-=5,M.ndist=1+(31&Y),Y>>>=5,_-=5,M.ncode=4+(15&Y),Y>>>=4,_-=4,286<M.nlen||30<M.ndist){C.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;_<3;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}M.lens[ne[M.have++]]=7&Y,Y>>>=3,_-=3}for(;M.have<19;)M.lens[ne[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,te={bits:M.lenbits},K=i(0,M.lens,0,19,M.lencode,0,M.work,te),M.lenbits=te.bits,K){C.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;R=(ee=M.lencode[Y&(1<<M.lenbits)-1])>>>16&255,S=65535&ee,!((ae=ee>>>24)<=_);){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if(S<16)Y>>>=ae,_-=ae,M.lens[M.have++]=S;else{if(S===16){for(X=ae+2;_<X;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if(Y>>>=ae,_-=ae,M.have===0){C.msg="invalid bit length repeat",M.mode=30;break}P=M.lens[M.have-1],q=3+(3&Y),Y>>>=2,_-=2}else if(S===17){for(X=ae+3;_<X;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}_-=ae,P=0,q=3+(7&(Y>>>=ae)),Y>>>=3,_-=3}else{for(X=ae+7;_<X;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}_-=ae,P=0,q=11+(127&(Y>>>=ae)),Y>>>=7,_-=7}if(M.have+q>M.nlen+M.ndist){C.msg="invalid bit length repeat",M.mode=30;break}for(;q--;)M.lens[M.have++]=P}}if(M.mode===30)break;if(M.lens[256]===0){C.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,te={bits:M.lenbits},K=i(l,M.lens,0,M.nlen,M.lencode,0,M.work,te),M.lenbits=te.bits,K){C.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,te={bits:M.distbits},K=i(d,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,te),M.distbits=te.bits,K){C.msg="invalid distances set",M.mode=30;break}if(M.mode=20,B===6)break e;case 20:M.mode=21;case 21:if(6<=N&&258<=U){C.next_out=H,C.avail_out=U,C.next_in=J,C.avail_in=N,M.hold=Y,M.bits=_,s(C,Z),H=C.next_out,W=C.output,U=C.avail_out,J=C.next_in,I=C.input,N=C.avail_in,Y=M.hold,_=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;R=(ee=M.lencode[Y&(1<<M.lenbits)-1])>>>16&255,S=65535&ee,!((ae=ee>>>24)<=_);){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if(R&&(240&R)==0){for(L=ae,k=R,z=S;R=(ee=M.lencode[z+((Y&(1<<L+k)-1)>>L)])>>>16&255,S=65535&ee,!(L+(ae=ee>>>24)<=_);){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}Y>>>=L,_-=L,M.back+=L}if(Y>>>=ae,_-=ae,M.back+=ae,M.length=S,R===0){M.mode=26;break}if(32&R){M.back=-1,M.mode=12;break}if(64&R){C.msg="invalid literal/length code",M.mode=30;break}M.extra=15&R,M.mode=22;case 22:if(M.extra){for(X=M.extra;_<X;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}M.length+=Y&(1<<M.extra)-1,Y>>>=M.extra,_-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;R=(ee=M.distcode[Y&(1<<M.distbits)-1])>>>16&255,S=65535&ee,!((ae=ee>>>24)<=_);){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if((240&R)==0){for(L=ae,k=R,z=S;R=(ee=M.distcode[z+((Y&(1<<L+k)-1)>>L)])>>>16&255,S=65535&ee,!(L+(ae=ee>>>24)<=_);){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}Y>>>=L,_-=L,M.back+=L}if(Y>>>=ae,_-=ae,M.back+=ae,64&R){C.msg="invalid distance code",M.mode=30;break}M.offset=S,M.extra=15&R,M.mode=24;case 24:if(M.extra){for(X=M.extra;_<X;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}M.offset+=Y&(1<<M.extra)-1,Y>>>=M.extra,_-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){C.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(U===0)break e;if(q=Z-U,M.offset>q){if((q=M.offset-q)>M.whave&&M.sane){C.msg="invalid distance too far back",M.mode=30;break}re=q>M.wnext?(q-=M.wnext,M.wsize-q):M.wnext-q,q>M.length&&(q=M.length),oe=M.window}else oe=W,re=H-M.offset,q=M.length;for(U<q&&(q=U),U-=q,M.length-=q;W[H++]=oe[re++],--q;);M.length===0&&(M.mode=21);break;case 26:if(U===0)break e;W[H++]=M.length,U--,M.mode=21;break;case 27:if(M.wrap){for(;_<32;){if(N===0)break e;N--,Y|=I[J++]<<_,_+=8}if(Z-=U,C.total_out+=Z,M.total+=Z,Z&&(C.adler=M.check=M.flags?o(M.check,W,Z,H-Z):h(M.check,W,Z,H-Z)),Z=U,(M.flags?Y:v(Y))!==M.check){C.msg="incorrect data check",M.mode=30;break}_=Y=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;_<32;){if(N===0)break e;N--,Y+=I[J++]<<_,_+=8}if(Y!==(4294967295&M.total)){C.msg="incorrect length check",M.mode=30;break}_=Y=0}M.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;case 32:default:return r}return C.next_out=H,C.avail_out=U,C.next_in=J,C.avail_in=N,M.hold=Y,M.bits=_,(M.wsize||Z!==C.avail_out&&M.mode<30&&(M.mode<27||B!==4))&&F(C,C.output,C.next_out,Z-C.avail_out)?(M.mode=31,-4):(V-=C.avail_in,Z-=C.avail_out,C.total_in+=V,C.total_out+=Z,M.total+=Z,M.wrap&&Z&&(C.adler=M.check=M.flags?o(M.check,W,Z,C.next_out-Z):h(M.check,W,Z,C.next_out-Z)),C.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(V==0&&Z===0||B===4)&&K===e&&(K=-5),K)},u.inflateEnd=function(C){if(!C||!C.state)return r;var B=C.state;return B.window&&(B.window=null),C.state=null,e},u.inflateGetHeader=function(C,B){var M;return C&&C.state?(2&(M=C.state).wrap)==0?r:((M.head=B).done=!1,e):r},u.inflateSetDictionary=function(C,B){var M,I=B.length;return C&&C.state?(M=C.state).wrap!==0&&M.mode!==11?r:M.mode===11&&h(1,B,I,0)!==M.check?-3:F(C,B,I,I)?(M.mode=31,-4):(M.havedict=1,e):r},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,c,u){var m=a("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],i=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(l,d,e,r,p,x,y,v){var b,g,w,f,E,A,O,T,D,F=v.bits,C=0,B=0,M=0,I=0,W=0,J=0,H=0,N=0,U=0,Y=0,_=null,V=0,Z=new m.Buf16(16),q=new m.Buf16(16),re=null,oe=0;for(C=0;C<=15;C++)Z[C]=0;for(B=0;B<r;B++)Z[d[e+B]]++;for(W=F,I=15;1<=I&&Z[I]===0;I--);if(I<W&&(W=I),I===0)return p[x++]=20971520,p[x++]=20971520,v.bits=1,0;for(M=1;M<I&&Z[M]===0;M++);for(W<M&&(W=M),C=N=1;C<=15;C++)if(N<<=1,(N-=Z[C])<0)return-1;if(0<N&&(l===0||I!==1))return-1;for(q[1]=0,C=1;C<15;C++)q[C+1]=q[C]+Z[C];for(B=0;B<r;B++)d[e+B]!==0&&(y[q[d[e+B]]++]=B);if(A=l===0?(_=re=y,19):l===1?(_=h,V-=257,re=o,oe-=257,256):(_=s,re=i,-1),C=M,E=x,H=B=Y=0,w=-1,f=(U=1<<(J=W))-1,l===1&&852<U||l===2&&592<U)return 1;for(;;){for(O=C-H,D=y[B]<A?(T=0,y[B]):y[B]>A?(T=re[oe+y[B]],_[V+y[B]]):(T=96,0),b=1<<C-H,M=g=1<<J;p[E+(Y>>H)+(g-=b)]=O<<24|T<<16|D|0,g!==0;);for(b=1<<C-1;Y&b;)b>>=1;if(b!==0?(Y&=b-1,Y+=b):Y=0,B++,--Z[C]==0){if(C===I)break;C=d[e+y[B]]}if(W<C&&(Y&f)!==w){for(H===0&&(H=W),E+=M,N=1<<(J=C-H);J+H<I&&!((N-=Z[J+H])<=0);)J++,N<<=1;if(U+=1<<J,l===1&&852<U||l===2&&592<U)return 1;p[w=Y&f]=W<<24|J<<16|E-x|0}}return Y!==0&&(p[E+Y]=C-H<<24|64<<16|0),v.bits=W,0}},{"../utils/common":41}],51:[function(a,c,u){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,c,u){var m=a("../utils/common"),h=0,o=1;function s(ee){for(var G=ee.length;0<=--G;)ee[G]=0}var i=0,l=29,d=256,e=d+1+l,r=30,p=19,x=2*e+1,y=15,v=16,b=7,g=256,w=16,f=17,E=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(e+2));s(F);var C=new Array(2*r);s(C);var B=new Array(512);s(B);var M=new Array(256);s(M);var I=new Array(l);s(I);var W,J,H,N=new Array(r);function U(ee,G,ne,se,le){this.static_tree=ee,this.extra_bits=G,this.extra_base=ne,this.elems=se,this.max_length=le,this.has_stree=ee&&ee.length}function Y(ee,G){this.dyn_tree=ee,this.max_code=0,this.stat_desc=G}function _(ee){return ee<256?B[ee]:B[256+(ee>>>7)]}function V(ee,G){ee.pending_buf[ee.pending++]=255&G,ee.pending_buf[ee.pending++]=G>>>8&255}function Z(ee,G,ne){ee.bi_valid>v-ne?(ee.bi_buf|=G<<ee.bi_valid&65535,V(ee,ee.bi_buf),ee.bi_buf=G>>v-ee.bi_valid,ee.bi_valid+=ne-v):(ee.bi_buf|=G<<ee.bi_valid&65535,ee.bi_valid+=ne)}function q(ee,G,ne){Z(ee,ne[2*G],ne[2*G+1])}function re(ee,G){for(var ne=0;ne|=1&ee,ee>>>=1,ne<<=1,0<--G;);return ne>>>1}function oe(ee,G,ne){var se,le,he=new Array(y+1),be=0;for(se=1;se<=y;se++)he[se]=be=be+ne[se-1]<<1;for(le=0;le<=G;le++){var ye=ee[2*le+1];ye!==0&&(ee[2*le]=re(he[ye]++,ye))}}function ae(ee){var G;for(G=0;G<e;G++)ee.dyn_ltree[2*G]=0;for(G=0;G<r;G++)ee.dyn_dtree[2*G]=0;for(G=0;G<p;G++)ee.bl_tree[2*G]=0;ee.dyn_ltree[2*g]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function R(ee){8<ee.bi_valid?V(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function S(ee,G,ne,se){var le=2*G,he=2*ne;return ee[le]<ee[he]||ee[le]===ee[he]&&se[G]<=se[ne]}function L(ee,G,ne){for(var se=ee.heap[ne],le=ne<<1;le<=ee.heap_len&&(le<ee.heap_len&&S(G,ee.heap[le+1],ee.heap[le],ee.depth)&&le++,!S(G,se,ee.heap[le],ee.depth));)ee.heap[ne]=ee.heap[le],ne=le,le<<=1;ee.heap[ne]=se}function k(ee,G,ne){var se,le,he,be,ye=0;if(ee.last_lit!==0)for(;se=ee.pending_buf[ee.d_buf+2*ye]<<8|ee.pending_buf[ee.d_buf+2*ye+1],le=ee.pending_buf[ee.l_buf+ye],ye++,se===0?q(ee,le,G):(q(ee,(he=M[le])+d+1,G),(be=A[he])!==0&&Z(ee,le-=I[he],be),q(ee,he=_(--se),ne),(be=O[he])!==0&&Z(ee,se-=N[he],be)),ye<ee.last_lit;);q(ee,g,G)}function z(ee,G){var ne,se,le,he=G.dyn_tree,be=G.stat_desc.static_tree,ye=G.stat_desc.has_stree,de=G.stat_desc.elems,xe=-1;for(ee.heap_len=0,ee.heap_max=x,ne=0;ne<de;ne++)he[2*ne]!==0?(ee.heap[++ee.heap_len]=xe=ne,ee.depth[ne]=0):he[2*ne+1]=0;for(;ee.heap_len<2;)he[2*(le=ee.heap[++ee.heap_len]=xe<2?++xe:0)]=1,ee.depth[le]=0,ee.opt_len--,ye&&(ee.static_len-=be[2*le+1]);for(G.max_code=xe,ne=ee.heap_len>>1;1<=ne;ne--)L(ee,he,ne);for(le=de;ne=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],L(ee,he,1),se=ee.heap[1],ee.heap[--ee.heap_max]=ne,ee.heap[--ee.heap_max]=se,he[2*le]=he[2*ne]+he[2*se],ee.depth[le]=(ee.depth[ne]>=ee.depth[se]?ee.depth[ne]:ee.depth[se])+1,he[2*ne+1]=he[2*se+1]=le,ee.heap[1]=le++,L(ee,he,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],function(fe,ce){var ue,ve,Ee,Me,_e,ze,We=ce.dyn_tree,Ve=ce.max_code,Ne=ce.stat_desc.static_tree,ke=ce.stat_desc.has_stree,Ie=ce.stat_desc.extra_bits,Te=ce.stat_desc.extra_base,Ae=ce.stat_desc.max_length,ge=0;for(Me=0;Me<=y;Me++)fe.bl_count[Me]=0;for(We[2*fe.heap[fe.heap_max]+1]=0,ue=fe.heap_max+1;ue<x;ue++)Ae<(Me=We[2*We[2*(ve=fe.heap[ue])+1]+1]+1)&&(Me=Ae,ge++),We[2*ve+1]=Me,Ve<ve||(fe.bl_count[Me]++,_e=0,Te<=ve&&(_e=Ie[ve-Te]),ze=We[2*ve],fe.opt_len+=ze*(Me+_e),ke&&(fe.static_len+=ze*(Ne[2*ve+1]+_e)));if(ge!==0){do{for(Me=Ae-1;fe.bl_count[Me]===0;)Me--;fe.bl_count[Me]--,fe.bl_count[Me+1]+=2,fe.bl_count[Ae]--,ge-=2}while(0<ge);for(Me=Ae;Me!==0;Me--)for(ve=fe.bl_count[Me];ve!==0;)Ve<(Ee=fe.heap[--ue])||(We[2*Ee+1]!==Me&&(fe.opt_len+=(Me-We[2*Ee+1])*We[2*Ee],We[2*Ee+1]=Me),ve--)}}(ee,G),oe(he,xe,ee.bl_count)}function P(ee,G,ne){var se,le,he=-1,be=G[1],ye=0,de=7,xe=4;for(be===0&&(de=138,xe=3),G[2*(ne+1)+1]=65535,se=0;se<=ne;se++)le=be,be=G[2*(se+1)+1],++ye<de&&le===be||(ye<xe?ee.bl_tree[2*le]+=ye:le!==0?(le!==he&&ee.bl_tree[2*le]++,ee.bl_tree[2*w]++):ye<=10?ee.bl_tree[2*f]++:ee.bl_tree[2*E]++,he=le,xe=(ye=0)===be?(de=138,3):le===be?(de=6,3):(de=7,4))}function K(ee,G,ne){var se,le,he=-1,be=G[1],ye=0,de=7,xe=4;for(be===0&&(de=138,xe=3),se=0;se<=ne;se++)if(le=be,be=G[2*(se+1)+1],!(++ye<de&&le===be)){if(ye<xe)for(;q(ee,le,ee.bl_tree),--ye!=0;);else le!==0?(le!==he&&(q(ee,le,ee.bl_tree),ye--),q(ee,w,ee.bl_tree),Z(ee,ye-3,2)):ye<=10?(q(ee,f,ee.bl_tree),Z(ee,ye-3,3)):(q(ee,E,ee.bl_tree),Z(ee,ye-11,7));he=le,xe=(ye=0)===be?(de=138,3):le===be?(de=6,3):(de=7,4)}}s(N);var te=!1;function X(ee,G,ne,se){Z(ee,(i<<1)+(se?1:0),3),function(le,he,be,ye){R(le),ye&&(V(le,be),V(le,~be)),m.arraySet(le.pending_buf,le.window,he,be,le.pending),le.pending+=be}(ee,G,ne,!0)}u._tr_init=function(ee){te||(function(){var G,ne,se,le,he,be=new Array(y+1);for(le=se=0;le<l-1;le++)for(I[le]=se,G=0;G<1<<A[le];G++)M[se++]=le;for(M[se-1]=le,le=he=0;le<16;le++)for(N[le]=he,G=0;G<1<<O[le];G++)B[he++]=le;for(he>>=7;le<r;le++)for(N[le]=he<<7,G=0;G<1<<O[le]-7;G++)B[256+he++]=le;for(ne=0;ne<=y;ne++)be[ne]=0;for(G=0;G<=143;)F[2*G+1]=8,G++,be[8]++;for(;G<=255;)F[2*G+1]=9,G++,be[9]++;for(;G<=279;)F[2*G+1]=7,G++,be[7]++;for(;G<=287;)F[2*G+1]=8,G++,be[8]++;for(oe(F,e+1,be),G=0;G<r;G++)C[2*G+1]=5,C[2*G]=re(G,5);W=new U(F,A,d+1,e,y),J=new U(C,O,0,r,y),H=new U(new Array(0),T,0,p,b)}(),te=!0),ee.l_desc=new Y(ee.dyn_ltree,W),ee.d_desc=new Y(ee.dyn_dtree,J),ee.bl_desc=new Y(ee.bl_tree,H),ee.bi_buf=0,ee.bi_valid=0,ae(ee)},u._tr_stored_block=X,u._tr_flush_block=function(ee,G,ne,se){var le,he,be=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=function(ye){var de,xe=4093624447;for(de=0;de<=31;de++,xe>>>=1)if(1&xe&&ye.dyn_ltree[2*de]!==0)return h;if(ye.dyn_ltree[18]!==0||ye.dyn_ltree[20]!==0||ye.dyn_ltree[26]!==0)return o;for(de=32;de<d;de++)if(ye.dyn_ltree[2*de]!==0)return o;return h}(ee)),z(ee,ee.l_desc),z(ee,ee.d_desc),be=function(ye){var de;for(P(ye,ye.dyn_ltree,ye.l_desc.max_code),P(ye,ye.dyn_dtree,ye.d_desc.max_code),z(ye,ye.bl_desc),de=p-1;3<=de&&ye.bl_tree[2*D[de]+1]===0;de--);return ye.opt_len+=3*(de+1)+5+5+4,de}(ee),le=ee.opt_len+3+7>>>3,(he=ee.static_len+3+7>>>3)<=le&&(le=he)):le=he=ne+5,ne+4<=le&&G!==-1?X(ee,G,ne,se):ee.strategy===4||he===le?(Z(ee,2+(se?1:0),3),k(ee,F,C)):(Z(ee,4+(se?1:0),3),function(ye,de,xe,fe){var ce;for(Z(ye,de-257,5),Z(ye,xe-1,5),Z(ye,fe-4,4),ce=0;ce<fe;ce++)Z(ye,ye.bl_tree[2*D[ce]+1],3);K(ye,ye.dyn_ltree,de-1),K(ye,ye.dyn_dtree,xe-1)}(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,be+1),k(ee,ee.dyn_ltree,ee.dyn_dtree)),ae(ee),se&&R(ee)},u._tr_tally=function(ee,G,ne){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=G>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&G,ee.pending_buf[ee.l_buf+ee.last_lit]=255&ne,ee.last_lit++,G===0?ee.dyn_ltree[2*ne]++:(ee.matches++,G--,ee.dyn_ltree[2*(M[ne]+d+1)]++,ee.dyn_dtree[2*_(G)]++),ee.last_lit===ee.lit_bufsize-1},u._tr_align=function(ee){Z(ee,2,3),q(ee,g,F),function(G){G.bi_valid===16?(V(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(ee)}},{"../utils/common":41}],53:[function(a,c,u){c.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,c,u){(function(m){(function(h,o){if(!h.setImmediate){var s,i,l,d,e=1,r={},p=!1,x=h.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(h);y=y&&y.setTimeout?y:h,s={}.toString.call(h.process)==="[object process]"?function(w){process.nextTick(function(){b(w)})}:function(){if(h.postMessage&&!h.importScripts){var w=!0,f=h.onmessage;return h.onmessage=function(){w=!1},h.postMessage("","*"),h.onmessage=f,w}}()?(d="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",g,!1):h.attachEvent("onmessage",g),function(w){h.postMessage(d+w,"*")}):h.MessageChannel?((l=new MessageChannel).port1.onmessage=function(w){b(w.data)},function(w){l.port2.postMessage(w)}):x&&"onreadystatechange"in x.createElement("script")?(i=x.documentElement,function(w){var f=x.createElement("script");f.onreadystatechange=function(){b(w),f.onreadystatechange=null,i.removeChild(f),f=null},i.appendChild(f)}):function(w){setTimeout(b,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var f=new Array(arguments.length-1),E=0;E<f.length;E++)f[E]=arguments[E+1];var A={callback:w,args:f};return r[e]=A,s(e),e++},y.clearImmediate=v}function v(w){delete r[w]}function b(w){if(p)setTimeout(b,0,w);else{var f=r[w];if(f){p=!0;try{(function(E){var A=E.callback,O=E.args;switch(O.length){case 0:A();break;case 1:A(O[0]);break;case 2:A(O[0],O[1]);break;case 3:A(O[0],O[1],O[2]);break;default:A.apply(o,O)}})(f)}finally{v(w),p=!1}}}}function g(w){w.source===h&&typeof w.data=="string"&&w.data.indexOf(d)===0&&b(+w.data.slice(d.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,typeof di<"u"?di:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(hv);const fv=hv.exports;var dv={exports:{}};(function(t,n){(function(c,u){t.exports=c.pdfjsLib=u()})(globalThis,()=>(()=>{var a=[,(h,o)=>{var Ie;Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.RenderingIntentFlag=o.PromiseCapability=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.MAX_IMAGE_SIZE_TO_CACHE=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.BASELINE_FACTOR=o.AnnotationType=o.AnnotationReplyType=o.AnnotationPrefix=o.AnnotationMode=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.assert=q,o.bytesToString=X,o.createValidAbsoluteUrl=oe,o.getModificationDate=Me,o.getUuid=Ne,o.getVerbosityLevel=Y,o.info=_,o.isArrayBuffer=ve,o.isArrayEqual=Ee,o.isNodeJS=void 0,o.normalizeUnicode=Ve,o.objectFromMap=se,o.objectSize=ne,o.setVerbosityLevel=U,o.shadow=ae,o.string32=G,o.stringToBytes=ee,o.stringToPDFString=fe,o.stringToUTF8String=ce,o.unreachable=Z,o.utf8StringToString=ue,o.warn=V;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=s;const i=[1,0,0,1,0,0];o.IDENTITY_MATRIX=i;const l=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=l;const d=1e7;o.MAX_IMAGE_SIZE_TO_CACHE=d;const e=1.35;o.LINE_FACTOR=e;const r=.35;o.LINE_DESCENT_FACTOR=r;const p=r/e;o.BASELINE_FACTOR=p;const x={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=x;const y={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=y;const v="pdfjs_internal_editor_";o.AnnotationEditorPrefix=v;const b={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};o.AnnotationEditorType=b;const g={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};o.AnnotationEditorParamsType=g;const w={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=w;const f={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=f;const E={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=E;const A={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=A;const O={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=O;const T={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=T;const D={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=D;const F={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=F;const C={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=C;const B={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=B;const M={O:"PageOpen",C:"PageClose"};o.PageActionEventType=M;const I={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=I;const W={NONE:0,BINARY:1};o.CMapCompressionType=W;const J={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=J;const H={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=H;let N=I.WARNINGS;function U(Te){Number.isInteger(Te)&&(N=Te)}function Y(){return N}function _(Te){N>=I.INFOS&&console.log(`Info: ${Te}`)}function V(Te){N>=I.WARNINGS&&console.log(`Warning: ${Te}`)}function Z(Te){throw new Error(Te)}function q(Te,Ae){Te||Z(Ae)}function re(Te){switch(Te==null?void 0:Te.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oe(Te,Ae=null,ge=null){if(!Te)return null;try{if(ge&&typeof Te=="string"){if(ge.addDefaultProtocol&&Te.startsWith("www.")){const Be=Te.match(/\./g);(Be==null?void 0:Be.length)>=2&&(Te=`http://${Te}`)}if(ge.tryConvertEncoding)try{Te=ce(Te)}catch{}}const Ce=Ae?new URL(Te,Ae):new URL(Te);if(re(Ce))return Ce}catch{}return null}function ae(Te,Ae,ge,Ce=!1){return Object.defineProperty(Te,Ae,{value:ge,enumerable:!Ce,configurable:!0,writable:!1}),ge}const R=function(){function Ae(ge,Ce){this.constructor===Ae&&Z("Cannot initialize BaseException."),this.message=ge,this.name=Ce}return Ae.prototype=new Error,Ae.constructor=Ae,Ae}();o.BaseException=R;class S extends R{constructor(Ae,ge){super(Ae,"PasswordException"),this.code=ge}}o.PasswordException=S;class L extends R{constructor(Ae,ge){super(Ae,"UnknownErrorException"),this.details=ge}}o.UnknownErrorException=L;class k extends R{constructor(Ae){super(Ae,"InvalidPDFException")}}o.InvalidPDFException=k;class z extends R{constructor(Ae){super(Ae,"MissingPDFException")}}o.MissingPDFException=z;class P extends R{constructor(Ae,ge){super(Ae,"UnexpectedResponseException"),this.status=ge}}o.UnexpectedResponseException=P;class K extends R{constructor(Ae){super(Ae,"FormatError")}}o.FormatError=K;class te extends R{constructor(Ae){super(Ae,"AbortException")}}o.AbortException=te;function X(Te){(typeof Te!="object"||(Te==null?void 0:Te.length)===void 0)&&Z("Invalid argument for bytesToString");const Ae=Te.length,ge=8192;if(Ae<ge)return String.fromCharCode.apply(null,Te);const Ce=[];for(let Be=0;Be<Ae;Be+=ge){const Ye=Math.min(Be+ge,Ae),Je=Te.subarray(Be,Ye);Ce.push(String.fromCharCode.apply(null,Je))}return Ce.join("")}function ee(Te){typeof Te!="string"&&Z("Invalid argument for stringToBytes");const Ae=Te.length,ge=new Uint8Array(Ae);for(let Ce=0;Ce<Ae;++Ce)ge[Ce]=Te.charCodeAt(Ce)&255;return ge}function G(Te){return String.fromCharCode(Te>>24&255,Te>>16&255,Te>>8&255,Te&255)}function ne(Te){return Object.keys(Te).length}function se(Te){const Ae=Object.create(null);for(const[ge,Ce]of Te)Ae[ge]=Ce;return Ae}function le(){const Te=new Uint8Array(4);return Te[0]=1,new Uint32Array(Te.buffer,0,1)[0]===1}function he(){try{return new Function(""),!0}catch{return!1}}class be{static get isLittleEndian(){return ae(this,"isLittleEndian",le())}static get isEvalSupported(){return ae(this,"isEvalSupported",he())}static get isOffscreenCanvasSupported(){return ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ae(this,"platform",{isWin:!1,isMac:!1}):ae(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ae,ge;return ae(this,"isCSSRoundSupported",(ge=(Ae=globalThis.CSS)==null?void 0:Ae.supports)==null?void 0:ge.call(Ae,"width: round(1.5px, 1px)"))}}o.FeatureTest=be;const ye=[...Array(256).keys()].map(Te=>Te.toString(16).padStart(2,"0"));class de{static makeHexColor(Ae,ge,Ce){return`#${ye[Ae]}${ye[ge]}${ye[Ce]}`}static scaleMinMax(Ae,ge){let Ce;Ae[0]?(Ae[0]<0&&(Ce=ge[0],ge[0]=ge[1],ge[1]=Ce),ge[0]*=Ae[0],ge[1]*=Ae[0],Ae[3]<0&&(Ce=ge[2],ge[2]=ge[3],ge[3]=Ce),ge[2]*=Ae[3],ge[3]*=Ae[3]):(Ce=ge[0],ge[0]=ge[2],ge[2]=Ce,Ce=ge[1],ge[1]=ge[3],ge[3]=Ce,Ae[1]<0&&(Ce=ge[2],ge[2]=ge[3],ge[3]=Ce),ge[2]*=Ae[1],ge[3]*=Ae[1],Ae[2]<0&&(Ce=ge[0],ge[0]=ge[1],ge[1]=Ce),ge[0]*=Ae[2],ge[1]*=Ae[2]),ge[0]+=Ae[4],ge[1]+=Ae[4],ge[2]+=Ae[5],ge[3]+=Ae[5]}static transform(Ae,ge){return[Ae[0]*ge[0]+Ae[2]*ge[1],Ae[1]*ge[0]+Ae[3]*ge[1],Ae[0]*ge[2]+Ae[2]*ge[3],Ae[1]*ge[2]+Ae[3]*ge[3],Ae[0]*ge[4]+Ae[2]*ge[5]+Ae[4],Ae[1]*ge[4]+Ae[3]*ge[5]+Ae[5]]}static applyTransform(Ae,ge){const Ce=Ae[0]*ge[0]+Ae[1]*ge[2]+ge[4],Be=Ae[0]*ge[1]+Ae[1]*ge[3]+ge[5];return[Ce,Be]}static applyInverseTransform(Ae,ge){const Ce=ge[0]*ge[3]-ge[1]*ge[2],Be=(Ae[0]*ge[3]-Ae[1]*ge[2]+ge[2]*ge[5]-ge[4]*ge[3])/Ce,Ye=(-Ae[0]*ge[1]+Ae[1]*ge[0]+ge[4]*ge[1]-ge[5]*ge[0])/Ce;return[Be,Ye]}static getAxialAlignedBoundingBox(Ae,ge){const Ce=this.applyTransform(Ae,ge),Be=this.applyTransform(Ae.slice(2,4),ge),Ye=this.applyTransform([Ae[0],Ae[3]],ge),Je=this.applyTransform([Ae[2],Ae[1]],ge);return[Math.min(Ce[0],Be[0],Ye[0],Je[0]),Math.min(Ce[1],Be[1],Ye[1],Je[1]),Math.max(Ce[0],Be[0],Ye[0],Je[0]),Math.max(Ce[1],Be[1],Ye[1],Je[1])]}static inverseTransform(Ae){const ge=Ae[0]*Ae[3]-Ae[1]*Ae[2];return[Ae[3]/ge,-Ae[1]/ge,-Ae[2]/ge,Ae[0]/ge,(Ae[2]*Ae[5]-Ae[4]*Ae[3])/ge,(Ae[4]*Ae[1]-Ae[5]*Ae[0])/ge]}static singularValueDecompose2dScale(Ae){const ge=[Ae[0],Ae[2],Ae[1],Ae[3]],Ce=Ae[0]*ge[0]+Ae[1]*ge[2],Be=Ae[0]*ge[1]+Ae[1]*ge[3],Ye=Ae[2]*ge[0]+Ae[3]*ge[2],Je=Ae[2]*ge[1]+Ae[3]*ge[3],Re=(Ce+Je)/2,He=Math.sqrt((Ce+Je)**2-4*(Ce*Je-Ye*Be))/2,nt=Re+He||1,et=Re-He||1;return[Math.sqrt(nt),Math.sqrt(et)]}static normalizeRect(Ae){const ge=Ae.slice(0);return Ae[0]>Ae[2]&&(ge[0]=Ae[2],ge[2]=Ae[0]),Ae[1]>Ae[3]&&(ge[1]=Ae[3],ge[3]=Ae[1]),ge}static intersect(Ae,ge){const Ce=Math.max(Math.min(Ae[0],Ae[2]),Math.min(ge[0],ge[2])),Be=Math.min(Math.max(Ae[0],Ae[2]),Math.max(ge[0],ge[2]));if(Ce>Be)return null;const Ye=Math.max(Math.min(Ae[1],Ae[3]),Math.min(ge[1],ge[3])),Je=Math.min(Math.max(Ae[1],Ae[3]),Math.max(ge[1],ge[3]));return Ye>Je?null:[Ce,Ye,Be,Je]}static bezierBoundingBox(Ae,ge,Ce,Be,Ye,Je,Re,He){const nt=[],et=[[],[]];let it,qe,lt,rt,Oe,$e,me,Q;for(let Pe=0;Pe<2;++Pe){if(Pe===0?(qe=6*Ae-12*Ce+6*Ye,it=-3*Ae+9*Ce-9*Ye+3*Re,lt=3*Ce-3*Ae):(qe=6*ge-12*Be+6*Je,it=-3*ge+9*Be-9*Je+3*He,lt=3*Be-3*ge),Math.abs(it)<1e-12){if(Math.abs(qe)<1e-12)continue;rt=-lt/qe,0<rt&&rt<1&&nt.push(rt);continue}me=qe*qe-4*lt*it,Q=Math.sqrt(me),!(me<0)&&(Oe=(-qe+Q)/(2*it),0<Oe&&Oe<1&&nt.push(Oe),$e=(-qe-Q)/(2*it),0<$e&&$e<1&&nt.push($e))}let pe=nt.length,we;const Fe=pe;for(;pe--;)rt=nt[pe],we=1-rt,et[0][pe]=we*we*we*Ae+3*we*we*rt*Ce+3*we*rt*rt*Ye+rt*rt*rt*Re,et[1][pe]=we*we*we*ge+3*we*we*rt*Be+3*we*rt*rt*Je+rt*rt*rt*He;return et[0][Fe]=Ae,et[1][Fe]=ge,et[0][Fe+1]=Re,et[1][Fe+1]=He,et[0].length=et[1].length=Fe+2,[Math.min(...et[0]),Math.min(...et[1]),Math.max(...et[0]),Math.max(...et[1])]}}o.Util=de;const xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function fe(Te){if(Te[0]>="\xEF"){let ge;if(Te[0]==="\xFE"&&Te[1]==="\xFF"?ge="utf-16be":Te[0]==="\xFF"&&Te[1]==="\xFE"?ge="utf-16le":Te[0]==="\xEF"&&Te[1]==="\xBB"&&Te[2]==="\xBF"&&(ge="utf-8"),ge)try{const Ce=new TextDecoder(ge,{fatal:!0}),Be=ee(Te);return Ce.decode(Be)}catch(Ce){V(`stringToPDFString: "${Ce}".`)}}const Ae=[];for(let ge=0,Ce=Te.length;ge<Ce;ge++){const Be=xe[Te.charCodeAt(ge)];Ae.push(Be?String.fromCharCode(Be):Te.charAt(ge))}return Ae.join("")}function ce(Te){return decodeURIComponent(escape(Te))}function ue(Te){return unescape(encodeURIComponent(Te))}function ve(Te){return typeof Te=="object"&&(Te==null?void 0:Te.byteLength)!==void 0}function Ee(Te,Ae){if(Te.length!==Ae.length)return!1;for(let ge=0,Ce=Te.length;ge<Ce;ge++)if(Te[ge]!==Ae[ge])return!1;return!0}function Me(Te=new Date){return[Te.getUTCFullYear().toString(),(Te.getUTCMonth()+1).toString().padStart(2,"0"),Te.getUTCDate().toString().padStart(2,"0"),Te.getUTCHours().toString().padStart(2,"0"),Te.getUTCMinutes().toString().padStart(2,"0"),Te.getUTCSeconds().toString().padStart(2,"0")].join("")}class _e{constructor(){Le(this,Ie,!1);this.promise=new Promise((Ae,ge)=>{this.resolve=Ce=>{Qe(this,Ie,!0),Ae(Ce)},this.reject=Ce=>{Qe(this,Ie,!0),ge(Ce)}})}get settled(){return ie(this,Ie)}}Ie=new WeakMap,o.PromiseCapability=_e;let ze=null,We=null;function Ve(Te){return ze||(ze=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,We=new Map([["\uFB05","\u017Ft"]])),Te.replaceAll(ze,(Ae,ge,Ce)=>ge?ge.normalize("NFKC"):We.get(Ce))}function Ne(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Te=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Te);else for(let Ae=0;Ae<32;Ae++)Te[Ae]=Math.floor(Math.random()*255);return X(Te)}const ke="pdfjs_internal_id_";o.AnnotationPrefix=ke},(h,o,s)=>{var z,K,te,X,$s,G,R0,se,le,he,be,de,xe,fe,ce,ue,M0,Ee,Me,Jd,ze,We;Object.defineProperty(o,"__esModule",{value:!0}),o.RenderTask=o.PDFWorkerUtil=o.PDFWorker=o.PDFPageProxy=o.PDFDocumentProxy=o.PDFDocumentLoadingTask=o.PDFDataRangeTransport=o.LoopbackPort=o.DefaultStandardFontDataFactory=o.DefaultFilterFactory=o.DefaultCanvasFactory=o.DefaultCMapReaderFactory=void 0,Object.defineProperty(o,"SVGGraphics",{enumerable:!0,get:function(){return A.SVGGraphics}}),o.build=void 0,o.getDocument=W,o.version=void 0;var i=s(1),l=s(3),d=s(6),e=s(9),r=s(10),p=s(11),x=s(14),y=s(15),v=s(16),b=s(17),g=s(18),w=s(19),f=s(22),E=s(23),A=s(24),O=s(25);const T=65536,D=100,F=5e3,C=i.isNodeJS?r.NodeCanvasFactory:d.DOMCanvasFactory;o.DefaultCanvasFactory=C;const B=i.isNodeJS?r.NodeCMapReaderFactory:d.DOMCMapReaderFactory;o.DefaultCMapReaderFactory=B;const M=i.isNodeJS?r.NodeFilterFactory:d.DOMFilterFactory;o.DefaultFilterFactory=M;const I=i.isNodeJS?r.NodeStandardFontDataFactory:d.DOMStandardFontDataFactory;o.DefaultStandardFontDataFactory=I;function W(Ne){var bt,Et;if(typeof Ne=="string"||Ne instanceof URL?Ne={url:Ne}:(0,i.isArrayBuffer)(Ne)&&(Ne={data:Ne}),typeof Ne!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Ne.url&&!Ne.data&&!Ne.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ke=new U,{docId:Ie}=ke,Te=Ne.url?H(Ne.url):null,Ae=Ne.data?N(Ne.data):null,ge=Ne.httpHeaders||null,Ce=Ne.withCredentials===!0,Be=(bt=Ne.password)!=null?bt:null,Ye=Ne.range instanceof Y?Ne.range:null,Je=Number.isInteger(Ne.rangeChunkSize)&&Ne.rangeChunkSize>0?Ne.rangeChunkSize:T;let Re=Ne.worker instanceof re?Ne.worker:null;const He=Ne.verbosity,nt=typeof Ne.docBaseUrl=="string"&&!(0,d.isDataScheme)(Ne.docBaseUrl)?Ne.docBaseUrl:null,et=typeof Ne.cMapUrl=="string"?Ne.cMapUrl:null,it=Ne.cMapPacked!==!1,qe=Ne.CMapReaderFactory||B,lt=typeof Ne.standardFontDataUrl=="string"?Ne.standardFontDataUrl:null,rt=Ne.StandardFontDataFactory||I,Oe=Ne.stopAtErrors!==!0,$e=Number.isInteger(Ne.maxImageSize)&&Ne.maxImageSize>-1?Ne.maxImageSize:-1,me=Ne.isEvalSupported!==!1,Q=typeof Ne.isOffscreenCanvasSupported=="boolean"?Ne.isOffscreenCanvasSupported:!i.isNodeJS,pe=Number.isInteger(Ne.canvasMaxAreaInBytes)?Ne.canvasMaxAreaInBytes:-1,we=typeof Ne.disableFontFace=="boolean"?Ne.disableFontFace:i.isNodeJS,Fe=Ne.fontExtraProperties===!0,Pe=Ne.enableXfa===!0,De=Ne.ownerDocument||globalThis.document,Xe=Ne.disableRange===!0,je=Ne.disableStream===!0,Ze=Ne.disableAutoFetch===!0,ot=Ne.pdfBug===!0,Ke=Ye?Ye.length:(Et=Ne.length)!=null?Et:NaN,Ge=typeof Ne.useSystemFonts=="boolean"?Ne.useSystemFonts:!i.isNodeJS&&!we,tt=typeof Ne.useWorkerFetch=="boolean"?Ne.useWorkerFetch:qe===d.DOMCMapReaderFactory&&rt===d.DOMStandardFontDataFactory&&et&&lt&&(0,d.isValidFetchUrl)(et,document.baseURI)&&(0,d.isValidFetchUrl)(lt,document.baseURI),at=Ne.canvasFactory||new C({ownerDocument:De}),st=Ne.filterFactory||new M({docId:Ie,ownerDocument:De}),ft=null;(0,i.setVerbosityLevel)(He);const pt={canvasFactory:at,filterFactory:st};if(tt||(pt.cMapReaderFactory=new qe({baseUrl:et,isCompressed:it}),pt.standardFontDataFactory=new rt({baseUrl:lt})),!Re){const wt={verbosity:He,port:x.GlobalWorkerOptions.workerPort};Re=wt.port?re.fromPort(wt):new re(wt),ke._worker=Re}const ct={docId:Ie,apiVersion:"3.11.174",data:Ae,password:Be,disableAutoFetch:Ze,rangeChunkSize:Je,length:Ke,docBaseUrl:nt,enableXfa:Pe,evaluatorOptions:{maxImageSize:$e,disableFontFace:we,ignoreErrors:Oe,isEvalSupported:me,isOffscreenCanvasSupported:Q,canvasMaxAreaInBytes:pe,fontExtraProperties:Fe,useSystemFonts:Ge,cMapUrl:tt?et:null,standardFontDataUrl:tt?lt:null}},yt={ignoreErrors:Oe,isEvalSupported:me,disableFontFace:we,fontExtraProperties:Fe,enableXfa:Pe,ownerDocument:De,disableAutoFetch:Ze,pdfBug:ot,styleElement:ft};return Re.promise.then(function(){if(ke.destroyed)throw new Error("Loading aborted");const wt=J(Re,ct),Tt=new Promise(function(Mt){let St;Ye?St=new g.PDFDataTransportStream({length:Ke,initialData:Ye.initialData,progressiveDone:Ye.progressiveDone,contentDispositionFilename:Ye.contentDispositionFilename,disableRange:Xe,disableStream:je},Ye):Ae||(St=(vt=>i.isNodeJS?new E.PDFNodeStream(vt):(0,d.isValidFetchUrl)(vt.url)?new w.PDFFetchStream(vt):new f.PDFNetworkStream(vt))({url:Te,length:Ke,httpHeaders:ge,withCredentials:Ce,rangeChunkSize:Je,disableRange:Xe,disableStream:je})),Mt(St)});return Promise.all([wt,Tt]).then(function([Mt,St]){if(ke.destroyed)throw new Error("Loading aborted");const Pt=new y.MessageHandler(Ie,Mt,Re.port),vt=new oe(Pt,ke,St,yt,pt);ke._transport=vt,Pt.send("Ready",null)})}).catch(ke._capability.reject),ke}async function J(Ne,ke){if(Ne.destroyed)throw new Error("Worker was destroyed");const Ie=await Ne.messageHandler.sendWithPromise("GetDocRequest",ke,ke.data?[ke.data.buffer]:null);if(Ne.destroyed)throw new Error("Worker was destroyed");return Ie}function H(Ne){if(Ne instanceof URL)return Ne.href;try{return new URL(Ne,window.location).href}catch{if(i.isNodeJS&&typeof Ne=="string")return Ne}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function N(Ne){if(i.isNodeJS&&typeof Buffer<"u"&&Ne instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Ne instanceof Uint8Array&&Ne.byteLength===Ne.buffer.byteLength)return Ne;if(typeof Ne=="string")return(0,i.stringToBytes)(Ne);if(typeof Ne=="object"&&!isNaN(Ne==null?void 0:Ne.length)||(0,i.isArrayBuffer)(Ne))return new Uint8Array(Ne);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const P=class{constructor(){this._capability=new i.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Pa(P,z)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ke,Ie,Te;this.destroyed=!0;try{(ke=this._worker)!=null&&ke.port&&(this._worker._pendingDestroy=!0),await((Ie=this._transport)==null?void 0:Ie.destroy())}catch(Ae){throw(Te=this._worker)!=null&&Te.port&&delete this._worker._pendingDestroy,Ae}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let U=P;z=new WeakMap,Le(U,z,0),o.PDFDocumentLoadingTask=U;class Y{constructor(ke,Ie,Te=!1,Ae=null){this.length=ke,this.initialData=Ie,this.progressiveDone=Te,this.contentDispositionFilename=Ae,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new i.PromiseCapability}addRangeListener(ke){this._rangeListeners.push(ke)}addProgressListener(ke){this._progressListeners.push(ke)}addProgressiveReadListener(ke){this._progressiveReadListeners.push(ke)}addProgressiveDoneListener(ke){this._progressiveDoneListeners.push(ke)}onDataRange(ke,Ie){for(const Te of this._rangeListeners)Te(ke,Ie)}onDataProgress(ke,Ie){this._readyCapability.promise.then(()=>{for(const Te of this._progressListeners)Te(ke,Ie)})}onDataProgressiveRead(ke){this._readyCapability.promise.then(()=>{for(const Ie of this._progressiveReadListeners)Ie(ke)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ke of this._progressiveDoneListeners)ke()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ke,Ie){(0,i.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}o.PDFDataRangeTransport=Y;class _{constructor(ke,Ie){this._pdfInfo=ke,this._transport=Ie,Object.defineProperty(this,"getJavaScript",{value:()=>((0,d.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Te=>{if(!Te)return Te;const Ae=[];for(const ge in Te)Ae.push(...Te[ge]);return Ae}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ke){return this._transport.getPage(ke)}getPageIndex(ke){return this._transport.getPageIndex(ke)}getDestinations(){return this._transport.getDestinations()}getDestination(ke){return this._transport.getDestination(ke)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ke=!1){return this._transport.startCleanup(ke||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}o.PDFDocumentProxy=_;class V{constructor(ke,Ie,Te,Ae=!1){Le(this,X);Le(this,G);Le(this,K,null);Le(this,te,!1);this._pageIndex=ke,this._pageInfo=Ie,this._transport=Te,this._stats=Ae?new d.StatTimer:null,this._pdfBug=Ae,this.commonObjs=Te.commonObjs,this.objs=new ae,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ke,rotation:Ie=this.rotate,offsetX:Te=0,offsetY:Ae=0,dontFlip:ge=!1}={}){return new d.PageViewport({viewBox:this.view,scale:ke,rotation:Ie,offsetX:Te,offsetY:Ae,dontFlip:ge})}getAnnotations({intent:ke="display"}={}){const Ie=this._transport.getRenderingIntent(ke);return this._transport.getAnnotations(this._pageIndex,Ie.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ke;return((ke=this._transport._htmlForXfa)==null?void 0:ke.children[this._pageIndex])||null}render({canvasContext:ke,viewport:Ie,intent:Te="display",annotationMode:Ae=i.AnnotationMode.ENABLE,transform:ge=null,background:Ce=null,optionalContentConfigPromise:Be=null,annotationCanvasMap:Ye=null,pageColors:Je=null,printAnnotationStorage:Re=null}){var rt,Oe;(rt=this._stats)==null||rt.time("Overall");const He=this._transport.getRenderingIntent(Te,Ae,Re);Qe(this,te,!1),Ue(this,G,R0).call(this),Be||(Be=this._transport.getOptionalContentConfig());let nt=this._intentStates.get(He.cacheKey);nt||(nt=Object.create(null),this._intentStates.set(He.cacheKey,nt)),nt.streamReaderCancelTimeout&&(clearTimeout(nt.streamReaderCancelTimeout),nt.streamReaderCancelTimeout=null);const et=!!(He.renderingIntent&i.RenderingIntentFlag.PRINT);nt.displayReadyCapability||(nt.displayReadyCapability=new i.PromiseCapability,nt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Oe=this._stats)==null||Oe.time("Page Request"),this._pumpOperatorList(He));const it=$e=>{var me,Q;nt.renderTasks.delete(qe),(this._maybeCleanupAfterRender||et)&&Qe(this,te,!0),Ue(this,X,$s).call(this,!et),$e?(qe.capability.reject($e),this._abortOperatorList({intentState:nt,reason:$e instanceof Error?$e:new Error($e)})):qe.capability.resolve(),(me=this._stats)==null||me.timeEnd("Rendering"),(Q=this._stats)==null||Q.timeEnd("Overall")},qe=new S({callback:it,params:{canvasContext:ke,viewport:Ie,transform:ge,background:Ce},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ye,operatorList:nt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!et,pdfBug:this._pdfBug,pageColors:Je});(nt.renderTasks||(nt.renderTasks=new Set)).add(qe);const lt=qe.task;return Promise.all([nt.displayReadyCapability.promise,Be]).then(([$e,me])=>{var Q;if(this.destroyed){it();return}(Q=this._stats)==null||Q.time("Rendering"),qe.initializeGraphics({transparency:$e,optionalContentConfig:me}),qe.operatorListChanged()}).catch(it),lt}getOperatorList({intent:ke="display",annotationMode:Ie=i.AnnotationMode.ENABLE,printAnnotationStorage:Te=null}={}){var Ye;function Ae(){Ce.operatorList.lastChunk&&(Ce.opListReadCapability.resolve(Ce.operatorList),Ce.renderTasks.delete(Be))}const ge=this._transport.getRenderingIntent(ke,Ie,Te,!0);let Ce=this._intentStates.get(ge.cacheKey);Ce||(Ce=Object.create(null),this._intentStates.set(ge.cacheKey,Ce));let Be;return Ce.opListReadCapability||(Be=Object.create(null),Be.operatorListChanged=Ae,Ce.opListReadCapability=new i.PromiseCapability,(Ce.renderTasks||(Ce.renderTasks=new Set)).add(Be),Ce.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ye=this._stats)==null||Ye.time("Page Request"),this._pumpOperatorList(ge)),Ce.opListReadCapability.promise}streamTextContent({includeMarkedContent:ke=!1,disableNormalization:Ie=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ke===!0,disableNormalization:Ie===!0},{highWaterMark:100,size(Ae){return Ae.items.length}})}getTextContent(ke={}){if(this._transport._htmlForXfa)return this.getXfa().then(Te=>O.XfaText.textContent(Te));const Ie=this.streamTextContent(ke);return new Promise(function(Te,Ae){function ge(){Ce.read().then(function({value:Ye,done:Je}){if(Je){Te(Be);return}Object.assign(Be.styles,Ye.styles),Be.items.push(...Ye.items),ge()},Ae)}const Ce=Ie.getReader(),Be={items:[],styles:Object.create(null)};ge()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ke=[];for(const Ie of this._intentStates.values())if(this._abortOperatorList({intentState:Ie,reason:new Error("Page was destroyed."),force:!0}),!Ie.opListReadCapability)for(const Te of Ie.renderTasks)ke.push(Te.completed),Te.cancel();return this.objs.clear(),Qe(this,te,!1),Ue(this,G,R0).call(this),Promise.all(ke)}cleanup(ke=!1){Qe(this,te,!0);const Ie=Ue(this,X,$s).call(this,!1);return ke&&Ie&&this._stats&&(this._stats=new d.StatTimer),Ie}_startRenderPage(ke,Ie){var Ae,ge;const Te=this._intentStates.get(Ie);!Te||((Ae=this._stats)==null||Ae.timeEnd("Page Request"),(ge=Te.displayReadyCapability)==null||ge.resolve(ke))}_renderPageChunk(ke,Ie){for(let Te=0,Ae=ke.length;Te<Ae;Te++)Ie.operatorList.fnArray.push(ke.fnArray[Te]),Ie.operatorList.argsArray.push(ke.argsArray[Te]);Ie.operatorList.lastChunk=ke.lastChunk,Ie.operatorList.separateAnnots=ke.separateAnnots;for(const Te of Ie.renderTasks)Te.operatorListChanged();ke.lastChunk&&Ue(this,X,$s).call(this,!0)}_pumpOperatorList({renderingIntent:ke,cacheKey:Ie,annotationStorageSerializable:Te}){const{map:Ae,transfers:ge}=Te,Be=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ke,cacheKey:Ie,annotationStorage:Ae},ge).getReader(),Ye=this._intentStates.get(Ie);Ye.streamReader=Be;const Je=()=>{Be.read().then(({value:Re,done:He})=>{if(He){Ye.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Re,Ye),Je())},Re=>{if(Ye.streamReader=null,!this._transport.destroyed){if(Ye.operatorList){Ye.operatorList.lastChunk=!0;for(const He of Ye.renderTasks)He.operatorListChanged();Ue(this,X,$s).call(this,!0)}if(Ye.displayReadyCapability)Ye.displayReadyCapability.reject(Re);else if(Ye.opListReadCapability)Ye.opListReadCapability.reject(Re);else throw Re}})};Je()}_abortOperatorList({intentState:ke,reason:Ie,force:Te=!1}){if(!!ke.streamReader){if(ke.streamReaderCancelTimeout&&(clearTimeout(ke.streamReaderCancelTimeout),ke.streamReaderCancelTimeout=null),!Te){if(ke.renderTasks.size>0)return;if(Ie instanceof d.RenderingCancelledException){let Ae=D;Ie.extraDelay>0&&Ie.extraDelay<1e3&&(Ae+=Ie.extraDelay),ke.streamReaderCancelTimeout=setTimeout(()=>{ke.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ke,reason:Ie,force:!0})},Ae);return}}if(ke.streamReader.cancel(new i.AbortException(Ie.message)).catch(()=>{}),ke.streamReader=null,!this._transport.destroyed){for(const[Ae,ge]of this._intentStates)if(ge===ke){this._intentStates.delete(Ae);break}this.cleanup()}}}get stats(){return this._stats}}K=new WeakMap,te=new WeakMap,X=new WeakSet,$s=function(ke=!1){if(Ue(this,G,R0).call(this),!ie(this,te)||this.destroyed)return!1;if(ke)return Qe(this,K,setTimeout(()=>{Qe(this,K,null),Ue(this,X,$s).call(this,!1)},F)),!1;for(const{renderTasks:Ie,operatorList:Te}of this._intentStates.values())if(Ie.size>0||!Te.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Qe(this,te,!1),!0},G=new WeakSet,R0=function(){ie(this,K)&&(clearTimeout(ie(this,K)),Qe(this,K,null))},o.PDFPageProxy=V;class Z{constructor(){Le(this,se,new Set);Le(this,le,Promise.resolve())}postMessage(ke,Ie){const Te={data:structuredClone(ke,Ie?{transfer:Ie}:null)};ie(this,le).then(()=>{for(const Ae of ie(this,se))Ae.call(this,Te)})}addEventListener(ke,Ie){ie(this,se).add(Ie)}removeEventListener(ke,Ie){ie(this,se).delete(Ie)}terminate(){ie(this,se).clear()}}se=new WeakMap,le=new WeakMap,o.LoopbackPort=Z;const q={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};o.PDFWorkerUtil=q;{if(i.isNodeJS&&typeof mi=="function")q.isWorkerDisabled=!0,q.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Ne=(he=document==null?void 0:document.currentScript)==null?void 0:he.src;Ne&&(q.fallbackWorkerSrc=Ne.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}q.isSameOrigin=function(Ne,ke){let Ie;try{if(Ie=new URL(Ne),!Ie.origin||Ie.origin==="null")return!1}catch{return!1}const Te=new URL(ke,Ie);return Ie.origin===Te.origin},q.createCDNWrapper=function(Ne){const ke=`importScripts("${Ne}");`;return URL.createObjectURL(new Blob([ke]))}}const ye=class{constructor({name:ke=null,port:Ie=null,verbosity:Te=(0,i.getVerbosityLevel)()}={}){var Ae;if(this.name=ke,this.destroyed=!1,this.verbosity=Te,this._readyCapability=new i.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Ie){if((Ae=ie(ye,be))!=null&&Ae.has(Ie))throw new Error("Cannot use more than one PDFWorker per port.");(ie(ye,be)||Qe(ye,be,new WeakMap)).set(Ie,this),this._initializeFromPort(Ie);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ke){this._port=ke,this._messageHandler=new y.MessageHandler("main","worker",ke),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!q.isWorkerDisabled&&!ye._mainThreadWorkerMessageHandler){let{workerSrc:ke}=ye;try{q.isSameOrigin(window.location.href,ke)||(ke=q.createCDNWrapper(new URL(ke,window.location).href));const Ie=new Worker(ke),Te=new y.MessageHandler("main","worker",Ie),Ae=()=>{Ie.removeEventListener("error",ge),Te.destroy(),Ie.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ge=()=>{this._webWorker||Ae()};Ie.addEventListener("error",ge),Te.on("test",Be=>{if(Ie.removeEventListener("error",ge),this.destroyed){Ae();return}Be?(this._messageHandler=Te,this._port=Ie,this._webWorker=Ie,this._readyCapability.resolve(),Te.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Te.destroy(),Ie.terminate())}),Te.on("ready",Be=>{if(Ie.removeEventListener("error",ge),this.destroyed){Ae();return}try{Ce()}catch{this._setupFakeWorker()}});const Ce=()=>{const Be=new Uint8Array;Te.send("test",Be,[Be.buffer])};Ce();return}catch{(0,i.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){q.isWorkerDisabled||((0,i.warn)("Setting up fake worker."),q.isWorkerDisabled=!0),ye._setupFakeWorkerGlobal.then(ke=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Ie=new Z;this._port=Ie;const Te=`fake${q.fakeWorkerId++}`,Ae=new y.MessageHandler(Te+"_worker",Te,Ie);ke.setup(Ae,Ie);const ge=new y.MessageHandler(Te,Te+"_worker",Ie);this._messageHandler=ge,this._readyCapability.resolve(),ge.send("configure",{verbosity:this.verbosity})}).catch(ke=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ke.message}".`))})}destroy(){var ke;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ke=ie(ye,be))==null||ke.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ke){var Te;if(!(ke!=null&&ke.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Ie=(Te=ie(this,be))==null?void 0:Te.get(ke.port);if(Ie){if(Ie._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Ie}return new ye(ke)}static get workerSrc(){if(x.GlobalWorkerOptions.workerSrc)return x.GlobalWorkerOptions.workerSrc;if(q.fallbackWorkerSrc!==null)return i.isNodeJS||(0,d.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),q.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ke;try{return((ke=globalThis.pdfjsWorker)==null?void 0:ke.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const ke=async()=>{const Ie=this._mainThreadWorkerMessageHandler;return Ie||(i.isNodeJS&&typeof mi=="function"?require(this.workerSrc).WorkerMessageHandler:(await(0,d.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler))};return(0,i.shadow)(this,"_setupFakeWorkerGlobal",ke())}};let re=ye;be=new WeakMap,Le(re,be,void 0),o.PDFWorker=re;class oe{constructor(ke,Ie,Te,Ae,ge){Le(this,ue);Le(this,de,new Map);Le(this,xe,new Map);Le(this,fe,new Map);Le(this,ce,null);this.messageHandler=ke,this.loadingTask=Ie,this.commonObjs=new ae,this.fontLoader=new e.FontLoader({ownerDocument:Ae.ownerDocument,styleElement:Ae.styleElement}),this._params=Ae,this.canvasFactory=ge.canvasFactory,this.filterFactory=ge.filterFactory,this.cMapReaderFactory=ge.cMapReaderFactory,this.standardFontDataFactory=ge.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Te,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new i.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,i.shadow)(this,"annotationStorage",new l.AnnotationStorage)}getRenderingIntent(ke,Ie=i.AnnotationMode.ENABLE,Te=null,Ae=!1){let ge=i.RenderingIntentFlag.DISPLAY,Ce=l.SerializableEmpty;switch(ke){case"any":ge=i.RenderingIntentFlag.ANY;break;case"display":break;case"print":ge=i.RenderingIntentFlag.PRINT;break;default:(0,i.warn)(`getRenderingIntent - invalid intent: ${ke}`)}switch(Ie){case i.AnnotationMode.DISABLE:ge+=i.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case i.AnnotationMode.ENABLE:break;case i.AnnotationMode.ENABLE_FORMS:ge+=i.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case i.AnnotationMode.ENABLE_STORAGE:ge+=i.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ce=(ge&i.RenderingIntentFlag.PRINT&&Te instanceof l.PrintAnnotationStorage?Te:this.annotationStorage).serializable;break;default:(0,i.warn)(`getRenderingIntent - invalid annotationMode: ${Ie}`)}return Ae&&(ge+=i.RenderingIntentFlag.OPLIST),{renderingIntent:ge,cacheKey:`${ge}_${Ce.hash}`,annotationStorageSerializable:Ce}}destroy(){var Te;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new i.PromiseCapability,(Te=ie(this,ce))==null||Te.reject(new Error("Worker was destroyed during onPassword callback"));const ke=[];for(const Ae of ie(this,xe).values())ke.push(Ae._destroy());ie(this,xe).clear(),ie(this,fe).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ie=this.messageHandler.sendWithPromise("Terminate",null);return ke.push(Ie),Promise.all(ke).then(()=>{var Ae;this.commonObjs.clear(),this.fontLoader.clear(),ie(this,de).clear(),this.filterFactory.destroy(),(Ae=this._networkStream)==null||Ae.cancelAllRequests(new i.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ke,loadingTask:Ie}=this;ke.on("GetReader",(Te,Ae)=>{(0,i.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ge=>{this._lastProgress={loaded:ge.loaded,total:ge.total}},Ae.onPull=()=>{this._fullReader.read().then(function({value:ge,done:Ce}){if(Ce){Ae.close();return}(0,i.assert)(ge instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Ae.enqueue(new Uint8Array(ge),1,[ge])}).catch(ge=>{Ae.error(ge)})},Ae.onCancel=ge=>{this._fullReader.cancel(ge),Ae.ready.catch(Ce=>{if(!this.destroyed)throw Ce})}}),ke.on("ReaderHeadersReady",Te=>{const Ae=new i.PromiseCapability,ge=this._fullReader;return ge.headersReady.then(()=>{var Ce;(!ge.isStreamingSupported||!ge.isRangeSupported)&&(this._lastProgress&&((Ce=Ie.onProgress)==null||Ce.call(Ie,this._lastProgress)),ge.onProgress=Be=>{var Ye;(Ye=Ie.onProgress)==null||Ye.call(Ie,{loaded:Be.loaded,total:Be.total})}),Ae.resolve({isStreamingSupported:ge.isStreamingSupported,isRangeSupported:ge.isRangeSupported,contentLength:ge.contentLength})},Ae.reject),Ae.promise}),ke.on("GetRangeReader",(Te,Ae)=>{(0,i.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ge=this._networkStream.getRangeReader(Te.begin,Te.end);if(!ge){Ae.close();return}Ae.onPull=()=>{ge.read().then(function({value:Ce,done:Be}){if(Be){Ae.close();return}(0,i.assert)(Ce instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Ae.enqueue(new Uint8Array(Ce),1,[Ce])}).catch(Ce=>{Ae.error(Ce)})},Ae.onCancel=Ce=>{ge.cancel(Ce),Ae.ready.catch(Be=>{if(!this.destroyed)throw Be})}}),ke.on("GetDoc",({pdfInfo:Te})=>{this._numPages=Te.numPages,this._htmlForXfa=Te.htmlForXfa,delete Te.htmlForXfa,Ie._capability.resolve(new _(Te,this))}),ke.on("DocException",function(Te){let Ae;switch(Te.name){case"PasswordException":Ae=new i.PasswordException(Te.message,Te.code);break;case"InvalidPDFException":Ae=new i.InvalidPDFException(Te.message);break;case"MissingPDFException":Ae=new i.MissingPDFException(Te.message);break;case"UnexpectedResponseException":Ae=new i.UnexpectedResponseException(Te.message,Te.status);break;case"UnknownErrorException":Ae=new i.UnknownErrorException(Te.message,Te.details);break;default:(0,i.unreachable)("DocException - expected a valid Error.")}Ie._capability.reject(Ae)}),ke.on("PasswordRequest",Te=>{if(Qe(this,ce,new i.PromiseCapability),Ie.onPassword){const Ae=ge=>{ge instanceof Error?ie(this,ce).reject(ge):ie(this,ce).resolve({password:ge})};try{Ie.onPassword(Ae,Te.code)}catch(ge){ie(this,ce).reject(ge)}}else ie(this,ce).reject(new i.PasswordException(Te.message,Te.code));return ie(this,ce).promise}),ke.on("DataLoaded",Te=>{var Ae;(Ae=Ie.onProgress)==null||Ae.call(Ie,{loaded:Te.length,total:Te.length}),this.downloadInfoCapability.resolve(Te)}),ke.on("StartRenderPage",Te=>{if(this.destroyed)return;ie(this,xe).get(Te.pageIndex)._startRenderPage(Te.transparency,Te.cacheKey)}),ke.on("commonobj",([Te,Ae,ge])=>{var Ce;if(!this.destroyed&&!this.commonObjs.has(Te))switch(Ae){case"Font":const Be=this._params;if("error"in ge){const Re=ge.error;(0,i.warn)(`Error during font loading: ${Re}`),this.commonObjs.resolve(Te,Re);break}const Ye=Be.pdfBug&&((Ce=globalThis.FontInspector)==null?void 0:Ce.enabled)?(Re,He)=>globalThis.FontInspector.fontAdded(Re,He):null,Je=new e.FontFaceObject(ge,{isEvalSupported:Be.isEvalSupported,disableFontFace:Be.disableFontFace,ignoreErrors:Be.ignoreErrors,inspectFont:Ye});this.fontLoader.bind(Je).catch(Re=>ke.sendWithPromise("FontFallback",{id:Te})).finally(()=>{!Be.fontExtraProperties&&Je.data&&(Je.data=null),this.commonObjs.resolve(Te,Je)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Te,ge);break;default:throw new Error(`Got unknown common object type ${Ae}`)}}),ke.on("obj",([Te,Ae,ge,Ce])=>{var Ye;if(this.destroyed)return;const Be=ie(this,xe).get(Ae);if(!Be.objs.has(Te))switch(ge){case"Image":if(Be.objs.resolve(Te,Ce),Ce){let Je;if(Ce.bitmap){const{width:Re,height:He}=Ce;Je=Re*He*4}else Je=((Ye=Ce.data)==null?void 0:Ye.length)||0;Je>i.MAX_IMAGE_SIZE_TO_CACHE&&(Be._maybeCleanupAfterRender=!0)}break;case"Pattern":Be.objs.resolve(Te,Ce);break;default:throw new Error(`Got unknown object type ${ge}`)}}),ke.on("DocProgress",Te=>{var Ae;this.destroyed||(Ae=Ie.onProgress)==null||Ae.call(Ie,{loaded:Te.loaded,total:Te.total})}),ke.on("FetchBuiltInCMap",Te=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Te):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ke.on("FetchStandardFontData",Te=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Te):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Te,Ae;this.annotationStorage.size<=0&&(0,i.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ke,transfers:Ie}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ke,filename:(Ae=(Te=this._fullReader)==null?void 0:Te.filename)!=null?Ae:null},Ie).finally(()=>{this.annotationStorage.resetModified()})}getPage(ke){if(!Number.isInteger(ke)||ke<=0||ke>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ie=ke-1,Te=ie(this,fe).get(Ie);if(Te)return Te;const Ae=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ie}).then(ge=>{if(this.destroyed)throw new Error("Transport destroyed");const Ce=new V(Ie,ge,this,this._params.pdfBug);return ie(this,xe).set(Ie,Ce),Ce});return ie(this,fe).set(Ie,Ae),Ae}getPageIndex(ke){return typeof ke!="object"||ke===null||!Number.isInteger(ke.num)||ke.num<0||!Number.isInteger(ke.gen)||ke.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ke.num,gen:ke.gen})}getAnnotations(ke,Ie){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ke,intent:Ie})}getFieldObjects(){return Ue(this,ue,M0).call(this,"GetFieldObjects")}hasJSActions(){return Ue(this,ue,M0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ke){return typeof ke!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ke})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ue(this,ue,M0).call(this,"GetDocJSActions")}getPageJSActions(ke){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ke})}getStructTree(ke){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ke})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ke=>new b.OptionalContentConfig(ke))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ke="GetMetadata",Ie=ie(this,de).get(ke);if(Ie)return Ie;const Te=this.messageHandler.sendWithPromise(ke,null).then(Ae=>{var ge,Ce,Be,Ye;return{info:Ae[0],metadata:Ae[1]?new v.Metadata(Ae[1]):null,contentDispositionFilename:(Ce=(ge=this._fullReader)==null?void 0:ge.filename)!=null?Ce:null,contentLength:(Ye=(Be=this._fullReader)==null?void 0:Be.contentLength)!=null?Ye:null}});return ie(this,de).set(ke,Te),Te}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ke=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ie of ie(this,xe).values())if(!Ie.cleanup())throw new Error(`startCleanup: Page ${Ie.pageNumber} is currently rendering.`);this.commonObjs.clear(),ke||this.fontLoader.clear(),ie(this,de).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ke,enableXfa:Ie}=this._params;return(0,i.shadow)(this,"loadingParams",{disableAutoFetch:ke,enableXfa:Ie})}}de=new WeakMap,xe=new WeakMap,fe=new WeakMap,ce=new WeakMap,ue=new WeakSet,M0=function(ke,Ie=null){const Te=ie(this,de).get(ke);if(Te)return Te;const Ae=this.messageHandler.sendWithPromise(ke,Ie);return ie(this,de).set(ke,Ae),Ae};class ae{constructor(){Le(this,Me);Le(this,Ee,Object.create(null))}get(ke,Ie=null){if(Ie){const Ae=Ue(this,Me,Jd).call(this,ke);return Ae.capability.promise.then(()=>Ie(Ae.data)),null}const Te=ie(this,Ee)[ke];if(!(Te!=null&&Te.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ke}.`);return Te.data}has(ke){const Ie=ie(this,Ee)[ke];return(Ie==null?void 0:Ie.capability.settled)||!1}resolve(ke,Ie=null){const Te=Ue(this,Me,Jd).call(this,ke);Te.data=Ie,Te.capability.resolve()}clear(){var ke;for(const Ie in ie(this,Ee)){const{data:Te}=ie(this,Ee)[Ie];(ke=Te==null?void 0:Te.bitmap)==null||ke.close()}Qe(this,Ee,Object.create(null))}}Ee=new WeakMap,Me=new WeakSet,Jd=function(ke){var Ie;return(Ie=ie(this,Ee))[ke]||(Ie[ke]={capability:new i.PromiseCapability,data:null})};class R{constructor(ke){Le(this,ze,null);Qe(this,ze,ke),this.onContinue=null}get promise(){return ie(this,ze).capability.promise}cancel(ke=0){ie(this,ze).cancel(null,ke)}get separateAnnots(){const{separateAnnots:ke}=ie(this,ze).operatorList;if(!ke)return!1;const{annotationCanvasMap:Ie}=ie(this,ze);return ke.form||ke.canvas&&(Ie==null?void 0:Ie.size)>0}}ze=new WeakMap,o.RenderTask=R;const Ve=class{constructor({callback:ke,params:Ie,objs:Te,commonObjs:Ae,annotationCanvasMap:ge,operatorList:Ce,pageIndex:Be,canvasFactory:Ye,filterFactory:Je,useRequestAnimationFrame:Re=!1,pdfBug:He=!1,pageColors:nt=null}){this.callback=ke,this.params=Ie,this.objs=Te,this.commonObjs=Ae,this.annotationCanvasMap=ge,this.operatorListIdx=null,this.operatorList=Ce,this._pageIndex=Be,this.canvasFactory=Ye,this.filterFactory=Je,this._pdfBug=He,this.pageColors=nt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Re===!0&&typeof window<"u",this.cancelled=!1,this.capability=new i.PromiseCapability,this.task=new R(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ie.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ke=!1,optionalContentConfig:Ie}){var Be,Ye;if(this.cancelled)return;if(this._canvas){if(ie(Ve,We).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ie(Ve,We).add(this._canvas)}this._pdfBug&&((Be=globalThis.StepperManager)==null?void 0:Be.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Te,viewport:Ae,transform:ge,background:Ce}=this.params;this.gfx=new p.CanvasGraphics(Te,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ie},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ge,viewport:Ae,transparency:ke,background:Ce}),this.operatorListIdx=0,this.graphicsReady=!0,(Ye=this.graphicsReadyCallback)==null||Ye.call(this)}cancel(ke=null,Ie=0){var Te;this.running=!1,this.cancelled=!0,(Te=this.gfx)==null||Te.endDrawing(),ie(Ve,We).delete(this._canvas),this.callback(ke||new d.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ie))}operatorListChanged(){var ke;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ke=this.stepper)==null||ke.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ie(Ve,We).delete(this._canvas),this.callback())))}};let S=Ve;We=new WeakMap,Le(S,We,new WeakSet);const L="3.11.174";o.version=L;const k="ce8716743";o.build=k},(h,o,s)=>{var x,y,v,pv,g;Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableEmpty=o.PrintAnnotationStorage=o.AnnotationStorage=void 0;var i=s(1),l=s(4),d=s(8);const e=Object.freeze({map:null,hash:"",transfers:void 0});o.SerializableEmpty=e;class r{constructor(){Le(this,v);Le(this,x,!1);Le(this,y,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(f,E){const A=ie(this,y).get(f);return A===void 0?E:Object.assign(E,A)}getRawValue(f){return ie(this,y).get(f)}remove(f){if(ie(this,y).delete(f),ie(this,y).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const E of ie(this,y).values())if(E instanceof l.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(f,E){const A=ie(this,y).get(f);let O=!1;if(A!==void 0)for(const[T,D]of Object.entries(E))A[T]!==D&&(O=!0,A[T]=D);else O=!0,ie(this,y).set(f,E);O&&Ue(this,v,pv).call(this),E instanceof l.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(E.constructor._type)}has(f){return ie(this,y).has(f)}getAll(){return ie(this,y).size>0?(0,i.objectFromMap)(ie(this,y)):null}setAll(f){for(const[E,A]of Object.entries(f))this.setValue(E,A)}get size(){return ie(this,y).size}resetModified(){ie(this,x)&&(Qe(this,x,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new p(this)}get serializable(){if(ie(this,y).size===0)return e;const f=new Map,E=new d.MurmurHash3_64,A=[],O=Object.create(null);let T=!1;for(const[D,F]of ie(this,y)){const C=F instanceof l.AnnotationEditor?F.serialize(!1,O):F;C&&(f.set(D,C),E.update(`${D}:${JSON.stringify(C)}`),T||(T=!!C.bitmap))}if(T)for(const D of f.values())D.bitmap&&A.push(D.bitmap);return f.size>0?{map:f,hash:E.hexdigest(),transfers:A}:e}}x=new WeakMap,y=new WeakMap,v=new WeakSet,pv=function(){ie(this,x)||(Qe(this,x,!0),typeof this.onSetModified=="function"&&this.onSetModified())},o.AnnotationStorage=r;class p extends r{constructor(E){super();Le(this,g,void 0);const{map:A,hash:O,transfers:T}=E.serializable,D=structuredClone(A,T?{transfer:T}:null);Qe(this,g,{map:D,hash:O,transfers:T})}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ie(this,g)}}g=new WeakMap,o.PrintAnnotationStorage=p},(h,o,s)=>{var p,x,y,v,b,g,w,f,E,A,O,T,D,F,C,Zd,M,Qd,W,qd,H,e1,U,gv,_,mv,Z,xv,re,t1,ae,bv;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditor=void 0;var i=s(5),l=s(1),d=s(6);const S=class{constructor(k){Le(this,C);Le(this,M);Le(this,H);Le(this,U);Le(this,_);Le(this,Z);Le(this,re);Le(this,ae);Le(this,p,"");Le(this,x,!1);Le(this,y,null);Le(this,v,null);Le(this,b,null);Le(this,g,!1);Le(this,w,null);Le(this,f,this.focusin.bind(this));Le(this,E,this.focusout.bind(this));Le(this,A,!1);Le(this,O,!1);Le(this,T,!1);Ct(this,"_initialOptions",Object.create(null));Ct(this,"_uiManager",null);Ct(this,"_focusEventsAllowed",!0);Ct(this,"_l10nPromise",null);Le(this,D,!1);Le(this,F,S._zIndex++);this.constructor===S&&(0,l.unreachable)("Cannot initialize AnnotationEditor."),this.parent=k.parent,this.id=k.id,this.width=this.height=null,this.pageIndex=k.parent.pageIndex,this.name=k.name,this.div=null,this._uiManager=k.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=k.isCentered,this._structTreeParentId=null;const{rotation:z,rawDims:{pageWidth:P,pageHeight:K,pageX:te,pageY:X}}=this.parent.viewport;this.rotation=z,this.pageRotation=(360+z-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[P,K],this.pageTranslation=[te,X];const[ee,G]=this.parentDimensions;this.x=k.x/ee,this.y=k.y/G,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,l.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(k){const z=new r({id:k.parent.getNextId(),parent:k.parent,uiManager:k._uiManager});z.annotationElementId=k.annotationElementId,z.deleted=!0,z._uiManager.addToAnnotationStorage(z)}static initialize(k,z=null){if(S._l10nPromise||(S._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(K=>[K,k.get(K)]))),z!=null&&z.strings)for(const K of z.strings)S._l10nPromise.set(K,k.get(K));if(S._borderLineWidth!==-1)return;const P=getComputedStyle(document.documentElement);S._borderLineWidth=parseFloat(P.getPropertyValue("--outline-width"))||0}static updateDefaultParams(k,z){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(k){return!1}static paste(k,z){(0,l.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return ie(this,D)}set _isDraggable(k){var z;Qe(this,D,k),(z=this.div)==null||z.classList.toggle("draggable",k)}center(){const[k,z]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*z/(k*2),this.y+=this.width*k/(z*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*z/(k*2),this.y-=this.width*k/(z*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(k){this._uiManager.addCommands(k)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ie(this,F)}setParent(k){k!==null&&(this.pageIndex=k.pageIndex,this.pageDimensions=k.pageDimensions),this.parent=k}focusin(k){!this._focusEventsAllowed||(ie(this,A)?Qe(this,A,!1):this.parent.setSelected(this))}focusout(k){var P;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const z=k.relatedTarget;z!=null&&z.closest(`#${this.id}`)||(k.preventDefault(),(P=this.parent)!=null&&P.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(k,z,P,K){const[te,X]=this.parentDimensions;[P,K]=this.screenToPageTranslation(P,K),this.x=(k+P)/te,this.y=(z+K)/X,this.fixAndSetPosition()}translate(k,z){Ue(this,C,Zd).call(this,this.parentDimensions,k,z)}translateInPage(k,z){Ue(this,C,Zd).call(this,this.pageDimensions,k,z),this.div.scrollIntoView({block:"nearest"})}drag(k,z){const[P,K]=this.parentDimensions;if(this.x+=k/P,this.y+=z/K,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ne,y:se}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ne,se)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:te,y:X}=this;const[ee,G]=Ue(this,M,Qd).call(this);te+=ee,X+=G,this.div.style.left=`${(100*te).toFixed(2)}%`,this.div.style.top=`${(100*X).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[k,z]=this.pageDimensions;let{x:P,y:K,width:te,height:X}=this;switch(te*=k,X*=z,P*=k,K*=z,this.rotation){case 0:P=Math.max(0,Math.min(k-te,P)),K=Math.max(0,Math.min(z-X,K));break;case 90:P=Math.max(0,Math.min(k-X,P)),K=Math.min(z,Math.max(te,K));break;case 180:P=Math.min(k,Math.max(te,P)),K=Math.min(z,Math.max(X,K));break;case 270:P=Math.min(k,Math.max(X,P)),K=Math.max(0,Math.min(z-te,K));break}this.x=P/=k,this.y=K/=z;const[ee,G]=Ue(this,M,Qd).call(this);P+=ee,K+=G;const{style:ne}=this.div;ne.left=`${(100*P).toFixed(2)}%`,ne.top=`${(100*K).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(k,z){var P;return Ue(P=S,W,qd).call(P,k,z,this.parentRotation)}pageTranslationToScreen(k,z){var P;return Ue(P=S,W,qd).call(P,k,z,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:k,pageDimensions:[z,P]}=this,K=z*k,te=P*k;return l.FeatureTest.isCSSRoundSupported?[Math.round(K),Math.round(te)]:[K,te]}setDims(k,z){var te;const[P,K]=this.parentDimensions;this.div.style.width=`${(100*k/P).toFixed(2)}%`,ie(this,g)||(this.div.style.height=`${(100*z/K).toFixed(2)}%`),(te=ie(this,y))==null||te.classList.toggle("small",k<S.SMALL_EDITOR_SIZE||z<S.SMALL_EDITOR_SIZE)}fixDims(){const{style:k}=this.div,{height:z,width:P}=k,K=P.endsWith("%"),te=!ie(this,g)&&z.endsWith("%");if(K&&te)return;const[X,ee]=this.parentDimensions;K||(k.width=`${(100*parseFloat(P)/X).toFixed(2)}%`),!ie(this,g)&&!te&&(k.height=`${(100*parseFloat(z)/ee).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(ie(this,y))return;const k=Qe(this,y,document.createElement("button"));k.className="altText";const z=await S._l10nPromise.get("editor_alt_text_button_label");k.textContent=z,k.setAttribute("aria-label",z),k.tabIndex="0",k.addEventListener("contextmenu",d.noContextMenu),k.addEventListener("pointerdown",P=>P.stopPropagation()),k.addEventListener("click",P=>{P.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),k.addEventListener("keydown",P=>{P.target===k&&P.key==="Enter"&&(P.preventDefault(),this._uiManager.editAltText(this))}),Ue(this,re,t1).call(this),this.div.append(k),S.SMALL_EDITOR_SIZE||(S.SMALL_EDITOR_SIZE=Math.min(128,Math.round(k.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:ie(this,p),decorative:ie(this,x)}}set altTextData({altText:k,decorative:z}){ie(this,p)===k&&ie(this,x)===z||(Qe(this,p,k),Qe(this,x,z),Ue(this,re,t1).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ie(this,f)),this.div.addEventListener("focusout",ie(this,E));const[k,z]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*z/k).toFixed(2)}%`,this.div.style.maxHeight=`${(100*k/z).toFixed(2)}%`);const[P,K]=this.getInitialTranslation();return this.translate(P,K),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(k){const{isMac:z}=l.FeatureTest.platform;if(k.button!==0||k.ctrlKey&&z){k.preventDefault();return}Qe(this,A,!0),Ue(this,ae,bv).call(this,k)}moveInDOM(){var k;(k=this.parent)==null||k.moveEditorInDOM(this)}_setParentAndPosition(k,z,P){k.changeParent(this),this.x=z,this.y=P,this.fixAndSetPosition()}getRect(k,z){const P=this.parentScale,[K,te]=this.pageDimensions,[X,ee]=this.pageTranslation,G=k/P,ne=z/P,se=this.x*K,le=this.y*te,he=this.width*K,be=this.height*te;switch(this.rotation){case 0:return[se+G+X,te-le-ne-be+ee,se+G+he+X,te-le-ne+ee];case 90:return[se+ne+X,te-le+G+ee,se+ne+be+X,te-le+G+he+ee];case 180:return[se-G-he+X,te-le+ne+ee,se-G+X,te-le+ne+be+ee];case 270:return[se-ne-be+X,te-le-G-he+ee,se-ne+X,te-le-G+ee];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(k,z){const[P,K,te,X]=k,ee=te-P,G=X-K;switch(this.rotation){case 0:return[P,z-X,ee,G];case 90:return[P,z-K,G,ee];case 180:return[te,z-K,ee,G];case 270:return[te,z-X,G,ee];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Qe(this,T,!0)}disableEditMode(){Qe(this,T,!1)}isInEditMode(){return ie(this,T)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var k,z;(k=this.div)==null||k.addEventListener("focusin",ie(this,f)),(z=this.div)==null||z.addEventListener("focusout",ie(this,E))}serialize(k=!1,z=null){(0,l.unreachable)("An editor must be serializable")}static deserialize(k,z,P){const K=new this.prototype.constructor({parent:z,id:z.getNextId(),uiManager:P});K.rotation=k.rotation;const[te,X]=K.pageDimensions,[ee,G,ne,se]=K.getRectInCurrentCoords(k.rect,X);return K.x=ee/te,K.y=G/X,K.width=ne/te,K.height=se/X,K}remove(){var k;this.div.removeEventListener("focusin",ie(this,f)),this.div.removeEventListener("focusout",ie(this,E)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(k=ie(this,y))==null||k.remove(),Qe(this,y,null),Qe(this,v,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ue(this,U,gv).call(this),ie(this,w).classList.remove("hidden"))}select(){var k;this.makeResizable(),(k=this.div)==null||k.classList.add("selectedEditor")}unselect(){var k,z,P;(k=ie(this,w))==null||k.classList.add("hidden"),(z=this.div)==null||z.classList.remove("selectedEditor"),(P=this.div)!=null&&P.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(k,z){}disableEditing(){ie(this,y)&&(ie(this,y).hidden=!0)}enableEditing(){ie(this,y)&&(ie(this,y).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return ie(this,O)}set isEditing(k){Qe(this,O,k),this.parent&&(k?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(k,z){Qe(this,g,!0);const P=k/z,{style:K}=this.div;K.aspectRatio=P,K.height="auto"}static get MIN_SIZE(){return 16}};let e=S;p=new WeakMap,x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakMap,T=new WeakMap,D=new WeakMap,F=new WeakMap,C=new WeakSet,Zd=function([k,z],P,K){[P,K]=this.screenToPageTranslation(P,K),this.x+=P/k,this.y+=K/z,this.fixAndSetPosition()},M=new WeakSet,Qd=function(){const[k,z]=this.parentDimensions,{_borderLineWidth:P}=S,K=P/k,te=P/z;switch(this.rotation){case 90:return[-K,te];case 180:return[K,te];case 270:return[K,-te];default:return[-K,-te]}},W=new WeakSet,qd=function(k,z,P){switch(P){case 90:return[z,-k];case 180:return[-k,-z];case 270:return[-z,k];default:return[k,z]}},H=new WeakSet,e1=function(k){switch(k){case 90:{const[z,P]=this.pageDimensions;return[0,-z/P,P/z,0]}case 180:return[-1,0,0,-1];case 270:{const[z,P]=this.pageDimensions;return[0,z/P,-P/z,0]}default:return[1,0,0,1]}},U=new WeakSet,gv=function(){if(ie(this,w))return;Qe(this,w,document.createElement("div")),ie(this,w).classList.add("resizers");const k=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||k.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const z of k){const P=document.createElement("div");ie(this,w).append(P),P.classList.add("resizer",z),P.addEventListener("pointerdown",Ue(this,_,mv).bind(this,z)),P.addEventListener("contextmenu",d.noContextMenu)}this.div.prepend(ie(this,w))},_=new WeakSet,mv=function(k,z){z.preventDefault();const{isMac:P}=l.FeatureTest.platform;if(z.button!==0||z.ctrlKey&&P)return;const K=Ue(this,Z,xv).bind(this,k),te=this._isDraggable;this._isDraggable=!1;const X={passive:!0,capture:!0};window.addEventListener("pointermove",K,X);const ee=this.x,G=this.y,ne=this.width,se=this.height,le=this.parent.div.style.cursor,he=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(z.target).cursor;const be=()=>{this._isDraggable=te,window.removeEventListener("pointerup",be),window.removeEventListener("blur",be),window.removeEventListener("pointermove",K,X),this.parent.div.style.cursor=le,this.div.style.cursor=he;const ye=this.x,de=this.y,xe=this.width,fe=this.height;ye===ee&&de===G&&xe===ne&&fe===se||this.addCommands({cmd:()=>{this.width=xe,this.height=fe,this.x=ye,this.y=de;const[ce,ue]=this.parentDimensions;this.setDims(ce*xe,ue*fe),this.fixAndSetPosition()},undo:()=>{this.width=ne,this.height=se,this.x=ee,this.y=G;const[ce,ue]=this.parentDimensions;this.setDims(ce*ne,ue*se),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",be),window.addEventListener("blur",be)},Z=new WeakSet,xv=function(k,z){const[P,K]=this.parentDimensions,te=this.x,X=this.y,ee=this.width,G=this.height,ne=S.MIN_SIZE/P,se=S.MIN_SIZE/K,le=Ce=>Math.round(Ce*1e4)/1e4,he=Ue(this,H,e1).call(this,this.rotation),be=(Ce,Be)=>[he[0]*Ce+he[2]*Be,he[1]*Ce+he[3]*Be],ye=Ue(this,H,e1).call(this,360-this.rotation),de=(Ce,Be)=>[ye[0]*Ce+ye[2]*Be,ye[1]*Ce+ye[3]*Be];let xe,fe,ce=!1,ue=!1;switch(k){case"topLeft":ce=!0,xe=(Ce,Be)=>[0,0],fe=(Ce,Be)=>[Ce,Be];break;case"topMiddle":xe=(Ce,Be)=>[Ce/2,0],fe=(Ce,Be)=>[Ce/2,Be];break;case"topRight":ce=!0,xe=(Ce,Be)=>[Ce,0],fe=(Ce,Be)=>[0,Be];break;case"middleRight":ue=!0,xe=(Ce,Be)=>[Ce,Be/2],fe=(Ce,Be)=>[0,Be/2];break;case"bottomRight":ce=!0,xe=(Ce,Be)=>[Ce,Be],fe=(Ce,Be)=>[0,0];break;case"bottomMiddle":xe=(Ce,Be)=>[Ce/2,Be],fe=(Ce,Be)=>[Ce/2,0];break;case"bottomLeft":ce=!0,xe=(Ce,Be)=>[0,Be],fe=(Ce,Be)=>[Ce,0];break;case"middleLeft":ue=!0,xe=(Ce,Be)=>[0,Be/2],fe=(Ce,Be)=>[Ce,Be/2];break}const ve=xe(ee,G),Ee=fe(ee,G);let Me=be(...Ee);const _e=le(te+Me[0]),ze=le(X+Me[1]);let We=1,Ve=1,[Ne,ke]=this.screenToPageTranslation(z.movementX,z.movementY);if([Ne,ke]=de(Ne/P,ke/K),ce){const Ce=Math.hypot(ee,G);We=Ve=Math.max(Math.min(Math.hypot(Ee[0]-ve[0]-Ne,Ee[1]-ve[1]-ke)/Ce,1/ee,1/G),ne/ee,se/G)}else ue?We=Math.max(ne,Math.min(1,Math.abs(Ee[0]-ve[0]-Ne)))/ee:Ve=Math.max(se,Math.min(1,Math.abs(Ee[1]-ve[1]-ke)))/G;const Ie=le(ee*We),Te=le(G*Ve);Me=be(...fe(Ie,Te));const Ae=_e-Me[0],ge=ze-Me[1];this.width=Ie,this.height=Te,this.x=Ae,this.y=ge,this.setDims(P*Ie,K*Te),this.fixAndSetPosition()},re=new WeakSet,t1=async function(){var P;const k=ie(this,y);if(!k)return;if(!ie(this,p)&&!ie(this,x)){k.classList.remove("done"),(P=ie(this,v))==null||P.remove();return}S._l10nPromise.get("editor_alt_text_edit_button_label").then(K=>{k.setAttribute("aria-label",K)});let z=ie(this,v);if(!z){Qe(this,v,z=document.createElement("span")),z.className="tooltip",z.setAttribute("role","tooltip");const K=z.id=`alt-text-tooltip-${this.id}`;k.setAttribute("aria-describedby",K);const te=100;k.addEventListener("mouseenter",()=>{Qe(this,b,setTimeout(()=>{Qe(this,b,null),ie(this,v).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},te))}),k.addEventListener("mouseleave",()=>{var X;clearTimeout(ie(this,b)),Qe(this,b,null),(X=ie(this,v))==null||X.classList.remove("show")})}k.classList.add("done"),z.innerText=ie(this,x)?await S._l10nPromise.get("editor_alt_text_decorative_tooltip"):ie(this,p),z.parentNode||k.append(z)},ae=new WeakSet,bv=function(k){if(!this._isDraggable)return;const z=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let P,K;z&&(P={passive:!0,capture:!0},K=X=>{const[ee,G]=this.screenToPageTranslation(X.movementX,X.movementY);this._uiManager.dragSelectedEditors(ee,G)},window.addEventListener("pointermove",K,P));const te=()=>{if(window.removeEventListener("pointerup",te),window.removeEventListener("blur",te),z&&window.removeEventListener("pointermove",K,P),Qe(this,A,!1),!this._uiManager.endDragSession()){const{isMac:X}=l.FeatureTest.platform;k.ctrlKey&&!X||k.shiftKey||k.metaKey&&X?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",te),window.addEventListener("blur",te)},Le(e,W),Ct(e,"_borderLineWidth",-1),Ct(e,"_colorManager",new i.ColorManager),Ct(e,"_zIndex",1),Ct(e,"SMALL_EDITOR_SIZE",0),o.AnnotationEditor=e;class r extends e{constructor(k){super(k),this.annotationElementId=k.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(h,o,s)=>{var g,w,f,E,A,n1,D,F,C,B,M,yv,J,H,N,U,Y,_,V,Z,q,re,oe,ae,R,S,L,k,z,P,K,te,X,ee,G,ne,se,le,he,be,ye,de,xe,fe,ce,ue,ve,vv,Me,r1,ze,a1,Ve,D0,ke,i1,Te,s1,ge,_r,Be,rc,Je,wv,He,Av,et,o1,qe,ac,rt,c1;Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardManager=o.CommandManager=o.ColorManager=o.AnnotationEditorUIManager=void 0,o.bindEvents=d,o.opacityToHex=e;var i=s(1),l=s(6);function d(me,Q,pe){for(const we of pe)Q.addEventListener(we,me[we].bind(me))}function e(me){return Math.round(Math.min(255,Math.max(1,255*me))).toString(16).padStart(2,"0")}class r{constructor(){Le(this,g,0)}getId(){return`${i.AnnotationEditorPrefix}${Pa(this,g)._++}`}}g=new WeakMap;const T=class{constructor(){Le(this,A);Le(this,w,(0,i.getUuid)());Le(this,f,0);Le(this,E,null)}static get _isSVGFittingCanvas(){const Q='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',we=new OffscreenCanvas(1,3).getContext("2d"),Fe=new Image;Fe.src=Q;const Pe=Fe.decode().then(()=>(we.drawImage(Fe,0,0,1,1,0,0,1,3),new Uint32Array(we.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",Pe)}async getFromFile(Q){const{lastModified:pe,name:we,size:Fe,type:Pe}=Q;return Ue(this,A,n1).call(this,`${pe}_${we}_${Fe}_${Pe}`,Q)}async getFromUrl(Q){return Ue(this,A,n1).call(this,Q,Q)}async getFromId(Q){ie(this,E)||Qe(this,E,new Map);const pe=ie(this,E).get(Q);return pe?pe.bitmap?(pe.refCounter+=1,pe):pe.file?this.getFromFile(pe.file):this.getFromUrl(pe.url):null}getSvgUrl(Q){const pe=ie(this,E).get(Q);return pe!=null&&pe.isSvg?pe.svgUrl:null}deleteId(Q){ie(this,E)||Qe(this,E,new Map);const pe=ie(this,E).get(Q);!pe||(pe.refCounter-=1,pe.refCounter===0&&(pe.bitmap=null))}isValidId(Q){return Q.startsWith(`image_${ie(this,w)}_`)}};let p=T;w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakSet,n1=async function(Q,pe){ie(this,E)||Qe(this,E,new Map);let we=ie(this,E).get(Q);if(we===null)return null;if(we!=null&&we.bitmap)return we.refCounter+=1,we;try{we||(we={bitmap:null,id:`image_${ie(this,w)}_${Pa(this,f)._++}`,refCounter:0,isSvg:!1});let Fe;if(typeof pe=="string"){we.url=pe;const Pe=await fetch(pe);if(!Pe.ok)throw new Error(Pe.statusText);Fe=await Pe.blob()}else Fe=we.file=pe;if(Fe.type==="image/svg+xml"){const Pe=T._isSVGFittingCanvas,De=new FileReader,Xe=new Image,je=new Promise((Ze,ot)=>{Xe.onload=()=>{we.bitmap=Xe,we.isSvg=!0,Ze()},De.onload=async()=>{const Ke=we.svgUrl=De.result;Xe.src=await Pe?`${Ke}#svgView(preserveAspectRatio(none))`:Ke},Xe.onerror=De.onerror=ot});De.readAsDataURL(Fe),await je}else we.bitmap=await createImageBitmap(Fe);we.refCounter=1}catch(Fe){console.error(Fe),we=null}return ie(this,E).set(Q,we),we&&ie(this,E).set(we.id,we),we};class x{constructor(Q=128){Le(this,D,[]);Le(this,F,!1);Le(this,C,void 0);Le(this,B,-1);Qe(this,C,Q)}add({cmd:Q,undo:pe,mustExec:we,type:Fe=NaN,overwriteIfSameType:Pe=!1,keepUndo:De=!1}){if(we&&Q(),ie(this,F))return;const Xe={cmd:Q,undo:pe,type:Fe};if(ie(this,B)===-1){ie(this,D).length>0&&(ie(this,D).length=0),Qe(this,B,0),ie(this,D).push(Xe);return}if(Pe&&ie(this,D)[ie(this,B)].type===Fe){De&&(Xe.undo=ie(this,D)[ie(this,B)].undo),ie(this,D)[ie(this,B)]=Xe;return}const je=ie(this,B)+1;je===ie(this,C)?ie(this,D).splice(0,1):(Qe(this,B,je),je<ie(this,D).length&&ie(this,D).splice(je)),ie(this,D).push(Xe)}undo(){ie(this,B)!==-1&&(Qe(this,F,!0),ie(this,D)[ie(this,B)].undo(),Qe(this,F,!1),Qe(this,B,ie(this,B)-1))}redo(){ie(this,B)<ie(this,D).length-1&&(Qe(this,B,ie(this,B)+1),Qe(this,F,!0),ie(this,D)[ie(this,B)].cmd(),Qe(this,F,!1))}hasSomethingToUndo(){return ie(this,B)!==-1}hasSomethingToRedo(){return ie(this,B)<ie(this,D).length-1}destroy(){Qe(this,D,null)}}D=new WeakMap,F=new WeakMap,C=new WeakMap,B=new WeakMap,o.CommandManager=x;class y{constructor(Q){Le(this,M);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pe}=i.FeatureTest.platform;for(const[we,Fe,Pe={}]of Q)for(const De of we){const Xe=De.startsWith("mac+");pe&&Xe?(this.callbacks.set(De.slice(4),{callback:Fe,options:Pe}),this.allKeys.add(De.split("+").at(-1))):!pe&&!Xe&&(this.callbacks.set(De,{callback:Fe,options:Pe}),this.allKeys.add(De.split("+").at(-1)))}}exec(Q,pe){if(!this.allKeys.has(pe.key))return;const we=this.callbacks.get(Ue(this,M,yv).call(this,pe));if(!we)return;const{callback:Fe,options:{bubbles:Pe=!1,args:De=[],checker:Xe=null}}=we;Xe&&!Xe(Q,pe)||(Fe.bind(Q,...De)(),Pe||(pe.stopPropagation(),pe.preventDefault()))}}M=new WeakSet,yv=function(Q){Q.altKey&&this.buffer.push("alt"),Q.ctrlKey&&this.buffer.push("ctrl"),Q.metaKey&&this.buffer.push("meta"),Q.shiftKey&&this.buffer.push("shift"),this.buffer.push(Q.key);const pe=this.buffer.join("+");return this.buffer.length=0,pe},o.KeyboardManager=y;const W=class{get _colors(){const Q=new Map([["CanvasText",null],["Canvas",null]]);return(0,l.getColorValues)(Q),(0,i.shadow)(this,"_colors",Q)}convert(Q){const pe=(0,l.getRGB)(Q);if(!window.matchMedia("(forced-colors: active)").matches)return pe;for(const[we,Fe]of this._colors)if(Fe.every((Pe,De)=>Pe===pe[De]))return W._colorsMapping.get(we);return pe}getHexCode(Q){const pe=this._colors.get(Q);return pe?i.Util.makeHexColor(...pe):Q}};let v=W;Ct(v,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),o.ColorManager=v;const $e=class{constructor(Q,pe,we,Fe,Pe,De){Le(this,ve);Le(this,Me);Le(this,ze);Le(this,Ve);Le(this,ke);Le(this,Te);Le(this,ge);Le(this,Be);Le(this,Je);Le(this,He);Le(this,et);Le(this,qe);Le(this,rt);Le(this,J,null);Le(this,H,new Map);Le(this,N,new Map);Le(this,U,null);Le(this,Y,null);Le(this,_,new x);Le(this,V,0);Le(this,Z,new Set);Le(this,q,null);Le(this,re,null);Le(this,oe,new Set);Le(this,ae,null);Le(this,R,new r);Le(this,S,!1);Le(this,L,!1);Le(this,k,null);Le(this,z,i.AnnotationEditorType.NONE);Le(this,P,new Set);Le(this,K,null);Le(this,te,this.blur.bind(this));Le(this,X,this.focus.bind(this));Le(this,ee,this.copy.bind(this));Le(this,G,this.cut.bind(this));Le(this,ne,this.paste.bind(this));Le(this,se,this.keydown.bind(this));Le(this,le,this.onEditingAction.bind(this));Le(this,he,this.onPageChanging.bind(this));Le(this,be,this.onScaleChanging.bind(this));Le(this,ye,this.onRotationChanging.bind(this));Le(this,de,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Le(this,xe,[0,0]);Le(this,fe,null);Le(this,ce,null);Le(this,ue,null);Qe(this,ce,Q),Qe(this,ue,pe),Qe(this,U,we),this._eventBus=Fe,this._eventBus._on("editingaction",ie(this,le)),this._eventBus._on("pagechanging",ie(this,he)),this._eventBus._on("scalechanging",ie(this,be)),this._eventBus._on("rotationchanging",ie(this,ye)),Qe(this,Y,Pe.annotationStorage),Qe(this,ae,Pe.filterFactory),Qe(this,K,De),this.viewParameters={realScale:l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Q=$e.prototype,pe=Pe=>{const{activeElement:De}=document;return De&&ie(Pe,ce).contains(De)&&Pe.hasSomethingToControl()},we=this.TRANSLATE_SMALL,Fe=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new y([[["ctrl+a","mac+meta+a"],Q.selectAll],[["ctrl+z","mac+meta+z"],Q.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Q.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Q.delete],[["Escape","mac+Escape"],Q.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Q.translateSelectedEditors,{args:[-we,0],checker:pe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Q.translateSelectedEditors,{args:[-Fe,0],checker:pe}],[["ArrowRight","mac+ArrowRight"],Q.translateSelectedEditors,{args:[we,0],checker:pe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Q.translateSelectedEditors,{args:[Fe,0],checker:pe}],[["ArrowUp","mac+ArrowUp"],Q.translateSelectedEditors,{args:[0,-we],checker:pe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Q.translateSelectedEditors,{args:[0,-Fe],checker:pe}],[["ArrowDown","mac+ArrowDown"],Q.translateSelectedEditors,{args:[0,we],checker:pe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Q.translateSelectedEditors,{args:[0,Fe],checker:pe}]]))}destroy(){Ue(this,Ve,D0).call(this),Ue(this,Me,r1).call(this),this._eventBus._off("editingaction",ie(this,le)),this._eventBus._off("pagechanging",ie(this,he)),this._eventBus._off("scalechanging",ie(this,be)),this._eventBus._off("rotationchanging",ie(this,ye));for(const Q of ie(this,N).values())Q.destroy();ie(this,N).clear(),ie(this,H).clear(),ie(this,oe).clear(),Qe(this,J,null),ie(this,P).clear(),ie(this,_).destroy(),ie(this,U).destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",ie(this,K)?ie(this,ae).addHCMFilter(ie(this,K).foreground,ie(this,K).background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(ie(this,ce)).direction)}editAltText(Q){var pe;(pe=ie(this,U))==null||pe.editAltText(this,Q)}onPageChanging({pageNumber:Q}){Qe(this,V,Q-1)}focusMainContainer(){ie(this,ce).focus()}findParent(Q,pe){for(const we of ie(this,N).values()){const{x:Fe,y:Pe,width:De,height:Xe}=we.div.getBoundingClientRect();if(Q>=Fe&&Q<=Fe+De&&pe>=Pe&&pe<=Pe+Xe)return we}return null}disableUserSelect(Q=!1){ie(this,ue).classList.toggle("noUserSelect",Q)}addShouldRescale(Q){ie(this,oe).add(Q)}removeShouldRescale(Q){ie(this,oe).delete(Q)}onScaleChanging({scale:Q}){this.commitOrRemove(),this.viewParameters.realScale=Q*l.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pe of ie(this,oe))pe.onScaleChanging()}onRotationChanging({pagesRotation:Q}){this.commitOrRemove(),this.viewParameters.rotation=Q}addToAnnotationStorage(Q){!Q.isEmpty()&&ie(this,Y)&&!ie(this,Y).has(Q.id)&&ie(this,Y).setValue(Q.id,Q)}blur(){if(!this.hasSelection)return;const{activeElement:Q}=document;for(const pe of ie(this,P))if(pe.div.contains(Q)){Qe(this,k,[pe,Q]),pe._focusEventsAllowed=!1;break}}focus(){if(!ie(this,k))return;const[Q,pe]=ie(this,k);Qe(this,k,null),pe.addEventListener("focusin",()=>{Q._focusEventsAllowed=!0},{once:!0}),pe.focus()}addEditListeners(){Ue(this,ze,a1).call(this),Ue(this,ke,i1).call(this)}removeEditListeners(){Ue(this,Ve,D0).call(this),Ue(this,Te,s1).call(this)}copy(Q){var we;if(Q.preventDefault(),(we=ie(this,J))==null||we.commitOrRemove(),!this.hasSelection)return;const pe=[];for(const Fe of ie(this,P)){const Pe=Fe.serialize(!0);Pe&&pe.push(Pe)}pe.length!==0&&Q.clipboardData.setData("application/pdfjs",JSON.stringify(pe))}cut(Q){this.copy(Q),this.delete()}paste(Q){Q.preventDefault();const{clipboardData:pe}=Q;for(const Pe of pe.items)for(const De of ie(this,re))if(De.isHandlingMimeForPasting(Pe.type)){De.paste(Pe,this.currentLayer);return}let we=pe.getData("application/pdfjs");if(!we)return;try{we=JSON.parse(we)}catch(Pe){(0,i.warn)(`paste: "${Pe.message}".`);return}if(!Array.isArray(we))return;this.unselectAll();const Fe=this.currentLayer;try{const Pe=[];for(const je of we){const Ze=Fe.deserialize(je);if(!Ze)return;Pe.push(Ze)}const De=()=>{for(const je of Pe)Ue(this,et,o1).call(this,je);Ue(this,rt,c1).call(this,Pe)},Xe=()=>{for(const je of Pe)je.remove()};this.addCommands({cmd:De,undo:Xe,mustExec:!0})}catch(Pe){(0,i.warn)(`paste: "${Pe.message}".`)}}keydown(Q){var pe;(pe=this.getActive())!=null&&pe.shouldGetKeyboardEvents()||$e._keyboardManager.exec(this,Q)}onEditingAction(Q){["undo","redo","delete","selectAll"].includes(Q.name)&&this[Q.name]()}setEditingState(Q){Q?(Ue(this,ve,vv).call(this),Ue(this,ze,a1).call(this),Ue(this,ke,i1).call(this),Ue(this,ge,_r).call(this,{isEditing:ie(this,z)!==i.AnnotationEditorType.NONE,isEmpty:Ue(this,qe,ac).call(this),hasSomethingToUndo:ie(this,_).hasSomethingToUndo(),hasSomethingToRedo:ie(this,_).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ue(this,Me,r1).call(this),Ue(this,Ve,D0).call(this),Ue(this,Te,s1).call(this),Ue(this,ge,_r).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Q){if(!ie(this,re)){Qe(this,re,Q);for(const pe of ie(this,re))Ue(this,Be,rc).call(this,pe.defaultPropertiesToUpdate)}}getId(){return ie(this,R).getId()}get currentLayer(){return ie(this,N).get(ie(this,V))}getLayer(Q){return ie(this,N).get(Q)}get currentPageIndex(){return ie(this,V)}addLayer(Q){ie(this,N).set(Q.pageIndex,Q),ie(this,S)?Q.enable():Q.disable()}removeLayer(Q){ie(this,N).delete(Q.pageIndex)}updateMode(Q,pe=null){if(ie(this,z)!==Q){if(Qe(this,z,Q),Q===i.AnnotationEditorType.NONE){this.setEditingState(!1),Ue(this,He,Av).call(this);return}this.setEditingState(!0),Ue(this,Je,wv).call(this),this.unselectAll();for(const we of ie(this,N).values())we.updateMode(Q);if(!!pe){for(const we of ie(this,H).values())if(we.annotationElementId===pe){this.setSelected(we),we.enterInEditMode();break}}}}updateToolbar(Q){Q!==ie(this,z)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Q})}updateParams(Q,pe){if(!!ie(this,re)){if(Q===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Q);return}for(const we of ie(this,P))we.updateParams(Q,pe);for(const we of ie(this,re))we.updateDefaultParams(Q,pe)}}enableWaiting(Q=!1){if(ie(this,L)!==Q){Qe(this,L,Q);for(const pe of ie(this,N).values())Q?pe.disableClick():pe.enableClick(),pe.div.classList.toggle("waiting",Q)}}getEditors(Q){const pe=[];for(const we of ie(this,H).values())we.pageIndex===Q&&pe.push(we);return pe}getEditor(Q){return ie(this,H).get(Q)}addEditor(Q){ie(this,H).set(Q.id,Q)}removeEditor(Q){var pe;ie(this,H).delete(Q.id),this.unselect(Q),(!Q.annotationElementId||!ie(this,Z).has(Q.annotationElementId))&&((pe=ie(this,Y))==null||pe.remove(Q.id))}addDeletedAnnotationElement(Q){ie(this,Z).add(Q.annotationElementId),Q.deleted=!0}isDeletedAnnotationElement(Q){return ie(this,Z).has(Q)}removeDeletedAnnotationElement(Q){ie(this,Z).delete(Q.annotationElementId),Q.deleted=!1}setActiveEditor(Q){ie(this,J)!==Q&&(Qe(this,J,Q),Q&&Ue(this,Be,rc).call(this,Q.propertiesToUpdate))}toggleSelected(Q){if(ie(this,P).has(Q)){ie(this,P).delete(Q),Q.unselect(),Ue(this,ge,_r).call(this,{hasSelectedEditor:this.hasSelection});return}ie(this,P).add(Q),Q.select(),Ue(this,Be,rc).call(this,Q.propertiesToUpdate),Ue(this,ge,_r).call(this,{hasSelectedEditor:!0})}setSelected(Q){for(const pe of ie(this,P))pe!==Q&&pe.unselect();ie(this,P).clear(),ie(this,P).add(Q),Q.select(),Ue(this,Be,rc).call(this,Q.propertiesToUpdate),Ue(this,ge,_r).call(this,{hasSelectedEditor:!0})}isSelected(Q){return ie(this,P).has(Q)}unselect(Q){Q.unselect(),ie(this,P).delete(Q),Ue(this,ge,_r).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ie(this,P).size!==0}undo(){ie(this,_).undo(),Ue(this,ge,_r).call(this,{hasSomethingToUndo:ie(this,_).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ue(this,qe,ac).call(this)})}redo(){ie(this,_).redo(),Ue(this,ge,_r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ie(this,_).hasSomethingToRedo(),isEmpty:Ue(this,qe,ac).call(this)})}addCommands(Q){ie(this,_).add(Q),Ue(this,ge,_r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ue(this,qe,ac).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Q=[...ie(this,P)],pe=()=>{for(const Fe of Q)Fe.remove()},we=()=>{for(const Fe of Q)Ue(this,et,o1).call(this,Fe)};this.addCommands({cmd:pe,undo:we,mustExec:!0})}commitOrRemove(){var Q;(Q=ie(this,J))==null||Q.commitOrRemove()}hasSomethingToControl(){return ie(this,J)||this.hasSelection}selectAll(){for(const Q of ie(this,P))Q.commit();Ue(this,rt,c1).call(this,ie(this,H).values())}unselectAll(){if(ie(this,J)){ie(this,J).commitOrRemove();return}if(!!this.hasSelection){for(const Q of ie(this,P))Q.unselect();ie(this,P).clear(),Ue(this,ge,_r).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Q,pe,we=!1){if(we||this.commitOrRemove(),!this.hasSelection)return;ie(this,xe)[0]+=Q,ie(this,xe)[1]+=pe;const[Fe,Pe]=ie(this,xe),De=[...ie(this,P)],Xe=1e3;ie(this,fe)&&clearTimeout(ie(this,fe)),Qe(this,fe,setTimeout(()=>{Qe(this,fe,null),ie(this,xe)[0]=ie(this,xe)[1]=0,this.addCommands({cmd:()=>{for(const je of De)ie(this,H).has(je.id)&&je.translateInPage(Fe,Pe)},undo:()=>{for(const je of De)ie(this,H).has(je.id)&&je.translateInPage(-Fe,-Pe)},mustExec:!1})},Xe));for(const je of De)je.translateInPage(Q,pe)}setUpDragSession(){if(!!this.hasSelection){this.disableUserSelect(!0),Qe(this,q,new Map);for(const Q of ie(this,P))ie(this,q).set(Q,{savedX:Q.x,savedY:Q.y,savedPageIndex:Q.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!ie(this,q))return!1;this.disableUserSelect(!1);const Q=ie(this,q);Qe(this,q,null);let pe=!1;for(const[{x:Fe,y:Pe,pageIndex:De},Xe]of Q)Xe.newX=Fe,Xe.newY=Pe,Xe.newPageIndex=De,pe||(pe=Fe!==Xe.savedX||Pe!==Xe.savedY||De!==Xe.savedPageIndex);if(!pe)return!1;const we=(Fe,Pe,De,Xe)=>{if(ie(this,H).has(Fe.id)){const je=ie(this,N).get(Xe);je?Fe._setParentAndPosition(je,Pe,De):(Fe.pageIndex=Xe,Fe.x=Pe,Fe.y=De)}};return this.addCommands({cmd:()=>{for(const[Fe,{newX:Pe,newY:De,newPageIndex:Xe}]of Q)we(Fe,Pe,De,Xe)},undo:()=>{for(const[Fe,{savedX:Pe,savedY:De,savedPageIndex:Xe}]of Q)we(Fe,Pe,De,Xe)},mustExec:!0}),!0}dragSelectedEditors(Q,pe){if(!!ie(this,q))for(const we of ie(this,q).keys())we.drag(Q,pe)}rebuild(Q){if(Q.parent===null){const pe=this.getLayer(Q.pageIndex);pe?(pe.changeParent(Q),pe.addOrRebuild(Q)):(this.addEditor(Q),this.addToAnnotationStorage(Q),Q.rebuild())}else Q.parent.addOrRebuild(Q)}isActive(Q){return ie(this,J)===Q}getActive(){return ie(this,J)}getMode(){return ie(this,z)}get imageManager(){return(0,i.shadow)(this,"imageManager",new p)}};let b=$e;J=new WeakMap,H=new WeakMap,N=new WeakMap,U=new WeakMap,Y=new WeakMap,_=new WeakMap,V=new WeakMap,Z=new WeakMap,q=new WeakMap,re=new WeakMap,oe=new WeakMap,ae=new WeakMap,R=new WeakMap,S=new WeakMap,L=new WeakMap,k=new WeakMap,z=new WeakMap,P=new WeakMap,K=new WeakMap,te=new WeakMap,X=new WeakMap,ee=new WeakMap,G=new WeakMap,ne=new WeakMap,se=new WeakMap,le=new WeakMap,he=new WeakMap,be=new WeakMap,ye=new WeakMap,de=new WeakMap,xe=new WeakMap,fe=new WeakMap,ce=new WeakMap,ue=new WeakMap,ve=new WeakSet,vv=function(){window.addEventListener("focus",ie(this,X)),window.addEventListener("blur",ie(this,te))},Me=new WeakSet,r1=function(){window.removeEventListener("focus",ie(this,X)),window.removeEventListener("blur",ie(this,te))},ze=new WeakSet,a1=function(){window.addEventListener("keydown",ie(this,se),{capture:!0})},Ve=new WeakSet,D0=function(){window.removeEventListener("keydown",ie(this,se),{capture:!0})},ke=new WeakSet,i1=function(){document.addEventListener("copy",ie(this,ee)),document.addEventListener("cut",ie(this,G)),document.addEventListener("paste",ie(this,ne))},Te=new WeakSet,s1=function(){document.removeEventListener("copy",ie(this,ee)),document.removeEventListener("cut",ie(this,G)),document.removeEventListener("paste",ie(this,ne))},ge=new WeakSet,_r=function(Q){Object.entries(Q).some(([we,Fe])=>ie(this,de)[we]!==Fe)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ie(this,de),Q)})},Be=new WeakSet,rc=function(Q){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Q})},Je=new WeakSet,wv=function(){if(!ie(this,S)){Qe(this,S,!0);for(const Q of ie(this,N).values())Q.enable()}},He=new WeakSet,Av=function(){if(this.unselectAll(),ie(this,S)){Qe(this,S,!1);for(const Q of ie(this,N).values())Q.disable()}},et=new WeakSet,o1=function(Q){const pe=ie(this,N).get(Q.pageIndex);pe?pe.addOrRebuild(Q):this.addEditor(Q)},qe=new WeakSet,ac=function(){if(ie(this,H).size===0)return!0;if(ie(this,H).size===1)for(const Q of ie(this,H).values())return Q.isEmpty();return!1},rt=new WeakSet,c1=function(Q){ie(this,P).clear();for(const pe of Q)pe.isEmpty()||(ie(this,P).add(pe),pe.select());Ue(this,ge,_r).call(this,{hasSelectedEditor:!0})},Ct(b,"TRANSLATE_SMALL",1),Ct(b,"TRANSLATE_BIG",10),o.AnnotationEditorUIManager=b},(h,o,s)=>{var V,Z,q,re,oe,ae,R,S,L,k,z,P,Us,te,_s,ee,l1,ne,L0,le,N0,be,ic,de,sc;Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMFilterFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=B,o.getColorValues=H,o.getCurrentTransform=N,o.getCurrentTransformInverse=U,o.getFilenameFromUrl=A,o.getPdfFilenameFromUrl=O,o.getRGB=J,o.getXfaPageViewport=W,o.isDataScheme=f,o.isPdfFile=E,o.isValidFetchUrl=D,o.loadScript=C,o.noContextMenu=F,o.setLayerDimensions=Y;var i=s(7),l=s(1);const d="http://www.w3.org/2000/svg",_=class{};let e=_;Ct(e,"CSS",96),Ct(e,"PDF",72),Ct(e,"PDF_TO_CSS_UNITS",_.CSS/_.PDF),o.PixelsPerInch=e;class r extends i.BaseFilterFactory{constructor({docId:ue,ownerDocument:ve=globalThis.document}={}){super();Le(this,P);Le(this,te);Le(this,ee);Le(this,ne);Le(this,le);Le(this,be);Le(this,de);Le(this,V,void 0);Le(this,Z,void 0);Le(this,q,void 0);Le(this,re,void 0);Le(this,oe,void 0);Le(this,ae,void 0);Le(this,R,void 0);Le(this,S,void 0);Le(this,L,void 0);Le(this,k,void 0);Le(this,z,0);Qe(this,q,ue),Qe(this,re,ve)}addFilter(ue){if(!ue)return"none";let ve=ie(this,P,Us).get(ue);if(ve)return ve;let Ee,Me,_e,ze;if(ue.length===1){const ke=ue[0],Ie=new Array(256);for(let Te=0;Te<256;Te++)Ie[Te]=ke[Te]/255;ze=Ee=Me=_e=Ie.join(",")}else{const[ke,Ie,Te]=ue,Ae=new Array(256),ge=new Array(256),Ce=new Array(256);for(let Be=0;Be<256;Be++)Ae[Be]=ke[Be]/255,ge[Be]=Ie[Be]/255,Ce[Be]=Te[Be]/255;Ee=Ae.join(","),Me=ge.join(","),_e=Ce.join(","),ze=`${Ee}${Me}${_e}`}if(ve=ie(this,P,Us).get(ze),ve)return ie(this,P,Us).set(ue,ve),ve;const We=`g_${ie(this,q)}_transfer_map_${Pa(this,z)._++}`,Ve=`url(#${We})`;ie(this,P,Us).set(ue,Ve),ie(this,P,Us).set(ze,Ve);const Ne=Ue(this,ne,L0).call(this,We);return Ue(this,be,ic).call(this,Ee,Me,_e,Ne),Ve}addHCMFilter(ue,ve){var Ie;const Ee=`${ue}-${ve}`;if(ie(this,ae)===Ee)return ie(this,R);if(Qe(this,ae,Ee),Qe(this,R,"none"),(Ie=ie(this,oe))==null||Ie.remove(),!ue||!ve)return ie(this,R);const Me=Ue(this,de,sc).call(this,ue);ue=l.Util.makeHexColor(...Me);const _e=Ue(this,de,sc).call(this,ve);if(ve=l.Util.makeHexColor(..._e),ie(this,te,_s).style.color="",ue==="#000000"&&ve==="#ffffff"||ue===ve)return ie(this,R);const ze=new Array(256);for(let Te=0;Te<=255;Te++){const Ae=Te/255;ze[Te]=Ae<=.03928?Ae/12.92:((Ae+.055)/1.055)**2.4}const We=ze.join(","),Ve=`g_${ie(this,q)}_hcm_filter`,Ne=Qe(this,S,Ue(this,ne,L0).call(this,Ve));Ue(this,be,ic).call(this,We,We,We,Ne),Ue(this,ee,l1).call(this,Ne);const ke=(Te,Ae)=>{const ge=Me[Te]/255,Ce=_e[Te]/255,Be=new Array(Ae+1);for(let Ye=0;Ye<=Ae;Ye++)Be[Ye]=ge+Ye/Ae*(Ce-ge);return Be.join(",")};return Ue(this,be,ic).call(this,ke(0,5),ke(1,5),ke(2,5),Ne),Qe(this,R,`url(#${Ve})`),ie(this,R)}addHighlightHCMFilter(ue,ve,Ee,Me){var Ce;const _e=`${ue}-${ve}-${Ee}-${Me}`;if(ie(this,L)===_e)return ie(this,k);if(Qe(this,L,_e),Qe(this,k,"none"),(Ce=ie(this,S))==null||Ce.remove(),!ue||!ve)return ie(this,k);const[ze,We]=[ue,ve].map(Ue(this,de,sc).bind(this));let Ve=Math.round(.2126*ze[0]+.7152*ze[1]+.0722*ze[2]),Ne=Math.round(.2126*We[0]+.7152*We[1]+.0722*We[2]),[ke,Ie]=[Ee,Me].map(Ue(this,de,sc).bind(this));Ne<Ve&&([Ve,Ne,ke,Ie]=[Ne,Ve,Ie,ke]),ie(this,te,_s).style.color="";const Te=(Be,Ye,Je)=>{const Re=new Array(256),He=(Ne-Ve)/Je,nt=Be/255,et=(Ye-Be)/(255*Je);let it=0;for(let qe=0;qe<=Je;qe++){const lt=Math.round(Ve+qe*He),rt=nt+qe*et;for(let Oe=it;Oe<=lt;Oe++)Re[Oe]=rt;it=lt+1}for(let qe=it;qe<256;qe++)Re[qe]=Re[it-1];return Re.join(",")},Ae=`g_${ie(this,q)}_hcm_highlight_filter`,ge=Qe(this,S,Ue(this,ne,L0).call(this,Ae));return Ue(this,ee,l1).call(this,ge),Ue(this,be,ic).call(this,Te(ke[0],Ie[0],5),Te(ke[1],Ie[1],5),Te(ke[2],Ie[2],5),ge),Qe(this,k,`url(#${Ae})`),ie(this,k)}destroy(ue=!1){ue&&(ie(this,R)||ie(this,k))||(ie(this,Z)&&(ie(this,Z).parentNode.parentNode.remove(),Qe(this,Z,null)),ie(this,V)&&(ie(this,V).clear(),Qe(this,V,null)),Qe(this,z,0))}}V=new WeakMap,Z=new WeakMap,q=new WeakMap,re=new WeakMap,oe=new WeakMap,ae=new WeakMap,R=new WeakMap,S=new WeakMap,L=new WeakMap,k=new WeakMap,z=new WeakMap,P=new WeakSet,Us=function(){return ie(this,V)||Qe(this,V,new Map)},te=new WeakSet,_s=function(){if(!ie(this,Z)){const ue=ie(this,re).createElement("div"),{style:ve}=ue;ve.visibility="hidden",ve.contain="strict",ve.width=ve.height=0,ve.position="absolute",ve.top=ve.left=0,ve.zIndex=-1;const Ee=ie(this,re).createElementNS(d,"svg");Ee.setAttribute("width",0),Ee.setAttribute("height",0),Qe(this,Z,ie(this,re).createElementNS(d,"defs")),ue.append(Ee),Ee.append(ie(this,Z)),ie(this,re).body.append(ue)}return ie(this,Z)},ee=new WeakSet,l1=function(ue){const ve=ie(this,re).createElementNS(d,"feColorMatrix");ve.setAttribute("type","matrix"),ve.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ue.append(ve)},ne=new WeakSet,L0=function(ue){const ve=ie(this,re).createElementNS(d,"filter");return ve.setAttribute("color-interpolation-filters","sRGB"),ve.setAttribute("id",ue),ie(this,te,_s).append(ve),ve},le=new WeakSet,N0=function(ue,ve,Ee){const Me=ie(this,re).createElementNS(d,ve);Me.setAttribute("type","discrete"),Me.setAttribute("tableValues",Ee),ue.append(Me)},be=new WeakSet,ic=function(ue,ve,Ee,Me){const _e=ie(this,re).createElementNS(d,"feComponentTransfer");Me.append(_e),Ue(this,le,N0).call(this,_e,"feFuncR",ue),Ue(this,le,N0).call(this,_e,"feFuncG",ve),Ue(this,le,N0).call(this,_e,"feFuncB",Ee)},de=new WeakSet,sc=function(ue){return ie(this,te,_s).style.color=ue,J(getComputedStyle(ie(this,te,_s)).getPropertyValue("color"))},o.DOMFilterFactory=r;class p extends i.BaseCanvasFactory{constructor({ownerDocument:ce=globalThis.document}={}){super(),this._document=ce}_createCanvas(ce,ue){const ve=this._document.createElement("canvas");return ve.width=ce,ve.height=ue,ve}}o.DOMCanvasFactory=p;async function x(fe,ce=!1){if(D(fe,document.baseURI)){const ue=await fetch(fe);if(!ue.ok)throw new Error(ue.statusText);return ce?new Uint8Array(await ue.arrayBuffer()):(0,l.stringToBytes)(await ue.text())}return new Promise((ue,ve)=>{const Ee=new XMLHttpRequest;Ee.open("GET",fe,!0),ce&&(Ee.responseType="arraybuffer"),Ee.onreadystatechange=()=>{if(Ee.readyState===XMLHttpRequest.DONE){if(Ee.status===200||Ee.status===0){let Me;if(ce&&Ee.response?Me=new Uint8Array(Ee.response):!ce&&Ee.responseText&&(Me=(0,l.stringToBytes)(Ee.responseText)),Me){ue(Me);return}}ve(new Error(Ee.statusText))}},Ee.send(null)})}class y extends i.BaseCMapReaderFactory{_fetchData(ce,ue){return x(ce,this.isCompressed).then(ve=>({cMapData:ve,compressionType:ue}))}}o.DOMCMapReaderFactory=y;class v extends i.BaseStandardFontDataFactory{_fetchData(ce){return x(ce,!0)}}o.DOMStandardFontDataFactory=v;class b extends i.BaseSVGFactory{_createSVG(ce){return document.createElementNS(d,ce)}}o.DOMSVGFactory=b;class g{constructor({viewBox:ce,scale:ue,rotation:ve,offsetX:Ee=0,offsetY:Me=0,dontFlip:_e=!1}){this.viewBox=ce,this.scale=ue,this.rotation=ve,this.offsetX=Ee,this.offsetY=Me;const ze=(ce[2]+ce[0])/2,We=(ce[3]+ce[1])/2;let Ve,Ne,ke,Ie;switch(ve%=360,ve<0&&(ve+=360),ve){case 180:Ve=-1,Ne=0,ke=0,Ie=1;break;case 90:Ve=0,Ne=1,ke=1,Ie=0;break;case 270:Ve=0,Ne=-1,ke=-1,Ie=0;break;case 0:Ve=1,Ne=0,ke=0,Ie=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}_e&&(ke=-ke,Ie=-Ie);let Te,Ae,ge,Ce;Ve===0?(Te=Math.abs(We-ce[1])*ue+Ee,Ae=Math.abs(ze-ce[0])*ue+Me,ge=(ce[3]-ce[1])*ue,Ce=(ce[2]-ce[0])*ue):(Te=Math.abs(ze-ce[0])*ue+Ee,Ae=Math.abs(We-ce[1])*ue+Me,ge=(ce[2]-ce[0])*ue,Ce=(ce[3]-ce[1])*ue),this.transform=[Ve*ue,Ne*ue,ke*ue,Ie*ue,Te-Ve*ue*ze-ke*ue*We,Ae-Ne*ue*ze-Ie*ue*We],this.width=ge,this.height=Ce}get rawDims(){const{viewBox:ce}=this;return(0,l.shadow)(this,"rawDims",{pageWidth:ce[2]-ce[0],pageHeight:ce[3]-ce[1],pageX:ce[0],pageY:ce[1]})}clone({scale:ce=this.scale,rotation:ue=this.rotation,offsetX:ve=this.offsetX,offsetY:Ee=this.offsetY,dontFlip:Me=!1}={}){return new g({viewBox:this.viewBox.slice(),scale:ce,rotation:ue,offsetX:ve,offsetY:Ee,dontFlip:Me})}convertToViewportPoint(ce,ue){return l.Util.applyTransform([ce,ue],this.transform)}convertToViewportRectangle(ce){const ue=l.Util.applyTransform([ce[0],ce[1]],this.transform),ve=l.Util.applyTransform([ce[2],ce[3]],this.transform);return[ue[0],ue[1],ve[0],ve[1]]}convertToPdfPoint(ce,ue){return l.Util.applyInverseTransform([ce,ue],this.transform)}}o.PageViewport=g;class w extends l.BaseException{constructor(ce,ue=0){super(ce,"RenderingCancelledException"),this.extraDelay=ue}}o.RenderingCancelledException=w;function f(fe){const ce=fe.length;let ue=0;for(;ue<ce&&fe[ue].trim()==="";)ue++;return fe.substring(ue,ue+5).toLowerCase()==="data:"}function E(fe){return typeof fe=="string"&&/\.pdf$/i.test(fe)}function A(fe,ce=!1){return ce||([fe]=fe.split(/[#?]/,1)),fe.substring(fe.lastIndexOf("/")+1)}function O(fe,ce="document.pdf"){if(typeof fe!="string")return ce;if(f(fe))return(0,l.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ce;const ue=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ve=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ee=ue.exec(fe);let Me=ve.exec(Ee[1])||ve.exec(Ee[2])||ve.exec(Ee[3]);if(Me&&(Me=Me[0],Me.includes("%")))try{Me=ve.exec(decodeURIComponent(Me))[0]}catch{}return Me||ce}class T{constructor(){Ct(this,"started",Object.create(null));Ct(this,"times",[])}time(ce){ce in this.started&&(0,l.warn)(`Timer is already running for ${ce}`),this.started[ce]=Date.now()}timeEnd(ce){ce in this.started||(0,l.warn)(`Timer has not been started for ${ce}`),this.times.push({name:ce,start:this.started[ce],end:Date.now()}),delete this.started[ce]}toString(){const ce=[];let ue=0;for(const{name:ve}of this.times)ue=Math.max(ve.length,ue);for(const{name:ve,start:Ee,end:Me}of this.times)ce.push(`${ve.padEnd(ue)} ${Me-Ee}ms
`);return ce.join("")}}o.StatTimer=T;function D(fe,ce){try{const{protocol:ue}=ce?new URL(fe,ce):new URL(fe);return ue==="http:"||ue==="https:"}catch{return!1}}function F(fe){fe.preventDefault()}function C(fe,ce=!1){return new Promise((ue,ve)=>{const Ee=document.createElement("script");Ee.src=fe,Ee.onload=function(Me){ce&&Ee.remove(),ue(Me)},Ee.onerror=function(){ve(new Error(`Cannot load script at: ${Ee.src}`))},(document.head||document.documentElement).append(Ee)})}function B(fe){console.log("Deprecated API usage: "+fe)}let M;class I{static toDateObject(ce){if(!ce||typeof ce!="string")return null;M||(M=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ue=M.exec(ce);if(!ue)return null;const ve=parseInt(ue[1],10);let Ee=parseInt(ue[2],10);Ee=Ee>=1&&Ee<=12?Ee-1:0;let Me=parseInt(ue[3],10);Me=Me>=1&&Me<=31?Me:1;let _e=parseInt(ue[4],10);_e=_e>=0&&_e<=23?_e:0;let ze=parseInt(ue[5],10);ze=ze>=0&&ze<=59?ze:0;let We=parseInt(ue[6],10);We=We>=0&&We<=59?We:0;const Ve=ue[7]||"Z";let Ne=parseInt(ue[8],10);Ne=Ne>=0&&Ne<=23?Ne:0;let ke=parseInt(ue[9],10)||0;return ke=ke>=0&&ke<=59?ke:0,Ve==="-"?(_e+=Ne,ze+=ke):Ve==="+"&&(_e-=Ne,ze-=ke),new Date(Date.UTC(ve,Ee,Me,_e,ze,We))}}o.PDFDateString=I;function W(fe,{scale:ce=1,rotation:ue=0}){const{width:ve,height:Ee}=fe.attributes.style,Me=[0,0,parseInt(ve),parseInt(Ee)];return new g({viewBox:Me,scale:ce,rotation:ue})}function J(fe){if(fe.startsWith("#")){const ce=parseInt(fe.slice(1),16);return[(ce&16711680)>>16,(ce&65280)>>8,ce&255]}return fe.startsWith("rgb(")?fe.slice(4,-1).split(",").map(ce=>parseInt(ce)):fe.startsWith("rgba(")?fe.slice(5,-1).split(",").map(ce=>parseInt(ce)).slice(0,3):((0,l.warn)(`Not a valid color format: "${fe}"`),[0,0,0])}function H(fe){const ce=document.createElement("span");ce.style.visibility="hidden",document.body.append(ce);for(const ue of fe.keys()){ce.style.color=ue;const ve=window.getComputedStyle(ce).color;fe.set(ue,J(ve))}ce.remove()}function N(fe){const{a:ce,b:ue,c:ve,d:Ee,e:Me,f:_e}=fe.getTransform();return[ce,ue,ve,Ee,Me,_e]}function U(fe){const{a:ce,b:ue,c:ve,d:Ee,e:Me,f:_e}=fe.getTransform().invertSelf();return[ce,ue,ve,Ee,Me,_e]}function Y(fe,ce,ue=!1,ve=!0){if(ce instanceof g){const{pageWidth:Ee,pageHeight:Me}=ce.rawDims,{style:_e}=fe,ze=l.FeatureTest.isCSSRoundSupported,We=`var(--scale-factor) * ${Ee}px`,Ve=`var(--scale-factor) * ${Me}px`,Ne=ze?`round(${We}, 1px)`:`calc(${We})`,ke=ze?`round(${Ve}, 1px)`:`calc(${Ve})`;!ue||ce.rotation%180===0?(_e.width=Ne,_e.height=ke):(_e.width=ke,_e.height=Ne)}ve&&fe.setAttribute("data-main-rotation",ce.rotation)}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseFilterFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var i=s(1);class l{constructor(){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(y){return"none"}addHCMFilter(y,v){return"none"}addHighlightHCMFilter(y,v,b,g){return"none"}destroy(y=!1){}}o.BaseFilterFactory=l;class d{constructor(){this.constructor===d&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(y,v){if(y<=0||v<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(y,v);return{canvas:b,context:b.getContext("2d")}}reset(y,v,b){if(!y.canvas)throw new Error("Canvas is not specified");if(v<=0||b<=0)throw new Error("Invalid canvas size");y.canvas.width=v,y.canvas.height=b}destroy(y){if(!y.canvas)throw new Error("Canvas is not specified");y.canvas.width=0,y.canvas.height=0,y.canvas=null,y.context=null}_createCanvas(y,v){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=d;class e{constructor({baseUrl:y=null,isCompressed:v=!0}){this.constructor===e&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=y,this.isCompressed=v}async fetch({name:y}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!y)throw new Error("CMap name must be specified.");const v=this.baseUrl+y+(this.isCompressed?".bcmap":""),b=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(v,b).catch(g=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${v}`)})}_fetchData(y,v){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=e;class r{constructor({baseUrl:y=null}){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=y}async fetch({filename:y}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!y)throw new Error("Font filename must be specified.");const v=`${this.baseUrl}${y}`;return this._fetchData(v).catch(b=>{throw new Error(`Unable to load font data at: ${v}`)})}_fetchData(y){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=r;class p{constructor(){this.constructor===p&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(y,v,b=!1){if(y<=0||v<=0)throw new Error("Invalid SVG dimensions");const g=this._createSVG("svg:svg");return g.setAttribute("version","1.1"),b||(g.setAttribute("width",`${y}px`),g.setAttribute("height",`${v}px`)),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("viewBox",`0 0 ${y} ${v}`),g}createElement(y){if(typeof y!="string")throw new Error("Invalid SVG element type");return this._createSVG(y)}_createSVG(y){(0,i.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=p},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var i=s(1);const l=3285377520,d=4294901760,e=65535;class r{constructor(x){this.h1=x?x&4294967295:l,this.h2=x?x&4294967295:l}update(x){let y,v;if(typeof x=="string"){y=new Uint8Array(x.length*2),v=0;for(let B=0,M=x.length;B<M;B++){const I=x.charCodeAt(B);I<=255?y[v++]=I:(y[v++]=I>>>8,y[v++]=I&255)}}else if((0,i.isArrayBuffer)(x))y=x.slice(),v=y.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const b=v>>2,g=v-b*4,w=new Uint32Array(y.buffer,0,b);let f=0,E=0,A=this.h1,O=this.h2;const T=3432918353,D=461845907,F=T&e,C=D&e;for(let B=0;B<b;B++)B&1?(f=w[B],f=f*T&d|f*F&e,f=f<<15|f>>>17,f=f*D&d|f*C&e,A^=f,A=A<<13|A>>>19,A=A*5+3864292196):(E=w[B],E=E*T&d|E*F&e,E=E<<15|E>>>17,E=E*D&d|E*C&e,O^=E,O=O<<13|O>>>19,O=O*5+3864292196);switch(f=0,g){case 3:f^=y[b*4+2]<<16;case 2:f^=y[b*4+1]<<8;case 1:f^=y[b*4],f=f*T&d|f*F&e,f=f<<15|f>>>17,f=f*D&d|f*C&e,b&1?A^=f:O^=f}this.h1=A,this.h2=O}hexdigest(){let x=this.h1,y=this.h2;return x^=y>>>1,x=x*3981806797&d|x*36045&e,y=y*4283543511&d|((y<<16|x>>>16)*2950163797&d)>>>16,x^=y>>>1,x=x*444984403&d|x*60499&e,y=y*3301882366&d|((y<<16|x>>>16)*3120437893&d)>>>16,x^=y>>>1,(x>>>0).toString(16).padStart(8,"0")+(y>>>0).toString(16).padStart(8,"0")}}o.MurmurHash3_64=r},(h,o,s)=>{var e;Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var i=s(1);class l{constructor({ownerDocument:p=globalThis.document,styleElement:x=null}){Le(this,e,new Set);this._document=p,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(p){this.nativeFontFaces.add(p),this._document.fonts.add(p)}removeNativeFontFace(p){this.nativeFontFaces.delete(p),this._document.fonts.delete(p)}insertRule(p){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const x=this.styleElement.sheet;x.insertRule(p,x.cssRules.length)}clear(){for(const p of this.nativeFontFaces)this._document.fonts.delete(p);this.nativeFontFaces.clear(),ie(this,e).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(p){if(!(!p||ie(this,e).has(p.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:x,src:y,style:v}=p,b=new FontFace(x,y,v);this.addNativeFontFace(b);try{await b.load(),ie(this,e).add(x)}catch{(0,i.warn)(`Cannot load system font: ${p.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(b)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(p){if(p.attached||p.missingFile&&!p.systemFontInfo)return;if(p.attached=!0,p.systemFontInfo){await this.loadSystemFont(p.systemFontInfo);return}if(this.isFontLoadingAPISupported){const y=p.createNativeFontFace();if(y){this.addNativeFontFace(y);try{await y.loaded}catch(v){throw(0,i.warn)(`Failed to load font '${y.family}': '${v}'.`),p.disableFontFace=!0,v}}return}const x=p.createFontFaceRule();if(x){if(this.insertRule(x),this.isSyncFontLoadingSupported)return;await new Promise(y=>{const v=this._queueLoadingCallback(y);this._prepareFontLoadEvent(p,v)})}}get isFontLoadingAPISupported(){var x;const p=!!((x=this._document)!=null&&x.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",p)}get isSyncFontLoadingSupported(){let p=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(p=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",p)}_queueLoadingCallback(p){function x(){for((0,i.assert)(!v.done,"completeRequest() cannot be called twice."),v.done=!0;y.length>0&&y[0].done;){const b=y.shift();setTimeout(b.callback,0)}}const{loadingRequests:y}=this,v={done:!1,complete:x,callback:p};return y.push(v),v}get _loadTestFont(){const p=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",p)}_prepareFontLoadEvent(p,x){function y(J,H){return J.charCodeAt(H)<<24|J.charCodeAt(H+1)<<16|J.charCodeAt(H+2)<<8|J.charCodeAt(H+3)&255}function v(J,H,N,U){const Y=J.substring(0,H),_=J.substring(H+N);return Y+U+_}let b,g;const w=this._document.createElement("canvas");w.width=1,w.height=1;const f=w.getContext("2d");let E=0;function A(J,H){if(++E>30){(0,i.warn)("Load test font never loaded."),H();return}if(f.font="30px "+J,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(A.bind(null,J,H))}const O=`lt${Date.now()}${this.loadTestFontId++}`;let T=this._loadTestFont;T=v(T,976,O.length,O);const F=16,C=1482184792;let B=y(T,F);for(b=0,g=O.length-3;b<g;b+=4)B=B-C+y(O,b)|0;b<O.length&&(B=B-C+y(O+"XXX",b)|0),T=v(T,F,4,(0,i.string32)(B));const M=`url(data:font/opentype;base64,${btoa(T)});`,I=`@font-face {font-family:"${O}";src:${M}}`;this.insertRule(I);const W=this._document.createElement("div");W.style.visibility="hidden",W.style.width=W.style.height="10px",W.style.position="absolute",W.style.top=W.style.left="0px";for(const J of[p.loadedName,O]){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=J,W.append(H)}this._document.body.append(W),A(O,()=>{W.remove(),x.complete()})}}e=new WeakMap,o.FontLoader=l;class d{constructor(p,{isEvalSupported:x=!0,disableFontFace:y=!1,ignoreErrors:v=!1,inspectFont:b=null}){this.compiledGlyphs=Object.create(null);for(const g in p)this[g]=p[g];this.isEvalSupported=x!==!1,this.disableFontFace=y===!0,this.ignoreErrors=v===!0,this._inspectFont=b}createNativeFontFace(){var x;if(!this.data||this.disableFontFace)return null;let p;if(!this.cssFontInfo)p=new FontFace(this.loadedName,this.data,{});else{const y={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(y.style=`oblique ${this.cssFontInfo.italicAngle}deg`),p=new FontFace(this.cssFontInfo.fontFamily,this.data,y)}return(x=this._inspectFont)==null||x.call(this,this),p}createFontFaceRule(){var v;if(!this.data||this.disableFontFace)return null;const p=(0,i.bytesToString)(this.data),x=`url(data:${this.mimetype};base64,${btoa(p)});`;let y;if(!this.cssFontInfo)y=`@font-face {font-family:"${this.loadedName}";src:${x}}`;else{let b=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(b+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),y=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${b}src:${x}}`}return(v=this._inspectFont)==null||v.call(this,this,x),y}getPathGenerator(p,x){if(this.compiledGlyphs[x]!==void 0)return this.compiledGlyphs[x];let y;try{y=p.get(this.loadedName+"_path_"+x)}catch(v){if(!this.ignoreErrors)throw v;return(0,i.warn)(`getPathGenerator - ignoring character: "${v}".`),this.compiledGlyphs[x]=function(b,g){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const v=[];for(const b of y){const g=b.args!==void 0?b.args.join(","):"";v.push("c.",b.cmd,"(",g,`);
`)}return this.compiledGlyphs[x]=new Function("c","size",v.join(""))}return this.compiledGlyphs[x]=function(v,b){for(const g of y)g.cmd==="scale"&&(g.args=[b,-b]),v[g.cmd].apply(v,g.args)}}}o.FontFaceObject=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeFilterFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var i=s(7);s(1);const l=function(x){return new Promise((y,v)=>{mn.readFile(x,(g,w)=>{if(g||!w){v(new Error(g));return}y(new Uint8Array(w))})})};class d extends i.BaseFilterFactory{}o.NodeFilterFactory=d;class e extends i.BaseCanvasFactory{_createCanvas(y,v){return mn.createCanvas(y,v)}}o.NodeCanvasFactory=e;class r extends i.BaseCMapReaderFactory{_fetchData(y,v){return l(y).then(b=>({cMapData:b,compressionType:v}))}}o.NodeCMapReaderFactory=r;class p extends i.BaseStandardFontDataFactory{_fetchData(y){return l(y)}}o.NodeStandardFontDataFactory=p},(h,o,s)=>{var Z,u1,re,h1;Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var i=s(1),l=s(6),d=s(12),e=s(13);const r=16,p=100,x=4096,y=15,v=10,b=1e3,g=16;function w(R,S){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){S.save(),this.__originalSave()},R.restore=function(){S.restore(),this.__originalRestore()},R.translate=function(k,z){S.translate(k,z),this.__originalTranslate(k,z)},R.scale=function(k,z){S.scale(k,z),this.__originalScale(k,z)},R.transform=function(k,z,P,K,te,X){S.transform(k,z,P,K,te,X),this.__originalTransform(k,z,P,K,te,X)},R.setTransform=function(k,z,P,K,te,X){S.setTransform(k,z,P,K,te,X),this.__originalSetTransform(k,z,P,K,te,X)},R.resetTransform=function(){S.resetTransform(),this.__originalResetTransform()},R.rotate=function(k){S.rotate(k),this.__originalRotate(k)},R.clip=function(k){S.clip(k),this.__originalClip(k)},R.moveTo=function(L,k){S.moveTo(L,k),this.__originalMoveTo(L,k)},R.lineTo=function(L,k){S.lineTo(L,k),this.__originalLineTo(L,k)},R.bezierCurveTo=function(L,k,z,P,K,te){S.bezierCurveTo(L,k,z,P,K,te),this.__originalBezierCurveTo(L,k,z,P,K,te)},R.rect=function(L,k,z,P){S.rect(L,k,z,P),this.__originalRect(L,k,z,P)},R.closePath=function(){S.closePath(),this.__originalClosePath()},R.beginPath=function(){S.beginPath(),this.__originalBeginPath()}}class f{constructor(S){this.canvasFactory=S,this.cache=Object.create(null)}getCanvas(S,L,k){let z;return this.cache[S]!==void 0?(z=this.cache[S],this.canvasFactory.reset(z,L,k)):(z=this.canvasFactory.create(L,k),this.cache[S]=z),z}delete(S){delete this.cache[S]}clear(){for(const S in this.cache){const L=this.cache[S];this.canvasFactory.destroy(L),delete this.cache[S]}}}function E(R,S,L,k,z,P,K,te,X,ee){const[G,ne,se,le,he,be]=(0,l.getCurrentTransform)(R);if(ne===0&&se===0){const xe=K*G+he,fe=Math.round(xe),ce=te*le+be,ue=Math.round(ce),ve=(K+X)*G+he,Ee=Math.abs(Math.round(ve)-fe)||1,Me=(te+ee)*le+be,_e=Math.abs(Math.round(Me)-ue)||1;return R.setTransform(Math.sign(G),0,0,Math.sign(le),fe,ue),R.drawImage(S,L,k,z,P,0,0,Ee,_e),R.setTransform(G,ne,se,le,he,be),[Ee,_e]}if(G===0&&le===0){const xe=te*se+he,fe=Math.round(xe),ce=K*ne+be,ue=Math.round(ce),ve=(te+ee)*se+he,Ee=Math.abs(Math.round(ve)-fe)||1,Me=(K+X)*ne+be,_e=Math.abs(Math.round(Me)-ue)||1;return R.setTransform(0,Math.sign(ne),Math.sign(se),0,fe,ue),R.drawImage(S,L,k,z,P,0,0,_e,Ee),R.setTransform(G,ne,se,le,he,be),[_e,Ee]}R.drawImage(S,L,k,z,P,K,te,X,ee);const ye=Math.hypot(G,ne),de=Math.hypot(se,le);return[ye*X,de*ee]}function A(R){const{width:S,height:L}=R;if(S>b||L>b)return null;const k=1e3,z=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),P=S+1;let K=new Uint8Array(P*(L+1)),te,X,ee;const G=S+7&-8;let ne=new Uint8Array(G*L),se=0;for(const de of R.data){let xe=128;for(;xe>0;)ne[se++]=de&xe?0:255,xe>>=1}let le=0;for(se=0,ne[se]!==0&&(K[0]=1,++le),X=1;X<S;X++)ne[se]!==ne[se+1]&&(K[X]=ne[se]?2:1,++le),se++;for(ne[se]!==0&&(K[X]=2,++le),te=1;te<L;te++){se=te*G,ee=te*P,ne[se-G]!==ne[se]&&(K[ee]=ne[se]?1:8,++le);let de=(ne[se]?4:0)+(ne[se-G]?8:0);for(X=1;X<S;X++)de=(de>>2)+(ne[se+1]?4:0)+(ne[se-G+1]?8:0),z[de]&&(K[ee+X]=z[de],++le),se++;if(ne[se-G]!==ne[se]&&(K[ee+X]=ne[se]?2:4,++le),le>k)return null}for(se=G*(L-1),ee=te*P,ne[se]!==0&&(K[ee]=8,++le),X=1;X<S;X++)ne[se]!==ne[se+1]&&(K[ee+X]=ne[se]?4:8,++le),se++;if(ne[se]!==0&&(K[ee+X]=4,++le),le>k)return null;const he=new Int32Array([0,P,-1,0,-P,0,0,0,1]),be=new Path2D;for(te=0;le&&te<=L;te++){let de=te*P;const xe=de+S;for(;de<xe&&!K[de];)de++;if(de===xe)continue;be.moveTo(de%P,te);const fe=de;let ce=K[de];do{const ue=he[ce];do de+=ue;while(!K[de]);const ve=K[de];ve!==5&&ve!==10?(ce=ve,K[de]=0):(ce=ve&51*ce>>4,K[de]&=ce>>2|ce<<2),be.lineTo(de%P,de/P|0),K[de]||--le}while(fe!==de);--te}return ne=null,K=null,function(de){de.save(),de.scale(1/S,-1/L),de.translate(0,-L),de.fill(be),de.beginPath(),de.restore()}}class O{constructor(S,L){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,S,L])}clone(){const S=Object.create(this);return S.clipBox=this.clipBox.slice(),S}setCurrentPoint(S,L){this.x=S,this.y=L}updatePathMinMax(S,L,k){[L,k]=i.Util.applyTransform([L,k],S),this.minX=Math.min(this.minX,L),this.minY=Math.min(this.minY,k),this.maxX=Math.max(this.maxX,L),this.maxY=Math.max(this.maxY,k)}updateRectMinMax(S,L){const k=i.Util.applyTransform(L,S),z=i.Util.applyTransform(L.slice(2),S);this.minX=Math.min(this.minX,k[0],z[0]),this.minY=Math.min(this.minY,k[1],z[1]),this.maxX=Math.max(this.maxX,k[0],z[0]),this.maxY=Math.max(this.maxY,k[1],z[1])}updateScalingPathMinMax(S,L){i.Util.scaleMinMax(S,L),this.minX=Math.min(this.minX,L[0]),this.maxX=Math.max(this.maxX,L[1]),this.minY=Math.min(this.minY,L[2]),this.maxY=Math.max(this.maxY,L[3])}updateCurvePathMinMax(S,L,k,z,P,K,te,X,ee,G){const ne=i.Util.bezierBoundingBox(L,k,z,P,K,te,X,ee);if(G){G[0]=Math.min(G[0],ne[0],ne[2]),G[1]=Math.max(G[1],ne[0],ne[2]),G[2]=Math.min(G[2],ne[1],ne[3]),G[3]=Math.max(G[3],ne[1],ne[3]);return}this.updateRectMinMax(S,ne)}getPathBoundingBox(S=d.PathType.FILL,L=null){const k=[this.minX,this.minY,this.maxX,this.maxY];if(S===d.PathType.STROKE){L||(0,i.unreachable)("Stroke bounding box must include transform.");const z=i.Util.singularValueDecompose2dScale(L),P=z[0]*this.lineWidth/2,K=z[1]*this.lineWidth/2;k[0]-=P,k[1]-=K,k[2]+=P,k[3]+=K}return k}updateClipFromPath(){const S=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(S||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(S){this.clipBox=S,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(S=d.PathType.FILL,L=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(S,L))}}function T(R,S){if(typeof ImageData<"u"&&S instanceof ImageData){R.putImageData(S,0,0);return}const L=S.height,k=S.width,z=L%g,P=(L-z)/g,K=z===0?P:P+1,te=R.createImageData(k,g);let X=0,ee;const G=S.data,ne=te.data;let se,le,he,be;if(S.kind===i.ImageKind.GRAYSCALE_1BPP){const ye=G.byteLength,de=new Uint32Array(ne.buffer,0,ne.byteLength>>2),xe=de.length,fe=k+7>>3,ce=4294967295,ue=i.FeatureTest.isLittleEndian?4278190080:255;for(se=0;se<K;se++){for(he=se<P?g:z,ee=0,le=0;le<he;le++){const ve=ye-X;let Ee=0;const Me=ve>fe?k:ve*8-7,_e=Me&-8;let ze=0,We=0;for(;Ee<_e;Ee+=8)We=G[X++],de[ee++]=We&128?ce:ue,de[ee++]=We&64?ce:ue,de[ee++]=We&32?ce:ue,de[ee++]=We&16?ce:ue,de[ee++]=We&8?ce:ue,de[ee++]=We&4?ce:ue,de[ee++]=We&2?ce:ue,de[ee++]=We&1?ce:ue;for(;Ee<Me;Ee++)ze===0&&(We=G[X++],ze=128),de[ee++]=We&ze?ce:ue,ze>>=1}for(;ee<xe;)de[ee++]=0;R.putImageData(te,0,se*g)}}else if(S.kind===i.ImageKind.RGBA_32BPP){for(le=0,be=k*g*4,se=0;se<P;se++)ne.set(G.subarray(X,X+be)),X+=be,R.putImageData(te,0,le),le+=g;se<K&&(be=k*z*4,ne.set(G.subarray(X,X+be)),R.putImageData(te,0,le))}else if(S.kind===i.ImageKind.RGB_24BPP)for(he=g,be=k*he,se=0;se<K;se++){for(se>=P&&(he=z,be=k*he),ee=0,le=be;le--;)ne[ee++]=G[X++],ne[ee++]=G[X++],ne[ee++]=G[X++],ne[ee++]=255;R.putImageData(te,0,se*g)}else throw new Error(`bad image kind: ${S.kind}`)}function D(R,S){if(S.bitmap){R.drawImage(S.bitmap,0,0);return}const L=S.height,k=S.width,z=L%g,P=(L-z)/g,K=z===0?P:P+1,te=R.createImageData(k,g);let X=0;const ee=S.data,G=te.data;for(let ne=0;ne<K;ne++){const se=ne<P?g:z;({srcPos:X}=(0,e.convertBlackAndWhiteToRGBA)({src:ee,srcPos:X,dest:G,width:k,height:se,nonBlackColor:0})),R.putImageData(te,0,ne*g)}}function F(R,S){const L=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const k of L)R[k]!==void 0&&(S[k]=R[k]);R.setLineDash!==void 0&&(S.setLineDash(R.getLineDash()),S.lineDashOffset=R.lineDashOffset)}function C(R){if(R.strokeStyle=R.fillStyle="#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",R.setLineDash!==void 0&&(R.setLineDash([]),R.lineDashOffset=0),!i.isNodeJS){const{filter:S}=R;S!=="none"&&S!==""&&(R.filter="none")}}function B(R,S,L,k){const z=R.length;for(let P=3;P<z;P+=4){const K=R[P];if(K===0)R[P-3]=S,R[P-2]=L,R[P-1]=k;else if(K<255){const te=255-K;R[P-3]=R[P-3]*K+S*te>>8,R[P-2]=R[P-2]*K+L*te>>8,R[P-1]=R[P-1]*K+k*te>>8}}}function M(R,S,L){const k=R.length,z=1/255;for(let P=3;P<k;P+=4){const K=L?L[R[P]]:R[P];S[P]=S[P]*K*z|0}}function I(R,S,L){const k=R.length;for(let z=3;z<k;z+=4){const P=R[z-3]*77+R[z-2]*152+R[z-1]*28;S[z]=L?S[z]*L[P>>8]>>8:S[z]*P>>16}}function W(R,S,L,k,z,P,K,te,X,ee,G){const ne=!!P,se=ne?P[0]:0,le=ne?P[1]:0,he=ne?P[2]:0,be=z==="Luminosity"?I:M,de=Math.min(k,Math.ceil(1048576/L));for(let xe=0;xe<k;xe+=de){const fe=Math.min(de,k-xe),ce=R.getImageData(te-ee,xe+(X-G),L,fe),ue=S.getImageData(te,xe+X,L,fe);ne&&B(ce.data,se,le,he),be(ce.data,ue.data,K),S.putImageData(ue,te,xe+X)}}function J(R,S,L,k){const z=k[0],P=k[1],K=k[2]-z,te=k[3]-P;K===0||te===0||(W(S.context,L,K,te,S.subtype,S.backdrop,S.transferMap,z,P,S.offsetX,S.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(L.canvas,0,0),R.restore())}function H(R,S){const L=i.Util.singularValueDecompose2dScale(R);L[0]=Math.fround(L[0]),L[1]=Math.fround(L[1]);const k=Math.fround((globalThis.devicePixelRatio||1)*l.PixelsPerInch.PDF_TO_CSS_UNITS);return S!==void 0?S:L[0]<=k||L[1]<=k}const N=["butt","round","square"],U=["miter","round","bevel"],Y={},_={},ae=class{constructor(S,L,k,z,P,{optionalContentConfig:K,markedContentStack:te=null},X,ee){Le(this,Z);Le(this,re);this.ctx=S,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=L,this.objs=k,this.canvasFactory=z,this.filterFactory=P,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=te||[],this.optionalContentConfig=K,this.cachedCanvases=new f(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=X,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ee,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(S,L=null){return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):L}beginDrawing({transform:S,viewport:L,transparency:k=!1,background:z=null}){const P=this.ctx.canvas.width,K=this.ctx.canvas.height,te=this.ctx.fillStyle;if(this.ctx.fillStyle=z||"#ffffff",this.ctx.fillRect(0,0,P,K),this.ctx.fillStyle=te,k){const X=this.cachedCanvases.getCanvas("transparent",P,K);this.compositeCtx=this.ctx,this.transparentCanvas=X.canvas,this.ctx=X.context,this.ctx.save(),this.ctx.transform(...(0,l.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),C(this.ctx),S&&(this.ctx.transform(...S),this.outputScaleX=S[0],this.outputScaleY=S[0]),this.ctx.transform(...L.transform),this.viewportScale=L.scale,this.baseTransform=(0,l.getCurrentTransform)(this.ctx)}executeOperatorList(S,L,k,z){const P=S.argsArray,K=S.fnArray;let te=L||0;const X=P.length;if(X===te)return te;const ee=X-te>v&&typeof k=="function",G=ee?Date.now()+y:0;let ne=0;const se=this.commonObjs,le=this.objs;let he;for(;;){if(z!==void 0&&te===z.nextBreakPoint)return z.breakIt(te,k),te;if(he=K[te],he!==i.OPS.dependency)this[he].apply(this,P[te]);else for(const be of P[te]){const ye=be.startsWith("g_")?se:le;if(!ye.has(be))return ye.get(be,k),te}if(te++,te===X)return te;if(ee&&++ne>v){if(Date.now()>G)return k(),te;ne=0}}}endDrawing(){Ue(this,Z,u1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const S of this._cachedBitmapsMap.values()){for(const L of S.values())typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement&&(L.width=L.height=0);S.clear()}this._cachedBitmapsMap.clear(),Ue(this,re,h1).call(this)}_scaleImage(S,L){const k=S.width,z=S.height;let P=Math.max(Math.hypot(L[0],L[1]),1),K=Math.max(Math.hypot(L[2],L[3]),1),te=k,X=z,ee="prescale1",G,ne;for(;P>2&&te>1||K>2&&X>1;){let se=te,le=X;P>2&&te>1&&(se=te>=16384?Math.floor(te/2)-1||1:Math.ceil(te/2),P/=te/se),K>2&&X>1&&(le=X>=16384?Math.floor(X/2)-1||1:Math.ceil(X)/2,K/=X/le),G=this.cachedCanvases.getCanvas(ee,se,le),ne=G.context,ne.clearRect(0,0,se,le),ne.drawImage(S,0,0,te,X,0,0,se,le),S=G.canvas,te=se,X=le,ee=ee==="prescale1"?"prescale2":"prescale1"}return{img:S,paintWidth:te,paintHeight:X}}_createMaskCanvas(S){const L=this.ctx,{width:k,height:z}=S,P=this.current.fillColor,K=this.current.patternFill,te=(0,l.getCurrentTransform)(L);let X,ee,G,ne;if((S.bitmap||S.data)&&S.count>1){const Ee=S.bitmap||S.data.buffer;ee=JSON.stringify(K?te:[te.slice(0,4),P]),X=this._cachedBitmapsMap.get(Ee),X||(X=new Map,this._cachedBitmapsMap.set(Ee,X));const Me=X.get(ee);if(Me&&!K){const _e=Math.round(Math.min(te[0],te[2])+te[4]),ze=Math.round(Math.min(te[1],te[3])+te[5]);return{canvas:Me,offsetX:_e,offsetY:ze}}G=Me}G||(ne=this.cachedCanvases.getCanvas("maskCanvas",k,z),D(ne.context,S));let se=i.Util.transform(te,[1/k,0,0,-1/z,0,0]);se=i.Util.transform(se,[1,0,0,1,0,-z]);const le=i.Util.applyTransform([0,0],se),he=i.Util.applyTransform([k,z],se),be=i.Util.normalizeRect([le[0],le[1],he[0],he[1]]),ye=Math.round(be[2]-be[0])||1,de=Math.round(be[3]-be[1])||1,xe=this.cachedCanvases.getCanvas("fillCanvas",ye,de),fe=xe.context,ce=Math.min(le[0],he[0]),ue=Math.min(le[1],he[1]);fe.translate(-ce,-ue),fe.transform(...se),G||(G=this._scaleImage(ne.canvas,(0,l.getCurrentTransformInverse)(fe)),G=G.img,X&&K&&X.set(ee,G)),fe.imageSmoothingEnabled=H((0,l.getCurrentTransform)(fe),S.interpolate),E(fe,G,0,0,G.width,G.height,0,0,k,z),fe.globalCompositeOperation="source-in";const ve=i.Util.transform((0,l.getCurrentTransformInverse)(fe),[1,0,0,1,-ce,-ue]);return fe.fillStyle=K?P.getPattern(L,this,ve,d.PathType.FILL):P,fe.fillRect(0,0,k,z),X&&!K&&(this.cachedCanvases.delete("fillCanvas"),X.set(ee,xe.canvas)),{canvas:xe.canvas,offsetX:Math.round(ce),offsetY:Math.round(ue)}}setLineWidth(S){S!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=S,this.ctx.lineWidth=S}setLineCap(S){this.ctx.lineCap=N[S]}setLineJoin(S){this.ctx.lineJoin=U[S]}setMiterLimit(S){this.ctx.miterLimit=S}setDash(S,L){const k=this.ctx;k.setLineDash!==void 0&&(k.setLineDash(S),k.lineDashOffset=L)}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(const[L,k]of S)switch(L){case"LW":this.setLineWidth(k);break;case"LC":this.setLineCap(k);break;case"LJ":this.setLineJoin(k);break;case"ML":this.setMiterLimit(k);break;case"D":this.setDash(k[0],k[1]);break;case"RI":this.setRenderingIntent(k);break;case"FL":this.setFlatness(k);break;case"Font":this.setFont(k[0],k[1]);break;case"CA":this.current.strokeAlpha=k;break;case"ca":this.current.fillAlpha=k,this.ctx.globalAlpha=k;break;case"BM":this.ctx.globalCompositeOperation=k;break;case"SMask":this.current.activeSMask=k?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(k);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const S=this.inSMaskMode;this.current.activeSMask&&!S?this.beginSMaskMode():!this.current.activeSMask&&S&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const S=this.ctx.canvas.width,L=this.ctx.canvas.height,k="smaskGroupAt"+this.groupLevel,z=this.cachedCanvases.getCanvas(k,S,L);this.suspendedCtx=this.ctx,this.ctx=z.context;const P=this.ctx;P.setTransform(...(0,l.getCurrentTransform)(this.suspendedCtx)),F(this.suspendedCtx,P),w(P,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),F(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(S){if(!this.current.activeSMask)return;S?(S[0]=Math.floor(S[0]),S[1]=Math.floor(S[1]),S[2]=Math.ceil(S[2]),S[3]=Math.ceil(S[3])):S=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const L=this.current.activeSMask,k=this.suspendedCtx;J(k,L,this.ctx,S),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(F(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const S=this.current;this.stateStack.push(S),this.current=S.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),F(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(S,L,k,z,P,K){this.ctx.transform(S,L,k,z,P,K),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(S,L,k){const z=this.ctx,P=this.current;let K=P.x,te=P.y,X,ee;const G=(0,l.getCurrentTransform)(z),ne=G[0]===0&&G[3]===0||G[1]===0&&G[2]===0,se=ne?k.slice(0):null;for(let le=0,he=0,be=S.length;le<be;le++)switch(S[le]|0){case i.OPS.rectangle:K=L[he++],te=L[he++];const ye=L[he++],de=L[he++],xe=K+ye,fe=te+de;z.moveTo(K,te),ye===0||de===0?z.lineTo(xe,fe):(z.lineTo(xe,te),z.lineTo(xe,fe),z.lineTo(K,fe)),ne||P.updateRectMinMax(G,[K,te,xe,fe]),z.closePath();break;case i.OPS.moveTo:K=L[he++],te=L[he++],z.moveTo(K,te),ne||P.updatePathMinMax(G,K,te);break;case i.OPS.lineTo:K=L[he++],te=L[he++],z.lineTo(K,te),ne||P.updatePathMinMax(G,K,te);break;case i.OPS.curveTo:X=K,ee=te,K=L[he+4],te=L[he+5],z.bezierCurveTo(L[he],L[he+1],L[he+2],L[he+3],K,te),P.updateCurvePathMinMax(G,X,ee,L[he],L[he+1],L[he+2],L[he+3],K,te,se),he+=6;break;case i.OPS.curveTo2:X=K,ee=te,z.bezierCurveTo(K,te,L[he],L[he+1],L[he+2],L[he+3]),P.updateCurvePathMinMax(G,X,ee,K,te,L[he],L[he+1],L[he+2],L[he+3],se),K=L[he+2],te=L[he+3],he+=4;break;case i.OPS.curveTo3:X=K,ee=te,K=L[he+2],te=L[he+3],z.bezierCurveTo(L[he],L[he+1],K,te,K,te),P.updateCurvePathMinMax(G,X,ee,L[he],L[he+1],K,te,K,te,se),he+=4;break;case i.OPS.closePath:z.closePath();break}ne&&P.updateScalingPathMinMax(G,se),P.setCurrentPoint(K,te)}closePath(){this.ctx.closePath()}stroke(S=!0){const L=this.ctx,k=this.current.strokeColor;L.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof k=="object"&&(k==null?void 0:k.getPattern)?(L.save(),L.strokeStyle=k.getPattern(L,this,(0,l.getCurrentTransformInverse)(L),d.PathType.STROKE),this.rescaleAndStroke(!1),L.restore()):this.rescaleAndStroke(!0)),S&&this.consumePath(this.current.getClippedPathBoundingBox()),L.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(S=!0){const L=this.ctx,k=this.current.fillColor,z=this.current.patternFill;let P=!1;z&&(L.save(),L.fillStyle=k.getPattern(L,this,(0,l.getCurrentTransformInverse)(L),d.PathType.FILL),P=!0);const K=this.current.getClippedPathBoundingBox();this.contentVisible&&K!==null&&(this.pendingEOFill?(L.fill("evenodd"),this.pendingEOFill=!1):L.fill()),P&&L.restore(),S&&this.consumePath(K)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Y}eoClip(){this.pendingClip=_}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const S=this.pendingTextPaths,L=this.ctx;if(S===void 0){L.beginPath();return}L.save(),L.beginPath();for(const k of S)L.setTransform(...k.transform),L.translate(k.x,k.y),k.addToPath(L,k.fontSize);L.restore(),L.clip(),L.beginPath(),delete this.pendingTextPaths}setCharSpacing(S){this.current.charSpacing=S}setWordSpacing(S){this.current.wordSpacing=S}setHScale(S){this.current.textHScale=S/100}setLeading(S){this.current.leading=-S}setFont(S,L){var G;const k=this.commonObjs.get(S),z=this.current;if(!k)throw new Error(`Can't find font for ${S}`);if(z.fontMatrix=k.fontMatrix||i.FONT_IDENTITY_MATRIX,(z.fontMatrix[0]===0||z.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+S),L<0?(L=-L,z.fontDirection=-1):z.fontDirection=1,this.current.font=k,this.current.fontSize=L,k.isType3Font)return;const P=k.loadedName||"sans-serif",K=((G=k.systemFontInfo)==null?void 0:G.css)||`"${P}", ${k.fallbackName}`;let te="normal";k.black?te="900":k.bold&&(te="bold");const X=k.italic?"italic":"normal";let ee=L;L<r?ee=r:L>p&&(ee=p),this.current.fontSizeScale=L/ee,this.ctx.font=`${X} ${te} ${ee}px ${K}`}setTextRenderingMode(S){this.current.textRenderingMode=S}setTextRise(S){this.current.textRise=S}moveText(S,L){this.current.x=this.current.lineX+=S,this.current.y=this.current.lineY+=L}setLeadingMoveText(S,L){this.setLeading(-L),this.moveText(S,L)}setTextMatrix(S,L,k,z,P,K){this.current.textMatrix=[S,L,k,z,P,K],this.current.textMatrixScale=Math.hypot(S,L),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(S,L,k,z){const P=this.ctx,K=this.current,te=K.font,X=K.textRenderingMode,ee=K.fontSize/K.fontSizeScale,G=X&i.TextRenderingMode.FILL_STROKE_MASK,ne=!!(X&i.TextRenderingMode.ADD_TO_PATH_FLAG),se=K.patternFill&&!te.missingFile;let le;(te.disableFontFace||ne||se)&&(le=te.getPathGenerator(this.commonObjs,S)),te.disableFontFace||se?(P.save(),P.translate(L,k),P.beginPath(),le(P,ee),z&&P.setTransform(...z),(G===i.TextRenderingMode.FILL||G===i.TextRenderingMode.FILL_STROKE)&&P.fill(),(G===i.TextRenderingMode.STROKE||G===i.TextRenderingMode.FILL_STROKE)&&P.stroke(),P.restore()):((G===i.TextRenderingMode.FILL||G===i.TextRenderingMode.FILL_STROKE)&&P.fillText(S,L,k),(G===i.TextRenderingMode.STROKE||G===i.TextRenderingMode.FILL_STROKE)&&P.strokeText(S,L,k)),ne&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,l.getCurrentTransform)(P),x:L,y:k,fontSize:ee,addToPath:le})}get isFontSubpixelAAEnabled(){const{context:S}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);S.scale(1.5,1),S.fillText("I",0,10);const L=S.getImageData(0,0,10,10).data;let k=!1;for(let z=3;z<L.length;z+=4)if(L[z]>0&&L[z]<255){k=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",k)}showText(S){const L=this.current,k=L.font;if(k.isType3Font)return this.showType3Text(S);const z=L.fontSize;if(z===0)return;const P=this.ctx,K=L.fontSizeScale,te=L.charSpacing,X=L.wordSpacing,ee=L.fontDirection,G=L.textHScale*ee,ne=S.length,se=k.vertical,le=se?1:-1,he=k.defaultVMetrics,be=z*L.fontMatrix[0],ye=L.textRenderingMode===i.TextRenderingMode.FILL&&!k.disableFontFace&&!L.patternFill;P.save(),P.transform(...L.textMatrix),P.translate(L.x,L.y+L.textRise),ee>0?P.scale(G,-1):P.scale(G,1);let de;if(L.patternFill){P.save();const ve=L.fillColor.getPattern(P,this,(0,l.getCurrentTransformInverse)(P),d.PathType.FILL);de=(0,l.getCurrentTransform)(P),P.restore(),P.fillStyle=ve}let xe=L.lineWidth;const fe=L.textMatrixScale;if(fe===0||xe===0){const ve=L.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(ve===i.TextRenderingMode.STROKE||ve===i.TextRenderingMode.FILL_STROKE)&&(xe=this.getSinglePixelWidth())}else xe/=fe;if(K!==1&&(P.scale(K,K),xe/=K),P.lineWidth=xe,k.isInvalidPDFjsFont){const ve=[];let Ee=0;for(const Me of S)ve.push(Me.unicode),Ee+=Me.width;P.fillText(ve.join(""),0,0),L.x+=Ee*be*G,P.restore(),this.compose();return}let ce=0,ue;for(ue=0;ue<ne;++ue){const ve=S[ue];if(typeof ve=="number"){ce+=le*ve*z/1e3;continue}let Ee=!1;const Me=(ve.isSpace?X:0)+te,_e=ve.fontChar,ze=ve.accent;let We,Ve,Ne=ve.width;if(se){const Ie=ve.vmetric||he,Te=-(ve.vmetric?Ie[1]:Ne*.5)*be,Ae=Ie[2]*be;Ne=Ie?-Ie[0]:Ne,We=Te/K,Ve=(ce+Ae)/K}else We=ce/K,Ve=0;if(k.remeasure&&Ne>0){const Ie=P.measureText(_e).width*1e3/z*K;if(Ne<Ie&&this.isFontSubpixelAAEnabled){const Te=Ne/Ie;Ee=!0,P.save(),P.scale(Te,1),We/=Te}else Ne!==Ie&&(We+=(Ne-Ie)/2e3*z/K)}if(this.contentVisible&&(ve.isInFont||k.missingFile)){if(ye&&!ze)P.fillText(_e,We,Ve);else if(this.paintChar(_e,We,Ve,de),ze){const Ie=We+z*ze.offset.x/K,Te=Ve-z*ze.offset.y/K;this.paintChar(ze.fontChar,Ie,Te,de)}}const ke=se?Ne*be-Me*ee:Ne*be+Me*ee;ce+=ke,Ee&&P.restore()}se?L.y-=ce:L.x+=ce*G,P.restore(),this.compose()}showType3Text(S){const L=this.ctx,k=this.current,z=k.font,P=k.fontSize,K=k.fontDirection,te=z.vertical?1:-1,X=k.charSpacing,ee=k.wordSpacing,G=k.textHScale*K,ne=k.fontMatrix||i.FONT_IDENTITY_MATRIX,se=S.length,le=k.textRenderingMode===i.TextRenderingMode.INVISIBLE;let he,be,ye,de;if(!(le||P===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,L.save(),L.transform(...k.textMatrix),L.translate(k.x,k.y),L.scale(G,K),he=0;he<se;++he){if(be=S[he],typeof be=="number"){de=te*be*P/1e3,this.ctx.translate(de,0),k.x+=de*G;continue}const xe=(be.isSpace?ee:0)+X,fe=z.charProcOperatorList[be.operatorListId];if(!fe){(0,i.warn)(`Type3 character "${be.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=be,this.save(),L.scale(P,P),L.transform(...ne),this.executeOperatorList(fe),this.restore()),ye=i.Util.applyTransform([be.width,0],ne)[0]*P+xe,L.translate(ye,0),k.x+=ye*G}L.restore(),this.processingType3=null}}setCharWidth(S,L){}setCharWidthAndBounds(S,L,k,z,P,K){this.ctx.rect(k,z,P-k,K-z),this.ctx.clip(),this.endPath()}getColorN_Pattern(S){let L;if(S[0]==="TilingPattern"){const k=S[1],z=this.baseTransform||(0,l.getCurrentTransform)(this.ctx),P={createCanvasGraphics:K=>new ae(K,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};L=new d.TilingPattern(S,k,this.ctx,P,z)}else L=this._getPattern(S[1],S[2]);return L}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(S,L,k){const z=i.Util.makeHexColor(S,L,k);this.ctx.strokeStyle=z,this.current.strokeColor=z}setFillRGBColor(S,L,k){const z=i.Util.makeHexColor(S,L,k);this.ctx.fillStyle=z,this.current.fillColor=z,this.current.patternFill=!1}_getPattern(S,L=null){let k;return this.cachedPatterns.has(S)?k=this.cachedPatterns.get(S):(k=(0,d.getShadingPattern)(this.getObject(S)),this.cachedPatterns.set(S,k)),L&&(k.matrix=L),k}shadingFill(S){if(!this.contentVisible)return;const L=this.ctx;this.save();const k=this._getPattern(S);L.fillStyle=k.getPattern(L,this,(0,l.getCurrentTransformInverse)(L),d.PathType.SHADING);const z=(0,l.getCurrentTransformInverse)(L);if(z){const{width:P,height:K}=L.canvas,[te,X,ee,G]=i.Util.getAxialAlignedBoundingBox([0,0,P,K],z);this.ctx.fillRect(te,X,ee-te,G-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(S,L){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(S)&&S.length===6&&this.transform(...S),this.baseTransform=(0,l.getCurrentTransform)(this.ctx),L)){const k=L[2]-L[0],z=L[3]-L[1];this.ctx.rect(L[0],L[1],k,z),this.current.updateRectMinMax((0,l.getCurrentTransform)(this.ctx),L),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(S){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const L=this.ctx;S.isolated||(0,i.info)("TODO: Support non-isolated groups."),S.knockout&&(0,i.warn)("Knockout groups not supported.");const k=(0,l.getCurrentTransform)(L);if(S.matrix&&L.transform(...S.matrix),!S.bbox)throw new Error("Bounding box is required.");let z=i.Util.getAxialAlignedBoundingBox(S.bbox,(0,l.getCurrentTransform)(L));const P=[0,0,L.canvas.width,L.canvas.height];z=i.Util.intersect(z,P)||[0,0,0,0];const K=Math.floor(z[0]),te=Math.floor(z[1]);let X=Math.max(Math.ceil(z[2])-K,1),ee=Math.max(Math.ceil(z[3])-te,1),G=1,ne=1;X>x&&(G=X/x,X=x),ee>x&&(ne=ee/x,ee=x),this.current.startNewPathAndClipBox([0,0,X,ee]);let se="groupAt"+this.groupLevel;S.smask&&(se+="_smask_"+this.smaskCounter++%2);const le=this.cachedCanvases.getCanvas(se,X,ee),he=le.context;he.scale(1/G,1/ne),he.translate(-K,-te),he.transform(...k),S.smask?this.smaskStack.push({canvas:le.canvas,context:he,offsetX:K,offsetY:te,scaleX:G,scaleY:ne,subtype:S.smask.subtype,backdrop:S.smask.backdrop,transferMap:S.smask.transferMap||null,startTransformInverse:null}):(L.setTransform(1,0,0,1,0,0),L.translate(K,te),L.scale(G,ne),L.save()),F(L,he),this.ctx=he,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(L),this.groupLevel++}endGroup(S){if(!this.contentVisible)return;this.groupLevel--;const L=this.ctx,k=this.groupStack.pop();if(this.ctx=k,this.ctx.imageSmoothingEnabled=!1,S.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const z=(0,l.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...z);const P=i.Util.getAxialAlignedBoundingBox([0,0,L.canvas.width,L.canvas.height],z);this.ctx.drawImage(L.canvas,0,0),this.ctx.restore(),this.compose(P)}}beginAnnotation(S,L,k,z,P){if(Ue(this,Z,u1).call(this),C(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(L)&&L.length===4){const K=L[2]-L[0],te=L[3]-L[1];if(P&&this.annotationCanvasMap){k=k.slice(),k[4]-=L[0],k[5]-=L[1],L=L.slice(),L[0]=L[1]=0,L[2]=K,L[3]=te;const[X,ee]=i.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(this.ctx)),{viewportScale:G}=this,ne=Math.ceil(K*this.outputScaleX*G),se=Math.ceil(te*this.outputScaleY*G);this.annotationCanvas=this.canvasFactory.create(ne,se);const{canvas:le,context:he}=this.annotationCanvas;this.annotationCanvasMap.set(S,le),this.annotationCanvas.savedCtx=this.ctx,this.ctx=he,this.ctx.save(),this.ctx.setTransform(X,0,0,-ee,0,te*ee),C(this.ctx)}else C(this.ctx),this.ctx.rect(L[0],L[1],K,te),this.ctx.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...k),this.transform(...z)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ue(this,re,h1).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(S){if(!this.contentVisible)return;const L=S.count;S=this.getObject(S.data,S),S.count=L;const k=this.ctx,z=this.processingType3;if(z&&(z.compiled===void 0&&(z.compiled=A(S)),z.compiled)){z.compiled(k);return}const P=this._createMaskCanvas(S),K=P.canvas;k.save(),k.setTransform(1,0,0,1,0,0),k.drawImage(K,P.offsetX,P.offsetY),k.restore(),this.compose()}paintImageMaskXObjectRepeat(S,L,k=0,z=0,P,K){if(!this.contentVisible)return;S=this.getObject(S.data,S);const te=this.ctx;te.save();const X=(0,l.getCurrentTransform)(te);te.transform(L,k,z,P,0,0);const ee=this._createMaskCanvas(S);te.setTransform(1,0,0,1,ee.offsetX-X[4],ee.offsetY-X[5]);for(let G=0,ne=K.length;G<ne;G+=2){const se=i.Util.transform(X,[L,k,z,P,K[G],K[G+1]]),[le,he]=i.Util.applyTransform([0,0],se);te.drawImage(ee.canvas,le,he)}te.restore(),this.compose()}paintImageMaskXObjectGroup(S){if(!this.contentVisible)return;const L=this.ctx,k=this.current.fillColor,z=this.current.patternFill;for(const P of S){const{data:K,width:te,height:X,transform:ee}=P,G=this.cachedCanvases.getCanvas("maskCanvas",te,X),ne=G.context;ne.save();const se=this.getObject(K,P);D(ne,se),ne.globalCompositeOperation="source-in",ne.fillStyle=z?k.getPattern(ne,this,(0,l.getCurrentTransformInverse)(L),d.PathType.FILL):k,ne.fillRect(0,0,te,X),ne.restore(),L.save(),L.transform(...ee),L.scale(1,-1),E(L,G.canvas,0,0,te,X,0,-1,1,1),L.restore()}this.compose()}paintImageXObject(S){if(!this.contentVisible)return;const L=this.getObject(S);if(!L){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(L)}paintImageXObjectRepeat(S,L,k,z){if(!this.contentVisible)return;const P=this.getObject(S);if(!P){(0,i.warn)("Dependent image isn't ready yet");return}const K=P.width,te=P.height,X=[];for(let ee=0,G=z.length;ee<G;ee+=2)X.push({transform:[L,0,0,k,z[ee],z[ee+1]],x:0,y:0,w:K,h:te});this.paintInlineImageXObjectGroup(P,X)}applyTransferMapsToCanvas(S){return this.current.transferMaps!=="none"&&(S.filter=this.current.transferMaps,S.drawImage(S.canvas,0,0),S.filter="none"),S.canvas}applyTransferMapsToBitmap(S){if(this.current.transferMaps==="none")return S.bitmap;const{bitmap:L,width:k,height:z}=S,P=this.cachedCanvases.getCanvas("inlineImage",k,z),K=P.context;return K.filter=this.current.transferMaps,K.drawImage(L,0,0),K.filter="none",P.canvas}paintInlineImageXObject(S){if(!this.contentVisible)return;const L=S.width,k=S.height,z=this.ctx;if(this.save(),!i.isNodeJS){const{filter:te}=z;te!=="none"&&te!==""&&(z.filter="none")}z.scale(1/L,-1/k);let P;if(S.bitmap)P=this.applyTransferMapsToBitmap(S);else if(typeof HTMLElement=="function"&&S instanceof HTMLElement||!S.data)P=S;else{const X=this.cachedCanvases.getCanvas("inlineImage",L,k).context;T(X,S),P=this.applyTransferMapsToCanvas(X)}const K=this._scaleImage(P,(0,l.getCurrentTransformInverse)(z));z.imageSmoothingEnabled=H((0,l.getCurrentTransform)(z),S.interpolate),E(z,K.img,0,0,K.paintWidth,K.paintHeight,0,-k,L,k),this.compose(),this.restore()}paintInlineImageXObjectGroup(S,L){if(!this.contentVisible)return;const k=this.ctx;let z;if(S.bitmap)z=S.bitmap;else{const P=S.width,K=S.height,X=this.cachedCanvases.getCanvas("inlineImage",P,K).context;T(X,S),z=this.applyTransferMapsToCanvas(X)}for(const P of L)k.save(),k.transform(...P.transform),k.scale(1,-1),E(k,z,P.x,P.y,P.w,P.h,0,-1,1,1),k.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(S){}markPointProps(S,L){}beginMarkedContent(S){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(S,L){S==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(L)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(S){const L=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(S);const k=this.ctx;this.pendingClip&&(L||(this.pendingClip===_?k.clip("evenodd"):k.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),k.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const S=(0,l.getCurrentTransform)(this.ctx);if(S[1]===0&&S[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(S[0]),Math.abs(S[3]));else{const L=Math.abs(S[0]*S[3]-S[2]*S[1]),k=Math.hypot(S[0],S[2]),z=Math.hypot(S[1],S[3]);this._cachedGetSinglePixelWidth=Math.max(k,z)/L}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:S}=this.current,{a:L,b:k,c:z,d:P}=this.ctx.getTransform();let K,te;if(k===0&&z===0){const X=Math.abs(L),ee=Math.abs(P);if(X===ee)if(S===0)K=te=1/X;else{const G=X*S;K=te=G<1?1/G:1}else if(S===0)K=1/X,te=1/ee;else{const G=X*S,ne=ee*S;K=G<1?1/G:1,te=ne<1?1/ne:1}}else{const X=Math.abs(L*P-k*z),ee=Math.hypot(L,k),G=Math.hypot(z,P);if(S===0)K=G/X,te=ee/X;else{const ne=S*X;K=G>ne?G/ne:1,te=ee>ne?ee/ne:1}}this._cachedScaleForStroking[0]=K,this._cachedScaleForStroking[1]=te}return this._cachedScaleForStroking}rescaleAndStroke(S){const{ctx:L}=this,{lineWidth:k}=this.current,[z,P]=this.getScaleForStroking();if(L.lineWidth=k||1,z===1&&P===1){L.stroke();return}const K=L.getLineDash();if(S&&L.save(),L.scale(z,P),K.length>0){const te=Math.max(z,P);L.setLineDash(K.map(X=>X/te)),L.lineDashOffset/=te}L.stroke(),S&&L.restore()}isContentVisible(){for(let S=this.markedContentStack.length-1;S>=0;S--)if(!this.markedContentStack[S].visible)return!1;return!0}};let V=ae;Z=new WeakSet,u1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},re=new WeakSet,h1=function(){if(this.pageColors){const S=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(S!=="none"){const L=this.ctx.filter;this.ctx.filter=S,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=L}}},o.CanvasGraphics=V;for(const R in i.OPS)V.prototype[R]!==void 0&&(V.prototype[i.OPS[R]]=V.prototype[R])},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=g;var i=s(1),l=s(6);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};o.PathType=d;function e(A,O){if(!O)return;const T=O[2]-O[0],D=O[3]-O[1],F=new Path2D;F.rect(O[0],O[1],T,D),A.clip(F)}class r{constructor(){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class p extends r{constructor(O){super(),this._type=O[1],this._bbox=O[2],this._colorStops=O[3],this._p0=O[4],this._p1=O[5],this._r0=O[6],this._r1=O[7],this.matrix=null}_createGradient(O){let T;this._type==="axial"?T=O.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(T=O.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const D of this._colorStops)T.addColorStop(D[0],D[1]);return T}getPattern(O,T,D,F){let C;if(F===d.STROKE||F===d.FILL){const B=T.current.getClippedPathBoundingBox(F,(0,l.getCurrentTransform)(O))||[0,0,0,0],M=Math.ceil(B[2]-B[0])||1,I=Math.ceil(B[3]-B[1])||1,W=T.cachedCanvases.getCanvas("pattern",M,I,!0),J=W.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-B[0],-B[1]),D=i.Util.transform(D,[1,0,0,1,B[0],B[1]]),J.transform(...T.baseTransform),this.matrix&&J.transform(...this.matrix),e(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),C=O.createPattern(W.canvas,"no-repeat");const H=new DOMMatrix(D);C.setTransform(H)}else e(O,this._bbox),C=this._createGradient(O);return C}}function x(A,O,T,D,F,C,B,M){const I=O.coords,W=O.colors,J=A.data,H=A.width*4;let N;I[T+1]>I[D+1]&&(N=T,T=D,D=N,N=C,C=B,B=N),I[D+1]>I[F+1]&&(N=D,D=F,F=N,N=B,B=M,M=N),I[T+1]>I[D+1]&&(N=T,T=D,D=N,N=C,C=B,B=N);const U=(I[T]+O.offsetX)*O.scaleX,Y=(I[T+1]+O.offsetY)*O.scaleY,_=(I[D]+O.offsetX)*O.scaleX,V=(I[D+1]+O.offsetY)*O.scaleY,Z=(I[F]+O.offsetX)*O.scaleX,q=(I[F+1]+O.offsetY)*O.scaleY;if(Y>=q)return;const re=W[C],oe=W[C+1],ae=W[C+2],R=W[B],S=W[B+1],L=W[B+2],k=W[M],z=W[M+1],P=W[M+2],K=Math.round(Y),te=Math.round(q);let X,ee,G,ne,se,le,he,be;for(let ye=K;ye<=te;ye++){if(ye<V){const ue=ye<Y?0:(Y-ye)/(Y-V);X=U-(U-_)*ue,ee=re-(re-R)*ue,G=oe-(oe-S)*ue,ne=ae-(ae-L)*ue}else{let ue;ye>q?ue=1:V===q?ue=0:ue=(V-ye)/(V-q),X=_-(_-Z)*ue,ee=R-(R-k)*ue,G=S-(S-z)*ue,ne=L-(L-P)*ue}let de;ye<Y?de=0:ye>q?de=1:de=(Y-ye)/(Y-q),se=U-(U-Z)*de,le=re-(re-k)*de,he=oe-(oe-z)*de,be=ae-(ae-P)*de;const xe=Math.round(Math.min(X,se)),fe=Math.round(Math.max(X,se));let ce=H*ye+xe*4;for(let ue=xe;ue<=fe;ue++)de=(X-ue)/(X-se),de<0?de=0:de>1&&(de=1),J[ce++]=ee-(ee-le)*de|0,J[ce++]=G-(G-he)*de|0,J[ce++]=ne-(ne-be)*de|0,J[ce++]=255}}function y(A,O,T){const D=O.coords,F=O.colors;let C,B;switch(O.type){case"lattice":const M=O.verticesPerRow,I=Math.floor(D.length/M)-1,W=M-1;for(C=0;C<I;C++){let J=C*M;for(let H=0;H<W;H++,J++)x(A,T,D[J],D[J+1],D[J+M],F[J],F[J+1],F[J+M]),x(A,T,D[J+M+1],D[J+1],D[J+M],F[J+M+1],F[J+1],F[J+M])}break;case"triangles":for(C=0,B=D.length;C<B;C+=3)x(A,T,D[C],D[C+1],D[C+2],F[C],F[C+1],F[C+2]);break;default:throw new Error("illegal figure")}}class v extends r{constructor(O){super(),this._coords=O[2],this._colors=O[3],this._figures=O[4],this._bounds=O[5],this._bbox=O[7],this._background=O[8],this.matrix=null}_createMeshCanvas(O,T,D){const M=Math.floor(this._bounds[0]),I=Math.floor(this._bounds[1]),W=Math.ceil(this._bounds[2])-M,J=Math.ceil(this._bounds[3])-I,H=Math.min(Math.ceil(Math.abs(W*O[0]*1.1)),3e3),N=Math.min(Math.ceil(Math.abs(J*O[1]*1.1)),3e3),U=W/H,Y=J/N,_={coords:this._coords,colors:this._colors,offsetX:-M,offsetY:-I,scaleX:1/U,scaleY:1/Y},V=H+2*2,Z=N+2*2,q=D.getCanvas("mesh",V,Z,!1),re=q.context,oe=re.createImageData(H,N);if(T){const R=oe.data;for(let S=0,L=R.length;S<L;S+=4)R[S]=T[0],R[S+1]=T[1],R[S+2]=T[2],R[S+3]=255}for(const R of this._figures)y(oe,R,_);return re.putImageData(oe,2,2),{canvas:q.canvas,offsetX:M-2*U,offsetY:I-2*Y,scaleX:U,scaleY:Y}}getPattern(O,T,D,F){e(O,this._bbox);let C;if(F===d.SHADING)C=i.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(O));else if(C=i.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const M=i.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*M[0],C[1]*M[1]]}const B=this._createMeshCanvas(C,F===d.SHADING?null:this._background,T.cachedCanvases);return F!==d.SHADING&&(O.setTransform(...T.baseTransform),this.matrix&&O.transform(...this.matrix)),O.translate(B.offsetX,B.offsetY),O.scale(B.scaleX,B.scaleY),O.createPattern(B.canvas,"no-repeat")}}class b extends r{getPattern(){return"hotpink"}}function g(A){switch(A[0]){case"RadialAxial":return new p(A);case"Mesh":return new v(A);case"Dummy":return new b}throw new Error(`Unknown IR type: ${A[0]}`)}const w={COLORED:1,UNCOLORED:2},E=class{constructor(O,T,D,F,C){this.operatorList=O[2],this.matrix=O[3]||[1,0,0,1,0,0],this.bbox=O[4],this.xstep=O[5],this.ystep=O[6],this.paintType=O[7],this.tilingType=O[8],this.color=T,this.ctx=D,this.canvasGraphicsFactory=F,this.baseTransform=C}createPatternCanvas(O){const T=this.operatorList,D=this.bbox,F=this.xstep,C=this.ystep,B=this.paintType,M=this.tilingType,I=this.color,W=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+M);const J=D[0],H=D[1],N=D[2],U=D[3],Y=i.Util.singularValueDecompose2dScale(this.matrix),_=i.Util.singularValueDecompose2dScale(this.baseTransform),V=[Y[0]*_[0],Y[1]*_[1]],Z=this.getSizeAndScale(F,this.ctx.canvas.width,V[0]),q=this.getSizeAndScale(C,this.ctx.canvas.height,V[1]),re=O.cachedCanvases.getCanvas("pattern",Z.size,q.size,!0),oe=re.context,ae=W.createCanvasGraphics(oe);ae.groupLevel=O.groupLevel,this.setFillAndStrokeStyleToContext(ae,B,I);let R=J,S=H,L=N,k=U;return J<0&&(R=0,L+=Math.abs(J)),H<0&&(S=0,k+=Math.abs(H)),oe.translate(-(Z.scale*R),-(q.scale*S)),ae.transform(Z.scale,0,0,q.scale,0,0),oe.save(),this.clipBbox(ae,R,S,L,k),ae.baseTransform=(0,l.getCurrentTransform)(ae.ctx),ae.executeOperatorList(T),ae.endDrawing(),{canvas:re.canvas,scaleX:Z.scale,scaleY:q.scale,offsetX:R,offsetY:S}}getSizeAndScale(O,T,D){O=Math.abs(O);const F=Math.max(E.MAX_PATTERN_SIZE,T);let C=Math.ceil(O*D);return C>=F?C=F:D=C/O,{scale:D,size:C}}clipBbox(O,T,D,F,C){const B=F-T,M=C-D;O.ctx.rect(T,D,B,M),O.current.updateRectMinMax((0,l.getCurrentTransform)(O.ctx),[T,D,F,C]),O.clip(),O.endPath()}setFillAndStrokeStyleToContext(O,T,D){const F=O.ctx,C=O.current;switch(T){case w.COLORED:const B=this.ctx;F.fillStyle=B.fillStyle,F.strokeStyle=B.strokeStyle,C.fillColor=B.fillStyle,C.strokeColor=B.strokeStyle;break;case w.UNCOLORED:const M=i.Util.makeHexColor(D[0],D[1],D[2]);F.fillStyle=M,F.strokeStyle=M,C.fillColor=M,C.strokeColor=M;break;default:throw new i.FormatError(`Unsupported paint type: ${T}`)}}getPattern(O,T,D,F){let C=D;F!==d.SHADING&&(C=i.Util.transform(C,T.baseTransform),this.matrix&&(C=i.Util.transform(C,this.matrix)));const B=this.createPatternCanvas(T);let M=new DOMMatrix(C);M=M.translate(B.offsetX,B.offsetY),M=M.scale(1/B.scaleX,1/B.scaleY);const I=O.createPattern(B.canvas,"repeat");return I.setTransform(M),I}};let f=E;Ct(f,"MAX_PATTERN_SIZE",3e3),o.TilingPattern=f},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertBlackAndWhiteToRGBA=d,o.convertToRGBA=l,o.grayToRGBA=r;var i=s(1);function l(p){switch(p.kind){case i.ImageKind.GRAYSCALE_1BPP:return d(p);case i.ImageKind.RGB_24BPP:return e(p)}return null}function d({src:p,srcPos:x=0,dest:y,width:v,height:b,nonBlackColor:g=4294967295,inverseDecode:w=!1}){const f=i.FeatureTest.isLittleEndian?4278190080:255,[E,A]=w?[g,f]:[f,g],O=v>>3,T=v&7,D=p.length;y=new Uint32Array(y.buffer);let F=0;for(let C=0;C<b;C++){for(const M=x+O;x<M;x++){const I=x<D?p[x]:255;y[F++]=I&128?A:E,y[F++]=I&64?A:E,y[F++]=I&32?A:E,y[F++]=I&16?A:E,y[F++]=I&8?A:E,y[F++]=I&4?A:E,y[F++]=I&2?A:E,y[F++]=I&1?A:E}if(T===0)continue;const B=x<D?p[x++]:255;for(let M=0;M<T;M++)y[F++]=B&1<<7-M?A:E}return{srcPos:x,destPos:F}}function e({src:p,srcPos:x=0,dest:y,destPos:v=0,width:b,height:g}){let w=0;const f=p.length>>2,E=new Uint32Array(p.buffer,x,f);if(i.FeatureTest.isLittleEndian){for(;w<f-2;w+=3,v+=4){const A=E[w],O=E[w+1],T=E[w+2];y[v]=A|4278190080,y[v+1]=A>>>24|O<<8|4278190080,y[v+2]=O>>>16|T<<16|4278190080,y[v+3]=T>>>8|4278190080}for(let A=w*4,O=p.length;A<O;A+=3)y[v++]=p[A]|p[A+1]<<8|p[A+2]<<16|4278190080}else{for(;w<f-2;w+=3,v+=4){const A=E[w],O=E[w+1],T=E[w+2];y[v]=A|255,y[v+1]=A<<24|O>>>8|255,y[v+2]=O<<16|T>>>16|255,y[v+3]=T<<8|255}for(let A=w*4,O=p.length;A<O;A+=3)y[v++]=p[A]<<24|p[A+1]<<16|p[A+2]<<8|255}return{srcPos:x,destPos:v}}function r(p,x){if(i.FeatureTest.isLittleEndian)for(let y=0,v=p.length;y<v;y++)x[y]=p[y]*65793|4278190080;else for(let y=0,v=p.length;y<v;y++)x[y]=p[y]*16843008|255}},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const s=Object.create(null);o.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(h,o,s)=>{var p,Sv,y,kv,b,B0;Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var i=s(1);const l={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(w){switch(w instanceof Error||typeof w=="object"&&w!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),w.name){case"AbortException":return new i.AbortException(w.message);case"MissingPDFException":return new i.MissingPDFException(w.message);case"PasswordException":return new i.PasswordException(w.message,w.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(w.message,w.status);case"UnknownErrorException":return new i.UnknownErrorException(w.message,w.details);default:return new i.UnknownErrorException(w.message,w.toString())}}class r{constructor(f,E,A){Le(this,p);Le(this,y);Le(this,b);this.sourceName=f,this.targetName=E,this.comObj=A,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=O=>{const T=O.data;if(T.targetName!==this.sourceName)return;if(T.stream){Ue(this,y,kv).call(this,T);return}if(T.callback){const F=T.callbackId,C=this.callbackCapabilities[F];if(!C)throw new Error(`Cannot resolve callback ${F}`);if(delete this.callbackCapabilities[F],T.callback===l.DATA)C.resolve(T.data);else if(T.callback===l.ERROR)C.reject(e(T.reason));else throw new Error("Unexpected callback case");return}const D=this.actionHandler[T.action];if(!D)throw new Error(`Unknown action from worker: ${T.action}`);if(T.callbackId){const F=this.sourceName,C=T.sourceName;new Promise(function(B){B(D(T.data))}).then(function(B){A.postMessage({sourceName:F,targetName:C,callback:l.DATA,callbackId:T.callbackId,data:B})},function(B){A.postMessage({sourceName:F,targetName:C,callback:l.ERROR,callbackId:T.callbackId,reason:e(B)})});return}if(T.streamId){Ue(this,p,Sv).call(this,T);return}D(T.data)},A.addEventListener("message",this._onComObjOnMessage)}on(f,E){const A=this.actionHandler;if(A[f])throw new Error(`There is already an actionName called "${f}"`);A[f]=E}send(f,E,A){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:E},A)}sendWithPromise(f,E,A){const O=this.callbackId++,T=new i.PromiseCapability;this.callbackCapabilities[O]=T;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:O,data:E},A)}catch(D){T.reject(D)}return T.promise}sendWithStream(f,E,A,O){const T=this.streamId++,D=this.sourceName,F=this.targetName,C=this.comObj;return new ReadableStream({start:B=>{const M=new i.PromiseCapability;return this.streamControllers[T]={controller:B,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:D,targetName:F,action:f,streamId:T,data:E,desiredSize:B.desiredSize},O),M.promise},pull:B=>{const M=new i.PromiseCapability;return this.streamControllers[T].pullCall=M,C.postMessage({sourceName:D,targetName:F,stream:d.PULL,streamId:T,desiredSize:B.desiredSize}),M.promise},cancel:B=>{(0,i.assert)(B instanceof Error,"cancel must have a valid reason");const M=new i.PromiseCapability;return this.streamControllers[T].cancelCall=M,this.streamControllers[T].isClosed=!0,C.postMessage({sourceName:D,targetName:F,stream:d.CANCEL,streamId:T,reason:e(B)}),M.promise}},A)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}p=new WeakSet,Sv=function(f){const E=f.streamId,A=this.sourceName,O=f.sourceName,T=this.comObj,D=this,F=this.actionHandler[f.action],C={enqueue(B,M=1,I){if(this.isCancelled)return;const W=this.desiredSize;this.desiredSize-=M,W>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),T.postMessage({sourceName:A,targetName:O,stream:d.ENQUEUE,streamId:E,chunk:B},I)},close(){this.isCancelled||(this.isCancelled=!0,T.postMessage({sourceName:A,targetName:O,stream:d.CLOSE,streamId:E}),delete D.streamSinks[E])},error(B){(0,i.assert)(B instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,T.postMessage({sourceName:A,targetName:O,stream:d.ERROR,streamId:E,reason:e(B)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[E]=C,new Promise(function(B){B(F(f.data,C))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.START_COMPLETE,streamId:E,success:!0})},function(B){T.postMessage({sourceName:A,targetName:O,stream:d.START_COMPLETE,streamId:E,reason:e(B)})})},y=new WeakSet,kv=function(f){const E=f.streamId,A=this.sourceName,O=f.sourceName,T=this.comObj,D=this.streamControllers[E],F=this.streamSinks[E];switch(f.stream){case d.START_COMPLETE:f.success?D.startCall.resolve():D.startCall.reject(e(f.reason));break;case d.PULL_COMPLETE:f.success?D.pullCall.resolve():D.pullCall.reject(e(f.reason));break;case d.PULL:if(!F){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,success:!0});break}F.desiredSize<=0&&f.desiredSize>0&&F.sinkCapability.resolve(),F.desiredSize=f.desiredSize,new Promise(function(C){var B;C((B=F.onPull)==null?void 0:B.call(F))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,success:!0})},function(C){T.postMessage({sourceName:A,targetName:O,stream:d.PULL_COMPLETE,streamId:E,reason:e(C)})});break;case d.ENQUEUE:if((0,i.assert)(D,"enqueue should have stream controller"),D.isClosed)break;D.controller.enqueue(f.chunk);break;case d.CLOSE:if((0,i.assert)(D,"close should have stream controller"),D.isClosed)break;D.isClosed=!0,D.controller.close(),Ue(this,b,B0).call(this,D,E);break;case d.ERROR:(0,i.assert)(D,"error should have stream controller"),D.controller.error(e(f.reason)),Ue(this,b,B0).call(this,D,E);break;case d.CANCEL_COMPLETE:f.success?D.cancelCall.resolve():D.cancelCall.reject(e(f.reason)),Ue(this,b,B0).call(this,D,E);break;case d.CANCEL:if(!F)break;new Promise(function(C){var B;C((B=F.onCancel)==null?void 0:B.call(F,e(f.reason)))}).then(function(){T.postMessage({sourceName:A,targetName:O,stream:d.CANCEL_COMPLETE,streamId:E,success:!0})},function(C){T.postMessage({sourceName:A,targetName:O,stream:d.CANCEL_COMPLETE,streamId:E,reason:e(C)})}),F.sinkCapability.reject(e(f.reason)),F.isCancelled=!0,delete this.streamSinks[E];break;default:throw new Error("Unexpected stream case")}},b=new WeakSet,B0=async function(f,E){var A,O,T;await Promise.allSettled([(A=f.startCall)==null?void 0:A.promise,(O=f.pullCall)==null?void 0:O.promise,(T=f.cancelCall)==null?void 0:T.promise]),delete this.streamControllers[E]},o.MessageHandler=r},(h,o,s)=>{var d,e;Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var i=s(1);class l{constructor({parsedData:p,rawData:x}){Le(this,d,void 0);Le(this,e,void 0);Qe(this,d,p),Qe(this,e,x)}getRaw(){return ie(this,e)}get(p){var x;return(x=ie(this,d).get(p))!=null?x:null}getAll(){return(0,i.objectFromMap)(ie(this,d))}has(p){return ie(this,d).has(p)}}d=new WeakMap,e=new WeakMap,o.Metadata=l},(h,o,s)=>{var p,x,y,v,b,g,f1;Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var i=s(1),l=s(8);const d=Symbol("INTERNAL");class e{constructor(E,A){Le(this,p,!0);this.name=E,this.intent=A}get visible(){return ie(this,p)}_setVisible(E,A){E!==d&&(0,i.unreachable)("Internal method `_setVisible` called."),Qe(this,p,A)}}p=new WeakMap;class r{constructor(E){Le(this,g);Le(this,x,null);Le(this,y,new Map);Le(this,v,null);Le(this,b,null);if(this.name=null,this.creator=null,E!==null){this.name=E.name,this.creator=E.creator,Qe(this,b,E.order);for(const A of E.groups)ie(this,y).set(A.id,new e(A.name,A.intent));if(E.baseState==="OFF")for(const A of ie(this,y).values())A._setVisible(d,!1);for(const A of E.on)ie(this,y).get(A)._setVisible(d,!0);for(const A of E.off)ie(this,y).get(A)._setVisible(d,!1);Qe(this,v,this.getHash())}}isVisible(E){if(ie(this,y).size===0)return!0;if(!E)return(0,i.warn)("Optional content group not defined."),!0;if(E.type==="OCG")return ie(this,y).has(E.id)?ie(this,y).get(E.id).visible:((0,i.warn)(`Optional content group not found: ${E.id}`),!0);if(E.type==="OCMD"){if(E.expression)return Ue(this,g,f1).call(this,E.expression);if(!E.policy||E.policy==="AnyOn"){for(const A of E.ids){if(!ie(this,y).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(ie(this,y).get(A).visible)return!0}return!1}else if(E.policy==="AllOn"){for(const A of E.ids){if(!ie(this,y).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(!ie(this,y).get(A).visible)return!1}return!0}else if(E.policy==="AnyOff"){for(const A of E.ids){if(!ie(this,y).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(!ie(this,y).get(A).visible)return!0}return!1}else if(E.policy==="AllOff"){for(const A of E.ids){if(!ie(this,y).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(ie(this,y).get(A).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${E.policy}.`),!0}return(0,i.warn)(`Unknown group type ${E.type}.`),!0}setVisibility(E,A=!0){if(!ie(this,y).has(E)){(0,i.warn)(`Optional content group not found: ${E}`);return}ie(this,y).get(E)._setVisible(d,!!A),Qe(this,x,null)}get hasInitialVisibility(){return ie(this,v)===null||this.getHash()===ie(this,v)}getOrder(){return ie(this,y).size?ie(this,b)?ie(this,b).slice():[...ie(this,y).keys()]:null}getGroups(){return ie(this,y).size>0?(0,i.objectFromMap)(ie(this,y)):null}getGroup(E){return ie(this,y).get(E)||null}getHash(){if(ie(this,x)!==null)return ie(this,x);const E=new l.MurmurHash3_64;for(const[A,O]of ie(this,y))E.update(`${A}:${O.visible}`);return Qe(this,x,E.hexdigest())}}x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakSet,f1=function(E){const A=E.length;if(A<2)return!0;const O=E[0];for(let T=1;T<A;T++){const D=E[T];let F;if(Array.isArray(D))F=Ue(this,g,f1).call(this,D);else if(ie(this,y).has(D))F=ie(this,y).get(D).visible;else return(0,i.warn)(`Optional content group not found: ${D}`),!0;switch(O){case"And":if(!F)return!1;break;case"Or":if(F)return!0;break;case"Not":return!F;default:return!0}}return O==="And"},o.OptionalContentConfig=r},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var i=s(1),l=s(6);class d{constructor({length:x,initialData:y,progressiveDone:v=!1,contentDispositionFilename:b=null,disableRange:g=!1,disableStream:w=!1},f){if((0,i.assert)(f,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=v,this._contentDispositionFilename=b,(y==null?void 0:y.length)>0){const E=y instanceof Uint8Array&&y.byteLength===y.buffer.byteLength?y.buffer:new Uint8Array(y).buffer;this._queuedChunks.push(E)}this._pdfDataRangeTransport=f,this._isStreamingSupported=!w,this._isRangeSupported=!g,this._contentLength=x,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((E,A)=>{this._onReceiveData({begin:E,chunk:A})}),this._pdfDataRangeTransport.addProgressListener((E,A)=>{this._onProgress({loaded:E,total:A})}),this._pdfDataRangeTransport.addProgressiveReadListener(E=>{this._onReceiveData({chunk:E})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:x,chunk:y}){const v=y instanceof Uint8Array&&y.byteLength===y.buffer.byteLength?y.buffer:new Uint8Array(y).buffer;if(x===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(v):this._queuedChunks.push(v);else{const b=this._rangeReaders.some(function(g){return g._begin!==x?!1:(g._enqueue(v),!0)});(0,i.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var x,y;return(y=(x=this._fullRequestReader)==null?void 0:x._loaded)!=null?y:0}_onProgress(x){var y,v,b,g;x.total===void 0?(v=(y=this._rangeReaders[0])==null?void 0:y.onProgress)==null||v.call(y,{loaded:x.loaded}):(g=(b=this._fullRequestReader)==null?void 0:b.onProgress)==null||g.call(b,{loaded:x.loaded,total:x.total})}_onProgressiveDone(){var x;(x=this._fullRequestReader)==null||x.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(x){const y=this._rangeReaders.indexOf(x);y>=0&&this._rangeReaders.splice(y,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const x=this._queuedChunks;return this._queuedChunks=null,new e(this,x,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(x,y){if(y<=this._progressiveDataLength)return null;const v=new r(this,x,y);return this._pdfDataRangeTransport.requestDataRange(x,y),this._rangeReaders.push(v),v}cancelAllRequests(x){var y;(y=this._fullRequestReader)==null||y.cancel(x);for(const v of this._rangeReaders.slice(0))v.cancel(x);this._pdfDataRangeTransport.abort()}}o.PDFDataTransportStream=d;class e{constructor(x,y,v=!1,b=null){this._stream=x,this._done=v||!1,this._filename=(0,l.isPdfFile)(b)?b:null,this._queuedChunks=y||[],this._loaded=0;for(const g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),x._fullRequestReader=this,this.onProgress=null}_enqueue(x){this._done||(this._requests.length>0?this._requests.shift().resolve({value:x,done:!1}):this._queuedChunks.push(x),this._loaded+=x.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const x=new i.PromiseCapability;return this._requests.push(x),x.promise}cancel(x){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class r{constructor(x,y,v){this._stream=x,this._begin=y,this._end=v,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(x){if(!this._done){if(this._requests.length===0)this._queuedChunk=x;else{this._requests.shift().resolve({value:x,done:!1});for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const y=this._queuedChunk;return this._queuedChunk=null,{value:y,done:!1}}if(this._done)return{value:void 0,done:!0};const x=new i.PromiseCapability;return this._requests.push(x),x.promise}cancel(x){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var i=s(1),l=s(20);function d(v,b,g){return{method:"GET",headers:v,signal:g.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function e(v){const b=new Headers;for(const g in v){const w=v[g];w!==void 0&&b.append(g,w)}return b}function r(v){return v instanceof Uint8Array?v.buffer:v instanceof ArrayBuffer?v:((0,i.warn)(`getArrayBuffer - unexpected data format: ${v}`),new Uint8Array(v).buffer)}class p{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b,g;return(g=(b=this._fullRequestReader)==null?void 0:b._loaded)!=null?g:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x(this),this._fullRequestReader}getRangeReader(b,g){if(g<=this._progressiveDataLength)return null;const w=new y(this,b,g);return this._rangeRequestReaders.push(w),w}cancelAllRequests(b){var g;(g=this._fullRequestReader)==null||g.cancel(b);for(const w of this._rangeRequestReaders.slice(0))w.cancel(b)}}o.PDFFetchStream=p;class x{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;const g=b.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=new i.PromiseCapability,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=e(this._stream.httpHeaders);const w=g.url;fetch(w,d(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,l.validateResponseStatus)(f.status))throw(0,l.createResponseStatusError)(f.status,w);this._reader=f.body.getReader(),this._headersCapability.resolve();const E=T=>f.headers.get(T),{allowRangeRequests:A,suggestedLength:O}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=O||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(E),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var w;await this._headersCapability.promise;const{value:b,done:g}=await this._reader.read();return g?{value:b,done:g}:(this._loaded+=b.byteLength,(w=this.onProgress)==null||w.call(this,{loaded:this._loaded,total:this._contentLength}),{value:r(b),done:!1})}cancel(b){var g;(g=this._reader)==null||g.cancel(b),this._abortController.abort()}}class y{constructor(b,g,w){this._stream=b,this._reader=null,this._loaded=0;const f=b.source;this._withCredentials=f.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!f.disableStream,this._abortController=new AbortController,this._headers=e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${w-1}`);const E=f.url;fetch(E,d(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,l.validateResponseStatus)(A.status))throw(0,l.createResponseStatusError)(A.status,E);this._readCapability.resolve(),this._reader=A.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var w;await this._readCapability.promise;const{value:b,done:g}=await this._reader.read();return g?{value:b,done:g}:(this._loaded+=b.byteLength,(w=this.onProgress)==null||w.call(this,{loaded:this._loaded}),{value:r(b),done:!1})}cancel(b){var g;(g=this._reader)==null||g.cancel(b),this._abortController.abort()}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=p,o.extractFilenameFromHeader=r,o.validateRangeRequestCapabilities=e,o.validateResponseStatus=x;var i=s(1),l=s(21),d=s(6);function e({getResponseHeader:y,isHttp:v,rangeChunkSize:b,disableRange:g}){const w={allowRangeRequests:!1,suggestedLength:void 0},f=parseInt(y("Content-Length"),10);return!Number.isInteger(f)||(w.suggestedLength=f,f<=2*b)||g||!v||y("Accept-Ranges")!=="bytes"||(y("Content-Encoding")||"identity")!=="identity"||(w.allowRangeRequests=!0),w}function r(y){const v=y("Content-Disposition");if(v){let b=(0,l.getFilenameFromContentDispositionHeader)(v);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,d.isPdfFile)(b))return b}return null}function p(y,v){return y===404||y===0&&v.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+v+'".'):new i.UnexpectedResponseException(`Unexpected server response (${y}) while retrieving PDF "${v}".`,y)}function x(y){return y===200||y===206}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=l;var i=s(1);function l(d){let e=!0,r=p("filename\\*","i").exec(d);if(r){r=r[1];let f=b(r);return f=unescape(f),f=g(f),f=w(f),y(f)}if(r=v(d),r){const f=w(r);return y(f)}if(r=p("filename","i").exec(d),r){r=r[1];let f=b(r);return f=w(f),y(f)}function p(f,E){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',E)}function x(f,E){if(f){if(!/^[\x00-\xFF]+$/.test(E))return E;try{const A=new TextDecoder(f,{fatal:!0}),O=(0,i.stringToBytes)(E);E=A.decode(O),e=!1}catch{}}return E}function y(f){return e&&/[\x80-\xff]/.test(f)&&(f=x("utf-8",f),e&&(f=x("iso-8859-1",f))),f}function v(f){const E=[];let A;const O=p("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=O.exec(f))!==null;){let[,D,F,C]=A;if(D=parseInt(D,10),D in E){if(D===0)break;continue}E[D]=[F,C]}const T=[];for(let D=0;D<E.length&&D in E;++D){let[F,C]=E[D];C=b(C),F&&(C=unescape(C),D===0&&(C=g(C))),T.push(C)}return T.join("")}function b(f){if(f.startsWith('"')){const E=f.slice(1).split('\\"');for(let A=0;A<E.length;++A){const O=E[A].indexOf('"');O!==-1&&(E[A]=E[A].slice(0,O),E.length=A+1),E[A]=E[A].replaceAll(/\\(.)/g,"$1")}f=E.join('"')}return f}function g(f){const E=f.indexOf("'");if(E===-1)return f;const A=f.slice(0,E),T=f.slice(E+1).replace(/^[^']*'/,"");return x(A,T)}function w(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(E,A,O,T){if(O==="q"||O==="Q")return T=T.replaceAll("_"," "),T=T.replaceAll(/=([0-9a-fA-F]{2})/g,function(D,F){return String.fromCharCode(parseInt(F,16))}),x(A,T);try{T=atob(T)}catch{}return x(A,T)})}return""}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var i=s(1),l=s(20);const d=200,e=206;function r(b){const g=b.response;return typeof g!="string"?g:(0,i.stringToBytes)(g).buffer}class p{constructor(g,w={}){this.url=g,this.isHttp=/^https?:/i.test(g),this.httpHeaders=this.isHttp&&w.httpHeaders||Object.create(null),this.withCredentials=w.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(g,w,f){const E={begin:g,end:w};for(const A in f)E[A]=f[A];return this.request(E)}requestFull(g){return this.request(g)}request(g){const w=new XMLHttpRequest,f=this.currXhrId++,E=this.pendingRequests[f]={xhr:w};w.open("GET",this.url),w.withCredentials=this.withCredentials;for(const A in this.httpHeaders){const O=this.httpHeaders[A];O!==void 0&&w.setRequestHeader(A,O)}return this.isHttp&&"begin"in g&&"end"in g?(w.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),E.expectedStatus=e):E.expectedStatus=d,w.responseType="arraybuffer",g.onError&&(w.onerror=function(A){g.onError(w.status)}),w.onreadystatechange=this.onStateChange.bind(this,f),w.onprogress=this.onProgress.bind(this,f),E.onHeadersReceived=g.onHeadersReceived,E.onDone=g.onDone,E.onError=g.onError,E.onProgress=g.onProgress,w.send(null),f}onProgress(g,w){var E;const f=this.pendingRequests[g];!f||(E=f.onProgress)==null||E.call(f,w)}onStateChange(g,w){var D,F,C;const f=this.pendingRequests[g];if(!f)return;const E=f.xhr;if(E.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),E.readyState!==4||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],E.status===0&&this.isHttp){(D=f.onError)==null||D.call(f,E.status);return}const A=E.status||d;if(!(A===d&&f.expectedStatus===e)&&A!==f.expectedStatus){(F=f.onError)==null||F.call(f,E.status);return}const T=r(E);if(A===e){const B=E.getResponseHeader("Content-Range"),M=/bytes (\d+)-(\d+)\/(\d+)/.exec(B);f.onDone({begin:parseInt(M[1],10),chunk:T})}else T?f.onDone({begin:0,chunk:T}):(C=f.onError)==null||C.call(f,E.status)}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){const w=this.pendingRequests[g].xhr;delete this.pendingRequests[g],w.abort()}}class x{constructor(g){this._source=g,this._manager=new p(g.url,{httpHeaders:g.httpHeaders,withCredentials:g.withCredentials}),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){const w=this._rangeRequestReaders.indexOf(g);w>=0&&this._rangeRequestReaders.splice(w,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new y(this._manager,this._source),this._fullRequestReader}getRangeReader(g,w){const f=new v(this._manager,g,w);return f.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(f),f}cancelAllRequests(g){var w;(w=this._fullRequestReader)==null||w.cancel(g);for(const f of this._rangeRequestReaders.slice(0))f.cancel(g)}}o.PDFNetworkStream=x;class y{constructor(g,w){this._manager=g;const f={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=w.url,this._fullRequestId=g.requestFull(f),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=w.disableRange||!1,this._contentLength=w.length,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const g=this._fullRequestId,w=this._manager.getRequestXhr(g),f=O=>w.getResponseHeader(O),{allowRangeRequests:E,suggestedLength:A}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});E&&(this._isRangeSupported=!0),this._contentLength=A||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(f),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=(0,l.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);for(const w of this._requests)w.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){var w;(w=this.onProgress)==null||w.call(this,{loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const g=new i.PromiseCapability;return this._requests.push(g),g.promise}cancel(g){this._done=!0,this._headersReceivedCapability.reject(g);for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class v{constructor(g,w,f){this._manager=g;const E={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._requestId=g.requestRange(w,f,E),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var g;(g=this.onClosed)==null||g.call(this,this)}_onDone(g){const w=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:w,done:!1}):this._queuedChunk=w,this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError=(0,l.createResponseStatusError)(g,this._url);for(const w of this._requests)w.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){var w;this.isStreamingSupported||(w=this.onProgress)==null||w.call(this,{loaded:g.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const w=this._queuedChunk;return this._queuedChunk=null,{value:w,done:!1}}if(this._done)return{value:void 0,done:!0};const g=new i.PromiseCapability;return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var i=s(1),l=s(20);const d=/^file:\/\/\/[a-zA-Z]:\//;function e(f){const E=mn,A=E.parse(f);return A.protocol==="file:"||A.host?A:/^[a-z]:[/\\]/i.test(f)?E.parse(`file:///${f}`):(A.host||(A.protocol="file:"),A)}class r{constructor(E){this.source=E,this.url=e(E.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var E,A;return(A=(E=this._fullRequestReader)==null?void 0:E._loaded)!=null?A:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new v(this),this._fullRequestReader}getRangeReader(E,A){if(A<=this._progressiveDataLength)return null;const O=this.isFsUrl?new w(this,E,A):new b(this,E,A);return this._rangeRequestReaders.push(O),O}cancelAllRequests(E){var A;(A=this._fullRequestReader)==null||A.cancel(E);for(const O of this._rangeRequestReaders.slice(0))O.cancel(E)}}o.PDFNodeStream=r;class p{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null;const A=E.source;this._contentLength=A.length,this._loaded=0,this._filename=null,this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const E=this._readableStream.read();return E===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=E.length,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){if(!this._readableStream){this._error(E);return}this._readableStream.destroy(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",A=>{this._error(A)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class x{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const A=E.source;this._isStreamingSupported=!A.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const E=this._readableStream.read();return E===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=E.length,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){if(!this._readableStream){this._error(E);return}this._readableStream.destroy(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",A=>{this._error(A)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function y(f,E){return{protocol:f.protocol,auth:f.auth,host:f.hostname,port:f.port,path:f.path,method:"GET",headers:E}}class v extends p{constructor(E){super(E);const A=O=>{if(O.statusCode===404){const C=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C,this._headersCapability.reject(C);return}this._headersCapability.resolve(),this._setReadableStream(O);const T=C=>this._readableStream.headers[C.toLowerCase()],{allowRangeRequests:D,suggestedLength:F}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:E.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=D,this._contentLength=F||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(T)};if(this._request=null,this._url.protocol==="http:"){const O=mn;this._request=O.request(y(this._url,E.httpHeaders),A)}else{const O=mn;this._request=O.request(y(this._url,E.httpHeaders),A)}this._request.on("error",O=>{this._storedError=O,this._headersCapability.reject(O)}),this._request.end()}}class b extends x{constructor(E,A,O){super(E),this._httpHeaders={};for(const D in E.httpHeaders){const F=E.httpHeaders[D];F!==void 0&&(this._httpHeaders[D]=F)}this._httpHeaders.Range=`bytes=${A}-${O-1}`;const T=D=>{if(D.statusCode===404){const F=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F;return}this._setReadableStream(D)};if(this._request=null,this._url.protocol==="http:"){const D=mn;this._request=D.request(y(this._url,this._httpHeaders),T)}else{const D=mn;this._request=D.request(y(this._url,this._httpHeaders),T)}this._request.on("error",D=>{this._storedError=D}),this._request.end()}}class g extends p{constructor(E){super(E);let A=decodeURIComponent(this._url.path);d.test(this._url.href)&&(A=A.replace(/^\//,""));const O=mn;O.lstat(A,(T,D)=>{if(T){T.code==="ENOENT"&&(T=new i.MissingPDFException(`Missing PDF "${A}".`)),this._storedError=T,this._headersCapability.reject(T);return}this._contentLength=D.size,this._setReadableStream(O.createReadStream(A)),this._headersCapability.resolve()})}}class w extends x{constructor(E,A,O){super(E);let T=decodeURIComponent(this._url.path);d.test(this._url.href)&&(T=T.replace(/^\//,""));const D=mn;this._setReadableStream(D.createReadStream(T,{start:A,end:O-1}))}}},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var i=s(6),l=s(1);const d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},e="http://www.w3.org/XML/1998/namespace",r="http://www.w3.org/1999/xlink",p=["butt","round","square"],x=["miter","round","bevel"],y=function(D,F="",C=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!C)return URL.createObjectURL(new Blob([D],{type:F}));const B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let M=`data:${F};base64,`;for(let I=0,W=D.length;I<W;I+=3){const J=D[I]&255,H=D[I+1]&255,N=D[I+2]&255,U=J>>2,Y=(J&3)<<4|H>>4,_=I+1<W?(H&15)<<2|N>>6:64,V=I+2<W?N&63:64;M+=B[U]+B[Y]+B[_]+B[V]}return M},v=function(){const D=new Uint8Array([137,80,78,71,13,10,26,10]),F=12,C=new Int32Array(256);for(let N=0;N<256;N++){let U=N;for(let Y=0;Y<8;Y++)U=U&1?3988292384^U>>1&2147483647:U>>1&2147483647;C[N]=U}function B(N,U,Y){let _=-1;for(let V=U;V<Y;V++){const Z=(_^N[V])&255,q=C[Z];_=_>>>8^q}return _^-1}function M(N,U,Y,_){let V=_;const Z=U.length;Y[V]=Z>>24&255,Y[V+1]=Z>>16&255,Y[V+2]=Z>>8&255,Y[V+3]=Z&255,V+=4,Y[V]=N.charCodeAt(0)&255,Y[V+1]=N.charCodeAt(1)&255,Y[V+2]=N.charCodeAt(2)&255,Y[V+3]=N.charCodeAt(3)&255,V+=4,Y.set(U,V),V+=U.length;const q=B(Y,_+4,V);Y[V]=q>>24&255,Y[V+1]=q>>16&255,Y[V+2]=q>>8&255,Y[V+3]=q&255}function I(N,U,Y){let _=1,V=0;for(let Z=U;Z<Y;++Z)_=(_+(N[Z]&255))%65521,V=(V+_)%65521;return V<<16|_}function W(N){if(!l.isNodeJS)return J(N);try{const U=parseInt(process.versions.node)>=8?N:Buffer.from(N),Y=mn.deflateSync(U,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch(U){(0,l.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+U)}return J(N)}function J(N){let U=N.length;const Y=65535,_=Math.ceil(U/Y),V=new Uint8Array(2+U+_*5+4);let Z=0;V[Z++]=120,V[Z++]=156;let q=0;for(;U>Y;)V[Z++]=0,V[Z++]=255,V[Z++]=255,V[Z++]=0,V[Z++]=0,V.set(N.subarray(q,q+Y),Z),Z+=Y,q+=Y,U-=Y;V[Z++]=1,V[Z++]=U&255,V[Z++]=U>>8&255,V[Z++]=~U&65535&255,V[Z++]=(~U&65535)>>8&255,V.set(N.subarray(q),Z),Z+=N.length-q;const re=I(N,0,N.length);return V[Z++]=re>>24&255,V[Z++]=re>>16&255,V[Z++]=re>>8&255,V[Z++]=re&255,V}function H(N,U,Y,_){const V=N.width,Z=N.height;let q,re,oe;const ae=N.data;switch(U){case l.ImageKind.GRAYSCALE_1BPP:re=0,q=1,oe=V+7>>3;break;case l.ImageKind.RGB_24BPP:re=2,q=8,oe=V*3;break;case l.ImageKind.RGBA_32BPP:re=6,q=8,oe=V*4;break;default:throw new Error("invalid format")}const R=new Uint8Array((1+oe)*Z);let S=0,L=0;for(let X=0;X<Z;++X)R[S++]=0,R.set(ae.subarray(L,L+oe),S),L+=oe,S+=oe;if(U===l.ImageKind.GRAYSCALE_1BPP&&_){S=0;for(let X=0;X<Z;X++){S++;for(let ee=0;ee<oe;ee++)R[S++]^=255}}const k=new Uint8Array([V>>24&255,V>>16&255,V>>8&255,V&255,Z>>24&255,Z>>16&255,Z>>8&255,Z&255,q,re,0,0,0]),z=W(R),P=D.length+F*3+k.length+z.length,K=new Uint8Array(P);let te=0;return K.set(D,te),te+=D.length,M("IHDR",k,K,te),te+=F+k.length,M("IDATA",z,K,te),te+=F+z.length,M("IEND",new Uint8Array(0),K,te),y(K,"image/png",Y)}return function(U,Y,_){const V=U.kind===void 0?l.ImageKind.GRAYSCALE_1BPP:U.kind;return H(U,V,Y,_)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=l.IDENTITY_MATRIX,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=l.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(F,C){this.x=F,this.y=C}}function g(D){let F=[];const C=[];for(const B of D){if(B.fn==="save"){F.push({fnId:92,fn:"group",items:[]}),C.push(F),F=F.at(-1).items;continue}B.fn==="restore"?F=C.pop():F.push(B)}return F}function w(D){if(Number.isInteger(D))return D.toString();const F=D.toFixed(10);let C=F.length-1;if(F[C]!=="0")return F;do C--;while(F[C]==="0");return F.substring(0,F[C]==="."?C:C+1)}function f(D){if(D[4]===0&&D[5]===0){if(D[1]===0&&D[2]===0)return D[0]===1&&D[3]===1?"":`scale(${w(D[0])} ${w(D[3])})`;if(D[0]===D[3]&&D[1]===-D[2]){const F=Math.acos(D[0])*180/Math.PI;return`rotate(${w(F)})`}}else if(D[0]===1&&D[1]===0&&D[2]===0&&D[3]===1)return`translate(${w(D[4])} ${w(D[5])})`;return`matrix(${w(D[0])} ${w(D[1])} ${w(D[2])} ${w(D[3])} ${w(D[4])} ${w(D[5])})`}let E=0,A=0,O=0;class T{constructor(F,C,B=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new b,this.transformMatrix=l.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=F,this.objs=C,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!B,this._operatorIdMapping=[];for(const M in l.OPS)this._operatorIdMapping[l.OPS[M]]=M}getObject(F,C=null){return typeof F=="string"?F.startsWith("g_")?this.commonObjs.get(F):this.objs.get(F):C}save(){this.transformStack.push(this.transformMatrix);const F=this.current;this.extraStack.push(F),this.current=F.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(F){this.save(),this.executeOpTree(F),this.restore()}loadDependencies(F){const C=F.fnArray,B=F.argsArray;for(let M=0,I=C.length;M<I;M++)if(C[M]===l.OPS.dependency)for(const W of B[M]){const J=W.startsWith("g_")?this.commonObjs:this.objs,H=new Promise(N=>{J.get(W,N)});this.current.dependencies.push(H)}return Promise.all(this.current.dependencies)}transform(F,C,B,M,I,W){const J=[F,C,B,M,I,W];this.transformMatrix=l.Util.transform(this.transformMatrix,J),this.tgrp=null}getSVG(F,C){this.viewport=C;const B=this._initialize(C);return this.loadDependencies(F).then(()=>(this.transformMatrix=l.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(F)),B))}convertOpList(F){const C=this._operatorIdMapping,B=F.argsArray,M=F.fnArray,I=[];for(let W=0,J=M.length;W<J;W++){const H=M[W];I.push({fnId:H,fn:C[H],args:B[W]})}return g(I)}executeOpTree(F){for(const C of F){const B=C.fn,M=C.fnId,I=C.args;switch(M|0){case l.OPS.beginText:this.beginText();break;case l.OPS.dependency:break;case l.OPS.setLeading:this.setLeading(I);break;case l.OPS.setLeadingMoveText:this.setLeadingMoveText(I[0],I[1]);break;case l.OPS.setFont:this.setFont(I);break;case l.OPS.showText:this.showText(I[0]);break;case l.OPS.showSpacedText:this.showText(I[0]);break;case l.OPS.endText:this.endText();break;case l.OPS.moveText:this.moveText(I[0],I[1]);break;case l.OPS.setCharSpacing:this.setCharSpacing(I[0]);break;case l.OPS.setWordSpacing:this.setWordSpacing(I[0]);break;case l.OPS.setHScale:this.setHScale(I[0]);break;case l.OPS.setTextMatrix:this.setTextMatrix(I[0],I[1],I[2],I[3],I[4],I[5]);break;case l.OPS.setTextRise:this.setTextRise(I[0]);break;case l.OPS.setTextRenderingMode:this.setTextRenderingMode(I[0]);break;case l.OPS.setLineWidth:this.setLineWidth(I[0]);break;case l.OPS.setLineJoin:this.setLineJoin(I[0]);break;case l.OPS.setLineCap:this.setLineCap(I[0]);break;case l.OPS.setMiterLimit:this.setMiterLimit(I[0]);break;case l.OPS.setFillRGBColor:this.setFillRGBColor(I[0],I[1],I[2]);break;case l.OPS.setStrokeRGBColor:this.setStrokeRGBColor(I[0],I[1],I[2]);break;case l.OPS.setStrokeColorN:this.setStrokeColorN(I);break;case l.OPS.setFillColorN:this.setFillColorN(I);break;case l.OPS.shadingFill:this.shadingFill(I[0]);break;case l.OPS.setDash:this.setDash(I[0],I[1]);break;case l.OPS.setRenderingIntent:this.setRenderingIntent(I[0]);break;case l.OPS.setFlatness:this.setFlatness(I[0]);break;case l.OPS.setGState:this.setGState(I[0]);break;case l.OPS.fill:this.fill();break;case l.OPS.eoFill:this.eoFill();break;case l.OPS.stroke:this.stroke();break;case l.OPS.fillStroke:this.fillStroke();break;case l.OPS.eoFillStroke:this.eoFillStroke();break;case l.OPS.clip:this.clip("nonzero");break;case l.OPS.eoClip:this.clip("evenodd");break;case l.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case l.OPS.paintImageXObject:this.paintImageXObject(I[0]);break;case l.OPS.paintInlineImageXObject:this.paintInlineImageXObject(I[0]);break;case l.OPS.paintImageMaskXObject:this.paintImageMaskXObject(I[0]);break;case l.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(I[0],I[1]);break;case l.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case l.OPS.closePath:this.closePath();break;case l.OPS.closeStroke:this.closeStroke();break;case l.OPS.closeFillStroke:this.closeFillStroke();break;case l.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case l.OPS.nextLine:this.nextLine();break;case l.OPS.transform:this.transform(I[0],I[1],I[2],I[3],I[4],I[5]);break;case l.OPS.constructPath:this.constructPath(I[0],I[1]);break;case l.OPS.endPath:this.endPath();break;case 92:this.group(C.items);break;default:(0,l.warn)(`Unimplemented operator ${B}`);break}}}setWordSpacing(F){this.current.wordSpacing=F}setCharSpacing(F){this.current.charSpacing=F}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(F,C,B,M,I,W){const J=this.current;J.textMatrix=J.lineMatrix=[F,C,B,M,I,W],J.textMatrixScale=Math.hypot(F,C),J.x=J.lineX=0,J.y=J.lineY=0,J.xcoords=[],J.ycoords=[],J.tspan=this.svgFactory.createElement("svg:tspan"),J.tspan.setAttributeNS(null,"font-family",J.fontFamily),J.tspan.setAttributeNS(null,"font-size",`${w(J.fontSize)}px`),J.tspan.setAttributeNS(null,"y",w(-J.y)),J.txtElement=this.svgFactory.createElement("svg:text"),J.txtElement.append(J.tspan)}beginText(){const F=this.current;F.x=F.lineX=0,F.y=F.lineY=0,F.textMatrix=l.IDENTITY_MATRIX,F.lineMatrix=l.IDENTITY_MATRIX,F.textMatrixScale=1,F.tspan=this.svgFactory.createElement("svg:tspan"),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtgrp=this.svgFactory.createElement("svg:g"),F.xcoords=[],F.ycoords=[]}moveText(F,C){const B=this.current;B.x=B.lineX+=F,B.y=B.lineY+=C,B.xcoords=[],B.ycoords=[],B.tspan=this.svgFactory.createElement("svg:tspan"),B.tspan.setAttributeNS(null,"font-family",B.fontFamily),B.tspan.setAttributeNS(null,"font-size",`${w(B.fontSize)}px`),B.tspan.setAttributeNS(null,"y",w(-B.y))}showText(F){const C=this.current,B=C.font,M=C.fontSize;if(M===0)return;const I=C.fontSizeScale,W=C.charSpacing,J=C.wordSpacing,H=C.fontDirection,N=C.textHScale*H,U=B.vertical,Y=U?1:-1,_=B.defaultVMetrics,V=M*C.fontMatrix[0];let Z=0;for(const oe of F){if(oe===null){Z+=H*J;continue}else if(typeof oe=="number"){Z+=Y*oe*M/1e3;continue}const ae=(oe.isSpace?J:0)+W,R=oe.fontChar;let S,L,k=oe.width;if(U){let P;const K=oe.vmetric||_;P=oe.vmetric?K[1]:k*.5,P=-P*V;const te=K[2]*V;k=K?-K[0]:k,S=P/I,L=(Z+te)/I}else S=Z/I,L=0;(oe.isInFont||B.missingFile)&&(C.xcoords.push(C.x+S),U&&C.ycoords.push(-C.y+L),C.tspan.textContent+=R);const z=U?k*V-ae*H:k*V+ae*H;Z+=z}C.tspan.setAttributeNS(null,"x",C.xcoords.map(w).join(" ")),U?C.tspan.setAttributeNS(null,"y",C.ycoords.map(w).join(" ")):C.tspan.setAttributeNS(null,"y",w(-C.y)),U?C.y-=Z:C.x+=Z*N,C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${w(C.fontSize)}px`),C.fontStyle!==d.fontStyle&&C.tspan.setAttributeNS(null,"font-style",C.fontStyle),C.fontWeight!==d.fontWeight&&C.tspan.setAttributeNS(null,"font-weight",C.fontWeight);const q=C.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;if(q===l.TextRenderingMode.FILL||q===l.TextRenderingMode.FILL_STROKE?(C.fillColor!==d.fillColor&&C.tspan.setAttributeNS(null,"fill",C.fillColor),C.fillAlpha<1&&C.tspan.setAttributeNS(null,"fill-opacity",C.fillAlpha)):C.textRenderingMode===l.TextRenderingMode.ADD_TO_PATH?C.tspan.setAttributeNS(null,"fill","transparent"):C.tspan.setAttributeNS(null,"fill","none"),q===l.TextRenderingMode.STROKE||q===l.TextRenderingMode.FILL_STROKE){const oe=1/(C.textMatrixScale||1);this._setStrokeAttributes(C.tspan,oe)}let re=C.textMatrix;C.textRise!==0&&(re=re.slice(),re[5]+=C.textRise),C.txtElement.setAttributeNS(null,"transform",`${f(re)} scale(${w(N)}, -1)`),C.txtElement.setAttributeNS(e,"xml:space","preserve"),C.txtElement.append(C.tspan),C.txtgrp.append(C.txtElement),this._ensureTransformGroup().append(C.txtElement)}setLeadingMoveText(F,C){this.setLeading(-C),this.moveText(F,C)}addFontStyle(F){if(!F.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const C=y(F.data,F.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${F.loadedName}"; src: url(${C}); }
`}setFont(F){const C=this.current,B=this.commonObjs.get(F[0]);let M=F[1];C.font=B,this.embedFonts&&!B.missingFile&&!this.embeddedFonts[B.loadedName]&&(this.addFontStyle(B),this.embeddedFonts[B.loadedName]=B),C.fontMatrix=B.fontMatrix||l.FONT_IDENTITY_MATRIX;let I="normal";B.black?I="900":B.bold&&(I="bold");const W=B.italic?"italic":"normal";M<0?(M=-M,C.fontDirection=-1):C.fontDirection=1,C.fontSize=M,C.fontFamily=B.loadedName,C.fontWeight=I,C.fontStyle=W,C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"y",w(-C.y)),C.xcoords=[],C.ycoords=[]}endText(){var C;const F=this.current;F.textRenderingMode&l.TextRenderingMode.ADD_TO_PATH_FLAG&&((C=F.txtElement)==null?void 0:C.hasChildNodes())&&(F.element=F.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(F){F>0&&(this.current.lineWidth=F)}setLineCap(F){this.current.lineCap=p[F]}setLineJoin(F){this.current.lineJoin=x[F]}setMiterLimit(F){this.current.miterLimit=F}setStrokeAlpha(F){this.current.strokeAlpha=F}setStrokeRGBColor(F,C,B){this.current.strokeColor=l.Util.makeHexColor(F,C,B)}setFillAlpha(F){this.current.fillAlpha=F}setFillRGBColor(F,C,B){this.current.fillColor=l.Util.makeHexColor(F,C,B),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(F){this.current.strokeColor=this._makeColorN_Pattern(F)}setFillColorN(F){this.current.fillColor=this._makeColorN_Pattern(F)}shadingFill(F){const{width:C,height:B}=this.viewport,M=l.Util.inverseTransform(this.transformMatrix),[I,W,J,H]=l.Util.getAxialAlignedBoundingBox([0,0,C,B],M),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",I),N.setAttributeNS(null,"y",W),N.setAttributeNS(null,"width",J-I),N.setAttributeNS(null,"height",H-W),N.setAttributeNS(null,"fill",this._makeShadingPattern(F)),this.current.fillAlpha<1&&N.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(N)}_makeColorN_Pattern(F){return F[0]==="TilingPattern"?this._makeTilingPattern(F):this._makeShadingPattern(F)}_makeTilingPattern(F){const C=F[1],B=F[2],M=F[3]||l.IDENTITY_MATRIX,[I,W,J,H]=F[4],N=F[5],U=F[6],Y=F[7],_=`shading${O++}`,[V,Z,q,re]=l.Util.normalizeRect([...l.Util.applyTransform([I,W],M),...l.Util.applyTransform([J,H],M)]),[oe,ae]=l.Util.singularValueDecompose2dScale(M),R=N*oe,S=U*ae,L=this.svgFactory.createElement("svg:pattern");L.setAttributeNS(null,"id",_),L.setAttributeNS(null,"patternUnits","userSpaceOnUse"),L.setAttributeNS(null,"width",R),L.setAttributeNS(null,"height",S),L.setAttributeNS(null,"x",`${V}`),L.setAttributeNS(null,"y",`${Z}`);const k=this.svg,z=this.transformMatrix,P=this.current.fillColor,K=this.current.strokeColor,te=this.svgFactory.create(q-V,re-Z);if(this.svg=te,this.transformMatrix=M,Y===2){const X=l.Util.makeHexColor(...C);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(B)),this.svg=k,this.transformMatrix=z,this.current.fillColor=P,this.current.strokeColor=K,L.append(te.childNodes[0]),this.defs.append(L),`url(#${_})`}_makeShadingPattern(F){switch(typeof F=="string"&&(F=this.objs.get(F)),F[0]){case"RadialAxial":const C=`shading${O++}`,B=F[3];let M;switch(F[1]){case"axial":const I=F[4],W=F[5];M=this.svgFactory.createElement("svg:linearGradient"),M.setAttributeNS(null,"id",C),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"x1",I[0]),M.setAttributeNS(null,"y1",I[1]),M.setAttributeNS(null,"x2",W[0]),M.setAttributeNS(null,"y2",W[1]);break;case"radial":const J=F[4],H=F[5],N=F[6],U=F[7];M=this.svgFactory.createElement("svg:radialGradient"),M.setAttributeNS(null,"id",C),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"cx",H[0]),M.setAttributeNS(null,"cy",H[1]),M.setAttributeNS(null,"r",U),M.setAttributeNS(null,"fx",J[0]),M.setAttributeNS(null,"fy",J[1]),M.setAttributeNS(null,"fr",N);break;default:throw new Error(`Unknown RadialAxial type: ${F[1]}`)}for(const I of B){const W=this.svgFactory.createElement("svg:stop");W.setAttributeNS(null,"offset",I[0]),W.setAttributeNS(null,"stop-color",I[1]),M.append(W)}return this.defs.append(M),`url(#${C})`;case"Mesh":return(0,l.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${F[0]}`)}}setDash(F,C){this.current.dashArray=F,this.current.dashPhase=C}constructPath(F,C){const B=this.current;let M=B.x,I=B.y,W=[],J=0;for(const H of F)switch(H|0){case l.OPS.rectangle:M=C[J++],I=C[J++];const N=C[J++],U=C[J++],Y=M+N,_=I+U;W.push("M",w(M),w(I),"L",w(Y),w(I),"L",w(Y),w(_),"L",w(M),w(_),"Z");break;case l.OPS.moveTo:M=C[J++],I=C[J++],W.push("M",w(M),w(I));break;case l.OPS.lineTo:M=C[J++],I=C[J++],W.push("L",w(M),w(I));break;case l.OPS.curveTo:M=C[J+4],I=C[J+5],W.push("C",w(C[J]),w(C[J+1]),w(C[J+2]),w(C[J+3]),w(M),w(I)),J+=6;break;case l.OPS.curveTo2:W.push("C",w(M),w(I),w(C[J]),w(C[J+1]),w(C[J+2]),w(C[J+3])),M=C[J+2],I=C[J+3],J+=4;break;case l.OPS.curveTo3:M=C[J+2],I=C[J+3],W.push("C",w(C[J]),w(C[J+1]),w(M),w(I),w(M),w(I)),J+=4;break;case l.OPS.closePath:W.push("Z");break}W=W.join(" "),B.path&&F.length>0&&F[0]!==l.OPS.rectangle&&F[0]!==l.OPS.moveTo?W=B.path.getAttributeNS(null,"d")+W:(B.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(B.path)),B.path.setAttributeNS(null,"d",W),B.path.setAttributeNS(null,"fill","none"),B.element=B.path,B.setCurrentPoint(M,I)}endPath(){const F=this.current;if(F.path=null,!this.pendingClip)return;if(!F.element){this.pendingClip=null;return}const C=`clippath${E++}`,B=this.svgFactory.createElement("svg:clipPath");B.setAttributeNS(null,"id",C),B.setAttributeNS(null,"transform",f(this.transformMatrix));const M=F.element.cloneNode(!0);if(this.pendingClip==="evenodd"?M.setAttributeNS(null,"clip-rule","evenodd"):M.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,B.append(M),this.defs.append(B),F.activeClipUrl){F.clipGroup=null;for(const I of this.extraStack)I.clipGroup=null;B.setAttributeNS(null,"clip-path",F.activeClipUrl)}F.activeClipUrl=`url(#${C})`,this.tgrp=null}clip(F){this.pendingClip=F}closePath(){const F=this.current;if(F.path){const C=`${F.path.getAttributeNS(null,"d")}Z`;F.path.setAttributeNS(null,"d",C)}}setLeading(F){this.current.leading=-F}setTextRise(F){this.current.textRise=F}setTextRenderingMode(F){this.current.textRenderingMode=F}setHScale(F){this.current.textHScale=F/100}setRenderingIntent(F){}setFlatness(F){}setGState(F){for(const[C,B]of F)switch(C){case"LW":this.setLineWidth(B);break;case"LC":this.setLineCap(B);break;case"LJ":this.setLineJoin(B);break;case"ML":this.setMiterLimit(B);break;case"D":this.setDash(B[0],B[1]);break;case"RI":this.setRenderingIntent(B);break;case"FL":this.setFlatness(B);break;case"Font":this.setFont(B);break;case"CA":this.setStrokeAlpha(B);break;case"ca":this.setFillAlpha(B);break;default:(0,l.warn)(`Unimplemented graphic state operator ${C}`);break}}fill(){const F=this.current;F.element&&(F.element.setAttributeNS(null,"fill",F.fillColor),F.element.setAttributeNS(null,"fill-opacity",F.fillAlpha),this.endPath())}stroke(){const F=this.current;F.element&&(this._setStrokeAttributes(F.element),F.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(F,C=1){const B=this.current;let M=B.dashArray;C!==1&&M.length>0&&(M=M.map(function(I){return C*I})),F.setAttributeNS(null,"stroke",B.strokeColor),F.setAttributeNS(null,"stroke-opacity",B.strokeAlpha),F.setAttributeNS(null,"stroke-miterlimit",w(B.miterLimit)),F.setAttributeNS(null,"stroke-linecap",B.lineCap),F.setAttributeNS(null,"stroke-linejoin",B.lineJoin),F.setAttributeNS(null,"stroke-width",w(C*B.lineWidth)+"px"),F.setAttributeNS(null,"stroke-dasharray",M.map(w).join(" ")),F.setAttributeNS(null,"stroke-dashoffset",w(C*B.dashPhase)+"px")}eoFill(){var F;(F=this.current.element)==null||F.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var F;(F=this.current.element)==null||F.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width","1px"),F.setAttributeNS(null,"height","1px"),F.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(F)}paintImageXObject(F){const C=this.getObject(F);if(!C){(0,l.warn)(`Dependent image with object ID ${F} is not ready yet`);return}this.paintInlineImageXObject(C)}paintInlineImageXObject(F,C){const B=F.width,M=F.height,I=v(F,this.forceDataSchema,!!C),W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y","0"),W.setAttributeNS(null,"width",w(B)),W.setAttributeNS(null,"height",w(M)),this.current.element=W,this.clip("nonzero");const J=this.svgFactory.createElement("svg:image");J.setAttributeNS(r,"xlink:href",I),J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y",w(-M)),J.setAttributeNS(null,"width",w(B)+"px"),J.setAttributeNS(null,"height",w(M)+"px"),J.setAttributeNS(null,"transform",`scale(${w(1/B)} ${w(-1/M)})`),C?C.append(J):this._ensureTransformGroup().append(J)}paintImageMaskXObject(F){const C=this.getObject(F.data,F);if(C.bitmap){(0,l.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const B=this.current,M=C.width,I=C.height,W=B.fillColor;B.maskId=`mask${A++}`;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",B.maskId);const H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",w(M)),H.setAttributeNS(null,"height",w(I)),H.setAttributeNS(null,"fill",W),H.setAttributeNS(null,"mask",`url(#${B.maskId})`),this.defs.append(J),this._ensureTransformGroup().append(H),this.paintInlineImageXObject(C,J)}paintFormXObjectBegin(F,C){if(Array.isArray(F)&&F.length===6&&this.transform(F[0],F[1],F[2],F[3],F[4],F[5]),C){const B=C[2]-C[0],M=C[3]-C[1],I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",C[0]),I.setAttributeNS(null,"y",C[1]),I.setAttributeNS(null,"width",w(B)),I.setAttributeNS(null,"height",w(M)),this.current.element=I,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(F){const C=this.svgFactory.create(F.width,F.height),B=this.svgFactory.createElement("svg:defs");C.append(B),this.defs=B;const M=this.svgFactory.createElement("svg:g");return M.setAttributeNS(null,"transform",f(F.transform)),C.append(M),this.svg=M,C}_ensureClipGroup(){if(!this.current.clipGroup){const F=this.svgFactory.createElement("svg:g");F.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(F),this.current.clipGroup=F}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}o.SVGGraphics=T},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class s{static textContent(l){const d=[],e={items:d,styles:Object.create(null)};function r(p){var v;if(!p)return;let x=null;const y=p.name;if(y==="#text")x=p.value;else if(s.shouldBuildText(y))(v=p==null?void 0:p.attributes)!=null&&v.textContent?x=p.attributes.textContent:p.value&&(x=p.value);else return;if(x!==null&&d.push({str:x}),!!p.children)for(const b of p.children)r(b)}return r(l),e}static shouldBuildText(l){return!(l==="textarea"||l==="input"||l==="option"||l==="select")}}o.XfaText=s},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerRenderTask=void 0,o.renderTextLayer=f,o.updateTextLayer=E;var i=s(1),l=s(6);const d=1e5,e=30,r=.8,p=new Map;function x(A,O){let T;if(O&&i.FeatureTest.isOffscreenCanvasSupported)T=new OffscreenCanvas(A,A).getContext("2d",{alpha:!1});else{const D=document.createElement("canvas");D.width=D.height=A,T=D.getContext("2d",{alpha:!1})}return T}function y(A,O){const T=p.get(A);if(T)return T;const D=x(e,O);D.font=`${e}px ${A}`;const F=D.measureText("");let C=F.fontBoundingBoxAscent,B=Math.abs(F.fontBoundingBoxDescent);if(C){const I=C/(C+B);return p.set(A,I),D.canvas.width=D.canvas.height=0,I}D.strokeStyle="red",D.clearRect(0,0,e,e),D.strokeText("g",0,0);let M=D.getImageData(0,0,e,e).data;B=0;for(let I=M.length-1-3;I>=0;I-=4)if(M[I]>0){B=Math.ceil(I/4/e);break}D.clearRect(0,0,e,e),D.strokeText("A",0,e),M=D.getImageData(0,0,e,e).data,C=0;for(let I=0,W=M.length;I<W;I+=4)if(M[I]>0){C=e-Math.floor(I/4/e);break}if(D.canvas.width=D.canvas.height=0,C){const I=C/(C+B);return p.set(A,I),I}return p.set(A,r),r}function v(A,O,T){const D=document.createElement("span"),F={angle:0,canvasWidth:0,hasText:O.str!=="",hasEOL:O.hasEOL,fontSize:0};A._textDivs.push(D);const C=i.Util.transform(A._transform,O.transform);let B=Math.atan2(C[1],C[0]);const M=T[O.fontName];M.vertical&&(B+=Math.PI/2);const I=Math.hypot(C[2],C[3]),W=I*y(M.fontFamily,A._isOffscreenCanvasSupported);let J,H;B===0?(J=C[4],H=C[5]-W):(J=C[4]+W*Math.sin(B),H=C[5]-W*Math.cos(B));const N="calc(var(--scale-factor)*",U=D.style;A._container===A._rootContainer?(U.left=`${(100*J/A._pageWidth).toFixed(2)}%`,U.top=`${(100*H/A._pageHeight).toFixed(2)}%`):(U.left=`${N}${J.toFixed(2)}px)`,U.top=`${N}${H.toFixed(2)}px)`),U.fontSize=`${N}${I.toFixed(2)}px)`,U.fontFamily=M.fontFamily,F.fontSize=I,D.setAttribute("role","presentation"),D.textContent=O.str,D.dir=O.dir,A._fontInspectorEnabled&&(D.dataset.fontName=O.fontName),B!==0&&(F.angle=B*(180/Math.PI));let Y=!1;if(O.str.length>1)Y=!0;else if(O.str!==" "&&O.transform[0]!==O.transform[3]){const _=Math.abs(O.transform[0]),V=Math.abs(O.transform[3]);_!==V&&Math.max(_,V)/Math.min(_,V)>1.5&&(Y=!0)}Y&&(F.canvasWidth=M.vertical?O.height:O.width),A._textDivProperties.set(D,F),A._isReadableStream&&A._layoutText(D)}function b(A){const{div:O,scale:T,properties:D,ctx:F,prevFontSize:C,prevFontFamily:B}=A,{style:M}=O;let I="";if(D.canvasWidth!==0&&D.hasText){const{fontFamily:W}=M,{canvasWidth:J,fontSize:H}=D;(C!==H||B!==W)&&(F.font=`${H*T}px ${W}`,A.prevFontSize=H,A.prevFontFamily=W);const{width:N}=F.measureText(O.textContent);N>0&&(I=`scaleX(${J*T/N})`)}D.angle!==0&&(I=`rotate(${D.angle}deg) ${I}`),I.length>0&&(M.transform=I)}function g(A){if(A._canceled)return;const O=A._textDivs,T=A._capability;if(O.length>d){T.resolve();return}if(!A._isReadableStream)for(const F of O)A._layoutText(F);T.resolve()}class w{constructor({textContentSource:O,container:T,viewport:D,textDivs:F,textDivProperties:C,textContentItemsStr:B,isOffscreenCanvasSupported:M}){var N;this._textContentSource=O,this._isReadableStream=O instanceof ReadableStream,this._container=this._rootContainer=T,this._textDivs=F||[],this._textContentItemsStr=B||[],this._isOffscreenCanvasSupported=M,this._fontInspectorEnabled=!!((N=globalThis.FontInspector)!=null&&N.enabled),this._reader=null,this._textDivProperties=C||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:D.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:x(0,M)};const{pageWidth:I,pageHeight:W,pageX:J,pageY:H}=D.rawDims;this._transform=[1,0,0,-1,-J,H+W],this._pageWidth=I,this._pageHeight=W,(0,l.setLayerDimensions)(T,D),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(O,T){for(const D of O){if(D.str===void 0){if(D.type==="beginMarkedContentProps"||D.type==="beginMarkedContent"){const F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),D.id!==null&&this._container.setAttribute("id",`${D.id}`),F.append(this._container)}else D.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(D.str),v(this,D,T)}}_layoutText(O){const T=this._layoutTextParams.properties=this._textDivProperties.get(O);if(this._layoutTextParams.div=O,b(this._layoutTextParams),T.hasText&&this._container.append(O),T.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),this._container.append(D)}}_render(){const O=new i.PromiseCapability;let T=Object.create(null);if(this._isReadableStream){const D=()=>{this._reader.read().then(({value:F,done:C})=>{if(C){O.resolve();return}Object.assign(T,F.styles),this._processItems(F.items,T),D()},O.reject)};this._reader=this._textContentSource.getReader(),D()}else if(this._textContentSource){const{items:D,styles:F}=this._textContentSource;this._processItems(D,F),O.resolve()}else throw new Error('No "textContentSource" parameter specified.');O.promise.then(()=>{T=null,g(this)},this._capability.reject)}}o.TextLayerRenderTask=w;function f(A){!A.textContentSource&&(A.textContent||A.textContentStream)&&((0,l.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),A.textContentSource=A.textContent||A.textContentStream);const{container:O,viewport:T}=A,D=getComputedStyle(O),F=D.getPropertyValue("visibility"),C=parseFloat(D.getPropertyValue("--scale-factor"));F==="visible"&&(!C||Math.abs(C-T.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const B=new w(A);return B._render(),B}function E({container:A,viewport:O,textDivs:T,textDivProperties:D,isOffscreenCanvasSupported:F,mustRotate:C=!0,mustRescale:B=!0}){if(C&&(0,l.setLayerDimensions)(A,{rotation:O.rotation}),B){const M=x(0,F),W={prevFontSize:null,prevFontFamily:null,div:null,scale:O.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:M};for(const J of T)W.properties=D.get(J),W.div=J,b(W)}}},(h,o,s)=>{var y,v,b,g,w,f,E,A,O,T,D,d1,C,$0,M,p1,W,g1;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayer=void 0;var i=s(1),l=s(4),d=s(28),e=s(33),r=s(6),p=s(34);const H=class{constructor({uiManager:U,pageIndex:Y,div:_,accessibilityManager:V,annotationLayer:Z,viewport:q,l10n:re}){Le(this,D);Le(this,C);Le(this,M);Le(this,W);Le(this,y,void 0);Le(this,v,!1);Le(this,b,null);Le(this,g,this.pointerup.bind(this));Le(this,w,this.pointerdown.bind(this));Le(this,f,new Map);Le(this,E,!1);Le(this,A,!1);Le(this,O,!1);Le(this,T,void 0);const oe=[d.FreeTextEditor,e.InkEditor,p.StampEditor];if(!H._initialized){H._initialized=!0;for(const ae of oe)ae.initialize(re)}U.registerEditorTypes(oe),Qe(this,T,U),this.pageIndex=Y,this.div=_,Qe(this,y,V),Qe(this,b,Z),this.viewport=q,ie(this,T).addLayer(this)}get isEmpty(){return ie(this,f).size===0}updateToolbar(U){ie(this,T).updateToolbar(U)}updateMode(U=ie(this,T).getMode()){Ue(this,W,g1).call(this),U===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),U!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",U===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",U===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",U===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(U){if(!U&&ie(this,T).getMode()!==i.AnnotationEditorType.INK)return;if(!U){for(const _ of ie(this,f).values())if(_.isEmpty()){_.setInBackground();return}}Ue(this,C,$0).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(U){ie(this,T).setEditingState(U)}addCommands(U){ie(this,T).addCommands(U)}enable(){this.div.style.pointerEvents="auto";const U=new Set;for(const _ of ie(this,f).values())_.enableEditing(),_.annotationElementId&&U.add(_.annotationElementId);if(!ie(this,b))return;const Y=ie(this,b).getEditableAnnotations();for(const _ of Y){if(_.hide(),ie(this,T).isDeletedAnnotationElement(_.data.id)||U.has(_.data.id))continue;const V=this.deserialize(_);!V||(this.addOrRebuild(V),V.enableEditing())}}disable(){var Y;Qe(this,O,!0),this.div.style.pointerEvents="none";const U=new Set;for(const _ of ie(this,f).values()){if(_.disableEditing(),!_.annotationElementId||_.serialize()!==null){U.add(_.annotationElementId);continue}(Y=this.getEditableAnnotation(_.annotationElementId))==null||Y.show(),_.remove()}if(ie(this,b)){const _=ie(this,b).getEditableAnnotations();for(const V of _){const{id:Z}=V.data;U.has(Z)||ie(this,T).isDeletedAnnotationElement(Z)||V.show()}}Ue(this,W,g1).call(this),this.isEmpty&&(this.div.hidden=!0),Qe(this,O,!1)}getEditableAnnotation(U){var Y;return((Y=ie(this,b))==null?void 0:Y.getEditableAnnotation(U))||null}setActiveEditor(U){ie(this,T).getActive()!==U&&ie(this,T).setActiveEditor(U)}enableClick(){this.div.addEventListener("pointerdown",ie(this,w)),this.div.addEventListener("pointerup",ie(this,g))}disableClick(){this.div.removeEventListener("pointerdown",ie(this,w)),this.div.removeEventListener("pointerup",ie(this,g))}attach(U){ie(this,f).set(U.id,U);const{annotationElementId:Y}=U;Y&&ie(this,T).isDeletedAnnotationElement(Y)&&ie(this,T).removeDeletedAnnotationElement(U)}detach(U){var Y;ie(this,f).delete(U.id),(Y=ie(this,y))==null||Y.removePointerInTextLayer(U.contentDiv),!ie(this,O)&&U.annotationElementId&&ie(this,T).addDeletedAnnotationElement(U)}remove(U){this.detach(U),ie(this,T).removeEditor(U),U.div.contains(document.activeElement)&&setTimeout(()=>{ie(this,T).focusMainContainer()},0),U.div.remove(),U.isAttachedToDOM=!1,ie(this,A)||this.addInkEditorIfNeeded(!1)}changeParent(U){var Y;U.parent!==this&&(U.annotationElementId&&(ie(this,T).addDeletedAnnotationElement(U.annotationElementId),l.AnnotationEditor.deleteAnnotationElement(U),U.annotationElementId=null),this.attach(U),(Y=U.parent)==null||Y.detach(U),U.setParent(this),U.div&&U.isAttachedToDOM&&(U.div.remove(),this.div.append(U.div)))}add(U){if(this.changeParent(U),ie(this,T).addEditor(U),this.attach(U),!U.isAttachedToDOM){const Y=U.render();this.div.append(Y),U.isAttachedToDOM=!0}U.fixAndSetPosition(),U.onceAdded(),ie(this,T).addToAnnotationStorage(U)}moveEditorInDOM(U){var _;if(!U.isAttachedToDOM)return;const{activeElement:Y}=document;U.div.contains(Y)&&(U._focusEventsAllowed=!1,setTimeout(()=>{U.div.contains(document.activeElement)?U._focusEventsAllowed=!0:(U.div.addEventListener("focusin",()=>{U._focusEventsAllowed=!0},{once:!0}),Y.focus())},0)),U._structTreeParentId=(_=ie(this,y))==null?void 0:_.moveElementInDOM(this.div,U.div,U.contentDiv,!0)}addOrRebuild(U){U.needsToBeRebuilt()?U.rebuild():this.add(U)}addUndoableEditor(U){const Y=()=>U._uiManager.rebuild(U),_=()=>{U.remove()};this.addCommands({cmd:Y,undo:_,mustExec:!1})}getNextId(){return ie(this,T).getId()}pasteEditor(U,Y){ie(this,T).updateToolbar(U),ie(this,T).updateMode(U);const{offsetX:_,offsetY:V}=Ue(this,M,p1).call(this),Z=this.getNextId(),q=Ue(this,D,d1).call(this,{parent:this,id:Z,x:_,y:V,uiManager:ie(this,T),isCentered:!0,...Y});q&&this.add(q)}deserialize(U){var Y;switch((Y=U.annotationType)!=null?Y:U.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(U,this,ie(this,T));case i.AnnotationEditorType.INK:return e.InkEditor.deserialize(U,this,ie(this,T));case i.AnnotationEditorType.STAMP:return p.StampEditor.deserialize(U,this,ie(this,T))}return null}addNewEditor(){Ue(this,C,$0).call(this,Ue(this,M,p1).call(this),!0)}setSelected(U){ie(this,T).setSelected(U)}toggleSelected(U){ie(this,T).toggleSelected(U)}isSelected(U){return ie(this,T).isSelected(U)}unselect(U){ie(this,T).unselect(U)}pointerup(U){const{isMac:Y}=i.FeatureTest.platform;if(!(U.button!==0||U.ctrlKey&&Y)&&U.target===this.div&&!!ie(this,E)){if(Qe(this,E,!1),!ie(this,v)){Qe(this,v,!0);return}if(ie(this,T).getMode()===i.AnnotationEditorType.STAMP){ie(this,T).unselectAll();return}Ue(this,C,$0).call(this,U,!1)}}pointerdown(U){if(ie(this,E)){Qe(this,E,!1);return}const{isMac:Y}=i.FeatureTest.platform;if(U.button!==0||U.ctrlKey&&Y||U.target!==this.div)return;Qe(this,E,!0);const _=ie(this,T).getActive();Qe(this,v,!_||_.isEmpty())}findNewParent(U,Y,_){const V=ie(this,T).findParent(Y,_);return V===null||V===this?!1:(V.changeParent(U),!0)}destroy(){var U,Y;((U=ie(this,T).getActive())==null?void 0:U.parent)===this&&(ie(this,T).commitOrRemove(),ie(this,T).setActiveEditor(null));for(const _ of ie(this,f).values())(Y=ie(this,y))==null||Y.removePointerInTextLayer(_.contentDiv),_.setParent(null),_.isAttachedToDOM=!1,_.div.remove();this.div=null,ie(this,f).clear(),ie(this,T).removeLayer(this)}render({viewport:U}){this.viewport=U,(0,r.setLayerDimensions)(this.div,U);for(const Y of ie(this,T).getEditors(this.pageIndex))this.add(Y);this.updateMode()}update({viewport:U}){ie(this,T).commitOrRemove(),this.viewport=U,(0,r.setLayerDimensions)(this.div,{rotation:U.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:U,pageHeight:Y}=this.viewport.rawDims;return[U,Y]}};let x=H;y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakMap,T=new WeakMap,D=new WeakSet,d1=function(U){switch(ie(this,T).getMode()){case i.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(U);case i.AnnotationEditorType.INK:return new e.InkEditor(U);case i.AnnotationEditorType.STAMP:return new p.StampEditor(U)}return null},C=new WeakSet,$0=function(U,Y){const _=this.getNextId(),V=Ue(this,D,d1).call(this,{parent:this,id:_,x:U.offsetX,y:U.offsetY,uiManager:ie(this,T),isCentered:Y});return V&&this.add(V),V},M=new WeakSet,p1=function(){const{x:U,y:Y,width:_,height:V}=this.div.getBoundingClientRect(),Z=Math.max(0,U),q=Math.max(0,Y),re=Math.min(window.innerWidth,U+_),oe=Math.min(window.innerHeight,Y+V),ae=(Z+re)/2-U,R=(q+oe)/2-Y,[S,L]=this.viewport.rotation%180===0?[ae,R]:[R,ae];return{offsetX:S,offsetY:L}},W=new WeakSet,g1=function(){Qe(this,A,!0);for(const U of ie(this,f).values())U.isEmpty()&&U.remove();Qe(this,A,!1)},Ct(x,"_initialized",!1),o.AnnotationEditorLayer=x},(h,o,s)=>{var p,x,y,v,b,g,w,f,E,A,Ev,T,Cv,F,Tv,B,oc,I,m1,J,Fv,N,x1;Object.defineProperty(o,"__esModule",{value:!0}),o.FreeTextEditor=void 0;var i=s(1),l=s(5),d=s(4),e=s(29);const Y=class extends d.AnnotationEditor{constructor(Z){super({...Z,name:"freeTextEditor"});Le(this,A);Le(this,T);Le(this,F);Le(this,B);Le(this,I);Le(this,J);Le(this,N);Le(this,p,this.editorDivBlur.bind(this));Le(this,x,this.editorDivFocus.bind(this));Le(this,y,this.editorDivInput.bind(this));Le(this,v,this.editorDivKeydown.bind(this));Le(this,b,void 0);Le(this,g,"");Le(this,w,`${this.id}-editor`);Le(this,f,void 0);Le(this,E,null);Qe(this,b,Z.color||Y._defaultColor||d.AnnotationEditor._defaultLineColor),Qe(this,f,Z.fontSize||Y._defaultFontSize)}static get _keyboardManager(){const Z=Y.prototype,q=ae=>ae.isEmpty(),re=l.AnnotationEditorUIManager.TRANSLATE_SMALL,oe=l.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new l.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Z.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Z.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Z._translateEmpty,{args:[-re,0],checker:q}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Z._translateEmpty,{args:[-oe,0],checker:q}],[["ArrowRight","mac+ArrowRight"],Z._translateEmpty,{args:[re,0],checker:q}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Z._translateEmpty,{args:[oe,0],checker:q}],[["ArrowUp","mac+ArrowUp"],Z._translateEmpty,{args:[0,-re],checker:q}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Z._translateEmpty,{args:[0,-oe],checker:q}],[["ArrowDown","mac+ArrowDown"],Z._translateEmpty,{args:[0,re],checker:q}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Z._translateEmpty,{args:[0,oe],checker:q}]]))}static initialize(Z){d.AnnotationEditor.initialize(Z,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const q=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(q.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Z,q){switch(Z){case i.AnnotationEditorParamsType.FREETEXT_SIZE:Y._defaultFontSize=q;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:Y._defaultColor=q;break}}updateParams(Z,q){switch(Z){case i.AnnotationEditorParamsType.FREETEXT_SIZE:Ue(this,A,Ev).call(this,q);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:Ue(this,T,Cv).call(this,q);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,Y._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,Y._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,ie(this,f)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,ie(this,b)]]}_translateEmpty(Z,q){this._uiManager.translateSelectedEditors(Z,q,!0)}getInitialTranslation(){const Z=this.parentScale;return[-Y._internalPadding*Z,-(Y._internalPadding+ie(this,f))*Z]}rebuild(){!this.parent||(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ie(this,v)),this.editorDiv.addEventListener("focus",ie(this,x)),this.editorDiv.addEventListener("blur",ie(this,p)),this.editorDiv.addEventListener("input",ie(this,y)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ie(this,w)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",ie(this,v)),this.editorDiv.removeEventListener("focus",ie(this,x)),this.editorDiv.removeEventListener("blur",ie(this,p)),this.editorDiv.removeEventListener("input",ie(this,y)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Z){!this._focusEventsAllowed||(super.focusin(Z),Z.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Z;if(this.width){Ue(this,N,x1).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Z=this._initialOptions)!=null&&Z.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Z=ie(this,g),q=Qe(this,g,Ue(this,F,Tv).call(this).trimEnd());if(Z===q)return;const re=oe=>{if(Qe(this,g,oe),!oe){this.remove();return}Ue(this,I,m1).call(this),this._uiManager.rebuild(this),Ue(this,B,oc).call(this)};this.addCommands({cmd:()=>{re(q)},undo:()=>{re(Z)},mustExec:!1}),Ue(this,B,oc).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Z){this.enterInEditMode()}keydown(Z){Z.target===this.div&&Z.key==="Enter"&&(this.enterInEditMode(),Z.preventDefault())}editorDivKeydown(Z){Y._keyboardManager.exec(this,Z)}editorDivFocus(Z){this.isEditing=!0}editorDivBlur(Z){this.isEditing=!1}editorDivInput(Z){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Z,q;this.width&&(Z=this.x,q=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ie(this,w)),this.enableEditing(),d.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(oe=>{var ae;return(ae=this.editorDiv)==null?void 0:ae.setAttribute("aria-label",oe)}),d.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(oe=>{var ae;return(ae=this.editorDiv)==null?void 0:ae.setAttribute("default-content",oe)}),this.editorDiv.contentEditable=!0;const{style:re}=this.editorDiv;if(re.fontSize=`calc(${ie(this,f)}px * var(--scale-factor))`,re.color=ie(this,b),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,l.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[oe,ae]=this.parentDimensions;if(this.annotationElementId){const{position:R}=ie(this,E);let[S,L]=this.getInitialTranslation();[S,L]=this.pageTranslationToScreen(S,L);const[k,z]=this.pageDimensions,[P,K]=this.pageTranslation;let te,X;switch(this.rotation){case 0:te=Z+(R[0]-P)/k,X=q+this.height-(R[1]-K)/z;break;case 90:te=Z+(R[0]-P)/k,X=q-(R[1]-K)/z,[S,L]=[L,-S];break;case 180:te=Z-this.width+(R[0]-P)/k,X=q-(R[1]-K)/z,[S,L]=[-S,-L];break;case 270:te=Z+(R[0]-P-this.height*z)/k,X=q+(R[1]-K-this.width*k)/z,[S,L]=[-L,S];break}this.setAt(te*oe,X*ae,S,L)}else this.setAt(Z*oe,q*ae,this.width*oe,this.height*ae);Ue(this,I,m1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Z,q,re){let oe=null;if(Z instanceof e.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:R,fontColor:S},rect:L,rotation:k,id:z},textContent:P,textPosition:K,parent:{page:{pageNumber:te}}}=Z;if(!P||P.length===0)return null;oe=Z={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(S),fontSize:R,value:P.join(`
`),position:K,pageIndex:te-1,rect:L,rotation:k,id:z,deleted:!1}}const ae=super.deserialize(Z,q,re);return Qe(ae,f,Z.fontSize),Qe(ae,b,i.Util.makeHexColor(...Z.color)),Qe(ae,g,Z.value),ae.annotationElementId=Z.id||null,Qe(ae,E,oe),ae}serialize(Z=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const q=Y._internalPadding*this.parentScale,re=this.getRect(q,q),oe=d.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ie(this,b)),ae={annotationType:i.AnnotationEditorType.FREETEXT,color:oe,fontSize:ie(this,f),value:ie(this,g),pageIndex:this.pageIndex,rect:re,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Z?ae:this.annotationElementId&&!Ue(this,J,Fv).call(this,ae)?null:(ae.id=this.annotationElementId,ae)}};let r=Y;p=new WeakMap,x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakSet,Ev=function(Z){const q=oe=>{this.editorDiv.style.fontSize=`calc(${oe}px * var(--scale-factor))`,this.translate(0,-(oe-ie(this,f))*this.parentScale),Qe(this,f,oe),Ue(this,B,oc).call(this)},re=ie(this,f);this.addCommands({cmd:()=>{q(Z)},undo:()=>{q(re)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},T=new WeakSet,Cv=function(Z){const q=ie(this,b);this.addCommands({cmd:()=>{Qe(this,b,this.editorDiv.style.color=Z)},undo:()=>{Qe(this,b,this.editorDiv.style.color=q)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},F=new WeakSet,Tv=function(){const Z=this.editorDiv.getElementsByTagName("div");if(Z.length===0)return this.editorDiv.innerText;const q=[];for(const re of Z)q.push(re.innerText.replace(/\r\n?|\n/,""));return q.join(`
`)},B=new WeakSet,oc=function(){const[Z,q]=this.parentDimensions;let re;if(this.isAttachedToDOM)re=this.div.getBoundingClientRect();else{const{currentLayer:oe,div:ae}=this,R=ae.style.display;ae.style.display="hidden",oe.div.append(this.div),re=ae.getBoundingClientRect(),ae.remove(),ae.style.display=R}this.rotation%180===this.parentRotation%180?(this.width=re.width/Z,this.height=re.height/q):(this.width=re.height/Z,this.height=re.width/q),this.fixAndSetPosition()},I=new WeakSet,m1=function(){if(this.editorDiv.replaceChildren(),!!ie(this,g))for(const Z of ie(this,g).split(`
`)){const q=document.createElement("div");q.append(Z?document.createTextNode(Z):document.createElement("br")),this.editorDiv.append(q)}},J=new WeakSet,Fv=function(Z){const{value:q,fontSize:re,color:oe,rect:ae,pageIndex:R}=ie(this,E);return Z.value!==q||Z.fontSize!==re||Z.rect.some((S,L)=>Math.abs(S-ae[L])>=1)||Z.color.some((S,L)=>S!==oe[L])||Z.pageIndex!==R},N=new WeakSet,x1=function(Z=!1){if(!this.annotationElementId)return;if(Ue(this,B,oc).call(this),!Z&&(this.width===0||this.height===0)){setTimeout(()=>Ue(this,N,x1).call(this,!0),0);return}const q=Y._internalPadding*this.parentScale;ie(this,E).rect=this.getRect(q,q)},Ct(r,"_freeTextDefaultContent",""),Ct(r,"_internalPadding",0),Ct(r,"_defaultColor",null),Ct(r,"_defaultFontSize",10),Ct(r,"_type","freetext"),o.FreeTextEditor=r},(h,o,s)=>{var L,z,Wi,K,Iv,X,ee,G,ne,se,le,he,be,ye,de,xe,fe,ce,ue,ve,Ee,Me,_e,Ov,We,U0,Ne,b1,Ie,y1,Ae,ge,Ce,Be,Ye,Je,Re,v1,nt,et,it,qe,Pv,rt,w1;Object.defineProperty(o,"__esModule",{value:!0}),o.StampAnnotationElement=o.InkAnnotationElement=o.FreeTextAnnotationElement=o.AnnotationLayer=void 0;var i=s(1),l=s(6),d=s(3),e=s(30),r=s(31),p=s(32);const x=1e3,y=9,v=new WeakSet;function b($e){return{width:$e[2]-$e[0],height:$e[3]-$e[1]}}class g{static create(me){switch(me.data.annotationType){case i.AnnotationType.LINK:return new f(me);case i.AnnotationType.TEXT:return new E(me);case i.AnnotationType.WIDGET:switch(me.data.fieldType){case"Tx":return new O(me);case"Btn":return me.data.radioButton?new F(me):me.data.checkBox?new D(me):new C(me);case"Ch":return new B(me);case"Sig":return new T(me)}return new A(me);case i.AnnotationType.POPUP:return new M(me);case i.AnnotationType.FREETEXT:return new W(me);case i.AnnotationType.LINE:return new J(me);case i.AnnotationType.SQUARE:return new H(me);case i.AnnotationType.CIRCLE:return new N(me);case i.AnnotationType.POLYLINE:return new U(me);case i.AnnotationType.CARET:return new _(me);case i.AnnotationType.INK:return new V(me);case i.AnnotationType.POLYGON:return new Y(me);case i.AnnotationType.HIGHLIGHT:return new Z(me);case i.AnnotationType.UNDERLINE:return new q(me);case i.AnnotationType.SQUIGGLY:return new re(me);case i.AnnotationType.STRIKEOUT:return new oe(me);case i.AnnotationType.STAMP:return new ae(me);case i.AnnotationType.FILEATTACHMENT:return new R(me);default:return new w(me)}}}const k=class{constructor(me,{isRenderable:Q=!1,ignoreBorder:pe=!1,createQuadrilaterals:we=!1}={}){Le(this,L,!1);this.isRenderable=Q,this.data=me.data,this.layer=me.layer,this.linkService=me.linkService,this.downloadManager=me.downloadManager,this.imageResourcesPath=me.imageResourcesPath,this.renderForms=me.renderForms,this.svgFactory=me.svgFactory,this.annotationStorage=me.annotationStorage,this.enableScripting=me.enableScripting,this.hasJSActions=me.hasJSActions,this._fieldObjects=me.fieldObjects,this.parent=me.parent,Q&&(this.container=this._createContainer(pe)),we&&this._createQuadrilaterals()}static _hasPopupData({titleObj:me,contentsObj:Q,richText:pe}){return!!((me==null?void 0:me.str)||(Q==null?void 0:Q.str)||(pe==null?void 0:pe.str))}get hasPopupData(){return k._hasPopupData(this.data)}_createContainer(me){const{data:Q,parent:{page:pe,viewport:we}}=this,Fe=document.createElement("section");Fe.setAttribute("data-annotation-id",Q.id),this instanceof A||(Fe.tabIndex=x),Fe.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Fe.setAttribute("aria-haspopup","dialog"),Q.noRotate&&Fe.classList.add("norotate");const{pageWidth:Pe,pageHeight:De,pageX:Xe,pageY:je}=we.rawDims;if(!Q.rect||this instanceof M){const{rotation:tt}=Q;return!Q.hasOwnCanvas&&tt!==0&&this.setRotation(tt,Fe),Fe}const{width:Ze,height:ot}=b(Q.rect),Ke=i.Util.normalizeRect([Q.rect[0],pe.view[3]-Q.rect[1]+pe.view[1],Q.rect[2],pe.view[3]-Q.rect[3]+pe.view[1]]);if(!me&&Q.borderStyle.width>0){Fe.style.borderWidth=`${Q.borderStyle.width}px`;const tt=Q.borderStyle.horizontalCornerRadius,at=Q.borderStyle.verticalCornerRadius;if(tt>0||at>0){const ft=`calc(${tt}px * var(--scale-factor)) / calc(${at}px * var(--scale-factor))`;Fe.style.borderRadius=ft}else if(this instanceof F){const ft=`calc(${Ze}px * var(--scale-factor)) / calc(${ot}px * var(--scale-factor))`;Fe.style.borderRadius=ft}switch(Q.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:Fe.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:Fe.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:Fe.style.borderBottomStyle="solid";break}const st=Q.borderColor||null;st?(Qe(this,L,!0),Fe.style.borderColor=i.Util.makeHexColor(st[0]|0,st[1]|0,st[2]|0)):Fe.style.borderWidth=0}Fe.style.left=`${100*(Ke[0]-Xe)/Pe}%`,Fe.style.top=`${100*(Ke[1]-je)/De}%`;const{rotation:Ge}=Q;return Q.hasOwnCanvas||Ge===0?(Fe.style.width=`${100*Ze/Pe}%`,Fe.style.height=`${100*ot/De}%`):this.setRotation(Ge,Fe),Fe}setRotation(me,Q=this.container){if(!this.data.rect)return;const{pageWidth:pe,pageHeight:we}=this.parent.viewport.rawDims,{width:Fe,height:Pe}=b(this.data.rect);let De,Xe;me%180===0?(De=100*Fe/pe,Xe=100*Pe/we):(De=100*Pe/pe,Xe=100*Fe/we),Q.style.width=`${De}%`,Q.style.height=`${Xe}%`,Q.setAttribute("data-main-rotation",(360-me)%360)}get _commonActions(){const me=(Q,pe,we)=>{const Fe=we.detail[Q],Pe=Fe[0],De=Fe.slice(1);we.target.style[pe]=e.ColorConverters[`${Pe}_HTML`](De),this.annotationStorage.setValue(this.data.id,{[pe]:e.ColorConverters[`${Pe}_rgb`](De)})};return(0,i.shadow)(this,"_commonActions",{display:Q=>{const{display:pe}=Q.detail,we=pe%2===1;this.container.style.visibility=we?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:we,noPrint:pe===1||pe===2})},print:Q=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Q.detail.print})},hidden:Q=>{const{hidden:pe}=Q.detail;this.container.style.visibility=pe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:pe,noView:pe})},focus:Q=>{setTimeout(()=>Q.target.focus({preventScroll:!1}),0)},userName:Q=>{Q.target.title=Q.detail.userName},readonly:Q=>{Q.target.disabled=Q.detail.readonly},required:Q=>{this._setRequired(Q.target,Q.detail.required)},bgColor:Q=>{me("bgColor","backgroundColor",Q)},fillColor:Q=>{me("fillColor","backgroundColor",Q)},fgColor:Q=>{me("fgColor","color",Q)},textColor:Q=>{me("textColor","color",Q)},borderColor:Q=>{me("borderColor","borderColor",Q)},strokeColor:Q=>{me("strokeColor","borderColor",Q)},rotation:Q=>{const pe=Q.detail.rotation;this.setRotation(pe),this.annotationStorage.setValue(this.data.id,{rotation:pe})}})}_dispatchEventFromSandbox(me,Q){const pe=this._commonActions;for(const we of Object.keys(Q.detail)){const Fe=me[we]||pe[we];Fe==null||Fe(Q)}}_setDefaultPropertiesFromJS(me){if(!this.enableScripting)return;const Q=this.annotationStorage.getRawValue(this.data.id);if(!Q)return;const pe=this._commonActions;for(const[we,Fe]of Object.entries(Q)){const Pe=pe[we];if(Pe){const De={detail:{[we]:Fe},target:me};Pe(De),delete Q[we]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:me}=this.data;if(!me)return;const[Q,pe,we,Fe]=this.data.rect;if(me.length===1){const[,{x:at,y:st},{x:ft,y:pt}]=me[0];if(we===at&&Fe===st&&Q===ft&&pe===pt)return}const{style:Pe}=this.container;let De;if(ie(this,L)){const{borderColor:at,borderWidth:st}=Pe;Pe.borderWidth=0,De=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${at}" stroke-width="${st}">`],this.container.classList.add("hasBorder")}const Xe=we-Q,je=Fe-pe,{svgFactory:Ze}=this,ot=Ze.createElement("svg");ot.classList.add("quadrilateralsContainer"),ot.setAttribute("width",0),ot.setAttribute("height",0);const Ke=Ze.createElement("defs");ot.append(Ke);const Ge=Ze.createElement("clipPath"),tt=`clippath_${this.data.id}`;Ge.setAttribute("id",tt),Ge.setAttribute("clipPathUnits","objectBoundingBox"),Ke.append(Ge);for(const[,{x:at,y:st},{x:ft,y:pt}]of me){const ct=Ze.createElement("rect"),yt=(ft-Q)/Xe,bt=(Fe-st)/je,Et=(at-ft)/Xe,wt=(st-pt)/je;ct.setAttribute("x",yt),ct.setAttribute("y",bt),ct.setAttribute("width",Et),ct.setAttribute("height",wt),Ge.append(ct),De==null||De.push(`<rect vector-effect="non-scaling-stroke" x="${yt}" y="${bt}" width="${Et}" height="${wt}"/>`)}ie(this,L)&&(De.push("</g></svg>')"),Pe.backgroundImage=De.join("")),this.container.append(ot),this.container.style.clipPath=`url(#${tt})`}_createPopup(){const{container:me,data:Q}=this;me.setAttribute("aria-haspopup","dialog");const pe=new M({data:{color:Q.color,titleObj:Q.titleObj,modificationDate:Q.modificationDate,contentsObj:Q.contentsObj,richText:Q.richText,parentRect:Q.rect,borderStyle:0,id:`popup_${Q.id}`,rotation:Q.rotation},parent:this.parent,elements:[this]});this.parent.div.append(pe.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(me,Q=null){const pe=[];if(this._fieldObjects){const we=this._fieldObjects[me];if(we)for(const{page:Fe,id:Pe,exportValues:De}of we){if(Fe===-1||Pe===Q)continue;const Xe=typeof De=="string"?De:null,je=document.querySelector(`[data-element-id="${Pe}"]`);if(je&&!v.has(je)){(0,i.warn)(`_getElementsByName - element not allowed: ${Pe}`);continue}pe.push({id:Pe,exportValue:Xe,domElement:je})}return pe}for(const we of document.getElementsByName(me)){const{exportValue:Fe}=we,Pe=we.getAttribute("data-element-id");Pe!==Q&&(!v.has(we)||pe.push({id:Pe,exportValue:Fe,domElement:we}))}return pe}show(){var me;this.container&&(this.container.hidden=!1),(me=this.popup)==null||me.maybeShow()}hide(){var me;this.container&&(this.container.hidden=!0),(me=this.popup)==null||me.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const me=this.getElementsToTriggerPopup();if(Array.isArray(me))for(const Q of me)Q.classList.add("highlightArea");else me.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:me,data:{id:Q}}=this;this.container.addEventListener("dblclick",()=>{var pe;(pe=this.linkService.eventBus)==null||pe.dispatch("switchannotationeditormode",{source:this,mode:me,editId:Q})})}};let w=k;L=new WeakMap;class f extends w{constructor(Q,pe=null){super(Q,{isRenderable:!0,ignoreBorder:!!(pe!=null&&pe.ignoreBorder),createQuadrilaterals:!0});Le(this,z);Le(this,K);this.isTooltipOnly=Q.data.isTooltipOnly}render(){const{data:Q,linkService:pe}=this,we=document.createElement("a");we.setAttribute("data-element-id",Q.id);let Fe=!1;return Q.url?(pe.addLinkAttributes(we,Q.url,Q.newWindow),Fe=!0):Q.action?(this._bindNamedAction(we,Q.action),Fe=!0):Q.attachment?(this._bindAttachment(we,Q.attachment),Fe=!0):Q.setOCGState?(Ue(this,K,Iv).call(this,we,Q.setOCGState),Fe=!0):Q.dest?(this._bindLink(we,Q.dest),Fe=!0):(Q.actions&&(Q.actions.Action||Q.actions["Mouse Up"]||Q.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(we,Q),Fe=!0),Q.resetForm?(this._bindResetFormAction(we,Q.resetForm),Fe=!0):this.isTooltipOnly&&!Fe&&(this._bindLink(we,""),Fe=!0)),this.container.classList.add("linkAnnotation"),Fe&&this.container.append(we),this.container}_bindLink(Q,pe){Q.href=this.linkService.getDestinationHash(pe),Q.onclick=()=>(pe&&this.linkService.goToDestination(pe),!1),(pe||pe==="")&&Ue(this,z,Wi).call(this)}_bindNamedAction(Q,pe){Q.href=this.linkService.getAnchorUrl(""),Q.onclick=()=>(this.linkService.executeNamedAction(pe),!1),Ue(this,z,Wi).call(this)}_bindAttachment(Q,pe){Q.href=this.linkService.getAnchorUrl(""),Q.onclick=()=>{var we;return(we=this.downloadManager)==null||we.openOrDownloadData(this.container,pe.content,pe.filename),!1},Ue(this,z,Wi).call(this)}_bindJSAction(Q,pe){Q.href=this.linkService.getAnchorUrl("");const we=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Fe of Object.keys(pe.actions)){const Pe=we.get(Fe);!Pe||(Q[Pe]=()=>{var De;return(De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pe.id,name:Fe}}),!1})}Q.onclick||(Q.onclick=()=>!1),Ue(this,z,Wi).call(this)}_bindResetFormAction(Q,pe){const we=Q.onclick;if(we||(Q.href=this.linkService.getAnchorUrl("")),Ue(this,z,Wi).call(this),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),we||(Q.onclick=()=>!1);return}Q.onclick=()=>{var ot;we==null||we();const{fields:Fe,refs:Pe,include:De}=pe,Xe=[];if(Fe.length!==0||Pe.length!==0){const Ke=new Set(Pe);for(const Ge of Fe){const tt=this._fieldObjects[Ge]||[];for(const{id:at}of tt)Ke.add(at)}for(const Ge of Object.values(this._fieldObjects))for(const tt of Ge)Ke.has(tt.id)===De&&Xe.push(tt)}else for(const Ke of Object.values(this._fieldObjects))Xe.push(...Ke);const je=this.annotationStorage,Ze=[];for(const Ke of Xe){const{id:Ge}=Ke;switch(Ze.push(Ge),Ke.type){case"text":{const at=Ke.defaultValue||"";je.setValue(Ge,{value:at});break}case"checkbox":case"radiobutton":{const at=Ke.defaultValue===Ke.exportValues;je.setValue(Ge,{value:at});break}case"combobox":case"listbox":{const at=Ke.defaultValue||"";je.setValue(Ge,{value:at});break}default:continue}const tt=document.querySelector(`[data-element-id="${Ge}"]`);if(tt){if(!v.has(tt)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${Ge}`);continue}}else continue;tt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ot=this.linkService.eventBus)==null||ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ze,name:"ResetForm"}})),!1}}}z=new WeakSet,Wi=function(){this.container.setAttribute("data-internal-link","")},K=new WeakSet,Iv=function(Q,pe){Q.href=this.linkService.getAnchorUrl(""),Q.onclick=()=>(this.linkService.executeSetOCGState(pe),!1),Ue(this,z,Wi).call(this)};class E extends w{constructor(me){super(me,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const me=document.createElement("img");return me.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",me.alt="[{{type}} Annotation]",me.dataset.l10nId="text_annotation_type",me.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(me),this.container}}class A extends w{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(me){var Q;this.data.hasOwnCanvas&&(((Q=me.previousSibling)==null?void 0:Q.nodeName)==="CANVAS"&&(me.previousSibling.hidden=!0),me.hidden=!1)}_getKeyModifier(me){const{isWin:Q,isMac:pe}=i.FeatureTest.platform;return Q&&me.ctrlKey||pe&&me.metaKey}_setEventListener(me,Q,pe,we,Fe){pe.includes("mouse")?me.addEventListener(pe,Pe=>{var De;(De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:we,value:Fe(Pe),shift:Pe.shiftKey,modifier:this._getKeyModifier(Pe)}})}):me.addEventListener(pe,Pe=>{var De;if(pe==="blur"){if(!Q.focused||!Pe.relatedTarget)return;Q.focused=!1}else if(pe==="focus"){if(Q.focused)return;Q.focused=!0}!Fe||(De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:we,value:Fe(Pe)}})})}_setEventListeners(me,Q,pe,we){var Fe,Pe,De;for(const[Xe,je]of pe)(je==="Action"||((Fe=this.data.actions)==null?void 0:Fe[je]))&&((je==="Focus"||je==="Blur")&&(Q||(Q={focused:!1})),this._setEventListener(me,Q,Xe,je,we),je==="Focus"&&!((Pe=this.data.actions)!=null&&Pe.Blur)?this._setEventListener(me,Q,"blur","Blur",null):je==="Blur"&&!((De=this.data.actions)!=null&&De.Focus)&&this._setEventListener(me,Q,"focus","Focus",null))}_setBackgroundColor(me){const Q=this.data.backgroundColor||null;me.style.backgroundColor=Q===null?"transparent":i.Util.makeHexColor(Q[0],Q[1],Q[2])}_setTextStyle(me){const Q=["left","center","right"],{fontColor:pe}=this.data.defaultAppearanceData,we=this.data.defaultAppearanceData.fontSize||y,Fe=me.style;let Pe;const De=2,Xe=je=>Math.round(10*je)/10;if(this.data.multiLine){const je=Math.abs(this.data.rect[3]-this.data.rect[1]-De),Ze=Math.round(je/(i.LINE_FACTOR*we))||1,ot=je/Ze;Pe=Math.min(we,Xe(ot/i.LINE_FACTOR))}else{const je=Math.abs(this.data.rect[3]-this.data.rect[1]-De);Pe=Math.min(we,Xe(je/i.LINE_FACTOR))}Fe.fontSize=`calc(${Pe}px * var(--scale-factor))`,Fe.color=i.Util.makeHexColor(pe[0],pe[1],pe[2]),this.data.textAlignment!==null&&(Fe.textAlign=Q[this.data.textAlignment])}_setRequired(me,Q){Q?me.setAttribute("required",!0):me.removeAttribute("required"),me.setAttribute("aria-required",Q)}}class O extends A{constructor(me){const Q=me.renderForms||!me.data.hasAppearance&&!!me.data.fieldValue;super(me,{isRenderable:Q})}setPropertyOnSiblings(me,Q,pe,we){const Fe=this.annotationStorage;for(const Pe of this._getElementsByName(me.name,me.id))Pe.domElement&&(Pe.domElement[Q]=pe),Fe.setValue(Pe.id,{[we]:pe})}render(){var we,Fe;const me=this.annotationStorage,Q=this.data.id;this.container.classList.add("textWidgetAnnotation");let pe=null;if(this.renderForms){const Pe=me.getValue(Q,{value:this.data.fieldValue});let De=Pe.value||"";const Xe=me.getValue(Q,{charLimit:this.data.maxLen}).charLimit;Xe&&De.length>Xe&&(De=De.slice(0,Xe));let je=Pe.formattedValue||((we=this.data.textContent)==null?void 0:we.join(`
`))||null;je&&this.data.comb&&(je=je.replaceAll(/\s+/g,""));const Ze={userValue:De,formattedValue:je,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(pe=document.createElement("textarea"),pe.textContent=je!=null?je:De,this.data.doNotScroll&&(pe.style.overflowY="hidden")):(pe=document.createElement("input"),pe.type="text",pe.setAttribute("value",je!=null?je:De),this.data.doNotScroll&&(pe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(pe.hidden=!0),v.add(pe),pe.setAttribute("data-element-id",Q),pe.disabled=this.data.readOnly,pe.name=this.data.fieldName,pe.tabIndex=x,this._setRequired(pe,this.data.required),Xe&&(pe.maxLength=Xe),pe.addEventListener("input",Ke=>{me.setValue(Q,{value:Ke.target.value}),this.setPropertyOnSiblings(pe,"value",Ke.target.value,"value"),Ze.formattedValue=null}),pe.addEventListener("resetform",Ke=>{var tt;const Ge=(tt=this.data.defaultFieldValue)!=null?tt:"";pe.value=Ze.userValue=Ge,Ze.formattedValue=null});let ot=Ke=>{const{formattedValue:Ge}=Ze;Ge!=null&&(Ke.target.value=Ge),Ke.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){pe.addEventListener("focus",Ge=>{if(Ze.focused)return;const{target:tt}=Ge;Ze.userValue&&(tt.value=Ze.userValue),Ze.lastCommittedValue=tt.value,Ze.commitKey=1,Ze.focused=!0}),pe.addEventListener("updatefromsandbox",Ge=>{this.showElementAndHideCanvas(Ge.target);const tt={value(at){var st;Ze.userValue=(st=at.detail.value)!=null?st:"",me.setValue(Q,{value:Ze.userValue.toString()}),at.target.value=Ze.userValue},formattedValue(at){const{formattedValue:st}=at.detail;Ze.formattedValue=st,st!=null&&at.target!==document.activeElement&&(at.target.value=st),me.setValue(Q,{formattedValue:st})},selRange(at){at.target.setSelectionRange(...at.detail.selRange)},charLimit:at=>{var ct;const{charLimit:st}=at.detail,{target:ft}=at;if(st===0){ft.removeAttribute("maxLength");return}ft.setAttribute("maxLength",st);let pt=Ze.userValue;!pt||pt.length<=st||(pt=pt.slice(0,st),ft.value=Ze.userValue=pt,me.setValue(Q,{value:pt}),(ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:pt,willCommit:!0,commitKey:1,selStart:ft.selectionStart,selEnd:ft.selectionEnd}}))}};this._dispatchEventFromSandbox(tt,Ge)}),pe.addEventListener("keydown",Ge=>{var st;Ze.commitKey=1;let tt=-1;if(Ge.key==="Escape"?tt=0:Ge.key==="Enter"&&!this.data.multiLine?tt=2:Ge.key==="Tab"&&(Ze.commitKey=3),tt===-1)return;const{value:at}=Ge.target;Ze.lastCommittedValue!==at&&(Ze.lastCommittedValue=at,Ze.userValue=at,(st=this.linkService.eventBus)==null||st.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:at,willCommit:!0,commitKey:tt,selStart:Ge.target.selectionStart,selEnd:Ge.target.selectionEnd}}))});const Ke=ot;ot=null,pe.addEventListener("blur",Ge=>{var at;if(!Ze.focused||!Ge.relatedTarget)return;Ze.focused=!1;const{value:tt}=Ge.target;Ze.userValue=tt,Ze.lastCommittedValue!==tt&&((at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:tt,willCommit:!0,commitKey:Ze.commitKey,selStart:Ge.target.selectionStart,selEnd:Ge.target.selectionEnd}})),Ke(Ge)}),(Fe=this.data.actions)!=null&&Fe.Keystroke&&pe.addEventListener("beforeinput",Ge=>{var bt;Ze.lastCommittedValue=null;const{data:tt,target:at}=Ge,{value:st,selectionStart:ft,selectionEnd:pt}=at;let ct=ft,yt=pt;switch(Ge.inputType){case"deleteWordBackward":{const Et=st.substring(0,ft).match(/\w*[^\w]*$/);Et&&(ct-=Et[0].length);break}case"deleteWordForward":{const Et=st.substring(ft).match(/^[^\w]*\w*/);Et&&(yt+=Et[0].length);break}case"deleteContentBackward":ft===pt&&(ct-=1);break;case"deleteContentForward":ft===pt&&(yt+=1);break}Ge.preventDefault(),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:st,change:tt||"",willCommit:!1,selStart:ct,selEnd:yt}})}),this._setEventListeners(pe,Ze,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ge=>Ge.target.value)}if(ot&&pe.addEventListener("blur",ot),this.data.comb){const Ge=(this.data.rect[2]-this.data.rect[0])/Xe;pe.classList.add("comb"),pe.style.letterSpacing=`calc(${Ge}px * var(--scale-factor) - 1ch)`}}else pe=document.createElement("div"),pe.textContent=this.data.fieldValue,pe.style.verticalAlign="middle",pe.style.display="table-cell";return this._setTextStyle(pe),this._setBackgroundColor(pe),this._setDefaultPropertiesFromJS(pe),this.container.append(pe),this.container}}class T extends A{constructor(me){super(me,{isRenderable:!!me.data.hasOwnCanvas})}}class D extends A{constructor(me){super(me,{isRenderable:me.renderForms})}render(){const me=this.annotationStorage,Q=this.data,pe=Q.id;let we=me.getValue(pe,{value:Q.exportValue===Q.fieldValue}).value;typeof we=="string"&&(we=we!=="Off",me.setValue(pe,{value:we})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Fe=document.createElement("input");return v.add(Fe),Fe.setAttribute("data-element-id",pe),Fe.disabled=Q.readOnly,this._setRequired(Fe,this.data.required),Fe.type="checkbox",Fe.name=Q.fieldName,we&&Fe.setAttribute("checked",!0),Fe.setAttribute("exportValue",Q.exportValue),Fe.tabIndex=x,Fe.addEventListener("change",Pe=>{const{name:De,checked:Xe}=Pe.target;for(const je of this._getElementsByName(De,pe)){const Ze=Xe&&je.exportValue===Q.exportValue;je.domElement&&(je.domElement.checked=Ze),me.setValue(je.id,{value:Ze})}me.setValue(pe,{value:Xe})}),Fe.addEventListener("resetform",Pe=>{const De=Q.defaultFieldValue||"Off";Pe.target.checked=De===Q.exportValue}),this.enableScripting&&this.hasJSActions&&(Fe.addEventListener("updatefromsandbox",Pe=>{const De={value(Xe){Xe.target.checked=Xe.detail.value!=="Off",me.setValue(pe,{value:Xe.target.checked})}};this._dispatchEventFromSandbox(De,Pe)}),this._setEventListeners(Fe,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pe=>Pe.target.checked)),this._setBackgroundColor(Fe),this._setDefaultPropertiesFromJS(Fe),this.container.append(Fe),this.container}}class F extends A{constructor(me){super(me,{isRenderable:me.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const me=this.annotationStorage,Q=this.data,pe=Q.id;let we=me.getValue(pe,{value:Q.fieldValue===Q.buttonValue}).value;typeof we=="string"&&(we=we!==Q.buttonValue,me.setValue(pe,{value:we}));const Fe=document.createElement("input");if(v.add(Fe),Fe.setAttribute("data-element-id",pe),Fe.disabled=Q.readOnly,this._setRequired(Fe,this.data.required),Fe.type="radio",Fe.name=Q.fieldName,we&&Fe.setAttribute("checked",!0),Fe.tabIndex=x,Fe.addEventListener("change",Pe=>{const{name:De,checked:Xe}=Pe.target;for(const je of this._getElementsByName(De,pe))me.setValue(je.id,{value:!1});me.setValue(pe,{value:Xe})}),Fe.addEventListener("resetform",Pe=>{const De=Q.defaultFieldValue;Pe.target.checked=De!=null&&De===Q.buttonValue}),this.enableScripting&&this.hasJSActions){const Pe=Q.buttonValue;Fe.addEventListener("updatefromsandbox",De=>{const Xe={value:je=>{const Ze=Pe===je.detail.value;for(const ot of this._getElementsByName(je.target.name)){const Ke=Ze&&ot.id===pe;ot.domElement&&(ot.domElement.checked=Ke),me.setValue(ot.id,{value:Ke})}}};this._dispatchEventFromSandbox(Xe,De)}),this._setEventListeners(Fe,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],De=>De.target.checked)}return this._setBackgroundColor(Fe),this._setDefaultPropertiesFromJS(Fe),this.container.append(Fe),this.container}}class C extends f{constructor(me){super(me,{ignoreBorder:me.data.hasAppearance})}render(){const me=super.render();me.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(me.title=this.data.alternativeText);const Q=me.lastChild;return this.enableScripting&&this.hasJSActions&&Q&&(this._setDefaultPropertiesFromJS(Q),Q.addEventListener("updatefromsandbox",pe=>{this._dispatchEventFromSandbox({},pe)})),me}}class B extends A{constructor(me){super(me,{isRenderable:me.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const me=this.annotationStorage,Q=this.data.id,pe=me.getValue(Q,{value:this.data.fieldValue}),we=document.createElement("select");v.add(we),we.setAttribute("data-element-id",Q),we.disabled=this.data.readOnly,this._setRequired(we,this.data.required),we.name=this.data.fieldName,we.tabIndex=x;let Fe=this.data.combo&&this.data.options.length>0;this.data.combo||(we.size=this.data.options.length,this.data.multiSelect&&(we.multiple=!0)),we.addEventListener("resetform",Ze=>{const ot=this.data.defaultFieldValue;for(const Ke of we.options)Ke.selected=Ke.value===ot});for(const Ze of this.data.options){const ot=document.createElement("option");ot.textContent=Ze.displayValue,ot.value=Ze.exportValue,pe.value.includes(Ze.exportValue)&&(ot.setAttribute("selected",!0),Fe=!1),we.append(ot)}let Pe=null;if(Fe){const Ze=document.createElement("option");Ze.value=" ",Ze.setAttribute("hidden",!0),Ze.setAttribute("selected",!0),we.prepend(Ze),Pe=()=>{Ze.remove(),we.removeEventListener("input",Pe),Pe=null},we.addEventListener("input",Pe)}const De=Ze=>{const ot=Ze?"value":"textContent",{options:Ke,multiple:Ge}=we;return Ge?Array.prototype.filter.call(Ke,tt=>tt.selected).map(tt=>tt[ot]):Ke.selectedIndex===-1?null:Ke[Ke.selectedIndex][ot]};let Xe=De(!1);const je=Ze=>{const ot=Ze.target.options;return Array.prototype.map.call(ot,Ke=>({displayValue:Ke.textContent,exportValue:Ke.value}))};return this.enableScripting&&this.hasJSActions?(we.addEventListener("updatefromsandbox",Ze=>{const ot={value(Ke){Pe==null||Pe();const Ge=Ke.detail.value,tt=new Set(Array.isArray(Ge)?Ge:[Ge]);for(const at of we.options)at.selected=tt.has(at.value);me.setValue(Q,{value:De(!0)}),Xe=De(!1)},multipleSelection(Ke){we.multiple=!0},remove(Ke){const Ge=we.options,tt=Ke.detail.remove;Ge[tt].selected=!1,we.remove(tt),Ge.length>0&&Array.prototype.findIndex.call(Ge,st=>st.selected)===-1&&(Ge[0].selected=!0),me.setValue(Q,{value:De(!0),items:je(Ke)}),Xe=De(!1)},clear(Ke){for(;we.length!==0;)we.remove(0);me.setValue(Q,{value:null,items:[]}),Xe=De(!1)},insert(Ke){const{index:Ge,displayValue:tt,exportValue:at}=Ke.detail.insert,st=we.children[Ge],ft=document.createElement("option");ft.textContent=tt,ft.value=at,st?st.before(ft):we.append(ft),me.setValue(Q,{value:De(!0),items:je(Ke)}),Xe=De(!1)},items(Ke){const{items:Ge}=Ke.detail;for(;we.length!==0;)we.remove(0);for(const tt of Ge){const{displayValue:at,exportValue:st}=tt,ft=document.createElement("option");ft.textContent=at,ft.value=st,we.append(ft)}we.options.length>0&&(we.options[0].selected=!0),me.setValue(Q,{value:De(!0),items:je(Ke)}),Xe=De(!1)},indices(Ke){const Ge=new Set(Ke.detail.indices);for(const tt of Ke.target.options)tt.selected=Ge.has(tt.index);me.setValue(Q,{value:De(!0)}),Xe=De(!1)},editable(Ke){Ke.target.disabled=!Ke.detail.editable}};this._dispatchEventFromSandbox(ot,Ze)}),we.addEventListener("input",Ze=>{var Ke;const ot=De(!0);me.setValue(Q,{value:ot}),Ze.preventDefault(),(Ke=this.linkService.eventBus)==null||Ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:Xe,changeEx:ot,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(we,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ze=>Ze.target.value)):we.addEventListener("input",function(Ze){me.setValue(Q,{value:De(!0)})}),this.data.combo&&this._setTextStyle(we),this._setBackgroundColor(we),this._setDefaultPropertiesFromJS(we),this.container.append(we),this.container}}class M extends w{constructor(me){const{data:Q,elements:pe}=me;super(me,{isRenderable:w._hasPopupData(Q)}),this.elements=pe}render(){this.container.classList.add("popupAnnotation");const me=new I({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Q=[];for(const pe of this.elements)pe.popup=me,Q.push(pe.data.id),pe.addHighlightArea();return this.container.setAttribute("aria-controls",Q.map(pe=>`${i.AnnotationPrefix}${pe}`).join(",")),this.container}}class I{constructor({container:me,color:Q,elements:pe,titleObj:we,modificationDate:Fe,contentsObj:Pe,richText:De,parent:Xe,rect:je,parentRect:Ze,open:ot}){Le(this,_e);Le(this,We);Le(this,Ne);Le(this,Ie);Le(this,X,null);Le(this,ee,Ue(this,_e,Ov).bind(this));Le(this,G,Ue(this,Ie,y1).bind(this));Le(this,ne,Ue(this,Ne,b1).bind(this));Le(this,se,Ue(this,We,U0).bind(this));Le(this,le,null);Le(this,he,null);Le(this,be,null);Le(this,ye,null);Le(this,de,null);Le(this,xe,null);Le(this,fe,!1);Le(this,ce,null);Le(this,ue,null);Le(this,ve,null);Le(this,Ee,null);Le(this,Me,!1);var Ge;Qe(this,he,me),Qe(this,Ee,we),Qe(this,be,Pe),Qe(this,ve,De),Qe(this,de,Xe),Qe(this,le,Q),Qe(this,ue,je),Qe(this,xe,Ze),Qe(this,ye,pe);const Ke=l.PDFDateString.toDateObject(Fe);Ke&&Qe(this,X,Xe.l10n.get("annotation_date_string",{date:Ke.toLocaleDateString(),time:Ke.toLocaleTimeString()})),this.trigger=pe.flatMap(tt=>tt.getElementsToTriggerPopup());for(const tt of this.trigger)tt.addEventListener("click",ie(this,se)),tt.addEventListener("mouseenter",ie(this,ne)),tt.addEventListener("mouseleave",ie(this,G)),tt.classList.add("popupTriggerArea");for(const tt of pe)(Ge=tt.container)==null||Ge.addEventListener("keydown",ie(this,ee));ie(this,he).hidden=!0,ot&&Ue(this,We,U0).call(this)}render(){if(ie(this,ce))return;const{page:{view:me},viewport:{rawDims:{pageWidth:Q,pageHeight:pe,pageX:we,pageY:Fe}}}=ie(this,de),Pe=Qe(this,ce,document.createElement("div"));if(Pe.className="popup",ie(this,le)){const ct=Pe.style.outlineColor=i.Util.makeHexColor(...ie(this,le));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Pe.style.backgroundColor=`color-mix(in srgb, ${ct} 30%, white)`:Pe.style.backgroundColor=i.Util.makeHexColor(...ie(this,le).map(bt=>Math.floor(.7*(255-bt)+bt)))}const De=document.createElement("span");De.className="header";const Xe=document.createElement("h1");if(De.append(Xe),{dir:Xe.dir,str:Xe.textContent}=ie(this,Ee),Pe.append(De),ie(this,X)){const ct=document.createElement("span");ct.classList.add("popupDate"),ie(this,X).then(yt=>{ct.textContent=yt}),De.append(ct)}const je=ie(this,be),Ze=ie(this,ve);if((Ze==null?void 0:Ze.str)&&(!(je!=null&&je.str)||je.str===Ze.str))p.XfaLayer.render({xfaHtml:Ze.html,intent:"richText",div:Pe}),Pe.lastChild.classList.add("richText","popupContent");else{const ct=this._formatContents(je);Pe.append(ct)}let ot=!!ie(this,xe),Ke=ot?ie(this,xe):ie(this,ue);for(const ct of ie(this,ye))if(!Ke||i.Util.intersect(ct.data.rect,Ke)!==null){Ke=ct.data.rect,ot=!0;break}const Ge=i.Util.normalizeRect([Ke[0],me[3]-Ke[1]+me[1],Ke[2],me[3]-Ke[3]+me[1]]),tt=5,at=ot?Ke[2]-Ke[0]+tt:0,st=Ge[0]+at,ft=Ge[1],{style:pt}=ie(this,he);pt.left=`${100*(st-we)/Q}%`,pt.top=`${100*(ft-Fe)/pe}%`,ie(this,he).append(Pe)}_formatContents({str:me,dir:Q}){const pe=document.createElement("p");pe.classList.add("popupContent"),pe.dir=Q;const we=me.split(/(?:\r\n?|\n)/);for(let Fe=0,Pe=we.length;Fe<Pe;++Fe){const De=we[Fe];pe.append(document.createTextNode(De)),Fe<Pe-1&&pe.append(document.createElement("br"))}return pe}forceHide(){Qe(this,Me,this.isVisible),ie(this,Me)&&(ie(this,he).hidden=!0)}maybeShow(){!ie(this,Me)||(Qe(this,Me,!1),ie(this,he).hidden=!1)}get isVisible(){return ie(this,he).hidden===!1}}X=new WeakMap,ee=new WeakMap,G=new WeakMap,ne=new WeakMap,se=new WeakMap,le=new WeakMap,he=new WeakMap,be=new WeakMap,ye=new WeakMap,de=new WeakMap,xe=new WeakMap,fe=new WeakMap,ce=new WeakMap,ue=new WeakMap,ve=new WeakMap,Ee=new WeakMap,Me=new WeakMap,_e=new WeakSet,Ov=function(me){me.altKey||me.shiftKey||me.ctrlKey||me.metaKey||(me.key==="Enter"||me.key==="Escape"&&ie(this,fe))&&Ue(this,We,U0).call(this)},We=new WeakSet,U0=function(){Qe(this,fe,!ie(this,fe)),ie(this,fe)?(Ue(this,Ne,b1).call(this),ie(this,he).addEventListener("click",ie(this,se)),ie(this,he).addEventListener("keydown",ie(this,ee))):(Ue(this,Ie,y1).call(this),ie(this,he).removeEventListener("click",ie(this,se)),ie(this,he).removeEventListener("keydown",ie(this,ee)))},Ne=new WeakSet,b1=function(){ie(this,ce)||this.render(),this.isVisible?ie(this,fe)&&ie(this,he).classList.add("focused"):(ie(this,he).hidden=!1,ie(this,he).style.zIndex=parseInt(ie(this,he).style.zIndex)+1e3)},Ie=new WeakSet,y1=function(){ie(this,he).classList.remove("focused"),!(ie(this,fe)||!this.isVisible)&&(ie(this,he).hidden=!0,ie(this,he).style.zIndex=parseInt(ie(this,he).style.zIndex)-1e3)};class W extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0}),this.textContent=me.data.textContent,this.textPosition=me.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const me=document.createElement("div");me.classList.add("annotationTextContent"),me.setAttribute("role","comment");for(const Q of this.textContent){const pe=document.createElement("span");pe.textContent=Q,me.append(pe)}this.container.append(me)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}o.FreeTextAnnotationElement=W;class J extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,Ae,null)}render(){this.container.classList.add("lineAnnotation");const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0),Pe=Qe(this,Ae,this.svgFactory.createElement("svg:line"));return Pe.setAttribute("x1",Q.rect[2]-Q.lineCoordinates[0]),Pe.setAttribute("y1",Q.rect[3]-Q.lineCoordinates[1]),Pe.setAttribute("x2",Q.rect[2]-Q.lineCoordinates[2]),Pe.setAttribute("y2",Q.rect[3]-Q.lineCoordinates[3]),Pe.setAttribute("stroke-width",Q.borderStyle.width||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),Fe.append(Pe),this.container.append(Fe),!Q.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ie(this,Ae)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ae=new WeakMap;class H extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,ge,null)}render(){this.container.classList.add("squareAnnotation");const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0),Pe=Q.borderStyle.width,De=Qe(this,ge,this.svgFactory.createElement("svg:rect"));return De.setAttribute("x",Pe/2),De.setAttribute("y",Pe/2),De.setAttribute("width",pe-Pe),De.setAttribute("height",we-Pe),De.setAttribute("stroke-width",Pe||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),Fe.append(De),this.container.append(Fe),!Q.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ie(this,ge)}addHighlightArea(){this.container.classList.add("highlightArea")}}ge=new WeakMap;class N extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,Ce,null)}render(){this.container.classList.add("circleAnnotation");const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0),Pe=Q.borderStyle.width,De=Qe(this,Ce,this.svgFactory.createElement("svg:ellipse"));return De.setAttribute("cx",pe/2),De.setAttribute("cy",we/2),De.setAttribute("rx",pe/2-Pe/2),De.setAttribute("ry",we/2-Pe/2),De.setAttribute("stroke-width",Pe||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),Fe.append(De),this.container.append(Fe),!Q.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ie(this,Ce)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ce=new WeakMap;class U extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,Be,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0);let Pe=[];for(const Xe of Q.vertices){const je=Xe.x-Q.rect[0],Ze=Q.rect[3]-Xe.y;Pe.push(je+","+Ze)}Pe=Pe.join(" ");const De=Qe(this,Be,this.svgFactory.createElement(this.svgElementName));return De.setAttribute("points",Pe),De.setAttribute("stroke-width",Q.borderStyle.width||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),Fe.append(De),this.container.append(Fe),!Q.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ie(this,Be)}addHighlightArea(){this.container.classList.add("highlightArea")}}Be=new WeakMap;class Y extends U{constructor(me){super(me),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _ extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class V extends w{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0});Le(this,Ye,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Q=this.data,{width:pe,height:we}=b(Q.rect),Fe=this.svgFactory.create(pe,we,!0);for(const Pe of Q.inkLists){let De=[];for(const je of Pe){const Ze=je.x-Q.rect[0],ot=Q.rect[3]-je.y;De.push(`${Ze},${ot}`)}De=De.join(" ");const Xe=this.svgFactory.createElement(this.svgElementName);ie(this,Ye).push(Xe),Xe.setAttribute("points",De),Xe.setAttribute("stroke-width",Q.borderStyle.width||1),Xe.setAttribute("stroke","transparent"),Xe.setAttribute("fill","transparent"),!Q.popupRef&&this.hasPopupData&&this._createPopup(),Fe.append(Xe)}return this.container.append(Fe),this.container}getElementsToTriggerPopup(){return ie(this,Ye)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ye=new WeakMap,o.InkAnnotationElement=V;class Z extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class q extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class re extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class oe extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ae extends w{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}o.StampAnnotationElement=ae;class R extends w{constructor(Q){var Fe;super(Q,{isRenderable:!0});Le(this,Re);Le(this,Je,null);const{filename:pe,content:we}=this.data.file;this.filename=(0,l.getFilenameFromUrl)(pe,!0),this.content=we,(Fe=this.linkService.eventBus)==null||Fe.dispatch("fileattachmentannotation",{source:this,filename:pe,content:we})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Q,data:pe}=this;let we;pe.hasAppearance||pe.fillAlpha===0?we=document.createElement("div"):(we=document.createElement("img"),we.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(pe.name)?"paperclip":"pushpin"}.svg`,pe.fillAlpha&&pe.fillAlpha<1&&(we.style=`filter: opacity(${Math.round(pe.fillAlpha*100)}%);`)),we.addEventListener("dblclick",Ue(this,Re,v1).bind(this)),Qe(this,Je,we);const{isMac:Fe}=i.FeatureTest.platform;return Q.addEventListener("keydown",Pe=>{Pe.key==="Enter"&&(Fe?Pe.metaKey:Pe.ctrlKey)&&Ue(this,Re,v1).call(this)}),!pe.popupRef&&this.hasPopupData?this._createPopup():we.classList.add("popupTriggerArea"),Q.append(we),Q}getElementsToTriggerPopup(){return ie(this,Je)}addHighlightArea(){this.container.classList.add("highlightArea")}}Je=new WeakMap,Re=new WeakSet,v1=function(){var Q;(Q=this.downloadManager)==null||Q.openOrDownloadData(this.container,this.content,this.filename)};class S{constructor({div:me,accessibilityManager:Q,annotationCanvasMap:pe,l10n:we,page:Fe,viewport:Pe}){Le(this,qe);Le(this,rt);Le(this,nt,null);Le(this,et,null);Le(this,it,new Map);this.div=me,Qe(this,nt,Q),Qe(this,et,pe),this.l10n=we,this.page=Fe,this.viewport=Pe,this.zIndex=0,this.l10n||(this.l10n=r.NullL10n)}async render(me){const{annotations:Q}=me,pe=this.div;(0,l.setLayerDimensions)(pe,this.viewport);const we=new Map,Fe={data:null,layer:pe,linkService:me.linkService,downloadManager:me.downloadManager,imageResourcesPath:me.imageResourcesPath||"",renderForms:me.renderForms!==!1,svgFactory:new l.DOMSVGFactory,annotationStorage:me.annotationStorage||new d.AnnotationStorage,enableScripting:me.enableScripting===!0,hasJSActions:me.hasJSActions,fieldObjects:me.fieldObjects,parent:this,elements:null};for(const Pe of Q){if(Pe.noHTML)continue;const De=Pe.annotationType===i.AnnotationType.POPUP;if(De){const Ze=we.get(Pe.id);if(!Ze)continue;Fe.elements=Ze}else{const{width:Ze,height:ot}=b(Pe.rect);if(Ze<=0||ot<=0)continue}Fe.data=Pe;const Xe=g.create(Fe);if(!Xe.isRenderable)continue;if(!De&&Pe.popupRef){const Ze=we.get(Pe.popupRef);Ze?Ze.push(Xe):we.set(Pe.popupRef,[Xe])}Xe.annotationEditorType>0&&ie(this,it).set(Xe.data.id,Xe);const je=Xe.render();Pe.hidden&&(je.style.visibility="hidden"),Ue(this,qe,Pv).call(this,je,Pe.id)}Ue(this,rt,w1).call(this),await this.l10n.translate(pe)}update({viewport:me}){const Q=this.div;this.viewport=me,(0,l.setLayerDimensions)(Q,{rotation:me.rotation}),Ue(this,rt,w1).call(this),Q.hidden=!1}getEditableAnnotations(){return Array.from(ie(this,it).values())}getEditableAnnotation(me){return ie(this,it).get(me)}}nt=new WeakMap,et=new WeakMap,it=new WeakMap,qe=new WeakSet,Pv=function(me,Q){var we;const pe=me.firstChild||me;pe.id=`${i.AnnotationPrefix}${Q}`,this.div.append(me),(we=ie(this,nt))==null||we.moveElementInDOM(this.div,me,pe,!1)},rt=new WeakSet,w1=function(){if(!ie(this,et))return;const me=this.div;for(const[Q,pe]of ie(this,et)){const we=me.querySelector(`[data-annotation-id="${Q}"]`);if(!we)continue;const{firstChild:Fe}=we;Fe?Fe.nodeName==="CANVAS"?Fe.replaceWith(pe):Fe.before(pe):we.append(pe)}ie(this,et).clear()},o.AnnotationLayer=S},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0;function s(d){return Math.floor(Math.max(0,Math.min(1,d))*255).toString(16).padStart(2,"0")}function i(d){return Math.max(0,Math.min(255,255*d))}class l{static CMYK_G([e,r,p,x]){return["G",1-Math.min(1,.3*e+.59*p+.11*r+x)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=i(e),[e,e,e]}static G_HTML([e]){const r=s(e);return`#${r}${r}${r}`}static RGB_G([e,r,p]){return["G",.3*e+.59*r+.11*p]}static RGB_rgb(e){return e.map(i)}static RGB_HTML(e){return`#${e.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,p,x]){return["RGB",1-Math.min(1,e+x),1-Math.min(1,p+x),1-Math.min(1,r+x)]}static CMYK_rgb([e,r,p,x]){return[i(1-Math.min(1,e+x)),i(1-Math.min(1,p+x)),i(1-Math.min(1,r+x))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,p]){const x=1-e,y=1-r,v=1-p,b=Math.min(x,y,v);return["CMYK",x,y,v,b]}}o.ColorConverters=l},(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=i;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function i(e,r){switch(e){case"find_match_count":e=`find_match_count[${r.total===1?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${r.limit===1?"one":"other"}]`;break}return s[e]||""}function l(e,r){return r?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(p,x)=>x in r?r[x]:"{{"+x+"}}"):e}const d={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(e,r=null,p=i(e,r)){return l(p,r)},async translate(e){}};o.NullL10n=d},(h,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var i=s(25);class l{static setupStorage(e,r,p,x,y){const v=x.getValue(r,{value:null});switch(p.name){case"textarea":if(v.value!==null&&(e.textContent=v.value),y==="print")break;e.addEventListener("input",b=>{x.setValue(r,{value:b.target.value})});break;case"input":if(p.attributes.type==="radio"||p.attributes.type==="checkbox"){if(v.value===p.attributes.xfaOn?e.setAttribute("checked",!0):v.value===p.attributes.xfaOff&&e.removeAttribute("checked"),y==="print")break;e.addEventListener("change",b=>{x.setValue(r,{value:b.target.checked?b.target.getAttribute("xfaOn"):b.target.getAttribute("xfaOff")})})}else{if(v.value!==null&&e.setAttribute("value",v.value),y==="print")break;e.addEventListener("input",b=>{x.setValue(r,{value:b.target.value})})}break;case"select":if(v.value!==null){e.setAttribute("value",v.value);for(const b of p.children)b.attributes.value===v.value?b.attributes.selected=!0:b.attributes.hasOwnProperty("selected")&&delete b.attributes.selected}e.addEventListener("input",b=>{const g=b.target.options,w=g.selectedIndex===-1?"":g[g.selectedIndex].value;x.setValue(r,{value:w})});break}}static setAttributes({html:e,element:r,storage:p=null,intent:x,linkService:y}){const{attributes:v}=r,b=e instanceof HTMLAnchorElement;v.type==="radio"&&(v.name=`${v.name}-${x}`);for(const[g,w]of Object.entries(v))if(w!=null)switch(g){case"class":w.length&&e.setAttribute(g,w.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",w);break;case"style":Object.assign(e.style,w);break;case"textContent":e.textContent=w;break;default:(!b||g!=="href"&&g!=="newWindow")&&e.setAttribute(g,w)}b&&y.addLinkAttributes(e,v.href,v.newWindow),p&&v.dataId&&this.setupStorage(e,v.dataId,r,p)}static render(e){var f;const r=e.annotationStorage,p=e.linkService,x=e.xfaHtml,y=e.intent||"display",v=document.createElement(x.name);x.attributes&&this.setAttributes({html:v,element:x,intent:y,linkService:p});const b=[[x,-1,v]],g=e.div;if(g.append(v),e.viewport){const E=`matrix(${e.viewport.transform.join(",")})`;g.style.transform=E}y!=="richText"&&g.setAttribute("class","xfaLayer xfaFont");const w=[];for(;b.length>0;){const[E,A,O]=b.at(-1);if(A+1===E.children.length){b.pop();continue}const T=E.children[++b.at(-1)[1]];if(T===null)continue;const{name:D}=T;if(D==="#text"){const C=document.createTextNode(T.value);w.push(C),O.append(C);continue}const F=(f=T==null?void 0:T.attributes)!=null&&f.xmlns?document.createElementNS(T.attributes.xmlns,D):document.createElement(D);if(O.append(F),T.attributes&&this.setAttributes({html:F,element:T,storage:r,intent:y,linkService:p}),T.children&&T.children.length>0)b.push([T,-1,F]);else if(T.value){const C=document.createTextNode(T.value);i.XfaText.shouldBuildText(D)&&w.push(C),F.append(C)}}for(const E of g.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:w}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}o.XfaLayer=l},(h,o,s)=>{var x,y,v,b,g,w,f,E,A,O,T,D,F,C,B,Rv,I,Mv,J,Dv,N,Lv,Y,A1,V,Nv,q,S1,oe,Bv,R,$v,L,Uv,z,_v,K,Hv,X,Da,G,k1,se,_0,he,H0,ye,Hs,xe,E1,ce,z0,ve,zv,Me,C1,ze,Xv,Ve,Wv,ke,T1,Te,X0,ge,zs;Object.defineProperty(o,"__esModule",{value:!0}),o.InkEditor=void 0;var i=s(1),l=s(4),d=s(29),e=s(6),r=s(5);const Be=class extends l.AnnotationEditor{constructor(Re){super({...Re,name:"inkEditor"});Le(this,B);Le(this,I);Le(this,J);Le(this,N);Le(this,Y);Le(this,V);Le(this,q);Le(this,oe);Le(this,R);Le(this,L);Le(this,z);Le(this,K);Le(this,X);Le(this,G);Le(this,se);Le(this,he);Le(this,ye);Le(this,xe);Le(this,ce);Le(this,Ve);Le(this,ke);Le(this,Te);Le(this,ge);Le(this,x,0);Le(this,y,0);Le(this,v,this.canvasPointermove.bind(this));Le(this,b,this.canvasPointerleave.bind(this));Le(this,g,this.canvasPointerup.bind(this));Le(this,w,this.canvasPointerdown.bind(this));Le(this,f,new Path2D);Le(this,E,!1);Le(this,A,!1);Le(this,O,!1);Le(this,T,null);Le(this,D,0);Le(this,F,0);Le(this,C,null);this.color=Re.color||null,this.thickness=Re.thickness||null,this.opacity=Re.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Re){l.AnnotationEditor.initialize(Re,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Re,He){switch(Re){case i.AnnotationEditorParamsType.INK_THICKNESS:Be._defaultThickness=He;break;case i.AnnotationEditorParamsType.INK_COLOR:Be._defaultColor=He;break;case i.AnnotationEditorParamsType.INK_OPACITY:Be._defaultOpacity=He/100;break}}updateParams(Re,He){switch(Re){case i.AnnotationEditorParamsType.INK_THICKNESS:Ue(this,B,Rv).call(this,He);break;case i.AnnotationEditorParamsType.INK_COLOR:Ue(this,I,Mv).call(this,He);break;case i.AnnotationEditorParamsType.INK_OPACITY:Ue(this,J,Dv).call(this,He);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,Be._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,Be._defaultColor||l.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(Be._defaultOpacity*100)]]}get propertiesToUpdate(){var Re;return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Be._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||Be._defaultColor||l.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Re=this.opacity)!=null?Re:Be._defaultOpacity))]]}rebuild(){!this.parent||(super.rebuild(),this.div!==null&&(this.canvas||(Ue(this,se,_0).call(this),Ue(this,he,H0).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ue(this,ye,Hs).call(this)),Ue(this,ge,zs).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ie(this,T).disconnect(),Qe(this,T,null),super.remove())}setParent(Re){!this.parent&&Re?this._uiManager.removeShouldRescale(this):this.parent&&Re===null&&this._uiManager.addShouldRescale(this),super.setParent(Re)}onScaleChanging(){const[Re,He]=this.parentDimensions,nt=this.width*Re,et=this.height*He;this.setDimensions(nt,et)}enableEditMode(){ie(this,E)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",ie(this,w)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ie(this,w)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ie(this,E)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Qe(this,E,!0),this.div.classList.add("disabled"),Ue(this,ge,zs).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Re){!this._focusEventsAllowed||(super.focusin(Re),this.enableEditMode())}canvasPointerdown(Re){Re.button!==0||!this.isInEditMode()||ie(this,E)||(this.setInForeground(),Re.preventDefault(),Re.type!=="mouse"&&this.div.focus(),Ue(this,V,Nv).call(this,Re.offsetX,Re.offsetY))}canvasPointermove(Re){Re.preventDefault(),Ue(this,q,S1).call(this,Re.offsetX,Re.offsetY)}canvasPointerup(Re){Re.preventDefault(),Ue(this,G,k1).call(this,Re)}canvasPointerleave(Re){Ue(this,G,k1).call(this,Re)}get isResizable(){return!this.isEmpty()&&ie(this,E)}render(){if(this.div)return this.div;let Re,He;this.width&&(Re=this.x,He=this.y),super.render(),l.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(lt=>{var rt;return(rt=this.div)==null?void 0:rt.setAttribute("aria-label",lt)});const[nt,et,it,qe]=Ue(this,N,Lv).call(this);if(this.setAt(nt,et,0,0),this.setDims(it,qe),Ue(this,se,_0).call(this),this.width){const[lt,rt]=this.parentDimensions;this.setAspectRatio(this.width*lt,this.height*rt),this.setAt(Re*lt,He*rt,this.width*lt,this.height*rt),Qe(this,O,!0),Ue(this,ye,Hs).call(this),this.setDims(this.width*lt,this.height*rt),Ue(this,X,Da).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ue(this,he,H0).call(this),this.div}setDimensions(Re,He){const nt=Math.round(Re),et=Math.round(He);if(ie(this,D)===nt&&ie(this,F)===et)return;Qe(this,D,nt),Qe(this,F,et),this.canvas.style.visibility="hidden";const[it,qe]=this.parentDimensions;this.width=Re/it,this.height=He/qe,this.fixAndSetPosition(),ie(this,E)&&Ue(this,xe,E1).call(this,Re,He),Ue(this,ye,Hs).call(this),Ue(this,X,Da).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Re,He,nt){var Fe,Pe,De;if(Re instanceof d.InkAnnotationElement)return null;const et=super.deserialize(Re,He,nt);et.thickness=Re.thickness,et.color=i.Util.makeHexColor(...Re.color),et.opacity=Re.opacity;const[it,qe]=et.pageDimensions,lt=et.width*it,rt=et.height*qe,Oe=et.parentScale,$e=Re.thickness/2;Qe(et,E,!0),Qe(et,D,Math.round(lt)),Qe(et,F,Math.round(rt));const{paths:me,rect:Q,rotation:pe}=Re;for(let{bezier:Xe}of me){Xe=Ue(Fe=Be,ze,Xv).call(Fe,Xe,Q,pe);const je=[];et.paths.push(je);let Ze=Oe*(Xe[0]-$e),ot=Oe*(Xe[1]-$e);for(let Ge=2,tt=Xe.length;Ge<tt;Ge+=6){const at=Oe*(Xe[Ge]-$e),st=Oe*(Xe[Ge+1]-$e),ft=Oe*(Xe[Ge+2]-$e),pt=Oe*(Xe[Ge+3]-$e),ct=Oe*(Xe[Ge+4]-$e),yt=Oe*(Xe[Ge+5]-$e);je.push([[Ze,ot],[at,st],[ft,pt],[ct,yt]]),Ze=ct,ot=yt}const Ke=Ue(this,ve,zv).call(this,je);et.bezierPath2D.push(Ke)}const we=Ue(Pe=et,ke,T1).call(Pe);return Qe(et,y,Math.max(l.AnnotationEditor.MIN_SIZE,we[2]-we[0])),Qe(et,x,Math.max(l.AnnotationEditor.MIN_SIZE,we[3]-we[1])),Ue(De=et,xe,E1).call(De,lt,rt),et}serialize(){if(this.isEmpty())return null;const Re=this.getRect(0,0),He=l.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:He,thickness:this.thickness,opacity:this.opacity,paths:Ue(this,Ve,Wv).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Re),pageIndex:this.pageIndex,rect:Re,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};let p=Be;x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakMap,T=new WeakMap,D=new WeakMap,F=new WeakMap,C=new WeakMap,B=new WeakSet,Rv=function(Re){const He=this.thickness;this.addCommands({cmd:()=>{this.thickness=Re,Ue(this,ge,zs).call(this)},undo:()=>{this.thickness=He,Ue(this,ge,zs).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},I=new WeakSet,Mv=function(Re){const He=this.color;this.addCommands({cmd:()=>{this.color=Re,Ue(this,X,Da).call(this)},undo:()=>{this.color=He,Ue(this,X,Da).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},J=new WeakSet,Dv=function(Re){Re/=100;const He=this.opacity;this.addCommands({cmd:()=>{this.opacity=Re,Ue(this,X,Da).call(this)},undo:()=>{this.opacity=He,Ue(this,X,Da).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},N=new WeakSet,Lv=function(){const{parentRotation:Re,parentDimensions:[He,nt]}=this;switch(Re){case 90:return[0,nt,nt,He];case 180:return[He,nt,He,nt];case 270:return[He,0,nt,He];default:return[0,0,He,nt]}},Y=new WeakSet,A1=function(){const{ctx:Re,color:He,opacity:nt,thickness:et,parentScale:it,scaleFactor:qe}=this;Re.lineWidth=et*it/qe,Re.lineCap="round",Re.lineJoin="round",Re.miterLimit=10,Re.strokeStyle=`${He}${(0,r.opacityToHex)(nt)}`},V=new WeakSet,Nv=function(Re,He){var nt;this.canvas.addEventListener("contextmenu",e.noContextMenu),this.canvas.addEventListener("pointerleave",ie(this,b)),this.canvas.addEventListener("pointermove",ie(this,v)),this.canvas.addEventListener("pointerup",ie(this,g)),this.canvas.removeEventListener("pointerdown",ie(this,w)),this.isEditing=!0,ie(this,O)||(Qe(this,O,!0),Ue(this,ye,Hs).call(this),this.thickness||(this.thickness=Be._defaultThickness),this.color||(this.color=Be._defaultColor||l.AnnotationEditor._defaultLineColor),(nt=this.opacity)!=null||(this.opacity=Be._defaultOpacity)),this.currentPath.push([Re,He]),Qe(this,A,!1),Ue(this,Y,A1).call(this),Qe(this,C,()=>{Ue(this,L,Uv).call(this),ie(this,C)&&window.requestAnimationFrame(ie(this,C))}),window.requestAnimationFrame(ie(this,C))},q=new WeakSet,S1=function(Re,He){const[nt,et]=this.currentPath.at(-1);if(this.currentPath.length>1&&Re===nt&&He===et)return;const it=this.currentPath;let qe=ie(this,f);if(it.push([Re,He]),Qe(this,A,!0),it.length<=2){qe.moveTo(...it[0]),qe.lineTo(Re,He);return}it.length===3&&(Qe(this,f,qe=new Path2D),qe.moveTo(...it[0])),Ue(this,z,_v).call(this,qe,...it.at(-3),...it.at(-2),Re,He)},oe=new WeakSet,Bv=function(){if(this.currentPath.length===0)return;const Re=this.currentPath.at(-1);ie(this,f).lineTo(...Re)},R=new WeakSet,$v=function(Re,He){Qe(this,C,null),Re=Math.min(Math.max(Re,0),this.canvas.width),He=Math.min(Math.max(He,0),this.canvas.height),Ue(this,q,S1).call(this,Re,He),Ue(this,oe,Bv).call(this);let nt;if(this.currentPath.length!==1)nt=Ue(this,K,Hv).call(this);else{const rt=[Re,He];nt=[[rt,rt.slice(),rt.slice(),rt]]}const et=ie(this,f),it=this.currentPath;this.currentPath=[],Qe(this,f,new Path2D);const qe=()=>{this.allRawPaths.push(it),this.paths.push(nt),this.bezierPath2D.push(et),this.rebuild()},lt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ue(this,se,_0).call(this),Ue(this,he,H0).call(this)),Ue(this,ge,zs).call(this))};this.addCommands({cmd:qe,undo:lt,mustExec:!0})},L=new WeakSet,Uv=function(){if(!ie(this,A))return;Qe(this,A,!1);const Re=Math.ceil(this.thickness*this.parentScale),He=this.currentPath.slice(-3),nt=He.map(qe=>qe[0]),et=He.map(qe=>qe[1]);Math.min(...nt)-Re,Math.max(...nt)+Re,Math.min(...et)-Re,Math.max(...et)+Re;const{ctx:it}=this;it.save(),it.clearRect(0,0,this.canvas.width,this.canvas.height);for(const qe of this.bezierPath2D)it.stroke(qe);it.stroke(ie(this,f)),it.restore()},z=new WeakSet,_v=function(Re,He,nt,et,it,qe,lt){const rt=(He+et)/2,Oe=(nt+it)/2,$e=(et+qe)/2,me=(it+lt)/2;Re.bezierCurveTo(rt+2*(et-rt)/3,Oe+2*(it-Oe)/3,$e+2*(et-$e)/3,me+2*(it-me)/3,$e,me)},K=new WeakSet,Hv=function(){const Re=this.currentPath;if(Re.length<=2)return[[Re[0],Re[0],Re.at(-1),Re.at(-1)]];const He=[];let nt,[et,it]=Re[0];for(nt=1;nt<Re.length-2;nt++){const[Q,pe]=Re[nt],[we,Fe]=Re[nt+1],Pe=(Q+we)/2,De=(pe+Fe)/2,Xe=[et+2*(Q-et)/3,it+2*(pe-it)/3],je=[Pe+2*(Q-Pe)/3,De+2*(pe-De)/3];He.push([[et,it],Xe,je,[Pe,De]]),[et,it]=[Pe,De]}const[qe,lt]=Re[nt],[rt,Oe]=Re[nt+1],$e=[et+2*(qe-et)/3,it+2*(lt-it)/3],me=[rt+2*(qe-rt)/3,Oe+2*(lt-Oe)/3];return He.push([[et,it],$e,me,[rt,Oe]]),He},X=new WeakSet,Da=function(){if(this.isEmpty()){Ue(this,ce,z0).call(this);return}Ue(this,Y,A1).call(this);const{canvas:Re,ctx:He}=this;He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,Re.width,Re.height),Ue(this,ce,z0).call(this);for(const nt of this.bezierPath2D)He.stroke(nt)},G=new WeakSet,k1=function(Re){this.canvas.removeEventListener("pointerleave",ie(this,b)),this.canvas.removeEventListener("pointermove",ie(this,v)),this.canvas.removeEventListener("pointerup",ie(this,g)),this.canvas.addEventListener("pointerdown",ie(this,w)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",e.noContextMenu)},10),Ue(this,R,$v).call(this,Re.offsetX,Re.offsetY),this.addToAnnotationStorage(),this.setInBackground()},se=new WeakSet,_0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",l.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Re=>{var He;return(He=this.canvas)==null?void 0:He.setAttribute("aria-label",Re)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},he=new WeakSet,H0=function(){Qe(this,T,new ResizeObserver(Re=>{const He=Re[0].contentRect;He.width&&He.height&&this.setDimensions(He.width,He.height)})),ie(this,T).observe(this.div)},ye=new WeakSet,Hs=function(){if(!ie(this,O))return;const[Re,He]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Re),this.canvas.height=Math.ceil(this.height*He),Ue(this,ce,z0).call(this)},xe=new WeakSet,E1=function(Re,He){const nt=Ue(this,Te,X0).call(this),et=(Re-nt)/ie(this,y),it=(He-nt)/ie(this,x);this.scaleFactor=Math.min(et,it)},ce=new WeakSet,z0=function(){const Re=Ue(this,Te,X0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Re,this.translationY*this.scaleFactor+Re)},ve=new WeakSet,zv=function(Re){const He=new Path2D;for(let nt=0,et=Re.length;nt<et;nt++){const[it,qe,lt,rt]=Re[nt];nt===0&&He.moveTo(...it),He.bezierCurveTo(qe[0],qe[1],lt[0],lt[1],rt[0],rt[1])}return He},Me=new WeakSet,C1=function(Re,He,nt){const[et,it,qe,lt]=He;switch(nt){case 0:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2)Re[rt]+=et,Re[rt+1]=lt-Re[rt+1];break;case 90:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2){const $e=Re[rt];Re[rt]=Re[rt+1]+et,Re[rt+1]=$e+it}break;case 180:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2)Re[rt]=qe-Re[rt],Re[rt+1]+=it;break;case 270:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2){const $e=Re[rt];Re[rt]=qe-Re[rt+1],Re[rt+1]=lt-$e}break;default:throw new Error("Invalid rotation")}return Re},ze=new WeakSet,Xv=function(Re,He,nt){const[et,it,qe,lt]=He;switch(nt){case 0:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2)Re[rt]-=et,Re[rt+1]=lt-Re[rt+1];break;case 90:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2){const $e=Re[rt];Re[rt]=Re[rt+1]-it,Re[rt+1]=$e-et}break;case 180:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2)Re[rt]=qe-Re[rt],Re[rt+1]-=it;break;case 270:for(let rt=0,Oe=Re.length;rt<Oe;rt+=2){const $e=Re[rt];Re[rt]=lt-Re[rt+1],Re[rt+1]=qe-$e}break;default:throw new Error("Invalid rotation")}return Re},Ve=new WeakSet,Wv=function(Re,He,nt,et){var Oe,$e;const it=[],qe=this.thickness/2,lt=Re*He+qe,rt=Re*nt+qe;for(const me of this.paths){const Q=[],pe=[];for(let we=0,Fe=me.length;we<Fe;we++){const[Pe,De,Xe,je]=me[we],Ze=Re*Pe[0]+lt,ot=Re*Pe[1]+rt,Ke=Re*De[0]+lt,Ge=Re*De[1]+rt,tt=Re*Xe[0]+lt,at=Re*Xe[1]+rt,st=Re*je[0]+lt,ft=Re*je[1]+rt;we===0&&(Q.push(Ze,ot),pe.push(Ze,ot)),Q.push(Ke,Ge,tt,at,st,ft),pe.push(Ke,Ge),we===Fe-1&&pe.push(st,ft)}it.push({bezier:Ue(Oe=Be,Me,C1).call(Oe,Q,et,this.rotation),points:Ue($e=Be,Me,C1).call($e,pe,et,this.rotation)})}return it},ke=new WeakSet,T1=function(){let Re=1/0,He=-1/0,nt=1/0,et=-1/0;for(const it of this.paths)for(const[qe,lt,rt,Oe]of it){const $e=i.Util.bezierBoundingBox(...qe,...lt,...rt,...Oe);Re=Math.min(Re,$e[0]),nt=Math.min(nt,$e[1]),He=Math.max(He,$e[2]),et=Math.max(et,$e[3])}return[Re,nt,He,et]},Te=new WeakSet,X0=function(){return ie(this,E)?Math.ceil(this.thickness*this.parentScale):0},ge=new WeakSet,zs=function(Re=!1){if(this.isEmpty())return;if(!ie(this,E)){Ue(this,X,Da).call(this);return}const He=Ue(this,ke,T1).call(this),nt=Ue(this,Te,X0).call(this);Qe(this,y,Math.max(l.AnnotationEditor.MIN_SIZE,He[2]-He[0])),Qe(this,x,Math.max(l.AnnotationEditor.MIN_SIZE,He[3]-He[1]));const et=Math.ceil(nt+ie(this,y)*this.scaleFactor),it=Math.ceil(nt+ie(this,x)*this.scaleFactor),[qe,lt]=this.parentDimensions;this.width=et/qe,this.height=it/lt,this.setAspectRatio(et,it);const rt=this.translationX,Oe=this.translationY;this.translationX=-He[0],this.translationY=-He[1],Ue(this,ye,Hs).call(this),Ue(this,X,Da).call(this),Qe(this,D,et),Qe(this,F,it),this.setDims(et,it);const $e=Re?nt/this.scaleFactor/2:0;this.translate(rt-this.translationX-$e,Oe-this.translationY-$e)},Le(p,ve),Le(p,Me),Le(p,ze),Ct(p,"_defaultColor",null),Ct(p,"_defaultOpacity",1),Ct(p,"_defaultThickness",1),Ct(p,"_type","ink"),o.InkEditor=p},(h,o,s)=>{var p,x,y,v,b,g,w,f,E,A,O,cc,D,lc,C,W0,M,F1,W,Gv,H,Vv,U,I1,_,G0,Z,jv;Object.defineProperty(o,"__esModule",{value:!0}),o.StampEditor=void 0;var i=s(1),l=s(4),d=s(6),e=s(29);const re=class extends l.AnnotationEditor{constructor(R){super({...R,name:"stampEditor"});Le(this,O);Le(this,D);Le(this,C);Le(this,M);Le(this,W);Le(this,H);Le(this,U);Le(this,_);Le(this,Z);Le(this,p,null);Le(this,x,null);Le(this,y,null);Le(this,v,null);Le(this,b,null);Le(this,g,null);Le(this,w,null);Le(this,f,null);Le(this,E,!1);Le(this,A,!1);Qe(this,v,R.bitmapUrl),Qe(this,b,R.bitmapFile)}static initialize(R){l.AnnotationEditor.initialize(R)}static get supportedTypes(){const R=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",R.map(S=>`image/${S}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(R){return this.supportedTypes.includes(R)}static paste(R,S){S.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:R.getAsFile()})}remove(){var R,S;ie(this,x)&&(Qe(this,p,null),this._uiManager.imageManager.deleteId(ie(this,x)),(R=ie(this,g))==null||R.remove(),Qe(this,g,null),(S=ie(this,w))==null||S.disconnect(),Qe(this,w,null)),super.remove()}rebuild(){if(!this.parent){ie(this,x)&&Ue(this,C,W0).call(this);return}super.rebuild(),this.div!==null&&(ie(this,x)&&Ue(this,C,W0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(ie(this,y)||ie(this,p)||ie(this,v)||ie(this,b))}get isResizable(){return!0}render(){if(this.div)return this.div;let R,S;if(this.width&&(R=this.x,S=this.y),super.render(),this.div.hidden=!0,ie(this,p)?Ue(this,M,F1).call(this):Ue(this,C,W0).call(this),this.width){const[L,k]=this.parentDimensions;this.setAt(R*L,S*k,this.width*L,this.height*k)}return this.div}static deserialize(R,S,L){if(R instanceof e.StampAnnotationElement)return null;const k=super.deserialize(R,S,L),{rect:z,bitmapUrl:P,bitmapId:K,isSvg:te,accessibilityData:X}=R;K&&L.imageManager.isValidId(K)?Qe(k,x,K):Qe(k,v,P),Qe(k,E,te);const[ee,G]=k.pageDimensions;return k.width=(z[2]-z[0])/ee,k.height=(z[3]-z[1])/G,X&&(k.altTextData=X),k}serialize(R=!1,S=null){if(this.isEmpty())return null;const L={annotationType:i.AnnotationEditorType.STAMP,bitmapId:ie(this,x),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:ie(this,E),structTreeParentId:this._structTreeParentId};if(R)return L.bitmapUrl=Ue(this,_,G0).call(this,!0),L.accessibilityData=this.altTextData,L;const{decorative:k,altText:z}=this.altTextData;if(!k&&z&&(L.accessibilityData={type:"Figure",alt:z}),S===null)return L;S.stamps||(S.stamps=new Map);const P=ie(this,E)?(L.rect[2]-L.rect[0])*(L.rect[3]-L.rect[1]):null;if(!S.stamps.has(ie(this,x)))S.stamps.set(ie(this,x),{area:P,serialized:L}),L.bitmap=Ue(this,_,G0).call(this,!1);else if(ie(this,E)){const K=S.stamps.get(ie(this,x));P>K.area&&(K.area=P,K.serialized.bitmap.close(),K.serialized.bitmap=Ue(this,_,G0).call(this,!1))}return L}};let r=re;p=new WeakMap,x=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,E=new WeakMap,A=new WeakMap,O=new WeakSet,cc=function(R,S=!1){if(!R){this.remove();return}Qe(this,p,R.bitmap),S||(Qe(this,x,R.id),Qe(this,E,R.isSvg)),Ue(this,M,F1).call(this)},D=new WeakSet,lc=function(){Qe(this,y,null),this._uiManager.enableWaiting(!1),ie(this,g)&&this.div.focus()},C=new WeakSet,W0=function(){if(ie(this,x)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(ie(this,x)).then(S=>Ue(this,O,cc).call(this,S,!0)).finally(()=>Ue(this,D,lc).call(this));return}if(ie(this,v)){const S=ie(this,v);Qe(this,v,null),this._uiManager.enableWaiting(!0),Qe(this,y,this._uiManager.imageManager.getFromUrl(S).then(L=>Ue(this,O,cc).call(this,L)).finally(()=>Ue(this,D,lc).call(this)));return}if(ie(this,b)){const S=ie(this,b);Qe(this,b,null),this._uiManager.enableWaiting(!0),Qe(this,y,this._uiManager.imageManager.getFromFile(S).then(L=>Ue(this,O,cc).call(this,L)).finally(()=>Ue(this,D,lc).call(this)));return}const R=document.createElement("input");R.type="file",R.accept=re.supportedTypesStr,Qe(this,y,new Promise(S=>{R.addEventListener("change",async()=>{if(!R.files||R.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const L=await this._uiManager.imageManager.getFromFile(R.files[0]);Ue(this,O,cc).call(this,L)}S()}),R.addEventListener("cancel",()=>{this.remove(),S()})}).finally(()=>Ue(this,D,lc).call(this))),R.click()},M=new WeakSet,F1=function(){const{div:R}=this;let{width:S,height:L}=ie(this,p);const[k,z]=this.pageDimensions,P=.75;if(this.width)S=this.width*k,L=this.height*z;else if(S>P*k||L>P*z){const ee=Math.min(P*k/S,P*z/L);S*=ee,L*=ee}const[K,te]=this.parentDimensions;this.setDims(S*K/k,L*te/z),this._uiManager.enableWaiting(!1);const X=Qe(this,g,document.createElement("canvas"));R.append(X),R.hidden=!1,Ue(this,U,I1).call(this,S,L),Ue(this,Z,jv).call(this),ie(this,A)||(this.parent.addUndoableEditor(this),Qe(this,A,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},W=new WeakSet,Gv=function(R,S){var P;const[L,k]=this.parentDimensions;this.width=R/L,this.height=S/k,this.setDims(R,S),(P=this._initialOptions)!=null&&P.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,ie(this,f)!==null&&clearTimeout(ie(this,f)),Qe(this,f,setTimeout(()=>{Qe(this,f,null),Ue(this,U,I1).call(this,R,S)},200))},H=new WeakSet,Vv=function(R,S){const{width:L,height:k}=ie(this,p);let z=L,P=k,K=ie(this,p);for(;z>2*R||P>2*S;){const te=z,X=P;z>2*R&&(z=z>=16384?Math.floor(z/2)-1:Math.ceil(z/2)),P>2*S&&(P=P>=16384?Math.floor(P/2)-1:Math.ceil(P/2));const ee=new OffscreenCanvas(z,P);ee.getContext("2d").drawImage(K,0,0,te,X,0,0,z,P),K=ee.transferToImageBitmap()}return K},U=new WeakSet,I1=function(R,S){R=Math.ceil(R),S=Math.ceil(S);const L=ie(this,g);if(!L||L.width===R&&L.height===S)return;L.width=R,L.height=S;const k=ie(this,E)?ie(this,p):Ue(this,H,Vv).call(this,R,S),z=L.getContext("2d");z.filter=this._uiManager.hcmFilter,z.drawImage(k,0,0,k.width,k.height,0,0,R,S)},_=new WeakSet,G0=function(R){if(R){if(ie(this,E)){const k=this._uiManager.imageManager.getSvgUrl(ie(this,x));if(k)return k}const S=document.createElement("canvas");return{width:S.width,height:S.height}=ie(this,p),S.getContext("2d").drawImage(ie(this,p),0,0),S.toDataURL()}if(ie(this,E)){const[S,L]=this.pageDimensions,k=Math.round(this.width*S*d.PixelsPerInch.PDF_TO_CSS_UNITS),z=Math.round(this.height*L*d.PixelsPerInch.PDF_TO_CSS_UNITS),P=new OffscreenCanvas(k,z);return P.getContext("2d").drawImage(ie(this,p),0,0,ie(this,p).width,ie(this,p).height,0,0,k,z),P.transferToImageBitmap()}return structuredClone(ie(this,p))},Z=new WeakSet,jv=function(){Qe(this,w,new ResizeObserver(R=>{const S=R[0].contentRect;S.width&&S.height&&Ue(this,W,Gv).call(this,S.width,S.height)})),ie(this,w).observe(this.div)},Ct(r,"_type","stamp"),o.StampEditor=r}],c={};function u(h){var o=c[h];if(o!==void 0)return o.exports;var s=c[h]={exports:{}};return a[h](s,s.exports,u),s.exports}var m={};return(()=>{var h=m;Object.defineProperty(h,"__esModule",{value:!0}),Object.defineProperty(h,"AbortException",{enumerable:!0,get:function(){return o.AbortException}}),Object.defineProperty(h,"AnnotationEditorLayer",{enumerable:!0,get:function(){return d.AnnotationEditorLayer}}),Object.defineProperty(h,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return o.AnnotationEditorParamsType}}),Object.defineProperty(h,"AnnotationEditorType",{enumerable:!0,get:function(){return o.AnnotationEditorType}}),Object.defineProperty(h,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return e.AnnotationEditorUIManager}}),Object.defineProperty(h,"AnnotationLayer",{enumerable:!0,get:function(){return r.AnnotationLayer}}),Object.defineProperty(h,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(h,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(h,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(h,"FeatureTest",{enumerable:!0,get:function(){return o.FeatureTest}}),Object.defineProperty(h,"GlobalWorkerOptions",{enumerable:!0,get:function(){return p.GlobalWorkerOptions}}),Object.defineProperty(h,"ImageKind",{enumerable:!0,get:function(){return o.ImageKind}}),Object.defineProperty(h,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(h,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(h,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(h,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(h,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(h,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(h,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(h,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(h,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(h,"PromiseCapability",{enumerable:!0,get:function(){return o.PromiseCapability}}),Object.defineProperty(h,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(h,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(h,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(h,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(h,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(h,"XfaLayer",{enumerable:!0,get:function(){return x.XfaLayer}}),Object.defineProperty(h,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(h,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(h,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(h,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(h,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(h,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(h,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(h,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(h,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(h,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(h,"normalizeUnicode",{enumerable:!0,get:function(){return o.normalizeUnicode}}),Object.defineProperty(h,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(h,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(h,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(h,"updateTextLayer",{enumerable:!0,get:function(){return l.updateTextLayer}}),Object.defineProperty(h,"version",{enumerable:!0,get:function(){return s.version}});var o=u(1),s=u(2),i=u(6),l=u(26),d=u(27),e=u(5),r=u(29),p=u(14),x=u(32)})(),m})())})(dv);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Kv=1252,Y4=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Hp={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},zp=function(t){Y4.indexOf(t)!=-1&&(Kv=Hp[0]=t)};function J4(){zp(1252)}var fa=function(t){zp(t)};function Yv(){fa(1200),J4()}function Nm(t){for(var n=[],a=0,c=t.length;a<c;++a)n[a]=t.charCodeAt(a);return n}function Z4(t){for(var n=[],a=0;a<t.length>>1;++a)n[a]=String.fromCharCode(t.charCodeAt(2*a)+(t.charCodeAt(2*a+1)<<8));return n.join("")}function Jv(t){for(var n=[],a=0;a<t.length>>1;++a)n[a]=String.fromCharCode(t.charCodeAt(2*a+1)+(t.charCodeAt(2*a)<<8));return n.join("")}var uc=function(t){var n=t.charCodeAt(0),a=t.charCodeAt(1);return n==255&&a==254?Z4(t.slice(2)):n==254&&a==255?Jv(t.slice(2)):n==65279?t.slice(1):t},Hl=function(n){return String.fromCharCode(n)},Bm=function(n){return String.fromCharCode(n)},ui,xi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $m(t){for(var n="",a=0,c=0,u=0,m=0,h=0,o=0,s=0,i=0;i<t.length;)a=t.charCodeAt(i++),m=a>>2,c=t.charCodeAt(i++),h=(a&3)<<4|c>>4,u=t.charCodeAt(i++),o=(c&15)<<2|u>>6,s=u&63,isNaN(c)?o=s=64:isNaN(u)&&(s=64),n+=xi.charAt(m)+xi.charAt(h)+xi.charAt(o)+xi.charAt(s);return n}function Mr(t){var n="",a=0,c=0,u=0,m=0,h=0,o=0,s=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var i=0;i<t.length;)m=xi.indexOf(t.charAt(i++)),h=xi.indexOf(t.charAt(i++)),a=m<<2|h>>4,n+=String.fromCharCode(a),o=xi.indexOf(t.charAt(i++)),c=(h&15)<<4|o>>2,o!==64&&(n+=String.fromCharCode(c)),s=xi.indexOf(t.charAt(i++)),u=(o&3)<<6|s,s!==64&&(n+=String.fromCharCode(u));return n}var Vt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),gs=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(n,a){return a?new Buffer(n,a):new Buffer(n)}:Buffer.from.bind(Buffer)}return function(){}}();function Pi(t){return Vt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Um(t){return Vt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ha=function(n){return Vt?gs(n,"binary"):n.split("").map(function(a){return a.charCodeAt(0)&255})};function ms(t){if(Array.isArray(t))return t.map(function(c){return String.fromCharCode(c)}).join("");for(var n=[],a=0;a<t.length;++a)n[a]=String.fromCharCode(t[a]);return n.join("")}function Xp(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Xp(new Uint8Array(t));for(var n=new Array(t.length),a=0;a<t.length;++a)n[a]=t[a];return n}var hi=Vt?function(t){return Buffer.concat(t.map(function(n){return Buffer.isBuffer(n)?n:gs(n)}))}:function(t){if(typeof Uint8Array<"u"){var n=0,a=0;for(n=0;n<t.length;++n)a+=t[n].length;var c=new Uint8Array(a),u=0;for(n=0,a=0;n<t.length;a+=u,++n)if(u=t[n].length,t[n]instanceof Uint8Array)c.set(t[n],a);else{if(typeof t[n]=="string")throw"wtf";c.set(new Uint8Array(t[n]),a)}return c}return[].concat.apply([],t.map(function(m){return Array.isArray(m)?m:[].slice.call(m)}))};function Q4(t){for(var n=[],a=0,c=t.length+250,u=Pi(t.length+255),m=0;m<t.length;++m){var h=t.charCodeAt(m);if(h<128)u[a++]=h;else if(h<2048)u[a++]=192|h>>6&31,u[a++]=128|h&63;else if(h>=55296&&h<57344){h=(h&1023)+64;var o=t.charCodeAt(++m)&1023;u[a++]=240|h>>8&7,u[a++]=128|h>>2&63,u[a++]=128|o>>6&15|(h&3)<<4,u[a++]=128|o&63}else u[a++]=224|h>>12&15,u[a++]=128|h>>6&63,u[a++]=128|h&63;a>c&&(n.push(u.slice(0,a)),a=0,u=Pi(65535),c=65530)}return n.push(u.slice(0,a)),hi(n)}var pr=/\u0000/g,hc=/[\u0001-\u0006]/g;function ho(t){for(var n="",a=t.length-1;a>=0;)n+=t.charAt(a--);return n}function da(t,n){var a=""+t;return a.length>=n?a:bn("0",n-a.length)+a}function Wp(t,n){var a=""+t;return a.length>=n?a:bn(" ",n-a.length)+a}function vu(t,n){var a=""+t;return a.length>=n?a:a+bn(" ",n-a.length)}function q4(t,n){var a=""+Math.round(t);return a.length>=n?a:bn("0",n-a.length)+a}function e6(t,n){var a=""+t;return a.length>=n?a:bn("0",n-a.length)+a}var _m=Math.pow(2,32);function Cs(t,n){if(t>_m||t<-_m)return q4(t,n);var a=Math.round(t);return e6(a,n)}function wu(t,n){return n=n||0,t.length>=7+n&&(t.charCodeAt(n)|32)===103&&(t.charCodeAt(n+1)|32)===101&&(t.charCodeAt(n+2)|32)===110&&(t.charCodeAt(n+3)|32)===101&&(t.charCodeAt(n+4)|32)===114&&(t.charCodeAt(n+5)|32)===97&&(t.charCodeAt(n+6)|32)===108}var Hm=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Yh=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function t6(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',t}var Xt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},zm={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},n6={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Au(t,n,a){for(var c=t<0?-1:1,u=t*c,m=0,h=1,o=0,s=1,i=0,l=0,d=Math.floor(u);i<n&&(d=Math.floor(u),o=d*h+m,l=d*i+s,!(u-d<5e-8));)u=1/(u-d),m=h,h=o,s=i,i=l;if(l>n&&(i>n?(l=s,o=m):(l=i,o=h)),!a)return[0,c*o,l];var e=Math.floor(c*o/l);return[e,c*o-e*l,l]}function Yi(t,n,a){if(t>2958465||t<0)return null;var c=t|0,u=Math.floor(86400*(t-c)),m=0,h=[],o={D:c,T:u,u:86400*(t-c)-u,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),n&&n.date1904&&(c+=1462),o.u>.9999&&(o.u=0,++u==86400&&(o.T=u=0,++c,++o.D)),c===60)h=a?[1317,10,29]:[1900,2,29],m=3;else if(c===0)h=a?[1317,8,29]:[1900,1,0],m=6;else{c>60&&--c;var s=new Date(1900,0,1);s.setDate(s.getDate()+c-1),h=[s.getFullYear(),s.getMonth()+1,s.getDate()],m=s.getDay(),c<60&&(m=(m+6)%7),a&&(m=c6(s,h))}return o.y=h[0],o.m=h[1],o.d=h[2],o.S=u%60,u=Math.floor(u/60),o.M=u%60,u=Math.floor(u/60),o.H=u,o.q=m,o}var Zv=new Date(1899,11,31,0,0,0),r6=Zv.getTime(),a6=new Date(1900,2,1,0,0,0);function Qv(t,n){var a=t.getTime();return n?a-=1461*24*60*60*1e3:t>=a6&&(a+=24*60*60*1e3),(a-(r6+(t.getTimezoneOffset()-Zv.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Gp(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function i6(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function s6(t){var n=t<0?12:11,a=Gp(t.toFixed(12));return a.length<=n||(a=t.toPrecision(10),a.length<=n)?a:t.toExponential(5)}function o6(t){var n=Gp(t.toFixed(11));return n.length>(t<0?12:11)||n==="0"||n==="-0"?t.toPrecision(6):n}function Jc(t){var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a;return n>=-4&&n<=-1?a=t.toPrecision(10+n):Math.abs(n)<=9?a=s6(t):n===10?a=t.toFixed(10).substr(0,12):a=o6(t),Gp(i6(a.toUpperCase()))}function ls(t,n){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Jc(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Qr(14,Qv(t,n&&n.date1904),n)}throw new Error("unsupported value in General format: "+t)}function c6(t,n){n[0]-=581;var a=t.getDay();return t<60&&(a=(a+6)%7),a}function l6(t,n,a,c){var u="",m=0,h=0,o=a.y,s,i=0;switch(t){case 98:o=a.y+543;case 121:switch(n.length){case 1:case 2:s=o%100,i=2;break;default:s=o%1e4,i=4;break}break;case 109:switch(n.length){case 1:case 2:s=a.m,i=n.length;break;case 3:return Yh[a.m-1][1];case 5:return Yh[a.m-1][0];default:return Yh[a.m-1][2]}break;case 100:switch(n.length){case 1:case 2:s=a.d,i=n.length;break;case 3:return Hm[a.q][0];default:return Hm[a.q][1]}break;case 104:switch(n.length){case 1:case 2:s=1+(a.H+11)%12,i=n.length;break;default:throw"bad hour format: "+n}break;case 72:switch(n.length){case 1:case 2:s=a.H,i=n.length;break;default:throw"bad hour format: "+n}break;case 77:switch(n.length){case 1:case 2:s=a.M,i=n.length;break;default:throw"bad minute format: "+n}break;case 115:if(n!="s"&&n!="ss"&&n!=".0"&&n!=".00"&&n!=".000")throw"bad second format: "+n;return a.u===0&&(n=="s"||n=="ss")?da(a.S,n.length):(c>=2?h=c===3?1e3:100:h=c===1?10:1,m=Math.round(h*(a.S+a.u)),m>=60*h&&(m=0),n==="s"?m===0?"0":""+m/h:(u=da(m,2+c),n==="ss"?u.substr(0,2):"."+u.substr(2,n.length-1)));case 90:switch(n){case"[h]":case"[hh]":s=a.D*24+a.H;break;case"[m]":case"[mm]":s=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":s=((a.D*24+a.H)*60+a.M)*60+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+n}i=n.length===3?1:2;break;case 101:s=o,i=1;break}var l=i>0?da(s,i):"";return l}function bi(t){var n=3;if(t.length<=n)return t;for(var a=t.length%n,c=t.substr(0,a);a!=t.length;a+=n)c+=(c.length>0?",":"")+t.substr(a,n);return c}var qv=/%/g;function u6(t,n,a){var c=n.replace(qv,""),u=n.length-c.length;return Wa(t,c,a*Math.pow(10,2*u))+bn("%",u)}function h6(t,n,a){for(var c=n.length-1;n.charCodeAt(c-1)===44;)--c;return Wa(t,n.substr(0,c),a/Math.pow(10,3*(n.length-c)))}function e3(t,n){var a,c=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(n==0)return"0.0E+0";if(n<0)return"-"+e3(t,-n);var u=t.indexOf(".");u===-1&&(u=t.indexOf("E"));var m=Math.floor(Math.log(n)*Math.LOG10E)%u;if(m<0&&(m+=u),a=(n/Math.pow(10,m)).toPrecision(c+1+(u+m)%u),a.indexOf("e")===-1){var h=Math.floor(Math.log(n)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(h-a.length+m):a+="E+"+(h-m);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,u)+"."+a.substr(2+u),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,s,i,l){return s+i+l.substr(0,(u+m)%u)+"."+l.substr(m)+"E"})}else a=n.toExponential(c);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var t3=/# (\?+)( ?)\/( ?)(\d+)/;function f6(t,n,a){var c=parseInt(t[4],10),u=Math.round(n*c),m=Math.floor(u/c),h=u-m*c,o=c;return a+(m===0?"":""+m)+" "+(h===0?bn(" ",t[1].length+1+t[4].length):Wp(h,t[1].length)+t[2]+"/"+t[3]+da(o,t[4].length))}function d6(t,n,a){return a+(n===0?"":""+n)+bn(" ",t[1].length+2+t[4].length)}var n3=/^#*0*\.([0#]+)/,r3=/\).*[0#]/,a3=/\(###\) ###\\?-####/;function ur(t){for(var n="",a,c=0;c!=t.length;++c)switch(a=t.charCodeAt(c)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(a)}return n}function Xm(t,n){var a=Math.pow(10,n);return""+Math.round(t*a)/a}function Wm(t,n){var a=t-Math.floor(t),c=Math.pow(10,n);return n<(""+Math.round(a*c)).length?0:Math.round(a*c)}function p6(t,n){return n<(""+Math.round((t-Math.floor(t))*Math.pow(10,n))).length?1:0}function g6(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Hr(t,n,a){if(t.charCodeAt(0)===40&&!n.match(r3)){var c=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Hr("n",c,a):"("+Hr("n",c,-a)+")"}if(n.charCodeAt(n.length-1)===44)return h6(t,n,a);if(n.indexOf("%")!==-1)return u6(t,n,a);if(n.indexOf("E")!==-1)return e3(n,a);if(n.charCodeAt(0)===36)return"$"+Hr(t,n.substr(n.charAt(1)==" "?2:1),a);var u,m,h,o,s=Math.abs(a),i=a<0?"-":"";if(n.match(/^00+$/))return i+Cs(s,n.length);if(n.match(/^[#?]+$/))return u=Cs(a,0),u==="0"&&(u=""),u.length>n.length?u:ur(n.substr(0,n.length-u.length))+u;if(m=n.match(t3))return f6(m,s,i);if(n.match(/^#+0+$/))return i+Cs(s,n.length-n.indexOf("0"));if(m=n.match(n3))return u=Xm(a,m[1].length).replace(/^([^\.]+)$/,"$1."+ur(m[1])).replace(/\.$/,"."+ur(m[1])).replace(/\.(\d*)$/,function(p,x){return"."+x+bn("0",ur(m[1]).length-x.length)}),n.indexOf("0.")!==-1?u:u.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),m=n.match(/^(0*)\.(#*)$/))return i+Xm(s,m[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,m[1].length?"0.":".");if(m=n.match(/^#{1,3},##0(\.?)$/))return i+bi(Cs(s,0));if(m=n.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Hr(t,n,-a):bi(""+(Math.floor(a)+p6(a,m[1].length)))+"."+da(Wm(a,m[1].length),m[1].length);if(m=n.match(/^#,#*,#0/))return Hr(t,n.replace(/^#,#*,/,""),a);if(m=n.match(/^([0#]+)(\\?-([0#]+))+$/))return u=ho(Hr(t,n.replace(/[\\-]/g,""),a)),h=0,ho(ho(n.replace(/\\/g,"")).replace(/[0#]/g,function(p){return h<u.length?u.charAt(h++):p==="0"?"0":""}));if(n.match(a3))return u=Hr(t,"##########",a),"("+u.substr(0,3)+") "+u.substr(3,3)+"-"+u.substr(6);var l="";if(m=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(m[4].length,7),o=Au(s,Math.pow(10,h)-1,!1),u=""+i,l=Wa("n",m[1],o[1]),l.charAt(l.length-1)==" "&&(l=l.substr(0,l.length-1)+"0"),u+=l+m[2]+"/"+m[3],l=vu(o[2],h),l.length<m[4].length&&(l=ur(m[4].substr(m[4].length-l.length))+l),u+=l,u;if(m=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(Math.max(m[1].length,m[4].length),7),o=Au(s,Math.pow(10,h)-1,!0),i+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Wp(o[1],h)+m[2]+"/"+m[3]+vu(o[2],h):bn(" ",2*h+1+m[2].length+m[3].length));if(m=n.match(/^[#0?]+$/))return u=Cs(a,0),n.length<=u.length?u:ur(n.substr(0,n.length-u.length))+u;if(m=n.match(/^([#0?]+)\.([#0]+)$/)){u=""+a.toFixed(Math.min(m[2].length,10)).replace(/([^0])0+$/,"$1"),h=u.indexOf(".");var d=n.indexOf(".")-h,e=n.length-u.length-d;return ur(n.substr(0,d)+u+n.substr(n.length-e))}if(m=n.match(/^00,000\.([#0]*0)$/))return h=Wm(a,m[1].length),a<0?"-"+Hr(t,n,-a):bi(g6(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?da(0,3-p.length):"")+p})+"."+da(h,m[1].length);switch(n){case"###,##0.00":return Hr(t,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var r=bi(Cs(s,0));return r!=="0"?i+r:"";case"###,###.00":return Hr(t,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return Hr(t,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+n+"|")}function m6(t,n,a){for(var c=n.length-1;n.charCodeAt(c-1)===44;)--c;return Wa(t,n.substr(0,c),a/Math.pow(10,3*(n.length-c)))}function x6(t,n,a){var c=n.replace(qv,""),u=n.length-c.length;return Wa(t,c,a*Math.pow(10,2*u))+bn("%",u)}function i3(t,n){var a,c=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(n==0)return"0.0E+0";if(n<0)return"-"+i3(t,-n);var u=t.indexOf(".");u===-1&&(u=t.indexOf("E"));var m=Math.floor(Math.log(n)*Math.LOG10E)%u;if(m<0&&(m+=u),a=(n/Math.pow(10,m)).toPrecision(c+1+(u+m)%u),!a.match(/[Ee]/)){var h=Math.floor(Math.log(n)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(h-a.length+m):a+="E+"+(h-m),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,s,i,l){return s+i+l.substr(0,(u+m)%u)+"."+l.substr(m)+"E"})}else a=n.toExponential(c);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function wa(t,n,a){if(t.charCodeAt(0)===40&&!n.match(r3)){var c=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?wa("n",c,a):"("+wa("n",c,-a)+")"}if(n.charCodeAt(n.length-1)===44)return m6(t,n,a);if(n.indexOf("%")!==-1)return x6(t,n,a);if(n.indexOf("E")!==-1)return i3(n,a);if(n.charCodeAt(0)===36)return"$"+wa(t,n.substr(n.charAt(1)==" "?2:1),a);var u,m,h,o,s=Math.abs(a),i=a<0?"-":"";if(n.match(/^00+$/))return i+da(s,n.length);if(n.match(/^[#?]+$/))return u=""+a,a===0&&(u=""),u.length>n.length?u:ur(n.substr(0,n.length-u.length))+u;if(m=n.match(t3))return d6(m,s,i);if(n.match(/^#+0+$/))return i+da(s,n.length-n.indexOf("0"));if(m=n.match(n3))return u=(""+a).replace(/^([^\.]+)$/,"$1."+ur(m[1])).replace(/\.$/,"."+ur(m[1])),u=u.replace(/\.(\d*)$/,function(p,x){return"."+x+bn("0",ur(m[1]).length-x.length)}),n.indexOf("0.")!==-1?u:u.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),m=n.match(/^(0*)\.(#*)$/))return i+(""+s).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,m[1].length?"0.":".");if(m=n.match(/^#{1,3},##0(\.?)$/))return i+bi(""+s);if(m=n.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+wa(t,n,-a):bi(""+a)+"."+bn("0",m[1].length);if(m=n.match(/^#,#*,#0/))return wa(t,n.replace(/^#,#*,/,""),a);if(m=n.match(/^([0#]+)(\\?-([0#]+))+$/))return u=ho(wa(t,n.replace(/[\\-]/g,""),a)),h=0,ho(ho(n.replace(/\\/g,"")).replace(/[0#]/g,function(p){return h<u.length?u.charAt(h++):p==="0"?"0":""}));if(n.match(a3))return u=wa(t,"##########",a),"("+u.substr(0,3)+") "+u.substr(3,3)+"-"+u.substr(6);var l="";if(m=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(m[4].length,7),o=Au(s,Math.pow(10,h)-1,!1),u=""+i,l=Wa("n",m[1],o[1]),l.charAt(l.length-1)==" "&&(l=l.substr(0,l.length-1)+"0"),u+=l+m[2]+"/"+m[3],l=vu(o[2],h),l.length<m[4].length&&(l=ur(m[4].substr(m[4].length-l.length))+l),u+=l,u;if(m=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(Math.max(m[1].length,m[4].length),7),o=Au(s,Math.pow(10,h)-1,!0),i+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Wp(o[1],h)+m[2]+"/"+m[3]+vu(o[2],h):bn(" ",2*h+1+m[2].length+m[3].length));if(m=n.match(/^[#0?]+$/))return u=""+a,n.length<=u.length?u:ur(n.substr(0,n.length-u.length))+u;if(m=n.match(/^([#0]+)\.([#0]+)$/)){u=""+a.toFixed(Math.min(m[2].length,10)).replace(/([^0])0+$/,"$1"),h=u.indexOf(".");var d=n.indexOf(".")-h,e=n.length-u.length-d;return ur(n.substr(0,d)+u+n.substr(n.length-e))}if(m=n.match(/^00,000\.([#0]*0)$/))return a<0?"-"+wa(t,n,-a):bi(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?da(0,3-p.length):"")+p})+"."+da(0,m[1].length);switch(n){case"###,###":case"##,###":case"#,###":var r=bi(""+s);return r!=="0"?i+r:"";default:if(n.match(/\.[0#?]*$/))return wa(t,n.slice(0,n.lastIndexOf(".")),a)+ur(n.slice(n.lastIndexOf(".")))}throw new Error("unsupported format |"+n+"|")}function Wa(t,n,a){return(a|0)===a?wa(t,n,a):Hr(t,n,a)}function b6(t){for(var n=[],a=!1,c=0,u=0;c<t.length;++c)switch(t.charCodeAt(c)){case 34:a=!a;break;case 95:case 42:case 92:++c;break;case 59:n[n.length]=t.substr(u,c-u),u=c+1}if(n[n.length]=t.substr(u),a===!0)throw new Error("Format |"+t+"| unterminated string ");return n}var s3=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Io(t){for(var n=0,a="",c="";n<t.length;)switch(a=t.charAt(n)){case"G":wu(t,n)&&(n+=6),n++;break;case'"':for(;t.charCodeAt(++n)!==34&&n<t.length;);++n;break;case"\\":n+=2;break;case"_":n+=2;break;case"@":++n;break;case"B":case"b":if(t.charAt(n+1)==="1"||t.charAt(n+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(t.substr(n,3).toUpperCase()==="A/P"||t.substr(n,5).toUpperCase()==="AM/PM"||t.substr(n,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++n;break;case"[":for(c=a;t.charAt(n++)!=="]"&&n<t.length;)c+=t.charAt(n);if(c.match(s3))return!0;break;case".":case"0":case"#":for(;n<t.length&&("0#?.,E+-%".indexOf(a=t.charAt(++n))>-1||a=="\\"&&t.charAt(n+1)=="-"&&"0#".indexOf(t.charAt(n+2))>-1););break;case"?":for(;t.charAt(++n)===a;);break;case"*":++n,(t.charAt(n)==" "||t.charAt(n)=="*")&&++n;break;case"(":case")":++n;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;n<t.length&&"0123456789".indexOf(t.charAt(++n))>-1;);break;case" ":++n;break;default:++n;break}return!1}function y6(t,n,a,c){for(var u=[],m="",h=0,o="",s="t",i,l,d,e="H";h<t.length;)switch(o=t.charAt(h)){case"G":if(!wu(t,h))throw new Error("unrecognized character "+o+" in "+t);u[u.length]={t:"G",v:"General"},h+=7;break;case'"':for(m="";(d=t.charCodeAt(++h))!==34&&h<t.length;)m+=String.fromCharCode(d);u[u.length]={t:"t",v:m},++h;break;case"\\":var r=t.charAt(++h),p=r==="("||r===")"?r:"t";u[u.length]={t:p,v:r},++h;break;case"_":u[u.length]={t:"t",v:" "},h+=2;break;case"@":u[u.length]={t:"T",v:n},++h;break;case"B":case"b":if(t.charAt(h+1)==="1"||t.charAt(h+1)==="2"){if(i==null&&(i=Yi(n,a,t.charAt(h+1)==="2"),i==null))return"";u[u.length]={t:"X",v:t.substr(h,2)},s=o,h+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(n<0||i==null&&(i=Yi(n,a),i==null))return"";for(m=o;++h<t.length&&t.charAt(h).toLowerCase()===o;)m+=o;o==="m"&&s.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=e),u[u.length]={t:o,v:m},s=o;break;case"A":case"a":case"\u4E0A":var x={t:o,v:o};if(i==null&&(i=Yi(n,a)),t.substr(h,3).toUpperCase()==="A/P"?(i!=null&&(x.v=i.H>=12?"P":"A"),x.t="T",e="h",h+=3):t.substr(h,5).toUpperCase()==="AM/PM"?(i!=null&&(x.v=i.H>=12?"PM":"AM"),x.t="T",h+=5,e="h"):t.substr(h,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(i!=null&&(x.v=i.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),x.t="T",h+=5,e="h"):(x.t="t",++h),i==null&&x.t==="T")return"";u[u.length]=x,s=o;break;case"[":for(m=o;t.charAt(h++)!=="]"&&h<t.length;)m+=t.charAt(h);if(m.slice(-1)!=="]")throw'unterminated "[" block: |'+m+"|";if(m.match(s3)){if(i==null&&(i=Yi(n,a),i==null))return"";u[u.length]={t:"Z",v:m.toLowerCase()},s=m.charAt(1)}else m.indexOf("$")>-1&&(m=(m.match(/\$([^-\[\]]*)/)||[])[1]||"$",Io(t)||(u[u.length]={t:"t",v:m}));break;case".":if(i!=null){for(m=o;++h<t.length&&(o=t.charAt(h))==="0";)m+=o;u[u.length]={t:"s",v:m};break}case"0":case"#":for(m=o;++h<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(h))>-1;)m+=o;u[u.length]={t:"n",v:m};break;case"?":for(m=o;t.charAt(++h)===o;)m+=o;u[u.length]={t:o,v:m},s=o;break;case"*":++h,(t.charAt(h)==" "||t.charAt(h)=="*")&&++h;break;case"(":case")":u[u.length]={t:c===1?"t":o,v:o},++h;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(m=o;h<t.length&&"0123456789".indexOf(t.charAt(++h))>-1;)m+=t.charAt(h);u[u.length]={t:"D",v:m};break;case" ":u[u.length]={t:o,v:o},++h;break;case"$":u[u.length]={t:"t",v:"$"},++h;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);u[u.length]={t:"t",v:o},++h;break}var y=0,v=0,b;for(h=u.length-1,s="t";h>=0;--h)switch(u[h].t){case"h":case"H":u[h].t=e,s="h",y<1&&(y=1);break;case"s":(b=u[h].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":s=u[h].t;break;case"m":s==="s"&&(u[h].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&u[h].v.match(/[Hh]/)&&(y=1),y<2&&u[h].v.match(/[Mm]/)&&(y=2),y<3&&u[h].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M);break}var g="",w;for(h=0;h<u.length;++h)switch(u[h].t){case"t":case"T":case" ":case"D":break;case"X":u[h].v="",u[h].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":u[h].v=l6(u[h].t.charCodeAt(0),u[h].v,i,v),u[h].t="t";break;case"n":case"?":for(w=h+1;u[w]!=null&&((o=u[w].t)==="?"||o==="D"||(o===" "||o==="t")&&u[w+1]!=null&&(u[w+1].t==="?"||u[w+1].t==="t"&&u[w+1].v==="/")||u[h].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(u[w].v==="/"||u[w].v===" "&&u[w+1]!=null&&u[w+1].t=="?"));)u[h].v+=u[w].v,u[w]={v:"",t:";"},++w;g+=u[h].v,h=w-1;break;case"G":u[h].t="t",u[h].v=ls(n,a);break}var f="",E,A;if(g.length>0){g.charCodeAt(0)==40?(E=n<0&&g.charCodeAt(0)===45?-n:n,A=Wa("n",g,E)):(E=n<0&&c>1?-n:n,A=Wa("n",g,E),E<0&&u[0]&&u[0].t=="t"&&(A=A.substr(1),u[0].v="-"+u[0].v)),w=A.length-1;var O=u.length;for(h=0;h<u.length;++h)if(u[h]!=null&&u[h].t!="t"&&u[h].v.indexOf(".")>-1){O=h;break}var T=u.length;if(O===u.length&&A.indexOf("E")===-1){for(h=u.length-1;h>=0;--h)u[h]==null||"n?".indexOf(u[h].t)===-1||(w>=u[h].v.length-1?(w-=u[h].v.length,u[h].v=A.substr(w+1,u[h].v.length)):w<0?u[h].v="":(u[h].v=A.substr(0,w+1),w=-1),u[h].t="t",T=h);w>=0&&T<u.length&&(u[T].v=A.substr(0,w+1)+u[T].v)}else if(O!==u.length&&A.indexOf("E")===-1){for(w=A.indexOf(".")-1,h=O;h>=0;--h)if(!(u[h]==null||"n?".indexOf(u[h].t)===-1)){for(l=u[h].v.indexOf(".")>-1&&h===O?u[h].v.indexOf(".")-1:u[h].v.length-1,f=u[h].v.substr(l+1);l>=0;--l)w>=0&&(u[h].v.charAt(l)==="0"||u[h].v.charAt(l)==="#")&&(f=A.charAt(w--)+f);u[h].v=f,u[h].t="t",T=h}for(w>=0&&T<u.length&&(u[T].v=A.substr(0,w+1)+u[T].v),w=A.indexOf(".")+1,h=O;h<u.length;++h)if(!(u[h]==null||"n?(".indexOf(u[h].t)===-1&&h!==O)){for(l=u[h].v.indexOf(".")>-1&&h===O?u[h].v.indexOf(".")+1:0,f=u[h].v.substr(0,l);l<u[h].v.length;++l)w<A.length&&(f+=A.charAt(w++));u[h].v=f,u[h].t="t",T=h}}}for(h=0;h<u.length;++h)u[h]!=null&&"n?".indexOf(u[h].t)>-1&&(E=c>1&&n<0&&h>0&&u[h-1].v==="-"?-n:n,u[h].v=Wa(u[h].t,u[h].v,E),u[h].t="t");var D="";for(h=0;h!==u.length;++h)u[h]!=null&&(D+=u[h].v);return D}var Gm=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Vm(t,n){if(n==null)return!1;var a=parseFloat(n[2]);switch(n[1]){case"=":if(t==a)return!0;break;case">":if(t>a)return!0;break;case"<":if(t<a)return!0;break;case"<>":if(t!=a)return!0;break;case">=":if(t>=a)return!0;break;case"<=":if(t<=a)return!0;break}return!1}function v6(t,n){var a=b6(t),c=a.length,u=a[c-1].indexOf("@");if(c<4&&u>-1&&--c,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof n!="number")return[4,a.length===4||u>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=u>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=u>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=u>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var m=n>0?a[0]:n<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[c,m];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var h=a[0].match(Gm),o=a[1].match(Gm);return Vm(n,h)?[c,a[0]]:Vm(n,o)?[c,a[1]]:[c,a[h!=null&&o!=null?2:1]]}return[c,m]}function Qr(t,n,a){a==null&&(a={});var c="";switch(typeof t){case"string":t=="m/d/yy"&&a.dateNF?c=a.dateNF:c=t;break;case"number":t==14&&a.dateNF?c=a.dateNF:c=(a.table!=null?a.table:Xt)[t],c==null&&(c=a.table&&a.table[zm[t]]||Xt[zm[t]]),c==null&&(c=n6[t]||"General");break}if(wu(c,0))return ls(n,a);n instanceof Date&&(n=Qv(n,a.date1904));var u=v6(c,n);if(wu(u[1]))return ls(n,a);if(n===!0)n="TRUE";else if(n===!1)n="FALSE";else if(n===""||n==null)return"";return y6(u[1],n,a,u[0])}function qi(t,n){if(typeof n!="number"){n=+n||-1;for(var a=0;a<392;++a){if(Xt[a]==null){n<0&&(n=a);continue}if(Xt[a]==t){n=a;break}}n<0&&(n=391)}return Xt[n]=t,n}function o3(){Xt=t6()}var w6={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},c3=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function A6(t){var n=typeof t=="number"?Xt[t]:t;return n=n.replace(c3,"(\\d+)"),new RegExp("^"+n+"$")}function S6(t,n,a){var c=-1,u=-1,m=-1,h=-1,o=-1,s=-1;(n.match(c3)||[]).forEach(function(d,e){var r=parseInt(a[e+1],10);switch(d.toLowerCase().charAt(0)){case"y":c=r;break;case"d":m=r;break;case"h":h=r;break;case"s":s=r;break;case"m":h>=0?o=r:u=r;break}}),s>=0&&o==-1&&u>=0&&(o=u,u=-1);var i=(""+(c>=0?c:new Date().getFullYear())).slice(-4)+"-"+("00"+(u>=1?u:1)).slice(-2)+"-"+("00"+(m>=1?m:1)).slice(-2);i.length==7&&(i="0"+i),i.length==8&&(i="20"+i);var l=("00"+(h>=0?h:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2);return h==-1&&o==-1&&s==-1?i:c==-1&&u==-1&&m==-1?l:i+"T"+l}var k6=function(){var t={};t.version="1.2.0";function n(){for(var A=0,O=new Array(256),T=0;T!=256;++T)A=T,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,O[T]=A;return typeof Int32Array<"u"?new Int32Array(O):O}var a=n();function c(A){var O=0,T=0,D=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)F[D]=A[D];for(D=0;D!=256;++D)for(T=A[D],O=256+D;O<4096;O+=256)T=F[O]=T>>>8^A[T&255];var C=[];for(D=1;D!=16;++D)C[D-1]=typeof Int32Array<"u"?F.subarray(D*256,D*256+256):F.slice(D*256,D*256+256);return C}var u=c(a),m=u[0],h=u[1],o=u[2],s=u[3],i=u[4],l=u[5],d=u[6],e=u[7],r=u[8],p=u[9],x=u[10],y=u[11],v=u[12],b=u[13],g=u[14];function w(A,O){for(var T=O^-1,D=0,F=A.length;D<F;)T=T>>>8^a[(T^A.charCodeAt(D++))&255];return~T}function f(A,O){for(var T=O^-1,D=A.length-15,F=0;F<D;)T=g[A[F++]^T&255]^b[A[F++]^T>>8&255]^v[A[F++]^T>>16&255]^y[A[F++]^T>>>24]^x[A[F++]]^p[A[F++]]^r[A[F++]]^e[A[F++]]^d[A[F++]]^l[A[F++]]^i[A[F++]]^s[A[F++]]^o[A[F++]]^h[A[F++]]^m[A[F++]]^a[A[F++]];for(D+=15;F<D;)T=T>>>8^a[(T^A[F++])&255];return~T}function E(A,O){for(var T=O^-1,D=0,F=A.length,C=0,B=0;D<F;)C=A.charCodeAt(D++),C<128?T=T>>>8^a[(T^C)&255]:C<2048?(T=T>>>8^a[(T^(192|C>>6&31))&255],T=T>>>8^a[(T^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,B=A.charCodeAt(D++)&1023,T=T>>>8^a[(T^(240|C>>8&7))&255],T=T>>>8^a[(T^(128|C>>2&63))&255],T=T>>>8^a[(T^(128|B>>6&15|(C&3)<<4))&255],T=T>>>8^a[(T^(128|B&63))&255]):(T=T>>>8^a[(T^(224|C>>12&15))&255],T=T>>>8^a[(T^(128|C>>6&63))&255],T=T>>>8^a[(T^(128|C&63))&255]);return~T}return t.table=a,t.bstr=w,t.buf=f,t.str=E,t}(),jt=function(){var n={};n.version="1.2.1";function a(Oe,$e){for(var me=Oe.split("/"),Q=$e.split("/"),pe=0,we=0,Fe=Math.min(me.length,Q.length);pe<Fe;++pe){if(we=me[pe].length-Q[pe].length)return we;if(me[pe]!=Q[pe])return me[pe]<Q[pe]?-1:1}return me.length-Q.length}function c(Oe){if(Oe.charAt(Oe.length-1)=="/")return Oe.slice(0,-1).indexOf("/")===-1?Oe:c(Oe.slice(0,-1));var $e=Oe.lastIndexOf("/");return $e===-1?Oe:Oe.slice(0,$e+1)}function u(Oe){if(Oe.charAt(Oe.length-1)=="/")return u(Oe.slice(0,-1));var $e=Oe.lastIndexOf("/");return $e===-1?Oe:Oe.slice($e+1)}function m(Oe,$e){typeof $e=="string"&&($e=new Date($e));var me=$e.getHours();me=me<<6|$e.getMinutes(),me=me<<5|$e.getSeconds()>>>1,Oe.write_shift(2,me);var Q=$e.getFullYear()-1980;Q=Q<<4|$e.getMonth()+1,Q=Q<<5|$e.getDate(),Oe.write_shift(2,Q)}function h(Oe){var $e=Oe.read_shift(2)&65535,me=Oe.read_shift(2)&65535,Q=new Date,pe=me&31;me>>>=5;var we=me&15;me>>>=4,Q.setMilliseconds(0),Q.setFullYear(me+1980),Q.setMonth(we-1),Q.setDate(pe);var Fe=$e&31;$e>>>=5;var Pe=$e&63;return $e>>>=6,Q.setHours($e),Q.setMinutes(Pe),Q.setSeconds(Fe<<1),Q}function o(Oe){zn(Oe,0);for(var $e={},me=0;Oe.l<=Oe.length-4;){var Q=Oe.read_shift(2),pe=Oe.read_shift(2),we=Oe.l+pe,Fe={};switch(Q){case 21589:me=Oe.read_shift(1),me&1&&(Fe.mtime=Oe.read_shift(4)),pe>5&&(me&2&&(Fe.atime=Oe.read_shift(4)),me&4&&(Fe.ctime=Oe.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3));break}Oe.l=we,$e[Q]=Fe}return $e}var s;function i(){return s||(s={})}function l(Oe,$e){if(Oe[0]==80&&Oe[1]==75)return Ie(Oe,$e);if((Oe[0]|32)==109&&(Oe[1]|32)==105)return He(Oe,$e);if(Oe.length<512)throw new Error("CFB file size "+Oe.length+" < 512");var me=3,Q=512,pe=0,we=0,Fe=0,Pe=0,De=0,Xe=[],je=Oe.slice(0,512);zn(je,0);var Ze=d(je);switch(me=Ze[0],me){case 3:Q=512;break;case 4:Q=4096;break;case 0:if(Ze[1]==0)return Ie(Oe,$e);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}Q!==512&&(je=Oe.slice(0,Q),zn(je,28));var ot=Oe.slice(0,Q);e(je,me);var Ke=je.read_shift(4,"i");if(me===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);je.l+=4,Fe=je.read_shift(4,"i"),je.l+=4,je.chk("00100000","Mini Stream Cutoff Size: "),Pe=je.read_shift(4,"i"),pe=je.read_shift(4,"i"),De=je.read_shift(4,"i"),we=je.read_shift(4,"i");for(var Ge=-1,tt=0;tt<109&&(Ge=je.read_shift(4,"i"),!(Ge<0));++tt)Xe[tt]=Ge;var at=r(Oe,Q);y(De,we,at,Q,Xe);var st=b(at,Fe,Xe,Q);st[Fe].name="!Directory",pe>0&&Pe!==B&&(st[Pe].name="!MiniFAT"),st[Xe[0]].name="!FAT",st.fat_addrs=Xe,st.ssz=Q;var ft={},pt=[],ct=[],yt=[];g(Fe,st,at,pt,pe,ft,ct,Pe),p(ct,yt,pt),pt.shift();var bt={FileIndex:ct,FullPaths:yt};return $e&&$e.raw&&(bt.raw={header:ot,sectors:at}),bt}function d(Oe){if(Oe[Oe.l]==80&&Oe[Oe.l+1]==75)return[0,0];Oe.chk(M,"Header Signature: "),Oe.l+=16;var $e=Oe.read_shift(2,"u");return[Oe.read_shift(2,"u"),$e]}function e(Oe,$e){var me=9;switch(Oe.l+=2,me=Oe.read_shift(2)){case 9:if($e!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if($e!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}Oe.chk("0600","Mini Sector Shift: "),Oe.chk("000000000000","Reserved: ")}function r(Oe,$e){for(var me=Math.ceil(Oe.length/$e)-1,Q=[],pe=1;pe<me;++pe)Q[pe-1]=Oe.slice(pe*$e,(pe+1)*$e);return Q[me-1]=Oe.slice(me*$e),Q}function p(Oe,$e,me){for(var Q=0,pe=0,we=0,Fe=0,Pe=0,De=me.length,Xe=[],je=[];Q<De;++Q)Xe[Q]=je[Q]=Q,$e[Q]=me[Q];for(;Pe<je.length;++Pe)Q=je[Pe],pe=Oe[Q].L,we=Oe[Q].R,Fe=Oe[Q].C,Xe[Q]===Q&&(pe!==-1&&Xe[pe]!==pe&&(Xe[Q]=Xe[pe]),we!==-1&&Xe[we]!==we&&(Xe[Q]=Xe[we])),Fe!==-1&&(Xe[Fe]=Q),pe!==-1&&Q!=Xe[Q]&&(Xe[pe]=Xe[Q],je.lastIndexOf(pe)<Pe&&je.push(pe)),we!==-1&&Q!=Xe[Q]&&(Xe[we]=Xe[Q],je.lastIndexOf(we)<Pe&&je.push(we));for(Q=1;Q<De;++Q)Xe[Q]===Q&&(we!==-1&&Xe[we]!==we?Xe[Q]=Xe[we]:pe!==-1&&Xe[pe]!==pe&&(Xe[Q]=Xe[pe]));for(Q=1;Q<De;++Q)if(Oe[Q].type!==0){if(Pe=Q,Pe!=Xe[Pe])do Pe=Xe[Pe],$e[Q]=$e[Pe]+"/"+$e[Q];while(Pe!==0&&Xe[Pe]!==-1&&Pe!=Xe[Pe]);Xe[Q]=-1}for($e[0]+="/",Q=1;Q<De;++Q)Oe[Q].type!==2&&($e[Q]+="/")}function x(Oe,$e,me){for(var Q=Oe.start,pe=Oe.size,we=[],Fe=Q;me&&pe>0&&Fe>=0;)we.push($e.slice(Fe*C,Fe*C+C)),pe-=C,Fe=Gi(me,Fe*4);return we.length===0?Tn(0):hi(we).slice(0,Oe.size)}function y(Oe,$e,me,Q,pe){var we=B;if(Oe===B){if($e!==0)throw new Error("DIFAT chain shorter than expected")}else if(Oe!==-1){var Fe=me[Oe],Pe=(Q>>>2)-1;if(!Fe)return;for(var De=0;De<Pe&&(we=Gi(Fe,De*4))!==B;++De)pe.push(we);y(Gi(Fe,Q-4),$e-1,me,Q,pe)}}function v(Oe,$e,me,Q,pe){var we=[],Fe=[];pe||(pe=[]);var Pe=Q-1,De=0,Xe=0;for(De=$e;De>=0;){pe[De]=!0,we[we.length]=De,Fe.push(Oe[De]);var je=me[Math.floor(De*4/Q)];if(Xe=De*4&Pe,Q<4+Xe)throw new Error("FAT boundary crossed: "+De+" 4 "+Q);if(!Oe[je])break;De=Gi(Oe[je],Xe)}return{nodes:we,data:nx([Fe])}}function b(Oe,$e,me,Q){var pe=Oe.length,we=[],Fe=[],Pe=[],De=[],Xe=Q-1,je=0,Ze=0,ot=0,Ke=0;for(je=0;je<pe;++je)if(Pe=[],ot=je+$e,ot>=pe&&(ot-=pe),!Fe[ot]){De=[];var Ge=[];for(Ze=ot;Ze>=0;){Ge[Ze]=!0,Fe[Ze]=!0,Pe[Pe.length]=Ze,De.push(Oe[Ze]);var tt=me[Math.floor(Ze*4/Q)];if(Ke=Ze*4&Xe,Q<4+Ke)throw new Error("FAT boundary crossed: "+Ze+" 4 "+Q);if(!Oe[tt]||(Ze=Gi(Oe[tt],Ke),Ge[Ze]))break}we[ot]={nodes:Pe,data:nx([De])}}return we}function g(Oe,$e,me,Q,pe,we,Fe,Pe){for(var De=0,Xe=Q.length?2:0,je=$e[Oe].data,Ze=0,ot=0,Ke;Ze<je.length;Ze+=128){var Ge=je.slice(Ze,Ze+128);zn(Ge,64),ot=Ge.read_shift(2),Ke=Jp(Ge,0,ot-Xe),Q.push(Ke);var tt={name:Ke,type:Ge.read_shift(1),color:Ge.read_shift(1),L:Ge.read_shift(4,"i"),R:Ge.read_shift(4,"i"),C:Ge.read_shift(4,"i"),clsid:Ge.read_shift(16),state:Ge.read_shift(4,"i"),start:0,size:0},at=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);at!==0&&(tt.ct=w(Ge,Ge.l-8));var st=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);st!==0&&(tt.mt=w(Ge,Ge.l-8)),tt.start=Ge.read_shift(4,"i"),tt.size=Ge.read_shift(4,"i"),tt.size<0&&tt.start<0&&(tt.size=tt.type=0,tt.start=B,tt.name=""),tt.type===5?(De=tt.start,pe>0&&De!==B&&($e[De].name="!StreamData")):tt.size>=4096?(tt.storage="fat",$e[tt.start]===void 0&&($e[tt.start]=v(me,tt.start,$e.fat_addrs,$e.ssz)),$e[tt.start].name=tt.name,tt.content=$e[tt.start].data.slice(0,tt.size)):(tt.storage="minifat",tt.size<0?tt.size=0:De!==B&&tt.start!==B&&$e[De]&&(tt.content=x(tt,$e[De].data,($e[Pe]||{}).data))),tt.content&&zn(tt.content,0),we[Ke]=tt,Fe.push(tt)}}function w(Oe,$e){return new Date((Tr(Oe,$e+4)/1e7*Math.pow(2,32)+Tr(Oe,$e)/1e7-11644473600)*1e3)}function f(Oe,$e){return i(),l(s.readFileSync(Oe),$e)}function E(Oe,$e){var me=$e&&$e.type;switch(me||Vt&&Buffer.isBuffer(Oe)&&(me="buffer"),me||"base64"){case"file":return f(Oe,$e);case"base64":return l(ha(Mr(Oe)),$e);case"binary":return l(ha(Oe),$e)}return l(Oe,$e)}function A(Oe,$e){var me=$e||{},Q=me.root||"Root Entry";if(Oe.FullPaths||(Oe.FullPaths=[]),Oe.FileIndex||(Oe.FileIndex=[]),Oe.FullPaths.length!==Oe.FileIndex.length)throw new Error("inconsistent CFB structure");Oe.FullPaths.length===0&&(Oe.FullPaths[0]=Q+"/",Oe.FileIndex[0]={name:Q,type:5}),me.CLSID&&(Oe.FileIndex[0].clsid=me.CLSID),O(Oe)}function O(Oe){var $e="Sh33tJ5";if(!jt.find(Oe,"/"+$e)){var me=Tn(4);me[0]=55,me[1]=me[3]=50,me[2]=54,Oe.FileIndex.push({name:$e,type:2,content:me,size:4,L:69,R:69,C:69}),Oe.FullPaths.push(Oe.FullPaths[0]+$e),T(Oe)}}function T(Oe,$e){A(Oe);for(var me=!1,Q=!1,pe=Oe.FullPaths.length-1;pe>=0;--pe){var we=Oe.FileIndex[pe];switch(we.type){case 0:Q?me=!0:(Oe.FileIndex.pop(),Oe.FullPaths.pop());break;case 1:case 2:case 5:Q=!0,isNaN(we.R*we.L*we.C)&&(me=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!$e)){var Fe=new Date(1987,1,19),Pe=0,De=Object.create?Object.create(null):{},Xe=[];for(pe=0;pe<Oe.FullPaths.length;++pe)De[Oe.FullPaths[pe]]=!0,Oe.FileIndex[pe].type!==0&&Xe.push([Oe.FullPaths[pe],Oe.FileIndex[pe]]);for(pe=0;pe<Xe.length;++pe){var je=c(Xe[pe][0]);Q=De[je],Q||(Xe.push([je,{name:u(je).replace("/",""),type:1,clsid:W,ct:Fe,mt:Fe,content:null}]),De[je]=!0)}for(Xe.sort(function(Ke,Ge){return a(Ke[0],Ge[0])}),Oe.FullPaths=[],Oe.FileIndex=[],pe=0;pe<Xe.length;++pe)Oe.FullPaths[pe]=Xe[pe][0],Oe.FileIndex[pe]=Xe[pe][1];for(pe=0;pe<Xe.length;++pe){var Ze=Oe.FileIndex[pe],ot=Oe.FullPaths[pe];if(Ze.name=u(ot).replace("/",""),Ze.L=Ze.R=Ze.C=-(Ze.color=1),Ze.size=Ze.content?Ze.content.length:0,Ze.start=0,Ze.clsid=Ze.clsid||W,pe===0)Ze.C=Xe.length>1?1:-1,Ze.size=0,Ze.type=5;else if(ot.slice(-1)=="/"){for(Pe=pe+1;Pe<Xe.length&&c(Oe.FullPaths[Pe])!=ot;++Pe);for(Ze.C=Pe>=Xe.length?-1:Pe,Pe=pe+1;Pe<Xe.length&&c(Oe.FullPaths[Pe])!=c(ot);++Pe);Ze.R=Pe>=Xe.length?-1:Pe,Ze.type=1}else c(Oe.FullPaths[pe+1]||"")==c(ot)&&(Ze.R=pe+1),Ze.type=2}}}function D(Oe,$e){var me=$e||{};if(me.fileType=="mad")return nt(Oe,me);switch(T(Oe),me.fileType){case"zip":return Ae(Oe,me)}var Q=function(Ke){for(var Ge=0,tt=0,at=0;at<Ke.FileIndex.length;++at){var st=Ke.FileIndex[at];if(!!st.content){var ft=st.content.length;ft>0&&(ft<4096?Ge+=ft+63>>6:tt+=ft+511>>9)}}for(var pt=Ke.FullPaths.length+3>>2,ct=Ge+7>>3,yt=Ge+127>>7,bt=ct+tt+pt+yt,Et=bt+127>>7,wt=Et<=109?0:Math.ceil((Et-109)/127);bt+Et+wt+127>>7>Et;)wt=++Et<=109?0:Math.ceil((Et-109)/127);var Tt=[1,wt,Et,yt,pt,tt,Ge,0];return Ke.FileIndex[0].size=Ge<<6,Tt[7]=(Ke.FileIndex[0].start=Tt[0]+Tt[1]+Tt[2]+Tt[3]+Tt[4]+Tt[5])+(Tt[6]+7>>3),Tt}(Oe),pe=Tn(Q[7]<<9),we=0,Fe=0;{for(we=0;we<8;++we)pe.write_shift(1,I[we]);for(we=0;we<8;++we)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),we=0;we<3;++we)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,Q[2]),pe.write_shift(4,Q[0]+Q[1]+Q[2]+Q[3]-1),pe.write_shift(4,0),pe.write_shift(4,1<<12),pe.write_shift(4,Q[3]?Q[0]+Q[1]+Q[2]-1:B),pe.write_shift(4,Q[3]),pe.write_shift(-4,Q[1]?Q[0]-1:B),pe.write_shift(4,Q[1]),we=0;we<109;++we)pe.write_shift(-4,we<Q[2]?Q[1]+we:-1)}if(Q[1])for(Fe=0;Fe<Q[1];++Fe){for(;we<236+Fe*127;++we)pe.write_shift(-4,we<Q[2]?Q[1]+we:-1);pe.write_shift(-4,Fe===Q[1]-1?B:Fe+1)}var Pe=function(Ke){for(Fe+=Ke;we<Fe-1;++we)pe.write_shift(-4,we+1);Ke&&(++we,pe.write_shift(-4,B))};for(Fe=we=0,Fe+=Q[1];we<Fe;++we)pe.write_shift(-4,J.DIFSECT);for(Fe+=Q[2];we<Fe;++we)pe.write_shift(-4,J.FATSECT);Pe(Q[3]),Pe(Q[4]);for(var De=0,Xe=0,je=Oe.FileIndex[0];De<Oe.FileIndex.length;++De)je=Oe.FileIndex[De],je.content&&(Xe=je.content.length,!(Xe<4096)&&(je.start=Fe,Pe(Xe+511>>9)));for(Pe(Q[6]+7>>3);pe.l&511;)pe.write_shift(-4,J.ENDOFCHAIN);for(Fe=we=0,De=0;De<Oe.FileIndex.length;++De)je=Oe.FileIndex[De],je.content&&(Xe=je.content.length,!(!Xe||Xe>=4096)&&(je.start=Fe,Pe(Xe+63>>6)));for(;pe.l&511;)pe.write_shift(-4,J.ENDOFCHAIN);for(we=0;we<Q[4]<<2;++we){var Ze=Oe.FullPaths[we];if(!Ze||Ze.length===0){for(De=0;De<17;++De)pe.write_shift(4,0);for(De=0;De<3;++De)pe.write_shift(4,-1);for(De=0;De<12;++De)pe.write_shift(4,0);continue}je=Oe.FileIndex[we],we===0&&(je.start=je.size?je.start-1:B);var ot=we===0&&me.root||je.name;if(Xe=2*(ot.length+1),pe.write_shift(64,ot,"utf16le"),pe.write_shift(2,Xe),pe.write_shift(1,je.type),pe.write_shift(1,je.color),pe.write_shift(-4,je.L),pe.write_shift(-4,je.R),pe.write_shift(-4,je.C),je.clsid)pe.write_shift(16,je.clsid,"hex");else for(De=0;De<4;++De)pe.write_shift(4,0);pe.write_shift(4,je.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,je.start),pe.write_shift(4,je.size),pe.write_shift(4,0)}for(we=1;we<Oe.FileIndex.length;++we)if(je=Oe.FileIndex[we],je.size>=4096)if(pe.l=je.start+1<<9,Vt&&Buffer.isBuffer(je.content))je.content.copy(pe,pe.l,0,je.size),pe.l+=je.size+511&-512;else{for(De=0;De<je.size;++De)pe.write_shift(1,je.content[De]);for(;De&511;++De)pe.write_shift(1,0)}for(we=1;we<Oe.FileIndex.length;++we)if(je=Oe.FileIndex[we],je.size>0&&je.size<4096)if(Vt&&Buffer.isBuffer(je.content))je.content.copy(pe,pe.l,0,je.size),pe.l+=je.size+63&-64;else{for(De=0;De<je.size;++De)pe.write_shift(1,je.content[De]);for(;De&63;++De)pe.write_shift(1,0)}if(Vt)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function F(Oe,$e){var me=Oe.FullPaths.map(function(De){return De.toUpperCase()}),Q=me.map(function(De){var Xe=De.split("/");return Xe[Xe.length-(De.slice(-1)=="/"?2:1)]}),pe=!1;$e.charCodeAt(0)===47?(pe=!0,$e=me[0].slice(0,-1)+$e):pe=$e.indexOf("/")!==-1;var we=$e.toUpperCase(),Fe=pe===!0?me.indexOf(we):Q.indexOf(we);if(Fe!==-1)return Oe.FileIndex[Fe];var Pe=!we.match(hc);for(we=we.replace(pr,""),Pe&&(we=we.replace(hc,"!")),Fe=0;Fe<me.length;++Fe)if((Pe?me[Fe].replace(hc,"!"):me[Fe]).replace(pr,"")==we||(Pe?Q[Fe].replace(hc,"!"):Q[Fe]).replace(pr,"")==we)return Oe.FileIndex[Fe];return null}var C=64,B=-2,M="d0cf11e0a1b11ae1",I=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(Oe,$e,me){i();var Q=D(Oe,me);s.writeFileSync($e,Q)}function N(Oe){for(var $e=new Array(Oe.length),me=0;me<Oe.length;++me)$e[me]=String.fromCharCode(Oe[me]);return $e.join("")}function U(Oe,$e){var me=D(Oe,$e);switch($e&&$e.type||"buffer"){case"file":return i(),s.writeFileSync($e.filename,me),me;case"binary":return typeof me=="string"?me:N(me);case"base64":return $m(typeof me=="string"?me:N(me));case"buffer":if(Vt)return Buffer.isBuffer(me)?me:gs(me);case"array":return typeof me=="string"?ha(me):me}return me}var Y;function _(Oe){try{var $e=Oe.InflateRaw,me=new $e;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)Y=Oe;else throw new Error("zlib does not expose bytesRead")}catch(Q){console.error("cannot use native zlib: "+(Q.message||Q))}}function V(Oe,$e){if(!Y)return Ne(Oe,$e);var me=Y.InflateRaw,Q=new me,pe=Q._processChunk(Oe.slice(Oe.l),Q._finishFlushFlag);return Oe.l+=Q.bytesRead,pe}function Z(Oe){return Y?Y.deflateRawSync(Oe):ue(Oe)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(Oe){var $e=(Oe<<1|Oe<<11)&139536|(Oe<<5|Oe<<15)&558144;return($e>>16|$e>>8|$e)&255}for(var R=typeof Uint8Array<"u",S=R?new Uint8Array(1<<8):[],L=0;L<1<<8;++L)S[L]=ae(L);function k(Oe,$e){var me=S[Oe&255];return $e<=8?me>>>8-$e:(me=me<<8|S[Oe>>8&255],$e<=16?me>>>16-$e:(me=me<<8|S[Oe>>16&255],me>>>24-$e))}function z(Oe,$e){var me=$e&7,Q=$e>>>3;return(Oe[Q]|(me<=6?0:Oe[Q+1]<<8))>>>me&3}function P(Oe,$e){var me=$e&7,Q=$e>>>3;return(Oe[Q]|(me<=5?0:Oe[Q+1]<<8))>>>me&7}function K(Oe,$e){var me=$e&7,Q=$e>>>3;return(Oe[Q]|(me<=4?0:Oe[Q+1]<<8))>>>me&15}function te(Oe,$e){var me=$e&7,Q=$e>>>3;return(Oe[Q]|(me<=3?0:Oe[Q+1]<<8))>>>me&31}function X(Oe,$e){var me=$e&7,Q=$e>>>3;return(Oe[Q]|(me<=1?0:Oe[Q+1]<<8))>>>me&127}function ee(Oe,$e,me){var Q=$e&7,pe=$e>>>3,we=(1<<me)-1,Fe=Oe[pe]>>>Q;return me<8-Q||(Fe|=Oe[pe+1]<<8-Q,me<16-Q)||(Fe|=Oe[pe+2]<<16-Q,me<24-Q)||(Fe|=Oe[pe+3]<<24-Q),Fe&we}function G(Oe,$e,me){var Q=$e&7,pe=$e>>>3;return Q<=5?Oe[pe]|=(me&7)<<Q:(Oe[pe]|=me<<Q&255,Oe[pe+1]=(me&7)>>8-Q),$e+3}function ne(Oe,$e,me){var Q=$e&7,pe=$e>>>3;return me=(me&1)<<Q,Oe[pe]|=me,$e+1}function se(Oe,$e,me){var Q=$e&7,pe=$e>>>3;return me<<=Q,Oe[pe]|=me&255,me>>>=8,Oe[pe+1]=me,$e+8}function le(Oe,$e,me){var Q=$e&7,pe=$e>>>3;return me<<=Q,Oe[pe]|=me&255,me>>>=8,Oe[pe+1]=me&255,Oe[pe+2]=me>>>8,$e+16}function he(Oe,$e){var me=Oe.length,Q=2*me>$e?2*me:$e+5,pe=0;if(me>=$e)return Oe;if(Vt){var we=Um(Q);if(Oe.copy)Oe.copy(we);else for(;pe<Oe.length;++pe)we[pe]=Oe[pe];return we}else if(R){var Fe=new Uint8Array(Q);if(Fe.set)Fe.set(Oe);else for(;pe<me;++pe)Fe[pe]=Oe[pe];return Fe}return Oe.length=Q,Oe}function be(Oe){for(var $e=new Array(Oe),me=0;me<Oe;++me)$e[me]=0;return $e}function ye(Oe,$e,me){var Q=1,pe=0,we=0,Fe=0,Pe=0,De=Oe.length,Xe=R?new Uint16Array(32):be(32);for(we=0;we<32;++we)Xe[we]=0;for(we=De;we<me;++we)Oe[we]=0;De=Oe.length;var je=R?new Uint16Array(De):be(De);for(we=0;we<De;++we)Xe[pe=Oe[we]]++,Q<pe&&(Q=pe),je[we]=0;for(Xe[0]=0,we=1;we<=Q;++we)Xe[we+16]=Pe=Pe+Xe[we-1]<<1;for(we=0;we<De;++we)Pe=Oe[we],Pe!=0&&(je[we]=Xe[Pe+16]++);var Ze=0;for(we=0;we<De;++we)if(Ze=Oe[we],Ze!=0)for(Pe=k(je[we],Q)>>Q-Ze,Fe=(1<<Q+4-Ze)-1;Fe>=0;--Fe)$e[Pe|Fe<<Ze]=Ze&15|we<<4;return Q}var de=R?new Uint16Array(512):be(512),xe=R?new Uint16Array(32):be(32);if(!R){for(var fe=0;fe<512;++fe)de[fe]=0;for(fe=0;fe<32;++fe)xe[fe]=0}(function(){for(var Oe=[],$e=0;$e<32;$e++)Oe.push(5);ye(Oe,xe,32);var me=[];for($e=0;$e<=143;$e++)me.push(8);for(;$e<=255;$e++)me.push(9);for(;$e<=279;$e++)me.push(7);for(;$e<=287;$e++)me.push(8);ye(me,de,288)})();var ce=function(){for(var $e=R?new Uint8Array(32768):[],me=0,Q=0;me<oe.length-1;++me)for(;Q<oe[me+1];++Q)$e[Q]=me;for(;Q<32768;++Q)$e[Q]=29;var pe=R?new Uint8Array(259):[];for(me=0,Q=0;me<re.length-1;++me)for(;Q<re[me+1];++Q)pe[Q]=me;function we(Pe,De){for(var Xe=0;Xe<Pe.length;){var je=Math.min(65535,Pe.length-Xe),Ze=Xe+je==Pe.length;for(De.write_shift(1,+Ze),De.write_shift(2,je),De.write_shift(2,~je&65535);je-- >0;)De[De.l++]=Pe[Xe++]}return De.l}function Fe(Pe,De){for(var Xe=0,je=0,Ze=R?new Uint16Array(32768):[];je<Pe.length;){var ot=Math.min(65535,Pe.length-je);if(ot<10){for(Xe=G(De,Xe,+(je+ot==Pe.length)),Xe&7&&(Xe+=8-(Xe&7)),De.l=Xe/8|0,De.write_shift(2,ot),De.write_shift(2,~ot&65535);ot-- >0;)De[De.l++]=Pe[je++];Xe=De.l*8;continue}Xe=G(De,Xe,+(je+ot==Pe.length)+2);for(var Ke=0;ot-- >0;){var Ge=Pe[je];Ke=(Ke<<5^Ge)&32767;var tt=-1,at=0;if((tt=Ze[Ke])&&(tt|=je&-32768,tt>je&&(tt-=32768),tt<je))for(;Pe[tt+at]==Pe[je+at]&&at<250;)++at;if(at>2){Ge=pe[at],Ge<=22?Xe=se(De,Xe,S[Ge+1]>>1)-1:(se(De,Xe,3),Xe+=5,se(De,Xe,S[Ge-23]>>5),Xe+=3);var st=Ge<8?0:Ge-4>>2;st>0&&(le(De,Xe,at-re[Ge]),Xe+=st),Ge=$e[je-tt],Xe=se(De,Xe,S[Ge]>>3),Xe-=3;var ft=Ge<4?0:Ge-2>>1;ft>0&&(le(De,Xe,je-tt-oe[Ge]),Xe+=ft);for(var pt=0;pt<at;++pt)Ze[Ke]=je&32767,Ke=(Ke<<5^Pe[je])&32767,++je;ot-=at-1}else Ge<=143?Ge=Ge+48:Xe=ne(De,Xe,1),Xe=se(De,Xe,S[Ge]),Ze[Ke]=je&32767,++je}Xe=se(De,Xe,0)-1}return De.l=(Xe+7)/8|0,De.l}return function(De,Xe){return De.length<8?we(De,Xe):Fe(De,Xe)}}();function ue(Oe){var $e=Tn(50+Math.floor(Oe.length*1.1)),me=ce(Oe,$e);return $e.slice(0,me)}var ve=R?new Uint16Array(32768):be(32768),Ee=R?new Uint16Array(32768):be(32768),Me=R?new Uint16Array(128):be(128),_e=1,ze=1;function We(Oe,$e){var me=te(Oe,$e)+257;$e+=5;var Q=te(Oe,$e)+1;$e+=5;var pe=K(Oe,$e)+4;$e+=4;for(var we=0,Fe=R?new Uint8Array(19):be(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],De=1,Xe=R?new Uint8Array(8):be(8),je=R?new Uint8Array(8):be(8),Ze=Fe.length,ot=0;ot<pe;++ot)Fe[q[ot]]=we=P(Oe,$e),De<we&&(De=we),Xe[we]++,$e+=3;var Ke=0;for(Xe[0]=0,ot=1;ot<=De;++ot)je[ot]=Ke=Ke+Xe[ot-1]<<1;for(ot=0;ot<Ze;++ot)(Ke=Fe[ot])!=0&&(Pe[ot]=je[Ke]++);var Ge=0;for(ot=0;ot<Ze;++ot)if(Ge=Fe[ot],Ge!=0){Ke=S[Pe[ot]]>>8-Ge;for(var tt=(1<<7-Ge)-1;tt>=0;--tt)Me[Ke|tt<<Ge]=Ge&7|ot<<3}var at=[];for(De=1;at.length<me+Q;)switch(Ke=Me[X(Oe,$e)],$e+=Ke&7,Ke>>>=3){case 16:for(we=3+z(Oe,$e),$e+=2,Ke=at[at.length-1];we-- >0;)at.push(Ke);break;case 17:for(we=3+P(Oe,$e),$e+=3;we-- >0;)at.push(0);break;case 18:for(we=11+X(Oe,$e),$e+=7;we-- >0;)at.push(0);break;default:at.push(Ke),De<Ke&&(De=Ke);break}var st=at.slice(0,me),ft=at.slice(me);for(ot=me;ot<286;++ot)st[ot]=0;for(ot=Q;ot<30;++ot)ft[ot]=0;return _e=ye(st,ve,286),ze=ye(ft,Ee,30),$e}function Ve(Oe,$e){if(Oe[0]==3&&!(Oe[1]&3))return[Pi($e),2];for(var me=0,Q=0,pe=Um($e||1<<18),we=0,Fe=pe.length>>>0,Pe=0,De=0;(Q&1)==0;){if(Q=P(Oe,me),me+=3,Q>>>1==0){me&7&&(me+=8-(me&7));var Xe=Oe[me>>>3]|Oe[(me>>>3)+1]<<8;if(me+=32,Xe>0)for(!$e&&Fe<we+Xe&&(pe=he(pe,we+Xe),Fe=pe.length);Xe-- >0;)pe[we++]=Oe[me>>>3],me+=8;continue}else Q>>1==1?(Pe=9,De=5):(me=We(Oe,me),Pe=_e,De=ze);for(;;){!$e&&Fe<we+32767&&(pe=he(pe,we+32767),Fe=pe.length);var je=ee(Oe,me,Pe),Ze=Q>>>1==1?de[je]:ve[je];if(me+=Ze&15,Ze>>>=4,(Ze>>>8&255)===0)pe[we++]=Ze;else{if(Ze==256)break;Ze-=257;var ot=Ze<8?0:Ze-4>>2;ot>5&&(ot=0);var Ke=we+re[Ze];ot>0&&(Ke+=ee(Oe,me,ot),me+=ot),je=ee(Oe,me,De),Ze=Q>>>1==1?xe[je]:Ee[je],me+=Ze&15,Ze>>>=4;var Ge=Ze<4?0:Ze-2>>1,tt=oe[Ze];for(Ge>0&&(tt+=ee(Oe,me,Ge),me+=Ge),!$e&&Fe<Ke&&(pe=he(pe,Ke+100),Fe=pe.length);we<Ke;)pe[we]=pe[we-tt],++we}}}return $e?[pe,me+7>>>3]:[pe.slice(0,we),me+7>>>3]}function Ne(Oe,$e){var me=Oe.slice(Oe.l||0),Q=Ve(me,$e);return Oe.l+=Q[1],Q[0]}function ke(Oe,$e){if(Oe)typeof console<"u"&&console.error($e);else throw new Error($e)}function Ie(Oe,$e){var me=Oe;zn(me,0);var Q=[],pe=[],we={FileIndex:Q,FullPaths:pe};A(we,{root:$e.root});for(var Fe=me.length-4;(me[Fe]!=80||me[Fe+1]!=75||me[Fe+2]!=5||me[Fe+3]!=6)&&Fe>=0;)--Fe;me.l=Fe+4,me.l+=4;var Pe=me.read_shift(2);me.l+=6;var De=me.read_shift(4);for(me.l=De,Fe=0;Fe<Pe;++Fe){me.l+=20;var Xe=me.read_shift(4),je=me.read_shift(4),Ze=me.read_shift(2),ot=me.read_shift(2),Ke=me.read_shift(2);me.l+=8;var Ge=me.read_shift(4),tt=o(me.slice(me.l+Ze,me.l+Ze+ot));me.l+=Ze+ot+Ke;var at=me.l;me.l=Ge+4,Te(me,Xe,je,we,tt),me.l=at}return we}function Te(Oe,$e,me,Q,pe){Oe.l+=2;var we=Oe.read_shift(2),Fe=Oe.read_shift(2),Pe=h(Oe);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var De=Oe.read_shift(4),Xe=Oe.read_shift(4),je=Oe.read_shift(4),Ze=Oe.read_shift(2),ot=Oe.read_shift(2),Ke="",Ge=0;Ge<Ze;++Ge)Ke+=String.fromCharCode(Oe[Oe.l++]);if(ot){var tt=o(Oe.slice(Oe.l,Oe.l+ot));(tt[21589]||{}).mt&&(Pe=tt[21589].mt),((pe||{})[21589]||{}).mt&&(Pe=pe[21589].mt)}Oe.l+=ot;var at=Oe.slice(Oe.l,Oe.l+Xe);switch(Fe){case 8:at=V(Oe,je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var st=!1;we&8&&(De=Oe.read_shift(4),De==134695760&&(De=Oe.read_shift(4),st=!0),Xe=Oe.read_shift(4),je=Oe.read_shift(4)),Xe!=$e&&ke(st,"Bad compressed size: "+$e+" != "+Xe),je!=me&&ke(st,"Bad uncompressed size: "+me+" != "+je),it(Q,Ke,at,{unsafe:!0,mt:Pe})}function Ae(Oe,$e){var me=$e||{},Q=[],pe=[],we=Tn(1),Fe=me.compression?8:0,Pe=0,De=0,Xe=0,je=0,Ze=0,ot=Oe.FullPaths[0],Ke=ot,Ge=Oe.FileIndex[0],tt=[],at=0;for(De=1;De<Oe.FullPaths.length;++De)if(Ke=Oe.FullPaths[De].slice(ot.length),Ge=Oe.FileIndex[De],!(!Ge.size||!Ge.content||Ke=="Sh33tJ5")){var st=je,ft=Tn(Ke.length);for(Xe=0;Xe<Ke.length;++Xe)ft.write_shift(1,Ke.charCodeAt(Xe)&127);ft=ft.slice(0,ft.l),tt[Ze]=k6.buf(Ge.content,0);var pt=Ge.content;Fe==8&&(pt=Z(pt)),we=Tn(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,Pe),we.write_shift(2,Fe),Ge.mt?m(we,Ge.mt):we.write_shift(4,0),we.write_shift(-4,tt[Ze]),we.write_shift(4,pt.length),we.write_shift(4,Ge.content.length),we.write_shift(2,ft.length),we.write_shift(2,0),je+=we.length,Q.push(we),je+=ft.length,Q.push(ft),je+=pt.length,Q.push(pt),we=Tn(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,Pe),we.write_shift(2,Fe),we.write_shift(4,0),we.write_shift(-4,tt[Ze]),we.write_shift(4,pt.length),we.write_shift(4,Ge.content.length),we.write_shift(2,ft.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,st),at+=we.l,pe.push(we),at+=ft.length,pe.push(ft),++Ze}return we=Tn(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,Ze),we.write_shift(2,Ze),we.write_shift(4,at),we.write_shift(4,je),we.write_shift(2,0),hi([hi(Q),hi(pe),we])}var ge={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ce(Oe,$e){if(Oe.ctype)return Oe.ctype;var me=Oe.name||"",Q=me.match(/\.([^\.]+)$/);return Q&&ge[Q[1]]||$e&&(Q=(me=$e).match(/[\.\\]([^\.\\])+$/),Q&&ge[Q[1]])?ge[Q[1]]:"application/octet-stream"}function Be(Oe){for(var $e=$m(Oe),me=[],Q=0;Q<$e.length;Q+=76)me.push($e.slice(Q,Q+76));return me.join(`\r
`)+`\r
`}function Ye(Oe){var $e=Oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Xe){var je=Xe.charCodeAt(0).toString(16).toUpperCase();return"="+(je.length==1?"0"+je:je)});$e=$e.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),$e.charAt(0)==`
`&&($e="=0D"+$e.slice(1)),$e=$e.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],Q=$e.split(`\r
`),pe=0;pe<Q.length;++pe){var we=Q[pe];if(we.length==0){me.push("");continue}for(var Fe=0;Fe<we.length;){var Pe=76,De=we.slice(Fe,Fe+Pe);De.charAt(Pe-1)=="="?Pe--:De.charAt(Pe-2)=="="?Pe-=2:De.charAt(Pe-3)=="="&&(Pe-=3),De=we.slice(Fe,Fe+Pe),Fe+=Pe,Fe<we.length&&(De+="="),me.push(De)}}return me.join(`\r
`)}function Je(Oe){for(var $e=[],me=0;me<Oe.length;++me){for(var Q=Oe[me];me<=Oe.length&&Q.charAt(Q.length-1)=="=";)Q=Q.slice(0,Q.length-1)+Oe[++me];$e.push(Q)}for(var pe=0;pe<$e.length;++pe)$e[pe]=$e[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return ha($e.join(`\r
`))}function Re(Oe,$e,me){for(var Q="",pe="",we="",Fe,Pe=0;Pe<10;++Pe){var De=$e[Pe];if(!De||De.match(/^\s*$/))break;var Xe=De.match(/^(.*?):\s*([^\s].*)$/);if(Xe)switch(Xe[1].toLowerCase()){case"content-location":Q=Xe[2].trim();break;case"content-type":we=Xe[2].trim();break;case"content-transfer-encoding":pe=Xe[2].trim();break}}switch(++Pe,pe.toLowerCase()){case"base64":Fe=ha(Mr($e.slice(Pe).join("")));break;case"quoted-printable":Fe=Je($e.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var je=it(Oe,Q.slice(me.length),Fe,{unsafe:!0});we&&(je.ctype=we)}function He(Oe,$e){if(N(Oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=$e&&$e.root||"",Q=(Vt&&Buffer.isBuffer(Oe)?Oe.toString("binary"):N(Oe)).split(`\r
`),pe=0,we="";for(pe=0;pe<Q.length;++pe)if(we=Q[pe],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),me||(me=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),we.slice(0,me.length)!=me););var Fe=(Q[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var Pe="--"+(Fe[1]||""),De=[],Xe=[],je={FileIndex:De,FullPaths:Xe};A(je);var Ze,ot=0;for(pe=0;pe<Q.length;++pe){var Ke=Q[pe];Ke!==Pe&&Ke!==Pe+"--"||(ot++&&Re(je,Q.slice(Ze,pe),me),Ze=pe)}return je}function nt(Oe,$e){var me=$e||{},Q=me.boundary||"SheetJS";Q="------="+Q;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Q.slice(2)+'"',"","",""],we=Oe.FullPaths[0],Fe=we,Pe=Oe.FileIndex[0],De=1;De<Oe.FullPaths.length;++De)if(Fe=Oe.FullPaths[De].slice(we.length),Pe=Oe.FileIndex[De],!(!Pe.size||!Pe.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(at){return"_x"+at.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(at){return"_u"+at.charCodeAt(0).toString(16)+"_"});for(var Xe=Pe.content,je=Vt&&Buffer.isBuffer(Xe)?Xe.toString("binary"):N(Xe),Ze=0,ot=Math.min(1024,je.length),Ke=0,Ge=0;Ge<=ot;++Ge)(Ke=je.charCodeAt(Ge))>=32&&Ke<128&&++Ze;var tt=Ze>=ot*4/5;pe.push(Q),pe.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Fe),pe.push("Content-Transfer-Encoding: "+(tt?"quoted-printable":"base64")),pe.push("Content-Type: "+Ce(Pe,Fe)),pe.push(""),pe.push(tt?Ye(je):Be(je))}return pe.push(Q+`--\r
`),pe.join(`\r
`)}function et(Oe){var $e={};return A($e,Oe),$e}function it(Oe,$e,me,Q){var pe=Q&&Q.unsafe;pe||A(Oe);var we=!pe&&jt.find(Oe,$e);if(!we){var Fe=Oe.FullPaths[0];$e.slice(0,Fe.length)==Fe?Fe=$e:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+$e).replace("//","/")),we={name:u($e),type:2},Oe.FileIndex.push(we),Oe.FullPaths.push(Fe),pe||jt.utils.cfb_gc(Oe)}return we.content=me,we.size=me?me.length:0,Q&&(Q.CLSID&&(we.clsid=Q.CLSID),Q.mt&&(we.mt=Q.mt),Q.ct&&(we.ct=Q.ct)),we}function qe(Oe,$e){A(Oe);var me=jt.find(Oe,$e);if(me){for(var Q=0;Q<Oe.FileIndex.length;++Q)if(Oe.FileIndex[Q]==me)return Oe.FileIndex.splice(Q,1),Oe.FullPaths.splice(Q,1),!0}return!1}function lt(Oe,$e,me){A(Oe);var Q=jt.find(Oe,$e);if(Q){for(var pe=0;pe<Oe.FileIndex.length;++pe)if(Oe.FileIndex[pe]==Q)return Oe.FileIndex[pe].name=u(me),Oe.FullPaths[pe]=me,!0}return!1}function rt(Oe){T(Oe,!0)}return n.find=F,n.read=E,n.parse=l,n.write=U,n.writeFile=H,n.utils={cfb_new:et,cfb_add:it,cfb_del:qe,cfb_mov:lt,cfb_gc:rt,ReadShift:kc,CheckField:P3,prep_blob:zn,bconcat:hi,use_zlib:_,_deflateRaw:ue,_inflateRaw:Ne,consts:J},n}();function E6(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var n=File(t);n.open("r"),n.encoding="binary";var a=n.read();return n.close(),a}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("Cannot access file "+t)}function Fa(t){for(var n=Object.keys(t),a=[],c=0;c<n.length;++c)Object.prototype.hasOwnProperty.call(t,n[c])&&a.push(n[c]);return a}function Vp(t){for(var n=[],a=Fa(t),c=0;c!==a.length;++c)n[t[a[c]]]=a[c];return n}var Su=new Date(1899,11,30,0,0,0);function gr(t,n){var a=t.getTime();n&&(a-=1462*24*60*60*1e3);var c=Su.getTime()+(t.getTimezoneOffset()-Su.getTimezoneOffset())*6e4;return(a-c)/(24*60*60*1e3)}var l3=new Date,C6=Su.getTime()+(l3.getTimezoneOffset()-Su.getTimezoneOffset())*6e4,jm=l3.getTimezoneOffset();function Ju(t){var n=new Date;return n.setTime(t*24*60*60*1e3+C6),n.getTimezoneOffset()!==jm&&n.setTime(n.getTime()+(n.getTimezoneOffset()-jm)*6e4),n}function T6(t){var n=0,a=0,c=!1,u=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!u)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var m=1;m!=u.length;++m)if(!!u[m]){switch(a=1,m>3&&(c=!0),u[m].slice(u[m].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+u[m].slice(u[m].length-1));case"D":a*=24;case"H":a*=60;case"M":if(c)a*=60;else throw new Error("Unsupported ISO Duration Field: M")}n+=a*parseInt(u[m],10)}return n}var Km=new Date("2017-02-19T19:06:09.000Z"),u3=isNaN(Km.getFullYear())?new Date("2/19/17"):Km,F6=u3.getFullYear()==2017;function Nn(t,n){var a=new Date(t);if(F6)return n>0?a.setTime(a.getTime()+a.getTimezoneOffset()*60*1e3):n<0&&a.setTime(a.getTime()-a.getTimezoneOffset()*60*1e3),a;if(t instanceof Date)return t;if(u3.getFullYear()==1917&&!isNaN(a.getFullYear())){var c=a.getFullYear();return t.indexOf(""+c)>-1||a.setFullYear(a.getFullYear()+100),a}var u=t.match(/\d+/g)||["2017","2","19","0","0","0"],m=new Date(+u[0],+u[1]-1,+u[2],+u[3]||0,+u[4]||0,+u[5]||0);return t.indexOf("Z")>-1&&(m=new Date(m.getTime()-m.getTimezoneOffset()*60*1e3)),m}function us(t,n){if(Vt&&Buffer.isBuffer(t)){if(n){if(t[0]==255&&t[1]==254)return dc(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return dc(Jv(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(n){if(t[0]==255&&t[1]==254)return dc(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return dc(new TextDecoder("utf-16be").decode(t.slice(2)))}var a={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(m){return a[m]||m})}catch{}for(var c=[],u=0;u!=t.length;++u)c.push(String.fromCharCode(t[u]));return c.join("")}function Gn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=Gn(t[a]));return n}function bn(t,n){for(var a="";a.length<n;)a+=t;return a}function ma(t){var n=Number(t);if(!isNaN(n))return isFinite(n)?n:NaN;if(!/\d/.test(t))return n;var a=1,c=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(n=Number(c))||(c=c.replace(/[(](.*)[)]/,function(u,m){return a=-a,m}),!isNaN(n=Number(c)))?n/a:n}var I6=["january","february","march","april","may","june","july","august","september","october","november","december"];function So(t){var n=new Date(t),a=new Date(NaN),c=n.getYear(),u=n.getMonth(),m=n.getDate();if(isNaN(m))return a;var h=t.toLowerCase();if(h.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(h=h.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),h.length>3&&I6.indexOf(h)==-1)return a}else if(h.match(/[a-z]/))return a;return c<0||c>8099?a:(u>0||m>1)&&c!=101?n:t.match(/[^-0-9:,\/\\]/)?a:n}var O6=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(a,c,u){if(t||typeof c=="string")return a.split(c);for(var m=a.split(c),h=[m[0]],o=1;o<m.length;++o)h.push(u),h.push(m[o]);return h}}();function h3(t){return t?t.content&&t.type?us(t.content,!0):t.data?uc(t.data):t.asNodeBuffer&&Vt?uc(t.asNodeBuffer().toString("binary")):t.asBinary?uc(t.asBinary()):t._data&&t._data.getContent?uc(us(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function f3(t){if(!t)return null;if(t.data)return Nm(t.data);if(t.asNodeBuffer&&Vt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var n=t._data.getContent();return typeof n=="string"?Nm(n):Array.prototype.slice.call(n)}return t.content&&t.type?t.content:null}function P6(t){return t&&t.name.slice(-4)===".bin"?f3(t):h3(t)}function Wr(t,n){for(var a=t.FullPaths||Fa(t.files),c=n.toLowerCase().replace(/[\/]/g,"\\"),u=c.replace(/\\/g,"/"),m=0;m<a.length;++m){var h=a[m].replace(/^Root Entry[\/]/,"").toLowerCase();if(c==h||u==h)return t.files?t.files[a[m]]:t.FileIndex[m]}return null}function jp(t,n){var a=Wr(t,n);if(a==null)throw new Error("Cannot find file "+n+" in zip");return a}function kn(t,n,a){if(!a)return P6(jp(t,n));if(!n)return null;try{return kn(t,n)}catch{return null}}function Fr(t,n,a){if(!a)return h3(jp(t,n));if(!n)return null;try{return Fr(t,n)}catch{return null}}function d3(t,n,a){if(!a)return f3(jp(t,n));if(!n)return null;try{return d3(t,n)}catch{return null}}function Ym(t){for(var n=t.FullPaths||Fa(t.files),a=[],c=0;c<n.length;++c)n[c].slice(-1)!="/"&&a.push(n[c].replace(/^Root Entry[\/]/,""));return a.sort()}function R6(t,n,a){if(t.FullPaths){if(typeof a=="string"){var c;return Vt?c=gs(a):c=Q4(a),jt.utils.cfb_add(t,n,c)}jt.utils.cfb_add(t,n,a)}else t.file(n,a)}function p3(t,n){switch(n.type){case"base64":return jt.read(t,{type:"base64"});case"binary":return jt.read(t,{type:"binary"});case"buffer":case"array":return jt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+n.type)}function fc(t,n){if(t.charAt(0)=="/")return t.slice(1);var a=n.split("/");n.slice(-1)!="/"&&a.pop();for(var c=t.split("/");c.length!==0;){var u=c.shift();u===".."?a.pop():u!=="."&&a.push(u)}return a.join("/")}var g3=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,M6=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Jm=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,D6=/<[^>]*>/g,ir=g3.match(Jm)?Jm:D6,L6=/<\w*:/,N6=/<(\/?)\w+:/;function Ut(t,n,a){for(var c={},u=0,m=0;u!==t.length&&!((m=t.charCodeAt(u))===32||m===10||m===13);++u);if(n||(c[0]=t.slice(0,u)),u===t.length)return c;var h=t.match(M6),o=0,s="",i=0,l="",d="",e=1;if(h)for(i=0;i!=h.length;++i){for(d=h[i],m=0;m!=d.length&&d.charCodeAt(m)!==61;++m);for(l=d.slice(0,m).trim();d.charCodeAt(m+1)==32;)++m;for(e=(u=d.charCodeAt(m+1))==34||u==39?1:0,s=d.slice(m+1+e,d.length-e),o=0;o!=l.length&&l.charCodeAt(o)!==58;++o);if(o===l.length)l.indexOf("_")>0&&(l=l.slice(0,l.indexOf("_"))),c[l]=s,a||(c[l.toLowerCase()]=s);else{var r=(o===5&&l.slice(0,5)==="xmlns"?"xmlns":"")+l.slice(o+1);if(c[r]&&l.slice(o-3,o)=="ext")continue;c[r]=s,a||(c[r.toLowerCase()]=s)}}return c}function Ia(t){return t.replace(N6,"<$1")}var m3={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},B6=Vp(m3),Jt=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,n=/_x([\da-fA-F]{4})_/ig;return function a(c){var u=c+"",m=u.indexOf("<![CDATA[");if(m==-1)return u.replace(t,function(o,s){return m3[o]||String.fromCharCode(parseInt(s,o.indexOf("x")>-1?16:10))||o}).replace(n,function(o,s){return String.fromCharCode(parseInt(s,16))});var h=u.indexOf("]]>");return a(u.slice(0,m))+u.slice(m+9,h)+a(u.slice(h+3))}}(),$6=/[&<>'"]/g,U6=/[\u0000-\u001f]/g;function Kp(t){var n=t+"";return n.replace($6,function(a){return B6[a]}).replace(/\n/g,"<br/>").replace(U6,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}var Zm=function(){var t=/&#(\d+);/g;function n(a,c){return String.fromCharCode(parseInt(c,10))}return function(c){return c.replace(t,n)}}();function un(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Jh(t){for(var n="",a=0,c=0,u=0,m=0,h=0,o=0;a<t.length;){if(c=t.charCodeAt(a++),c<128){n+=String.fromCharCode(c);continue}if(u=t.charCodeAt(a++),c>191&&c<224){h=(c&31)<<6,h|=u&63,n+=String.fromCharCode(h);continue}if(m=t.charCodeAt(a++),c<240){n+=String.fromCharCode((c&15)<<12|(u&63)<<6|m&63);continue}h=t.charCodeAt(a++),o=((c&7)<<18|(u&63)<<12|(m&63)<<6|h&63)-65536,n+=String.fromCharCode(55296+(o>>>10&1023)),n+=String.fromCharCode(56320+(o&1023))}return n}function Qm(t){var n=Pi(2*t.length),a,c,u=1,m=0,h=0,o;for(c=0;c<t.length;c+=u)u=1,(o=t.charCodeAt(c))<128?a=o:o<224?(a=(o&31)*64+(t.charCodeAt(c+1)&63),u=2):o<240?(a=(o&15)*4096+(t.charCodeAt(c+1)&63)*64+(t.charCodeAt(c+2)&63),u=3):(u=4,a=(o&7)*262144+(t.charCodeAt(c+1)&63)*4096+(t.charCodeAt(c+2)&63)*64+(t.charCodeAt(c+3)&63),a-=65536,h=55296+(a>>>10&1023),a=56320+(a&1023)),h!==0&&(n[m++]=h&255,n[m++]=h>>>8,h=0),n[m++]=a%256,n[m++]=a>>>8;return n.slice(0,m).toString("ucs2")}function qm(t){return gs(t,"binary").toString("utf8")}var zl="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",on=Vt&&(qm(zl)==Jh(zl)&&qm||Qm(zl)==Jh(zl)&&Qm)||Jh,dc=Vt?function(t){return gs(t,"utf8").toString("binary")}:function(t){for(var n=[],a=0,c=0,u=0;a<t.length;)switch(c=t.charCodeAt(a++),!0){case c<128:n.push(String.fromCharCode(c));break;case c<2048:n.push(String.fromCharCode(192+(c>>6))),n.push(String.fromCharCode(128+(c&63)));break;case(c>=55296&&c<57344):c-=55296,u=t.charCodeAt(a++)-56320+(c<<10),n.push(String.fromCharCode(240+(u>>18&7))),n.push(String.fromCharCode(144+(u>>12&63))),n.push(String.fromCharCode(128+(u>>6&63))),n.push(String.fromCharCode(128+(u&63)));break;default:n.push(String.fromCharCode(224+(c>>12))),n.push(String.fromCharCode(128+(c>>6&63))),n.push(String.fromCharCode(128+(c&63)))}return n.join("")},Zc=function(){var t={};return function(a,c){var u=a+"|"+(c||"");return t[u]?t[u]:t[u]=new RegExp("<(?:\\w+:)?"+a+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+a+">",c||"")}}(),x3=function(){var t=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(n){return[new RegExp("&"+n[0]+";","ig"),n[1]]});return function(a){for(var c=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),u=0;u<t.length;++u)c=c.replace(t[u][0],t[u][1]);return c}}(),_6=function(){var t={};return function(a){return t[a]!==void 0?t[a]:t[a]=new RegExp("<(?:vt:)?"+a+">([\\s\\S]*?)</(?:vt:)?"+a+">","g")}}(),H6=/<\/?(?:vt:)?variant>/g,z6=/<(?:vt:)([^>]*)>([\s\S]*)</;function ex(t,n){var a=Ut(t),c=t.match(_6(a.baseType))||[],u=[];if(c.length!=a.size){if(n.WTF)throw new Error("unexpected vector length "+c.length+" != "+a.size);return u}return c.forEach(function(m){var h=m.replace(H6,"").match(z6);h&&u.push({v:on(h[2]),t:h[1]})}),u}var X6=/(^\s|\s$|\n)/;function W6(t){return Fa(t).map(function(n){return" "+n+'="'+t[n]+'"'}).join("")}function G6(t,n,a){return"<"+t+(a!=null?W6(a):"")+(n!=null?(n.match(X6)?' xml:space="preserve"':"")+">"+n+"</"+t:"/")+">"}function Yp(t){if(Vt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return on(ms(Xp(t)));throw new Error("Bad input format: expected Buffer or string")}var Qc=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,V6={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},j6=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function K6(t,n){for(var a=1-2*(t[n+7]>>>7),c=((t[n+7]&127)<<4)+(t[n+6]>>>4&15),u=t[n+6]&15,m=5;m>=0;--m)u=u*256+t[n+m];return c==2047?u==0?a*(1/0):NaN:(c==0?c=-1022:(c-=1023,u+=Math.pow(2,52)),a*Math.pow(2,c-52)*u)}function Y6(t,n,a){var c=(n<0||1/n==-1/0?1:0)<<7,u=0,m=0,h=c?-n:n;isFinite(h)?h==0?u=m=0:(u=Math.floor(Math.log(h)/Math.LN2),m=h*Math.pow(2,52-u),u<=-1023&&(!isFinite(m)||m<Math.pow(2,52))?u=-1022:(m-=Math.pow(2,52),u+=1023)):(u=2047,m=isNaN(n)?26985:0);for(var o=0;o<=5;++o,m/=256)t[a+o]=m&255;t[a+6]=(u&15)<<4|m&15,t[a+7]=u>>4|c}var tx=function(t){for(var n=[],a=10240,c=0;c<t[0].length;++c)if(t[0][c])for(var u=0,m=t[0][c].length;u<m;u+=a)n.push.apply(n,t[0][c].slice(u,u+a));return n},nx=Vt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(n){return Buffer.isBuffer(n)?n:gs(n)})):tx(t)}:tx,rx=function(t,n,a){for(var c=[],u=n;u<a;u+=2)c.push(String.fromCharCode(Ha(t,u)));return c.join("").replace(pr,"")},Jp=Vt?function(t,n,a){return Buffer.isBuffer(t)?t.toString("utf16le",n,a).replace(pr,""):rx(t,n,a)}:rx,ax=function(t,n,a){for(var c=[],u=n;u<n+a;++u)c.push(("0"+t[u].toString(16)).slice(-2));return c.join("")},b3=Vt?function(t,n,a){return Buffer.isBuffer(t)?t.toString("hex",n,n+a):ax(t,n,a)}:ax,ix=function(t,n,a){for(var c=[],u=n;u<a;u++)c.push(String.fromCharCode(Xs(t,u)));return c.join("")},ul=Vt?function(n,a,c){return Buffer.isBuffer(n)?n.toString("utf8",a,c):ix(n,a,c)}:ix,y3=function(t,n){var a=Tr(t,n);return a>0?ul(t,n+4,n+4+a-1):""},v3=y3,w3=function(t,n){var a=Tr(t,n);return a>0?ul(t,n+4,n+4+a-1):""},A3=w3,S3=function(t,n){var a=2*Tr(t,n);return a>0?ul(t,n+4,n+4+a-1):""},k3=S3,E3=function(n,a){var c=Tr(n,a);return c>0?Jp(n,a+4,a+4+c):""},C3=E3,T3=function(t,n){var a=Tr(t,n);return a>0?ul(t,n+4,n+4+a):""},F3=T3,I3=function(t,n){return K6(t,n)},ku=I3,O3=function(n){return Array.isArray(n)||typeof Uint8Array<"u"&&n instanceof Uint8Array};Vt&&(v3=function(n,a){if(!Buffer.isBuffer(n))return y3(n,a);var c=n.readUInt32LE(a);return c>0?n.toString("utf8",a+4,a+4+c-1):""},A3=function(n,a){if(!Buffer.isBuffer(n))return w3(n,a);var c=n.readUInt32LE(a);return c>0?n.toString("utf8",a+4,a+4+c-1):""},k3=function(n,a){if(!Buffer.isBuffer(n))return S3(n,a);var c=2*n.readUInt32LE(a);return n.toString("utf16le",a+4,a+4+c-1)},C3=function(n,a){if(!Buffer.isBuffer(n))return E3(n,a);var c=n.readUInt32LE(a);return n.toString("utf16le",a+4,a+4+c)},F3=function(n,a){if(!Buffer.isBuffer(n))return T3(n,a);var c=n.readUInt32LE(a);return n.toString("utf8",a+4,a+4+c)},ku=function(n,a){return Buffer.isBuffer(n)?n.readDoubleLE(a):I3(n,a)},O3=function(n){return Buffer.isBuffer(n)||Array.isArray(n)||typeof Uint8Array<"u"&&n instanceof Uint8Array});var Xs=function(t,n){return t[n]},Ha=function(t,n){return t[n+1]*(1<<8)+t[n]},J6=function(t,n){var a=t[n+1]*256+t[n];return a<32768?a:(65535-a+1)*-1},Tr=function(t,n){return t[n+3]*(1<<24)+(t[n+2]<<16)+(t[n+1]<<8)+t[n]},Gi=function(t,n){return t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]},Z6=function(t,n){return t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]};function kc(t,n){var a="",c,u,m=[],h,o,s,i;switch(n){case"dbcs":if(i=this.l,Vt&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*t).toString("utf16le");else for(s=0;s<t;++s)a+=String.fromCharCode(Ha(this,i)),i+=2;t*=2;break;case"utf8":a=ul(this,this.l,this.l+t);break;case"utf16le":t*=2,a=Jp(this,this.l,this.l+t);break;case"wstr":return kc.call(this,t,"dbcs");case"lpstr-ansi":a=v3(this,this.l),t=4+Tr(this,this.l);break;case"lpstr-cp":a=A3(this,this.l),t=4+Tr(this,this.l);break;case"lpwstr":a=k3(this,this.l),t=4+2*Tr(this,this.l);break;case"lpp4":t=4+Tr(this,this.l),a=C3(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Tr(this,this.l),a=F3(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,a="";(h=Xs(this,this.l+t++))!==0;)m.push(Hl(h));a=m.join("");break;case"_wstr":for(t=0,a="";(h=Ha(this,this.l+t))!==0;)m.push(Hl(h)),t+=2;t+=2,a=m.join("");break;case"dbcs-cont":for(a="",i=this.l,s=0;s<t;++s){if(this.lens&&this.lens.indexOf(i)!==-1)return h=Xs(this,i),this.l=i+1,o=kc.call(this,t-s,h?"dbcs-cont":"sbcs-cont"),m.join("")+o;m.push(Hl(Ha(this,i))),i+=2}a=m.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(a="",i=this.l,s=0;s!=t;++s){if(this.lens&&this.lens.indexOf(i)!==-1)return h=Xs(this,i),this.l=i+1,o=kc.call(this,t-s,h?"dbcs-cont":"sbcs-cont"),m.join("")+o;m.push(Hl(Xs(this,i))),i+=1}a=m.join("");break;default:switch(t){case 1:return c=Xs(this,this.l),this.l++,c;case 2:return c=(n==="i"?J6:Ha)(this,this.l),this.l+=2,c;case 4:case-4:return n==="i"||(this[this.l+3]&128)===0?(c=(t>0?Gi:Z6)(this,this.l),this.l+=4,c):(u=Tr(this,this.l),this.l+=4,u);case 8:case-8:if(n==="f")return t==8?u=ku(this,this.l):u=ku([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,u;t=8;case 16:a=b3(this,this.l,t);break}}return this.l+=t,a}var Q6=function(t,n,a){t[a]=n&255,t[a+1]=n>>>8&255,t[a+2]=n>>>16&255,t[a+3]=n>>>24&255},q6=function(t,n,a){t[a]=n&255,t[a+1]=n>>8&255,t[a+2]=n>>16&255,t[a+3]=n>>24&255},ew=function(t,n,a){t[a]=n&255,t[a+1]=n>>>8&255};function tw(t,n,a){var c=0,u=0;if(a==="dbcs"){for(u=0;u!=n.length;++u)ew(this,n.charCodeAt(u),this.l+2*u);c=2*n.length}else if(a==="sbcs"){for(n=n.replace(/[^\x00-\x7F]/g,"_"),u=0;u!=n.length;++u)this[this.l+u]=n.charCodeAt(u)&255;c=n.length}else if(a==="hex"){for(;u<t;++u)this[this.l++]=parseInt(n.slice(2*u,2*u+2),16)||0;return this}else if(a==="utf16le"){var m=Math.min(this.l+t,this.length);for(u=0;u<Math.min(n.length,t);++u){var h=n.charCodeAt(u);this[this.l++]=h&255,this[this.l++]=h>>8}for(;this.l<m;)this[this.l++]=0;return this}else switch(t){case 1:c=1,this[this.l]=n&255;break;case 2:c=2,this[this.l]=n&255,n>>>=8,this[this.l+1]=n&255;break;case 3:c=3,this[this.l]=n&255,n>>>=8,this[this.l+1]=n&255,n>>>=8,this[this.l+2]=n&255;break;case 4:c=4,Q6(this,n,this.l);break;case 8:if(c=8,a==="f"){Y6(this,n,this.l);break}case 16:break;case-4:c=4,q6(this,n,this.l);break}return this.l+=c,this}function P3(t,n){var a=b3(this,this.l,t.length>>1);if(a!==t)throw new Error(n+"Expected "+t+" saw "+a);this.l+=t.length>>1}function zn(t,n){t.l=n,t.read_shift=kc,t.chk=P3,t.write_shift=tw}function ar(t,n){t.l+=n}function Tn(t){var n=Pi(t);return zn(n,0),n}function ti(t,n,a){if(!!t){var c,u,m;zn(t,t.l||0);for(var h=t.length,o=0,s=0;t.l<h;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var i=Ou[o]||Ou[65535];for(c=t.read_shift(1),m=c&127,u=1;u<4&&c&128;++u)m+=((c=t.read_shift(1))&127)<<7*u;s=t.l+m;var l=i.f&&i.f(t,m,a);if(t.l=s,n(l,i,o))return}}}function O1(){var t=[],n=Vt?256:2048,a=function(i){var l=Tn(i);return zn(l,0),l},c=a(n),u=function(){!c||(c.length>c.l&&(c=c.slice(0,c.l),c.l=c.length),c.length>0&&t.push(c),c=null)},m=function(i){return c&&i<c.length-c.l?c:(u(),c=a(Math.max(i+1,n)))},h=function(){return u(),hi(t)},o=function(i){u(),c=i,c.l==null&&(c.l=c.length),m(n)};return{next:m,push:o,end:h,_bufs:t}}function Ec(t,n,a){var c=Gn(t);if(n.s?(c.cRel&&(c.c+=n.s.c),c.rRel&&(c.r+=n.s.r)):(c.cRel&&(c.c+=n.c),c.rRel&&(c.r+=n.r)),!a||a.biff<12){for(;c.c>=256;)c.c-=256;for(;c.r>=65536;)c.r-=65536}return c}function sx(t,n,a){var c=Gn(t);return c.s=Ec(c.s,n.s,a),c.e=Ec(c.e,n.s,a),c}function Cc(t,n){if(t.cRel&&t.c<0)for(t=Gn(t);t.c<0;)t.c+=n>8?16384:256;if(t.rRel&&t.r<0)for(t=Gn(t);t.r<0;)t.r+=n>8?1048576:n>5?65536:16384;var a=Ht(t);return!t.cRel&&t.cRel!=null&&(a=aw(a)),!t.rRel&&t.rRel!=null&&(a=nw(a)),a}function Zh(t,n){return t.s.r==0&&!t.s.rRel&&t.e.r==(n.biff>=12?1048575:n.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Pn(t.s.c)+":"+(t.e.cRel?"":"$")+Pn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(n.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Vn(t.s.r)+":"+(t.e.rRel?"":"$")+Vn(t.e.r):Cc(t.s,n.biff)+":"+Cc(t.e,n.biff)}function Zp(t){return parseInt(rw(t),10)-1}function Vn(t){return""+(t+1)}function nw(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function rw(t){return t.replace(/\$(\d+)$/,"$1")}function Qp(t){for(var n=iw(t),a=0,c=0;c!==n.length;++c)a=26*a+n.charCodeAt(c)-64;return a-1}function Pn(t){if(t<0)throw new Error("invalid column "+t);var n="";for(++t;t;t=Math.floor((t-1)/26))n=String.fromCharCode((t-1)%26+65)+n;return n}function aw(t){return t.replace(/^([A-Z])/,"$$$1")}function iw(t){return t.replace(/^\$([A-Z])/,"$1")}function sw(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fr(t){for(var n=0,a=0,c=0;c<t.length;++c){var u=t.charCodeAt(c);u>=48&&u<=57?n=10*n+(u-48):u>=65&&u<=90&&(a=26*a+(u-64))}return{c:a-1,r:n-1}}function Ht(t){for(var n=t.c+1,a="";n;n=(n-1)/26|0)a=String.fromCharCode((n-1)%26+65)+a;return a+(t.r+1)}function Oo(t){var n=t.indexOf(":");return n==-1?{s:fr(t),e:fr(t)}:{s:fr(t.slice(0,n)),e:fr(t.slice(n+1))}}function Kt(t,n){return typeof n>"u"||typeof n=="number"?Kt(t.s,t.e):(typeof t!="string"&&(t=Ht(t)),typeof n!="string"&&(n=Ht(n)),t==n?t:t+":"+n)}function yn(t){var n={s:{c:0,r:0},e:{c:0,r:0}},a=0,c=0,u=0,m=t.length;for(a=0;c<m&&!((u=t.charCodeAt(c)-64)<1||u>26);++c)a=26*a+u;for(n.s.c=--a,a=0;c<m&&!((u=t.charCodeAt(c)-48)<0||u>9);++c)a=10*a+u;if(n.s.r=--a,c===m||u!=10)return n.e.c=n.s.c,n.e.r=n.s.r,n;for(++c,a=0;c!=m&&!((u=t.charCodeAt(c)-64)<1||u>26);++c)a=26*a+u;for(n.e.c=--a,a=0;c!=m&&!((u=t.charCodeAt(c)-48)<0||u>9);++c)a=10*a+u;return n.e.r=--a,n}function ox(t,n){var a=t.t=="d"&&n instanceof Date;if(t.z!=null)try{return t.w=Qr(t.z,a?gr(n):n)}catch{}try{return t.w=Qr((t.XF||{}).numFmtId||(a?14:0),a?gr(n):n)}catch{return""+n}}function Za(t,n,a){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&a&&a.dateNF&&(t.z=a.dateNF),t.t=="e"?ys[t.v]||t.v:n==null?ox(t,t.v):ox(t,n))}function Bi(t,n){var a=n&&n.sheet?n.sheet:"Sheet1",c={};return c[a]=t,{SheetNames:[a],Sheets:c}}function R3(t,n,a){var c=a||{},u=t?Array.isArray(t):c.dense,m=t||(u?[]:{}),h=0,o=0;if(m&&c.origin!=null){if(typeof c.origin=="number")h=c.origin;else{var s=typeof c.origin=="string"?fr(c.origin):c.origin;h=s.r,o=s.c}m["!ref"]||(m["!ref"]="A1:A1")}var i={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(m["!ref"]){var l=yn(m["!ref"]);i.s.c=l.s.c,i.s.r=l.s.r,i.e.c=Math.max(i.e.c,l.e.c),i.e.r=Math.max(i.e.r,l.e.r),h==-1&&(i.e.r=h=l.e.r+1)}for(var d=0;d!=n.length;++d)if(!!n[d]){if(!Array.isArray(n[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var e=0;e!=n[d].length;++e)if(!(typeof n[d][e]>"u")){var r={v:n[d][e]},p=h+d,x=o+e;if(i.s.r>p&&(i.s.r=p),i.s.c>x&&(i.s.c=x),i.e.r<p&&(i.e.r=p),i.e.c<x&&(i.e.c=x),n[d][e]&&typeof n[d][e]=="object"&&!Array.isArray(n[d][e])&&!(n[d][e]instanceof Date))r=n[d][e];else if(Array.isArray(r.v)&&(r.f=n[d][e][1],r.v=r.v[0]),r.v===null)if(r.f)r.t="n";else if(c.nullError)r.t="e",r.v=0;else if(c.sheetStubs)r.t="z";else continue;else typeof r.v=="number"?r.t="n":typeof r.v=="boolean"?r.t="b":r.v instanceof Date?(r.z=c.dateNF||Xt[14],c.cellDates?(r.t="d",r.w=Qr(r.z,gr(r.v))):(r.t="n",r.v=gr(r.v),r.w=Qr(r.z,r.v))):r.t="s";if(u)m[p]||(m[p]=[]),m[p][x]&&m[p][x].z&&(r.z=m[p][x].z),m[p][x]=r;else{var y=Ht({c:x,r:p});m[y]&&m[y].z&&(r.z=m[y].z),m[y]=r}}}return i.s.c<1e7&&(m["!ref"]=Kt(i)),m}function Po(t,n){return R3(null,t,n)}function ow(t){return t.read_shift(4,"i")}function nr(t){var n=t.read_shift(4);return n===0?"":t.read_shift(n,"dbcs")}function cw(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function qp(t,n){var a=t.l,c=t.read_shift(1),u=nr(t),m=[],h={t:u,h:u};if((c&1)!==0){for(var o=t.read_shift(4),s=0;s!=o;++s)m.push(cw(t));h.r=m}else h.r=[{ich:0,ifnt:0}];return t.l=a+n,h}var lw=qp;function ea(t){var n=t.read_shift(4),a=t.read_shift(2);return a+=t.read_shift(1)<<16,t.l++,{c:n,iStyleRef:a}}function xs(t){var n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:n}}var uw=nr;function eg(t){var n=t.read_shift(4);return n===0||n===4294967295?"":t.read_shift(n,"dbcs")}var hw=nr,P1=eg;function tg(t){var n=t.slice(t.l,t.l+4),a=n[0]&1,c=n[0]&2;t.l+=4;var u=c===0?ku([0,0,0,0,n[0]&252,n[1],n[2],n[3]],0):Gi(n,0)>>2;return a?u/100:u}function M3(t){var n={s:{},e:{}};return n.s.r=t.read_shift(4),n.e.r=t.read_shift(4),n.s.c=t.read_shift(4),n.e.c=t.read_shift(4),n}var bs=M3;function er(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function fw(t){var n={},a=t.read_shift(1),c=a>>>1,u=t.read_shift(1),m=t.read_shift(2,"i"),h=t.read_shift(1),o=t.read_shift(1),s=t.read_shift(1);switch(t.l++,c){case 0:n.auto=1;break;case 1:n.index=u;var i=es[u];i&&(n.rgb=el(i));break;case 2:n.rgb=el([h,o,s]);break;case 3:n.theme=u;break}return m!=0&&(n.tint=m>0?m/32767:m/32768),n}function dw(t){var n=t.read_shift(1);t.l++;var a={fBold:n&1,fItalic:n&2,fUnderline:n&4,fStrikeout:n&8,fOutline:n&16,fShadow:n&32,fCondense:n&64,fExtend:n&128};return a}function D3(t,n){var a={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},c=t.read_shift(4);switch(c){case 0:return"";case 4294967295:case 4294967294:return a[t.read_shift(4)]||""}if(c>400)throw new Error("Unsupported Clipboard: "+c.toString(16));return t.l-=4,t.read_shift(0,n==1?"lpstr":"lpwstr")}function pw(t){return D3(t,1)}function gw(t){return D3(t,2)}var ng=2,yr=3,Xl=11,cx=12,Eu=19,Wl=64,mw=65,xw=71,bw=4108,yw=4126,Mn=80,L3=81,vw=[Mn,L3],ww={1:{n:"CodePage",t:ng},2:{n:"Category",t:Mn},3:{n:"PresentationFormat",t:Mn},4:{n:"ByteCount",t:yr},5:{n:"LineCount",t:yr},6:{n:"ParagraphCount",t:yr},7:{n:"SlideCount",t:yr},8:{n:"NoteCount",t:yr},9:{n:"HiddenCount",t:yr},10:{n:"MultimediaClipCount",t:yr},11:{n:"ScaleCrop",t:Xl},12:{n:"HeadingPairs",t:bw},13:{n:"TitlesOfParts",t:yw},14:{n:"Manager",t:Mn},15:{n:"Company",t:Mn},16:{n:"LinksUpToDate",t:Xl},17:{n:"CharacterCount",t:yr},19:{n:"SharedDoc",t:Xl},22:{n:"HyperlinksChanged",t:Xl},23:{n:"AppVersion",t:yr,p:"version"},24:{n:"DigSig",t:mw},26:{n:"ContentType",t:Mn},27:{n:"ContentStatus",t:Mn},28:{n:"Language",t:Mn},29:{n:"Version",t:Mn},255:{},2147483648:{n:"Locale",t:Eu},2147483651:{n:"Behavior",t:Eu},1919054434:{}},Aw={1:{n:"CodePage",t:ng},2:{n:"Title",t:Mn},3:{n:"Subject",t:Mn},4:{n:"Author",t:Mn},5:{n:"Keywords",t:Mn},6:{n:"Comments",t:Mn},7:{n:"Template",t:Mn},8:{n:"LastAuthor",t:Mn},9:{n:"RevNumber",t:Mn},10:{n:"EditTime",t:Wl},11:{n:"LastPrinted",t:Wl},12:{n:"CreatedDate",t:Wl},13:{n:"ModifiedDate",t:Wl},14:{n:"PageCount",t:yr},15:{n:"WordCount",t:yr},16:{n:"CharCount",t:yr},17:{n:"Thumbnail",t:xw},18:{n:"Application",t:Mn},19:{n:"DocSecurity",t:yr},255:{},2147483648:{n:"Locale",t:Eu},2147483651:{n:"Behavior",t:Eu},1919054434:{}},lx={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Sw=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function kw(t){return t.map(function(n){return[n>>16&255,n>>8&255,n&255]})}var Ew=kw([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),es=Gn(Ew),ys={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},N3={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ux={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Cw(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Tw(t){var n=Cw();if(!t||!t.match)return n;var a={};if((t.match(ir)||[]).forEach(function(c){var u=Ut(c);switch(u[0].replace(L6,"<")){case"<?xml":break;case"<Types":n.xmlns=u["xmlns"+(u[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[u.Extension]=u.ContentType;break;case"<Override":n[ux[u.ContentType]]!==void 0&&n[ux[u.ContentType]].push(u.PartName);break}}),n.xmlns!==V6.CT)throw new Error("Unknown Namespace: "+n.xmlns);return n.calcchain=n.calcchains.length>0?n.calcchains[0]:"",n.sst=n.strs.length>0?n.strs[0]:"",n.style=n.styles.length>0?n.styles[0]:"",n.defaults=a,delete n.calcchains,n}var no={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function R1(t){var n=t.lastIndexOf("/");return t.slice(0,n+1)+"_rels/"+t.slice(n+1)+".rels"}function Tc(t,n){var a={"!id":{}};if(!t)return a;n.charAt(0)!=="/"&&(n="/"+n);var c={};return(t.match(ir)||[]).forEach(function(u){var m=Ut(u);if(m[0]==="<Relationship"){var h={};h.Type=m.Type,h.Target=m.Target,h.Id=m.Id,m.TargetMode&&(h.TargetMode=m.TargetMode);var o=m.TargetMode==="External"?m.Target:fc(m.Target,n);a[o]=h,c[m.Id]=h}}),a["!id"]=c,a}var Fw="application/vnd.oasis.opendocument.spreadsheet";function Iw(t,n){for(var a=Yp(t),c,u;c=Qc.exec(a);)switch(c[3]){case"manifest":break;case"file-entry":if(u=Ut(c[0],!1),u.path=="/"&&u.type!==Fw)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(n&&n.WTF)throw c}}var Fc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Ow=function(){for(var t=new Array(Fc.length),n=0;n<Fc.length;++n){var a=Fc[n],c="(?:"+a[0].slice(0,a[0].indexOf(":"))+":)"+a[0].slice(a[0].indexOf(":")+1);t[n]=new RegExp("<"+c+"[^>]*>([\\s\\S]*?)</"+c+">")}return t}();function B3(t){var n={};t=on(t);for(var a=0;a<Fc.length;++a){var c=Fc[a],u=t.match(Ow[a]);u!=null&&u.length>0&&(n[c[1]]=Jt(u[1])),c[2]==="date"&&n[c[1]]&&(n[c[1]]=Nn(n[c[1]]))}return n}var Pw=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function $3(t,n,a,c){var u=[];if(typeof t=="string")u=ex(t,c);else for(var m=0;m<t.length;++m)u=u.concat(t[m].map(function(l){return{v:l}}));var h=typeof n=="string"?ex(n,c).map(function(l){return l.v}):n,o=0,s=0;if(h.length>0)for(var i=0;i!==u.length;i+=2){switch(s=+u[i+1].v,u[i].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":a.Worksheets=s,a.SheetNames=h.slice(o,o+s);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":a.NamedRanges=s,a.DefinedNames=h.slice(o,o+s);break;case"Charts":case"Diagramme":a.Chartsheets=s,a.ChartNames=h.slice(o,o+s);break}o+=s}}function Rw(t,n,a){var c={};return n||(n={}),t=on(t),Pw.forEach(function(u){var m=(t.match(Zc(u[0]))||[])[1];switch(u[2]){case"string":m&&(n[u[1]]=Jt(m));break;case"bool":n[u[1]]=m==="true";break;case"raw":var h=t.match(new RegExp("<"+u[0]+"[^>]*>([\\s\\S]*?)</"+u[0]+">"));h&&h.length>0&&(c[u[1]]=h[1]);break}}),c.HeadingPairs&&c.TitlesOfParts&&$3(c.HeadingPairs,c.TitlesOfParts,n,a),n}var Mw=/<[^>]+>[^<]*/g;function Dw(t,n){var a={},c="",u=t.match(Mw);if(u)for(var m=0;m!=u.length;++m){var h=u[m],o=Ut(h);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":c=Jt(o.name);break;case"</property>":c=null;break;default:if(h.indexOf("<vt:")===0){var s=h.split(">"),i=s[0].slice(4),l=s[1];switch(i){case"lpstr":case"bstr":case"lpwstr":a[c]=Jt(l);break;case"bool":a[c]=un(l);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[c]=parseInt(l,10);break;case"r4":case"r8":case"decimal":a[c]=parseFloat(l);break;case"filetime":case"date":a[c]=Nn(l);break;case"cy":case"error":a[c]=Jt(l);break;default:if(i.slice(-1)=="/")break;n.WTF&&typeof console<"u"&&console.warn("Unexpected",h,i,s)}}else if(h.slice(0,2)!=="</"){if(n.WTF)throw new Error(h)}}}return a}var Lw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Qh;function Nw(t,n,a){Qh||(Qh=Vp(Lw)),n=Qh[n]||n,t[n]=a}function rg(t){var n=t.read_shift(4),a=t.read_shift(4);return new Date((a/1e7*Math.pow(2,32)+n/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function U3(t,n,a){var c=t.l,u=t.read_shift(0,"lpstr-cp");if(a)for(;t.l-c&3;)++t.l;return u}function _3(t,n,a){var c=t.read_shift(0,"lpwstr");return a&&(t.l+=4-(c.length+1&3)&3),c}function H3(t,n,a){return n===31?_3(t):U3(t,n,a)}function M1(t,n,a){return H3(t,n,a===!1?0:4)}function Bw(t,n){if(!n)throw new Error("VtUnalignedString must have positive length");return H3(t,n,0)}function $w(t){for(var n=t.read_shift(4),a=[],c=0;c!=n;++c){var u=t.l;a[c]=t.read_shift(0,"lpwstr").replace(pr,""),t.l-u&2&&(t.l+=2)}return a}function Uw(t){for(var n=t.read_shift(4),a=[],c=0;c!=n;++c)a[c]=t.read_shift(0,"lpstr-cp").replace(pr,"");return a}function _w(t){var n=t.l,a=Cu(t,L3);t[t.l]==0&&t[t.l+1]==0&&t.l-n&2&&(t.l+=2);var c=Cu(t,yr);return[a,c]}function Hw(t){for(var n=t.read_shift(4),a=[],c=0;c<n/2;++c)a.push(_w(t));return a}function hx(t,n){for(var a=t.read_shift(4),c={},u=0;u!=a;++u){var m=t.read_shift(4),h=t.read_shift(4);c[m]=t.read_shift(h,n===1200?"utf16le":"utf8").replace(pr,"").replace(hc,"!"),n===1200&&h%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>2+1<<2),c}function z3(t){var n=t.read_shift(4),a=t.slice(t.l,t.l+n);return t.l+=n,(n&3)>0&&(t.l+=4-(n&3)&3),a}function zw(t){var n={};return n.Size=t.read_shift(4),t.l+=n.Size+3-(n.Size-1)%4,n}function Cu(t,n,a){var c=t.read_shift(2),u,m=a||{};if(t.l+=2,n!==cx&&c!==n&&vw.indexOf(n)===-1&&!((n&65534)==4126&&(c&65534)==4126))throw new Error("Expected type "+n+" saw "+c);switch(n===cx?c:n){case 2:return u=t.read_shift(2,"i"),m.raw||(t.l+=2),u;case 3:return u=t.read_shift(4,"i"),u;case 11:return t.read_shift(4)!==0;case 19:return u=t.read_shift(4),u;case 30:return U3(t,c,4).replace(pr,"");case 31:return _3(t);case 64:return rg(t);case 65:return z3(t);case 71:return zw(t);case 80:return M1(t,c,!m.raw).replace(pr,"");case 81:return Bw(t,c).replace(pr,"");case 4108:return Hw(t);case 4126:case 4127:return c==4127?$w(t):Uw(t);default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+c)}}function fx(t,n){var a=t.l,c=t.read_shift(4),u=t.read_shift(4),m=[],h=0,o=0,s=-1,i={};for(h=0;h!=u;++h){var l=t.read_shift(4),d=t.read_shift(4);m[h]=[l,d+a]}m.sort(function(b,g){return b[1]-g[1]});var e={};for(h=0;h!=u;++h){if(t.l!==m[h][1]){var r=!0;if(h>0&&n)switch(n[m[h-1][0]].t){case 2:t.l+2===m[h][1]&&(t.l+=2,r=!1);break;case 80:t.l<=m[h][1]&&(t.l=m[h][1],r=!1);break;case 4108:t.l<=m[h][1]&&(t.l=m[h][1],r=!1);break}if((!n||h==0)&&t.l<=m[h][1]&&(r=!1,t.l=m[h][1]),r)throw new Error("Read Error: Expected address "+m[h][1]+" at "+t.l+" :"+h)}if(n){var p=n[m[h][0]];if(e[p.n]=Cu(t,p.t,{raw:!0}),p.p==="version"&&(e[p.n]=String(e[p.n]>>16)+"."+("0000"+String(e[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(e[p.n]){case 0:e[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:fa(o=e[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+e[p.n])}}else if(m[h][0]===1){if(o=e.CodePage=Cu(t,ng),fa(o),s!==-1){var x=t.l;t.l=m[s][1],i=hx(t,o),t.l=x}}else if(m[h][0]===0){if(o===0){s=h,t.l=m[h+1][1];continue}i=hx(t,o)}else{var y=i[m[h][0]],v;switch(t[t.l]){case 65:t.l+=4,v=z3(t);break;case 30:t.l+=4,v=M1(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,v=M1(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,v=t.read_shift(4,"i");break;case 19:t.l+=4,v=t.read_shift(4);break;case 5:t.l+=4,v=t.read_shift(8,"f");break;case 11:t.l+=4,v=wn(t,4);break;case 64:t.l+=4,v=Nn(rg(t));break;default:throw new Error("unparsed value: "+t[t.l])}e[y]=v}}return t.l=a+c,e}function dx(t,n,a){var c=t.content;if(!c)return{};zn(c,0);var u,m,h,o,s=0;c.chk("feff","Byte Order: "),c.read_shift(2);var i=c.read_shift(4),l=c.read_shift(16);if(l!==jt.utils.consts.HEADER_CLSID&&l!==a)throw new Error("Bad PropertySet CLSID "+l);if(u=c.read_shift(4),u!==1&&u!==2)throw new Error("Unrecognized #Sets: "+u);if(m=c.read_shift(16),o=c.read_shift(4),u===1&&o!==c.l)throw new Error("Length mismatch: "+o+" !== "+c.l);u===2&&(h=c.read_shift(16),s=c.read_shift(4));var d=fx(c,n),e={SystemIdentifier:i};for(var r in d)e[r]=d[r];if(e.FMTID=m,u===1)return e;if(s-c.l==2&&(c.l+=2),c.l!==s)throw new Error("Length mismatch 2: "+c.l+" !== "+s);var p;try{p=fx(c,null)}catch{}for(r in p)e[r]=p[r];return e.FMTID=[m,h],e}function ai(t,n){return t.read_shift(n),null}function Xw(t,n,a){for(var c=[],u=t.l+n;t.l<u;)c.push(a(t,u-t.l));if(u!==t.l)throw new Error("Slurp error");return c}function wn(t,n){return t.read_shift(n)===1}function En(t){return t.read_shift(2,"u")}function X3(t,n){return Xw(t,n,En)}function Ww(t){var n=t.read_shift(1),a=t.read_shift(1);return a===1?n:n===1}function hl(t,n,a){var c=t.read_shift(a&&a.biff>=12?2:1),u="sbcs-cont";if(a&&a.biff>=8,!a||a.biff==8){var m=t.read_shift(1);m&&(u="dbcs-cont")}else a.biff==12&&(u="wstr");a.biff>=2&&a.biff<=5&&(u="cpstr");var h=c?t.read_shift(c,u):"";return h}function Gw(t){var n=t.read_shift(2),a=t.read_shift(1),c=a&4,u=a&8,m=1+(a&1),h=0,o,s={};u&&(h=t.read_shift(2)),c&&(o=t.read_shift(4));var i=m==2?"dbcs-cont":"sbcs-cont",l=n===0?"":t.read_shift(n,i);return u&&(t.l+=4*h),c&&(t.l+=o),s.t=l,u||(s.raw="<t>"+s.t+"</t>",s.r=s.t),s}function hs(t,n,a){var c;if(a){if(a.biff>=2&&a.biff<=5)return t.read_shift(n,"cpstr");if(a.biff>=12)return t.read_shift(n,"dbcs-cont")}var u=t.read_shift(1);return u===0?c=t.read_shift(n,"sbcs-cont"):c=t.read_shift(n,"dbcs-cont"),c}function fl(t,n,a){var c=t.read_shift(a&&a.biff==2?1:2);return c===0?(t.l++,""):hs(t,c,a)}function vs(t,n,a){if(a.biff>5)return fl(t,n,a);var c=t.read_shift(1);return c===0?(t.l++,""):t.read_shift(c,a.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Vw(t){var n=t.read_shift(1);t.l++;var a=t.read_shift(2);return t.l+=2,[n,a]}function jw(t){var n=t.read_shift(4),a=t.l,c=!1;n>24&&(t.l+=n-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(c=!0),t.l=a);var u=t.read_shift((c?n-24:n)>>1,"utf16le").replace(pr,"");return c&&(t.l+=24),u}function Kw(t){for(var n=t.read_shift(2),a="";n-- >0;)a+="../";var c=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var u=t.read_shift(4);if(u===0)return a+c.replace(/\\/g,"/");var m=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var h=t.read_shift(m>>1,"utf16le").replace(pr,"");return a+h}function Yw(t,n){var a=t.read_shift(16);switch(a){case"e0c9ea79f9bace118c8200aa004ba90b":return jw(t);case"0303000000000000c000000000000046":return Kw(t);default:throw new Error("Unsupported Moniker "+a)}}function Gl(t){var n=t.read_shift(4),a=n>0?t.read_shift(n,"utf16le").replace(pr,""):"";return a}function Jw(t,n){var a=t.l+n,c=t.read_shift(4);if(c!==2)throw new Error("Unrecognized streamVersion: "+c);var u=t.read_shift(2);t.l+=2;var m,h,o,s,i="",l,d;u&16&&(m=Gl(t,a-t.l)),u&128&&(h=Gl(t,a-t.l)),(u&257)===257&&(o=Gl(t,a-t.l)),(u&257)===1&&(s=Yw(t,a-t.l)),u&8&&(i=Gl(t,a-t.l)),u&32&&(l=t.read_shift(16)),u&64&&(d=rg(t)),t.l=a;var e=h||o||s||"";e&&i&&(e+="#"+i),e||(e="#"+i),u&2&&e.charAt(0)=="/"&&e.charAt(1)!="/"&&(e="file://"+e);var r={Target:e};return l&&(r.guid=l),d&&(r.time=d),m&&(r.Tooltip=m),r}function W3(t){var n=t.read_shift(1),a=t.read_shift(1),c=t.read_shift(1),u=t.read_shift(1);return[n,a,c,u]}function G3(t,n){var a=W3(t);return a[3]=0,a}function Oa(t){var n=t.read_shift(2),a=t.read_shift(2),c=t.read_shift(2);return{r:n,c:a,ixfe:c}}function Zw(t){var n=t.read_shift(2),a=t.read_shift(2);return t.l+=8,{type:n,flags:a}}function Qw(t,n,a){return n===0?"":vs(t,n,a)}function qw(t,n,a){var c=a.biff>8?4:2,u=t.read_shift(c),m=t.read_shift(c,"i"),h=t.read_shift(c,"i");return[u,m,h]}function V3(t){var n=t.read_shift(2),a=tg(t);return[n,a]}function eA(t,n,a){t.l+=4,n-=4;var c=t.l+n,u=hl(t,n,a),m=t.read_shift(2);if(c-=t.l,m!==c)throw new Error("Malformed AddinUdf: padding = "+c+" != "+m);return t.l+=m,u}function Zu(t){var n=t.read_shift(2),a=t.read_shift(2),c=t.read_shift(2),u=t.read_shift(2);return{s:{c,r:n},e:{c:u,r:a}}}function j3(t){var n=t.read_shift(2),a=t.read_shift(2),c=t.read_shift(1),u=t.read_shift(1);return{s:{c,r:n},e:{c:u,r:a}}}var tA=j3;function K3(t){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),c=t.read_shift(2);return t.l+=12,[a,n,c]}function nA(t){var n={};return t.l+=4,t.l+=16,n.fSharedNote=t.read_shift(2),t.l+=4,n}function rA(t){var n={};return t.l+=4,t.cf=t.read_shift(2),n}function Jn(t){t.l+=2,t.l+=t.read_shift(2)}var aA={0:Jn,4:Jn,5:Jn,6:Jn,7:rA,8:Jn,9:Jn,10:Jn,11:Jn,12:Jn,13:nA,14:Jn,15:Jn,16:Jn,17:Jn,18:Jn,19:Jn,20:Jn,21:K3};function iA(t,n){for(var a=t.l+n,c=[];t.l<a;){var u=t.read_shift(2);t.l-=2;try{c.push(aA[u](t,a-t.l))}catch{return t.l=a,c}}return t.l!=a&&(t.l=a),c}function Vl(t,n){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=t.read_shift(2),n-=2,n>=2&&(a.dt=t.read_shift(2),t.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(n>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return t.read_shift(n),a}function sA(t,n){return n===0||t.read_shift(2),1200}function oA(t,n,a){if(a.enc)return t.l+=n,"";var c=t.l,u=vs(t,0,a);return t.read_shift(n+c-t.l),u}function cA(t,n,a){var c=a&&a.biff==8||n==2?t.read_shift(2):(t.l+=n,0);return{fDialog:c&16,fBelow:c&64,fRight:c&128}}function lA(t,n,a){var c=t.read_shift(4),u=t.read_shift(1)&3,m=t.read_shift(1);switch(m){case 0:m="Worksheet";break;case 1:m="Macrosheet";break;case 2:m="Chartsheet";break;case 6:m="VBAModule";break}var h=hl(t,0,a);return h.length===0&&(h="Sheet1"),{pos:c,hs:u,dt:m,name:h}}function uA(t,n){for(var a=t.l+n,c=t.read_shift(4),u=t.read_shift(4),m=[],h=0;h!=u&&t.l<a;++h)m.push(Gw(t));return m.Count=c,m.Unique=u,m}function hA(t,n){var a={};return a.dsst=t.read_shift(2),t.l+=n-2,a}function fA(t){var n={};n.r=t.read_shift(2),n.c=t.read_shift(2),n.cnt=t.read_shift(2)-n.c;var a=t.read_shift(2);t.l+=4;var c=t.read_shift(1);return t.l+=3,c&7&&(n.level=c&7),c&32&&(n.hidden=!0),c&64&&(n.hpt=a/20),n}function dA(t){var n=Zw(t);if(n.type!=2211)throw new Error("Invalid Future Record "+n.type);var a=t.read_shift(4);return a!==0}function pA(t){return t.read_shift(2),t.read_shift(4)}function px(t,n,a){var c=0;a&&a.biff==2||(c=t.read_shift(2));var u=t.read_shift(2);a&&a.biff==2&&(c=1-(u>>15),u&=32767);var m={Unsynced:c&1,DyZero:(c&2)>>1,ExAsc:(c&4)>>2,ExDsc:(c&8)>>3};return[m,u]}function gA(t){var n=t.read_shift(2),a=t.read_shift(2),c=t.read_shift(2),u=t.read_shift(2),m=t.read_shift(2),h=t.read_shift(2),o=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2);return{Pos:[n,a],Dim:[c,u],Flags:m,CurTab:h,FirstTab:o,Selected:s,TabRatio:i}}function mA(t,n,a){if(a&&a.biff>=2&&a.biff<5)return{};var c=t.read_shift(2);return{RTL:c&64}}function xA(){}function bA(t,n,a){var c={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return c.name=hl(t,0,a),c}function yA(t){var n=Oa(t);return n.isst=t.read_shift(4),n}function vA(t,n,a){a.biffguess&&a.biff==2&&(a.biff=5);var c=t.l+n,u=Oa(t);a.biff==2&&t.l++;var m=fl(t,c-t.l,a);return u.val=m,u}function wA(t,n,a){var c=t.read_shift(2),u=vs(t,0,a);return[c,u]}var AA=vs;function gx(t,n,a){var c=t.l+n,u=a.biff==8||!a.biff?4:2,m=t.read_shift(u),h=t.read_shift(u),o=t.read_shift(2),s=t.read_shift(2);return t.l=c,{s:{r:m,c:o},e:{r:h,c:s}}}function SA(t){var n=t.read_shift(2),a=t.read_shift(2),c=V3(t);return{r:n,c:a,ixfe:c[0],rknum:c[1]}}function kA(t,n){for(var a=t.l+n-2,c=t.read_shift(2),u=t.read_shift(2),m=[];t.l<a;)m.push(V3(t));if(t.l!==a)throw new Error("MulRK read error");var h=t.read_shift(2);if(m.length!=h-u+1)throw new Error("MulRK length mismatch");return{r:c,c:u,C:h,rkrec:m}}function EA(t,n){for(var a=t.l+n-2,c=t.read_shift(2),u=t.read_shift(2),m=[];t.l<a;)m.push(t.read_shift(2));if(t.l!==a)throw new Error("MulBlank read error");var h=t.read_shift(2);if(m.length!=h-u+1)throw new Error("MulBlank length mismatch");return{r:c,c:u,C:h,ixfe:m}}function CA(t,n,a,c){var u={},m=t.read_shift(4),h=t.read_shift(4),o=t.read_shift(4),s=t.read_shift(2);return u.patternType=Sw[o>>26],c.cellStyles&&(u.alc=m&7,u.fWrap=m>>3&1,u.alcV=m>>4&7,u.fJustLast=m>>7&1,u.trot=m>>8&255,u.cIndent=m>>16&15,u.fShrinkToFit=m>>20&1,u.iReadOrder=m>>22&2,u.fAtrNum=m>>26&1,u.fAtrFnt=m>>27&1,u.fAtrAlc=m>>28&1,u.fAtrBdr=m>>29&1,u.fAtrPat=m>>30&1,u.fAtrProt=m>>31&1,u.dgLeft=h&15,u.dgRight=h>>4&15,u.dgTop=h>>8&15,u.dgBottom=h>>12&15,u.icvLeft=h>>16&127,u.icvRight=h>>23&127,u.grbitDiag=h>>30&3,u.icvTop=o&127,u.icvBottom=o>>7&127,u.icvDiag=o>>14&127,u.dgDiag=o>>21&15,u.icvFore=s&127,u.icvBack=s>>7&127,u.fsxButton=s>>14&1),u}function TA(t,n,a){var c={};return c.ifnt=t.read_shift(2),c.numFmtId=t.read_shift(2),c.flags=t.read_shift(2),c.fStyle=c.flags>>2&1,n-=6,c.data=CA(t,n,c.fStyle,a),c}function FA(t){t.l+=4;var n=[t.read_shift(2),t.read_shift(2)];if(n[0]!==0&&n[0]--,n[1]!==0&&n[1]--,n[0]>7||n[1]>7)throw new Error("Bad Gutters: "+n.join("|"));return n}function mx(t,n,a){var c=Oa(t);(a.biff==2||n==9)&&++t.l;var u=Ww(t);return c.val=u,c.t=u===!0||u===!1?"b":"e",c}function IA(t,n,a){a.biffguess&&a.biff==2&&(a.biff=5);var c=Oa(t),u=er(t);return c.val=u,c}var xx=Qw;function OA(t,n,a){var c=t.l+n,u=t.read_shift(2),m=t.read_shift(2);if(a.sbcch=m,m==1025||m==14849)return[m,u];if(m<1||m>255)throw new Error("Unexpected SupBook type: "+m);for(var h=hs(t,m),o=[];c>t.l;)o.push(fl(t));return[m,u,h,o]}function bx(t,n,a){var c=t.read_shift(2),u,m={fBuiltIn:c&1,fWantAdvise:c>>>1&1,fWantPict:c>>>2&1,fOle:c>>>3&1,fOleLink:c>>>4&1,cf:c>>>5&1023,fIcon:c>>>15&1};return a.sbcch===14849&&(u=eA(t,n-2,a)),m.body=u||t.read_shift(n-2),typeof u=="string"&&(m.Name=u),m}var PA=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function yx(t,n,a){var c=t.l+n,u=t.read_shift(2),m=t.read_shift(1),h=t.read_shift(1),o=t.read_shift(a&&a.biff==2?1:2),s=0;(!a||a.biff>=5)&&(a.biff!=5&&(t.l+=2),s=t.read_shift(2),a.biff==5&&(t.l+=2),t.l+=4);var i=hs(t,h,a);u&32&&(i=PA[i.charCodeAt(0)]);var l=c-t.l;a&&a.biff==2&&--l;var d=c==t.l||o===0||!(l>0)?[]:fE(t,l,a,o);return{chKey:m,Name:i,itab:s,rgce:d}}function Y3(t,n,a){if(a.biff<8)return RA(t,n,a);for(var c=[],u=t.l+n,m=t.read_shift(a.biff>8?4:2);m--!==0;)c.push(qw(t,a.biff>8?12:6,a));if(t.l!=u)throw new Error("Bad ExternSheet: "+t.l+" != "+u);return c}function RA(t,n,a){t[t.l+1]==3&&t[t.l]++;var c=hl(t,n,a);return c.charCodeAt(0)==3?c.slice(1):c}function MA(t,n,a){if(a.biff<8){t.l+=n;return}var c=t.read_shift(2),u=t.read_shift(2),m=hs(t,c,a),h=hs(t,u,a);return[m,h]}function DA(t,n,a){var c=j3(t);t.l++;var u=t.read_shift(1);return n-=8,[dE(t,n,a),u,c]}function vx(t,n,a){var c=tA(t);switch(a.biff){case 2:t.l++,n-=7;break;case 3:case 4:t.l+=2,n-=8;break;default:t.l+=6,n-=12}return[c,uE(t,n,a)]}function LA(t){var n=t.read_shift(4)!==0,a=t.read_shift(4)!==0,c=t.read_shift(4);return[n,a,c]}function NA(t,n,a){if(!(a.biff<8)){var c=t.read_shift(2),u=t.read_shift(2),m=t.read_shift(2),h=t.read_shift(2),o=vs(t,0,a);return a.biff<8&&t.read_shift(1),[{r:c,c:u},o,h,m]}}function BA(t,n,a){return NA(t,n,a)}function $A(t,n){for(var a=[],c=t.read_shift(2);c--;)a.push(Zu(t));return a}function UA(t,n,a){if(a&&a.biff<8)return HA(t,n,a);var c=K3(t),u=iA(t,n-22,c[1]);return{cmo:c,ft:u}}var _A={8:function(t,n){var a=t.l+n;t.l+=10;var c=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var u=t.read_shift(1);return t.l+=u,t.l=a,{fmt:c}}};function HA(t,n,a){t.l+=4;var c=t.read_shift(2),u=t.read_shift(2),m=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,n-=36;var h=[];return h.push((_A[c]||ar)(t,n,a)),{cmo:[u,c,m],ft:h}}function zA(t,n,a){var c=t.l,u="";try{t.l+=4;var m=(a.lastobj||{cmo:[0,0]}).cmo[1],h;[0,5,7,11,12,14].indexOf(m)==-1?t.l+=6:h=Vw(t,6,a);var o=t.read_shift(2);t.read_shift(2),En(t,2);var s=t.read_shift(2);t.l+=s;for(var i=1;i<t.lens.length-1;++i){if(t.l-c!=t.lens[i])throw new Error("TxO: bad continue record");var l=t[t.l],d=hs(t,t.lens[i+1]-t.lens[i]-1);if(u+=d,u.length>=(l?o:2*o))break}if(u.length!==o&&u.length!==o*2)throw new Error("cchText: "+o+" != "+u.length);return t.l=c+n,{t:u}}catch{return t.l=c+n,{t:u}}}function XA(t,n){var a=Zu(t);t.l+=16;var c=Jw(t,n-24);return[a,c]}function WA(t,n){t.read_shift(2);var a=Zu(t),c=t.read_shift((n-10)/2,"dbcs-cont");return c=c.replace(pr,""),[a,c]}function GA(t){var n=[0,0],a;return a=t.read_shift(2),n[0]=lx[a]||a,a=t.read_shift(2),n[1]=lx[a]||a,n}function VA(t){for(var n=t.read_shift(2),a=[];n-- >0;)a.push(G3(t));return a}function jA(t){for(var n=t.read_shift(2),a=[];n-- >0;)a.push(G3(t));return a}function KA(t){t.l+=2;var n={cxfs:0,crc:0};return n.cxfs=t.read_shift(2),n.crc=t.read_shift(4),n}function J3(t,n,a){if(!a.cellStyles)return ar(t,n);var c=a&&a.biff>=12?4:2,u=t.read_shift(c),m=t.read_shift(c),h=t.read_shift(c),o=t.read_shift(c),s=t.read_shift(2);c==2&&(t.l+=2);var i={s:u,e:m,w:h,ixfe:o,flags:s};return(a.biff>=5||!a.biff)&&(i.level=s>>8&7),i}function YA(t,n){var a={};return n<32||(t.l+=16,a.header=er(t),a.footer=er(t),t.l+=2),a}function JA(t,n,a){var c={area:!1};if(a.biff!=5)return t.l+=n,c;var u=t.read_shift(1);return t.l+=3,u&16&&(c.area=!0),c}var ZA=Oa,QA=X3,qA=fl;function eS(t){var n=t.read_shift(2),a=t.read_shift(2),c=t.read_shift(4),u={fmt:n,env:a,len:c,data:t.slice(t.l,t.l+c)};return t.l+=c,u}function tS(t,n,a){a.biffguess&&a.biff==5&&(a.biff=2);var c=Oa(t);++t.l;var u=vs(t,n-7,a);return c.t="str",c.val=u,c}function nS(t){var n=Oa(t);++t.l;var a=er(t);return n.t="n",n.val=a,n}function rS(t){var n=Oa(t);++t.l;var a=t.read_shift(2);return n.t="n",n.val=a,n}function aS(t){var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,"sbcs-cont")}function iS(t,n){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=n-13}function sS(t,n,a){var c=t.l+n,u=Oa(t),m=t.read_shift(2),h=hs(t,m,a);return t.l=c,u.t="str",u.val=h,u}var oS=[2,3,48,49,131,139,140,245],wx=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},n=Vp({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(o,s){var i=[],l=Pi(1);switch(s.type){case"base64":l=ha(Mr(o));break;case"binary":l=ha(o);break;case"buffer":case"array":l=o;break}zn(l,0);var d=l.read_shift(1),e=!!(d&136),r=!1,p=!1;switch(d){case 2:break;case 3:break;case 48:r=!0,e=!0;break;case 49:r=!0,e=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var x=0,y=521;d==2&&(x=l.read_shift(2)),l.l+=3,d!=2&&(x=l.read_shift(4)),x>1048576&&(x=1e6),d!=2&&(y=l.read_shift(2));var v=l.read_shift(2),b=s.codepage||1252;d!=2&&(l.l+=16,l.read_shift(1),l[l.l]!==0&&(b=t[l[l.l]]),l.l+=1,l.l+=2),p&&(l.l+=36);for(var g=[],w={},f=Math.min(l.length,d==2?521:y-10-(r?264:0)),E=p?32:11;l.l<f&&l[l.l]!=13;)switch(w={},w.name=ui.utils.decode(b,l.slice(l.l,l.l+E)).replace(/[\u0000\r\n].*$/g,""),l.l+=E,w.type=String.fromCharCode(l.read_shift(1)),d!=2&&!p&&(w.offset=l.read_shift(4)),w.len=l.read_shift(1),d==2&&(w.offset=l.read_shift(2)),w.dec=l.read_shift(1),w.name.length&&g.push(w),d!=2&&(l.l+=p?13:14),w.type){case"B":(!r||w.len!=8)&&s.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":s.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(l[l.l]!==13&&(l.l=y-1),l.read_shift(1)!==13)throw new Error("DBF Terminator not found "+l.l+" "+l[l.l]);l.l=y;var A=0,O=0;for(i[0]=[],O=0;O!=g.length;++O)i[0][O]=g[O].name;for(;x-- >0;){if(l[l.l]===42){l.l+=v;continue}for(++l.l,i[++A]=[],O=0,O=0;O!=g.length;++O){var T=l.slice(l.l,l.l+g[O].len);l.l+=g[O].len,zn(T,0);var D=ui.utils.decode(b,T);switch(g[O].type){case"C":D.trim().length&&(i[A][O]=D.replace(/\s+$/,""));break;case"D":D.length===8?i[A][O]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):i[A][O]=D;break;case"F":i[A][O]=parseFloat(D.trim());break;case"+":case"I":i[A][O]=p?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":i[A][O]=!0;break;case"N":case"F":i[A][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!e)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));i[A][O]="##MEMO##"+(p?parseInt(D.trim(),10):T.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(i[A][O]=+D||0);break;case"@":i[A][O]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":i[A][O]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":i[A][O]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":i[A][O]=-T.read_shift(-8,"f");break;case"B":if(r&&g[O].len==8){i[A][O]=T.read_shift(8,"f");break}case"G":case"P":T.l+=g[O].len;break;case"0":if(g[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+g[O].type)}}}if(d!=2&&l.l<l.length&&l[l.l++]!=26)throw new Error("DBF EOF Marker missing "+(l.l-1)+" of "+l.length+" "+l[l.l-1].toString(16));return s&&s.sheetRows&&(i=i.slice(0,s.sheetRows)),s.DBF=g,i}function c(o,s){var i=s||{};i.dateNF||(i.dateNF="yyyymmdd");var l=Po(a(o,i),i);return l["!cols"]=i.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete i.DBF,l}function u(o,s){try{return Bi(c(o,s),s)}catch(i){if(s&&s.WTF)throw i}return{SheetNames:[],Sheets:{}}}var m={B:8,C:250,L:1,D:8,"?":0,"":0};function h(o,s){var i=s||{};if(+i.codepage>=0&&fa(+i.codepage),i.type=="string")throw new Error("Cannot write DBF to JS string");var l=O1(),d=_1(o,{header:1,raw:!0,cellDates:!0}),e=d[0],r=d.slice(1),p=o["!cols"]||[],x=0,y=0,v=0,b=1;for(x=0;x<e.length;++x){if(((p[x]||{}).DBF||{}).name){e[x]=p[x].DBF.name,++v;continue}if(e[x]!=null){if(++v,typeof e[x]=="number"&&(e[x]=e[x].toString(10)),typeof e[x]!="string")throw new Error("DBF Invalid column name "+e[x]+" |"+typeof e[x]+"|");if(e.indexOf(e[x])!==x){for(y=0;y<1024;++y)if(e.indexOf(e[x]+"_"+y)==-1){e[x]+="_"+y;break}}}}var g=yn(o["!ref"]),w=[],f=[],E=[];for(x=0;x<=g.e.c-g.s.c;++x){var A="",O="",T=0,D=[];for(y=0;y<r.length;++y)r[y][x]!=null&&D.push(r[y][x]);if(D.length==0||e[x]==null){w[x]="?";continue}for(y=0;y<D.length;++y){switch(typeof D[y]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=D[y]instanceof Date?"D":"C";break;default:O="C"}T=Math.max(T,String(D[y]).length),A=A&&A!=O?"C":O}T>250&&(T=250),O=((p[x]||{}).DBF||{}).type,O=="C"&&p[x].DBF.len>T&&(T=p[x].DBF.len),A=="B"&&O=="N"&&(A="N",E[x]=p[x].DBF.dec,T=p[x].DBF.len),f[x]=A=="C"||O=="N"?T:m[A]||0,b+=f[x],w[x]=A}var F=l.next(32);for(F.write_shift(4,318902576),F.write_shift(4,r.length),F.write_shift(2,296+32*v),F.write_shift(2,b),x=0;x<4;++x)F.write_shift(4,0);for(F.write_shift(4,0|(+n[Kv]||3)<<8),x=0,y=0;x<e.length;++x)if(e[x]!=null){var C=l.next(32),B=(e[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,B,"sbcs"),C.write_shift(1,w[x]=="?"?"C":w[x],"sbcs"),C.write_shift(4,y),C.write_shift(1,f[x]||m[w[x]]||0),C.write_shift(1,E[x]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),y+=f[x]||m[w[x]]||0}var M=l.next(264);for(M.write_shift(4,13),x=0;x<65;++x)M.write_shift(4,0);for(x=0;x<r.length;++x){var I=l.next(b);for(I.write_shift(1,0),y=0;y<e.length;++y)if(e[y]!=null)switch(w[y]){case"L":I.write_shift(1,r[x][y]==null?63:r[x][y]?84:70);break;case"B":I.write_shift(8,r[x][y]||0,"f");break;case"N":var W="0";for(typeof r[x][y]=="number"&&(W=r[x][y].toFixed(E[y]||0)),v=0;v<f[y]-W.length;++v)I.write_shift(1,32);I.write_shift(1,W,"sbcs");break;case"D":r[x][y]?(I.write_shift(4,("0000"+r[x][y].getFullYear()).slice(-4),"sbcs"),I.write_shift(2,("00"+(r[x][y].getMonth()+1)).slice(-2),"sbcs"),I.write_shift(2,("00"+r[x][y].getDate()).slice(-2),"sbcs")):I.write_shift(8,"00000000","sbcs");break;case"C":var J=String(r[x][y]!=null?r[x][y]:"").slice(0,f[y]);for(I.write_shift(1,J,"sbcs"),v=0;v<f[y]-J.length;++v)I.write_shift(1,32);break}}return l.next(1).write_shift(1,26),l.end()}return{to_workbook:u,to_sheet:c,from_sheet:h}}(),cS=function(){var t={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},n=new RegExp("\x1BN("+Fa(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(e,r){var p=t[r];return typeof p=="number"?Bm(p):p},c=function(e,r,p){var x=r.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return x==59?e:Bm(x)};t["|"]=254;function u(e,r){switch(r.type){case"base64":return m(Mr(e),r);case"binary":return m(e,r);case"buffer":return m(Vt&&Buffer.isBuffer(e)?e.toString("binary"):ms(e),r);case"array":return m(us(e),r)}throw new Error("Unrecognized type "+r.type)}function m(e,r){var p=e.split(/[\n\r]+/),x=-1,y=-1,v=0,b=0,g=[],w=[],f=null,E={},A=[],O=[],T=[],D=0,F;for(+r.codepage>=0&&fa(+r.codepage);v!==p.length;++v){D=0;var C=p[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,c).replace(n,a),B=C.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),M=B[0],I;if(C.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&w.push(C.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,J=!1,H=!1,N=!1,U=-1,Y=-1;for(b=1;b<B.length;++b)switch(B[b].charAt(0)){case"A":break;case"X":y=parseInt(B[b].slice(1))-1,J=!0;break;case"Y":for(x=parseInt(B[b].slice(1))-1,J||(y=0),F=g.length;F<=x;++F)g[F]=[];break;case"K":I=B[b].slice(1),I.charAt(0)==='"'?I=I.slice(1,I.length-1):I==="TRUE"?I=!0:I==="FALSE"?I=!1:isNaN(ma(I))?isNaN(So(I).getDate())||(I=Nn(I)):(I=ma(I),f!==null&&Io(f)&&(I=Ju(I))),W=!0;break;case"E":N=!0;var _=fo(B[b].slice(1),{r:x,c:y});g[x][y]=[g[x][y],_];break;case"S":H=!0,g[x][y]=[g[x][y],"S5S"];break;case"G":break;case"R":U=parseInt(B[b].slice(1))-1;break;case"C":Y=parseInt(B[b].slice(1))-1;break;default:if(r&&r.WTF)throw new Error("SYLK bad record "+C)}if(W&&(g[x][y]&&g[x][y].length==2?g[x][y][0]=I:g[x][y]=I,f=null),H){if(N)throw new Error("SYLK shared formula cannot have own formula");var V=U>-1&&g[U][Y];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");g[x][y][1]=s9(V[1],{r:x-U,c:y-Y})}break;case"F":var Z=0;for(b=1;b<B.length;++b)switch(B[b].charAt(0)){case"X":y=parseInt(B[b].slice(1))-1,++Z;break;case"Y":for(x=parseInt(B[b].slice(1))-1,F=g.length;F<=x;++F)g[F]=[];break;case"M":D=parseInt(B[b].slice(1))/20;break;case"F":break;case"G":break;case"P":f=w[parseInt(B[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=B[b].slice(1).split(" "),F=parseInt(T[0],10);F<=parseInt(T[1],10);++F)D=parseInt(T[2],10),O[F-1]=D===0?{hidden:!0}:{wch:D},ko(O[F-1]);break;case"C":y=parseInt(B[b].slice(1))-1,O[y]||(O[y]={});break;case"R":x=parseInt(B[b].slice(1))-1,A[x]||(A[x]={}),D>0?(A[x].hpt=D,A[x].hpx=tl(D)):D===0&&(A[x].hidden=!0);break;default:if(r&&r.WTF)throw new Error("SYLK bad record "+C)}Z<1&&(f=null);break;default:if(r&&r.WTF)throw new Error("SYLK bad record "+C)}}return A.length>0&&(E["!rows"]=A),O.length>0&&(E["!cols"]=O),r&&r.sheetRows&&(g=g.slice(0,r.sheetRows)),[g,E]}function h(e,r){var p=u(e,r),x=p[0],y=p[1],v=Po(x,r);return Fa(y).forEach(function(b){v[b]=y[b]}),v}function o(e,r){return Bi(h(e,r),r)}function s(e,r,p,x){var y="C;Y"+(p+1)+";X"+(x+1)+";K";switch(e.t){case"n":y+=e.v||0,e.f&&!e.F&&(y+=";E"+K7(e.f,{r:p,c:x}));break;case"b":y+=e.v?"TRUE":"FALSE";break;case"e":y+=e.w||e.v;break;case"d":y+='"'+(e.w||e.v)+'"';break;case"s":y+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function i(e,r){r.forEach(function(p,x){var y="F;W"+(x+1)+" "+(x+1)+" ";p.hidden?y+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Fu(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Iu(p.wpx)),typeof p.wch=="number"&&(y+=Math.round(p.wch))),y.charAt(y.length-1)!=" "&&e.push(y)})}function l(e,r){r.forEach(function(p,x){var y="F;";p.hidden?y+="M0;":p.hpt?y+="M"+20*p.hpt+";":p.hpx&&(y+="M"+20*r9(p.hpx)+";"),y.length>2&&e.push(y+"R"+(x+1))})}function d(e,r){var p=["ID;PWXL;N;E"],x=[],y=yn(e["!ref"]),v,b=Array.isArray(e),g=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),e["!cols"]&&i(p,e["!cols"]),e["!rows"]&&l(p,e["!rows"]),p.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var w=y.s.r;w<=y.e.r;++w)for(var f=y.s.c;f<=y.e.c;++f){var E=Ht({r:w,c:f});v=b?(e[w]||[])[f]:e[E],!(!v||v.v==null&&(!v.f||v.F))&&x.push(s(v,e,w,f))}return p.join(g)+g+x.join(g)+g+"E"+g}return{to_workbook:o,to_sheet:h,from_sheet:d}}(),lS=function(){function t(m,h){switch(h.type){case"base64":return n(Mr(m),h);case"binary":return n(m,h);case"buffer":return n(Vt&&Buffer.isBuffer(m)?m.toString("binary"):ms(m),h);case"array":return n(us(m),h)}throw new Error("Unrecognized type "+h.type)}function n(m,h){for(var o=m.split(`
`),s=-1,i=-1,l=0,d=[];l!==o.length;++l){if(o[l].trim()==="BOT"){d[++s]=[],i=0;continue}if(!(s<0)){var e=o[l].trim().split(","),r=e[0],p=e[1];++l;for(var x=o[l]||"";(x.match(/["]/g)||[]).length&1&&l<o.length-1;)x+=`
`+o[++l];switch(x=x.trim(),+r){case-1:if(x==="BOT"){d[++s]=[],i=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?d[s][i]=!0:x==="FALSE"?d[s][i]=!1:isNaN(ma(p))?isNaN(So(p).getDate())?d[s][i]=p:d[s][i]=Nn(p):d[s][i]=ma(p),++i;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),d[s][i++]=x!==""?x:null;break}if(x==="EOD")break}}return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}function a(m,h){return Po(t(m,h),h)}function c(m,h){return Bi(a(m,h),h)}var u=function(){var m=function(s,i,l,d,e){s.push(i),s.push(l+","+d),s.push('"'+e.replace(/"/g,'""')+'"')},h=function(s,i,l,d){s.push(i+","+l),s.push(i==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(s){var i=[],l=yn(s["!ref"]),d,e=Array.isArray(s);m(i,"TABLE",0,1,"sheetjs"),m(i,"VECTORS",0,l.e.r-l.s.r+1,""),m(i,"TUPLES",0,l.e.c-l.s.c+1,""),m(i,"DATA",0,0,"");for(var r=l.s.r;r<=l.e.r;++r){h(i,-1,0,"BOT");for(var p=l.s.c;p<=l.e.c;++p){var x=Ht({r,c:p});if(d=e?(s[r]||[])[p]:s[x],!d){h(i,1,0,"");continue}switch(d.t){case"n":var y=d.w;!y&&d.v!=null&&(y=d.v),y==null?d.f&&!d.F?h(i,1,0,"="+d.f):h(i,1,0,""):h(i,0,y,"V");break;case"b":h(i,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":h(i,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Qr(d.z||Xt[14],gr(Nn(d.v)))),h(i,0,d.w,"V");break;default:h(i,1,0,"")}}}h(i,-1,0,"EOD");var v=`\r
`,b=i.join(v);return b}}();return{to_workbook:c,to_sheet:a,from_sheet:u}}(),uS=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function n(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(d,e){for(var r=d.split(`
`),p=-1,x=-1,y=0,v=[];y!==r.length;++y){var b=r[y].trim().split(":");if(b[0]==="cell"){var g=fr(b[1]);if(v.length<=g.r)for(p=v.length;p<=g.r;++p)v[p]||(v[p]=[]);switch(p=g.r,x=g.c,b[2]){case"t":v[p][x]=t(b[3]);break;case"v":v[p][x]=+b[3];break;case"vtf":var w=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[p][x]=!!+b[4];break;default:v[p][x]=+b[4];break}b[2]=="vtf"&&(v[p][x]=[v[p][x],w])}}}return e&&e.sheetRows&&(v=v.slice(0,e.sheetRows)),v}function c(d,e){return Po(a(d,e),e)}function u(d,e){return Bi(c(d,e),e)}var m=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),h=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),s="--SocialCalcSpreadsheetControlSave--";function i(d){if(!d||!d["!ref"])return"";for(var e=[],r=[],p,x="",y=Oo(d["!ref"]),v=Array.isArray(d),b=y.s.r;b<=y.e.r;++b)for(var g=y.s.c;g<=y.e.c;++g)if(x=Ht({r:b,c:g}),p=v?(d[b]||[])[g]:d[x],!(!p||p.v==null||p.t==="z")){switch(r=["cell",x,"t"],p.t){case"s":case"str":r.push(n(p.v));break;case"n":p.f?(r[2]="vtf",r[3]="n",r[4]=p.v,r[5]=n(p.f)):(r[2]="v",r[3]=p.v);break;case"b":r[2]="vt"+(p.f?"f":"c"),r[3]="nl",r[4]=p.v?"1":"0",r[5]=n(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var w=gr(Nn(p.v));r[2]="vtc",r[3]="nd",r[4]=""+w,r[5]=p.w||Qr(p.z||Xt[14],w);break;case"e":continue}e.push(r.join(":"))}return e.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),e.push("valueformat:1:text-wiki"),e.join(`
`)}function l(d){return[m,h,o,h,i(d),s].join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:l}}(),qc=function(){function t(l,d,e,r,p){p.raw?d[e][r]=l:l===""||(l==="TRUE"?d[e][r]=!0:l==="FALSE"?d[e][r]=!1:isNaN(ma(l))?isNaN(So(l).getDate())?d[e][r]=l:d[e][r]=Nn(l):d[e][r]=ma(l))}function n(l,d){var e=d||{},r=[];if(!l||l.length===0)return r;for(var p=l.split(/[\r\n]/),x=p.length-1;x>=0&&p[x].length===0;)--x;for(var y=10,v=0,b=0;b<=x;++b)v=p[b].indexOf(" "),v==-1?v=p[b].length:v++,y=Math.max(y,v);for(b=0;b<=x;++b){r[b]=[];var g=0;for(t(p[b].slice(0,y).trim(),r,b,g,e),g=1;g<=(p[b].length-y)/10+1;++g)t(p[b].slice(y+(g-1)*10,y+g*10).trim(),r,b,g,e)}return e.sheetRows&&(r=r.slice(0,e.sheetRows)),r}var a={44:",",9:"	",59:";",124:"|"},c={44:3,9:2,59:1,124:0};function u(l){for(var d={},e=!1,r=0,p=0;r<l.length;++r)(p=l.charCodeAt(r))==34?e=!e:!e&&p in a&&(d[p]=(d[p]||0)+1);p=[];for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&p.push([d[r],r]);if(!p.length){d=c;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&p.push([d[r],r])}return p.sort(function(x,y){return x[0]-y[0]||c[x[1]]-c[y[1]]}),a[p.pop()[1]]||44}function m(l,d){var e=d||{},r="",p=e.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};l.slice(0,4)=="sep="?l.charCodeAt(5)==13&&l.charCodeAt(6)==10?(r=l.charAt(4),l=l.slice(7)):l.charCodeAt(5)==13||l.charCodeAt(5)==10?(r=l.charAt(4),l=l.slice(6)):r=u(l.slice(0,1024)):e&&e.FS?r=e.FS:r=u(l.slice(0,1024));var y=0,v=0,b=0,g=0,w=0,f=r.charCodeAt(0),E=!1,A=0,O=l.charCodeAt(0);l=l.replace(/\r\n/mg,`
`);var T=e.dateNF!=null?A6(e.dateNF):null;function D(){var F=l.slice(g,w),C={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)C.t="z";else if(e.raw)C.t="s",C.v=F;else if(F.trim().length===0)C.t="s",C.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(C.t="s",C.v=F.slice(2,-1).replace(/""/g,'"')):J7(F)?(C.t="n",C.f=F.slice(1)):(C.t="s",C.v=F);else if(F=="TRUE")C.t="b",C.v=!0;else if(F=="FALSE")C.t="b",C.v=!1;else if(!isNaN(b=ma(F)))C.t="n",e.cellText!==!1&&(C.w=F),C.v=b;else if(!isNaN(So(F).getDate())||T&&F.match(T)){C.z=e.dateNF||Xt[14];var B=0;T&&F.match(T)&&(F=S6(F,e.dateNF,F.match(T)||[]),B=1),e.cellDates?(C.t="d",C.v=Nn(F,B)):(C.t="n",C.v=gr(Nn(F,B))),e.cellText!==!1&&(C.w=Qr(C.z,C.v instanceof Date?gr(C.v):C.v)),e.cellNF||delete C.z}else C.t="s",C.v=F;if(C.t=="z"||(e.dense?(p[y]||(p[y]=[]),p[y][v]=C):p[Ht({c:v,r:y})]=C),g=w+1,O=l.charCodeAt(g),x.e.c<v&&(x.e.c=v),x.e.r<y&&(x.e.r=y),A==f)++v;else if(v=0,++y,e.sheetRows&&e.sheetRows<=y)return!0}e:for(;w<l.length;++w)switch(A=l.charCodeAt(w)){case 34:O===34&&(E=!E);break;case f:case 10:case 13:if(!E&&D())break e;break}return w-g>0&&D(),p["!ref"]=Kt(x),p}function h(l,d){return!(d&&d.PRN)||d.FS||l.slice(0,4)=="sep="||l.indexOf("	")>=0||l.indexOf(",")>=0||l.indexOf(";")>=0?m(l,d):Po(n(l,d),d)}function o(l,d){var e="",r=d.type=="string"?[0,0,0,0]:hg(l,d);switch(d.type){case"base64":e=Mr(l);break;case"binary":e=l;break;case"buffer":d.codepage==65001?e=l.toString("utf8"):d.codepage&&typeof ui<"u"?e=ui.utils.decode(d.codepage,l):e=Vt&&Buffer.isBuffer(l)?l.toString("binary"):ms(l);break;case"array":e=us(l);break;case"string":e=l;break;default:throw new Error("Unrecognized type "+d.type)}return r[0]==239&&r[1]==187&&r[2]==191?e=on(e.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?e=on(e):d.type=="binary"&&typeof ui<"u"&&d.codepage&&(e=ui.utils.decode(d.codepage,ui.utils.encode(28591,e))),e.slice(0,19)=="socialcalc:version:"?uS.to_sheet(d.type=="string"?e:on(e),d):h(e,d)}function s(l,d){return Bi(o(l,d),d)}function i(l){for(var d=[],e=yn(l["!ref"]),r,p=Array.isArray(l),x=e.s.r;x<=e.e.r;++x){for(var y=[],v=e.s.c;v<=e.e.c;++v){var b=Ht({r:x,c:v});if(r=p?(l[x]||[])[v]:l[b],!r||r.v==null){y.push("          ");continue}for(var g=(r.w||(Za(r),r.w)||"").slice(0,10);g.length<10;)g+=" ";y.push(g+(v===0?" ":""))}d.push(y.join(""))}return d.join(`
`)}return{to_workbook:s,to_sheet:o,from_sheet:i}}();function hS(t,n){var a=n||{},c=!!a.WTF;a.WTF=!0;try{var u=cS.to_workbook(t,a);return a.WTF=c,u}catch(m){if(a.WTF=c,!m.message.match(/SYLK bad record ID/)&&c)throw m;return qc.to_workbook(t,n)}}var Ic=function(){function t(_,V,Z){if(!!_){zn(_,_.l||0);for(var q=Z.Enum||U;_.l<_.length;){var re=_.read_shift(2),oe=q[re]||q[65535],ae=_.read_shift(2),R=_.l+ae,S=oe.f&&oe.f(_,ae,Z);if(_.l=R,V(S,oe,re))return}}}function n(_,V){switch(V.type){case"base64":return a(ha(Mr(_)),V);case"binary":return a(ha(_),V);case"buffer":case"array":return a(_,V)}throw"Unsupported type "+V.type}function a(_,V){if(!_)return _;var Z=V||{},q=Z.dense?[]:{},re="Sheet1",oe="",ae=0,R={},S=[],L=[],k={s:{r:0,c:0},e:{r:0,c:0}},z=Z.sheetRows||0;if(_[2]==0&&(_[3]==8||_[3]==9)&&_.length>=16&&_[14]==5&&_[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(_[2]==2)Z.Enum=U,t(_,function(X,ee,G){switch(G){case 0:Z.vers=X,X>=4096&&(Z.qpro=!0);break;case 6:k=X;break;case 204:X&&(oe=X);break;case 222:oe=X;break;case 15:case 51:Z.qpro||(X[1].v=X[1].v.slice(1));case 13:case 14:case 16:G==14&&(X[2]&112)==112&&(X[2]&15)>1&&(X[2]&15)<15&&(X[1].z=Z.dateNF||Xt[14],Z.cellDates&&(X[1].t="d",X[1].v=Ju(X[1].v))),Z.qpro&&X[3]>ae&&(q["!ref"]=Kt(k),R[re]=q,S.push(re),q=Z.dense?[]:{},k={s:{r:0,c:0},e:{r:0,c:0}},ae=X[3],re=oe||"Sheet"+(ae+1),oe="");var ne=Z.dense?(q[X[0].r]||[])[X[0].c]:q[Ht(X[0])];if(ne){ne.t=X[1].t,ne.v=X[1].v,X[1].z!=null&&(ne.z=X[1].z),X[1].f!=null&&(ne.f=X[1].f);break}Z.dense?(q[X[0].r]||(q[X[0].r]=[]),q[X[0].r][X[0].c]=X[1]):q[Ht(X[0])]=X[1];break}},Z);else if(_[2]==26||_[2]==14)Z.Enum=Y,_[2]==14&&(Z.qpro=!0,_.l=0),t(_,function(X,ee,G){switch(G){case 204:re=X;break;case 22:X[1].v=X[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(X[3]>ae&&(q["!ref"]=Kt(k),R[re]=q,S.push(re),q=Z.dense?[]:{},k={s:{r:0,c:0},e:{r:0,c:0}},ae=X[3],re="Sheet"+(ae+1)),z>0&&X[0].r>=z)break;Z.dense?(q[X[0].r]||(q[X[0].r]=[]),q[X[0].r][X[0].c]=X[1]):q[Ht(X[0])]=X[1],k.e.c<X[0].c&&(k.e.c=X[0].c),k.e.r<X[0].r&&(k.e.r=X[0].r);break;case 27:X[14e3]&&(L[X[14e3][0]]=X[14e3][1]);break;case 1537:L[X[0]]=X[1],X[0]==ae&&(re=X[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+_[2]);if(q["!ref"]=Kt(k),R[oe||re]=q,S.push(oe||re),!L.length)return{SheetNames:S,Sheets:R};for(var P={},K=[],te=0;te<L.length;++te)R[S[te]]?(K.push(L[te]||S[te]),P[L[te]]=R[L[te]]||R[S[te]]):(K.push(L[te]),P[L[te]]={"!ref":"A1"});return{SheetNames:K,Sheets:P}}function c(_,V){var Z=V||{};if(+Z.codepage>=0&&fa(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var q=O1(),re=yn(_["!ref"]),oe=Array.isArray(_),ae=[];aa(q,0,m(1030)),aa(q,6,s(re));for(var R=Math.min(re.e.r,8191),S=re.s.r;S<=R;++S)for(var L=Vn(S),k=re.s.c;k<=re.e.c;++k){S===re.s.r&&(ae[k]=Pn(k));var z=ae[k]+L,P=oe?(_[S]||[])[k]:_[z];if(!(!P||P.t=="z"))if(P.t=="n")(P.v|0)==P.v&&P.v>=-32768&&P.v<=32767?aa(q,13,r(S,k,P.v)):aa(q,14,x(S,k,P.v));else{var K=Za(P);aa(q,15,d(S,k,K.slice(0,239)))}}return aa(q,1),q.end()}function u(_,V){var Z=V||{};if(+Z.codepage>=0&&fa(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var q=O1();aa(q,0,h(_));for(var re=0,oe=0;re<_.SheetNames.length;++re)(_.Sheets[_.SheetNames[re]]||{})["!ref"]&&aa(q,27,N(_.SheetNames[re],oe++));var ae=0;for(re=0;re<_.SheetNames.length;++re){var R=_.Sheets[_.SheetNames[re]];if(!(!R||!R["!ref"])){for(var S=yn(R["!ref"]),L=Array.isArray(R),k=[],z=Math.min(S.e.r,8191),P=S.s.r;P<=z;++P)for(var K=Vn(P),te=S.s.c;te<=S.e.c;++te){P===S.s.r&&(k[te]=Pn(te));var X=k[te]+K,ee=L?(R[P]||[])[te]:R[X];if(!(!ee||ee.t=="z"))if(ee.t=="n")aa(q,23,D(P,te,ae,ee.v));else{var G=Za(ee);aa(q,22,A(P,te,ae,G.slice(0,239)))}}++ae}}return aa(q,1),q.end()}function m(_){var V=Tn(2);return V.write_shift(2,_),V}function h(_){var V=Tn(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var Z=0,q=0,re=0,oe=0;oe<_.SheetNames.length;++oe){var ae=_.SheetNames[oe],R=_.Sheets[ae];if(!(!R||!R["!ref"])){++re;var S=Oo(R["!ref"]);Z<S.e.r&&(Z=S.e.r),q<S.e.c&&(q=S.e.c)}}return Z>8191&&(Z=8191),V.write_shift(2,Z),V.write_shift(1,re),V.write_shift(1,q),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function o(_,V,Z){var q={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&Z.qpro?(q.s.c=_.read_shift(1),_.l++,q.s.r=_.read_shift(2),q.e.c=_.read_shift(1),_.l++,q.e.r=_.read_shift(2),q):(q.s.c=_.read_shift(2),q.s.r=_.read_shift(2),V==12&&Z.qpro&&(_.l+=2),q.e.c=_.read_shift(2),q.e.r=_.read_shift(2),V==12&&Z.qpro&&(_.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function s(_){var V=Tn(8);return V.write_shift(2,_.s.c),V.write_shift(2,_.s.r),V.write_shift(2,_.e.c),V.write_shift(2,_.e.r),V}function i(_,V,Z){var q=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(q[0].c=_.read_shift(1),q[3]=_.read_shift(1),q[0].r=_.read_shift(2),_.l+=2):(q[2]=_.read_shift(1),q[0].c=_.read_shift(2),q[0].r=_.read_shift(2)),q}function l(_,V,Z){var q=_.l+V,re=i(_,V,Z);if(re[1].t="s",Z.vers==20768){_.l++;var oe=_.read_shift(1);return re[1].v=_.read_shift(oe,"utf8"),re}return Z.qpro&&_.l++,re[1].v=_.read_shift(q-_.l,"cstr"),re}function d(_,V,Z){var q=Tn(7+Z.length);q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,_),q.write_shift(1,39);for(var re=0;re<q.length;++re){var oe=Z.charCodeAt(re);q.write_shift(1,oe>=128?95:oe)}return q.write_shift(1,0),q}function e(_,V,Z){var q=i(_,V,Z);return q[1].v=_.read_shift(2,"i"),q}function r(_,V,Z){var q=Tn(7);return q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,_),q.write_shift(2,Z,"i"),q}function p(_,V,Z){var q=i(_,V,Z);return q[1].v=_.read_shift(8,"f"),q}function x(_,V,Z){var q=Tn(13);return q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,_),q.write_shift(8,Z,"f"),q}function y(_,V,Z){var q=_.l+V,re=i(_,V,Z);if(re[1].v=_.read_shift(8,"f"),Z.qpro)_.l=q;else{var oe=_.read_shift(2);w(_.slice(_.l,_.l+oe),re),_.l+=oe}return re}function v(_,V,Z){var q=V&32768;return V&=-32769,V=(q?_:0)+(V>=8192?V-16384:V),(q?"":"$")+(Z?Pn(V):Vn(V))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},g=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(_,V){zn(_,0);for(var Z=[],q=0,re="",oe="",ae="",R="";_.l<_.length;){var S=_[_.l++];switch(S){case 0:Z.push(_.read_shift(8,"f"));break;case 1:oe=v(V[0].c,_.read_shift(2),!0),re=v(V[0].r,_.read_shift(2),!1),Z.push(oe+re);break;case 2:{var L=v(V[0].c,_.read_shift(2),!0),k=v(V[0].r,_.read_shift(2),!1);oe=v(V[0].c,_.read_shift(2),!0),re=v(V[0].r,_.read_shift(2),!1),Z.push(L+k+":"+oe+re)}break;case 3:if(_.l<_.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(_.read_shift(2));break;case 6:{for(var z="";S=_[_.l++];)z+=String.fromCharCode(S);Z.push('"'+z.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:R=Z.pop(),ae=Z.pop(),Z.push(["AND","OR"][S-20]+"("+ae+","+R+")");break;default:if(S<32&&g[S])R=Z.pop(),ae=Z.pop(),Z.push(ae+g[S]+R);else if(b[S]){if(q=b[S][1],q==69&&(q=_[_.l++]),q>Z.length){console.error("WK1 bad formula parse 0x"+S.toString(16)+":|"+Z.join("|")+"|");return}var P=Z.slice(-q);Z.length-=q,Z.push(b[S][0]+"("+P.join(",")+")")}else return S<=7?console.error("WK1 invalid opcode "+S.toString(16)):S<=24?console.error("WK1 unsupported op "+S.toString(16)):S<=30?console.error("WK1 invalid opcode "+S.toString(16)):S<=115?console.error("WK1 unsupported function opcode "+S.toString(16)):console.error("WK1 unrecognized opcode "+S.toString(16))}}Z.length==1?V[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function f(_){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=_.read_shift(2),V[3]=_[_.l++],V[0].c=_[_.l++],V}function E(_,V){var Z=f(_);return Z[1].t="s",Z[1].v=_.read_shift(V-4,"cstr"),Z}function A(_,V,Z,q){var re=Tn(6+q.length);re.write_shift(2,_),re.write_shift(1,Z),re.write_shift(1,V),re.write_shift(1,39);for(var oe=0;oe<q.length;++oe){var ae=q.charCodeAt(oe);re.write_shift(1,ae>=128?95:ae)}return re.write_shift(1,0),re}function O(_,V){var Z=f(_);Z[1].v=_.read_shift(2);var q=Z[1].v>>1;if(Z[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return Z[1].v=q,Z}function T(_,V){var Z=f(_),q=_.read_shift(4),re=_.read_shift(4),oe=_.read_shift(2);if(oe==65535)return q===0&&re===3221225472?(Z[1].t="e",Z[1].v=15):q===0&&re===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var ae=oe&32768;return oe=(oe&32767)-16446,Z[1].v=(1-ae*2)*(re*Math.pow(2,oe+32)+q*Math.pow(2,oe)),Z}function D(_,V,Z,q){var re=Tn(14);if(re.write_shift(2,_),re.write_shift(1,Z),re.write_shift(1,V),q==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var oe=0,ae=0,R=0,S=0;return q<0&&(oe=1,q=-q),ae=Math.log2(q)|0,q/=Math.pow(2,ae-31),S=q>>>0,(S&2147483648)==0&&(q/=2,++ae,S=q>>>0),q-=S,S|=2147483648,S>>>=0,q*=Math.pow(2,32),R=q>>>0,re.write_shift(4,R),re.write_shift(4,S),ae+=16383+(oe?32768:0),re.write_shift(2,ae),re}function F(_,V){var Z=T(_);return _.l+=V-14,Z}function C(_,V){var Z=f(_),q=_.read_shift(4);return Z[1].v=q>>6,Z}function B(_,V){var Z=f(_),q=_.read_shift(8,"f");return Z[1].v=q,Z}function M(_,V){var Z=B(_);return _.l+=V-10,Z}function I(_,V){return _[_.l+V-1]==0?_.read_shift(V,"cstr"):""}function W(_,V){var Z=_[_.l++];Z>V-1&&(Z=V-1);for(var q="";q.length<Z;)q+=String.fromCharCode(_[_.l++]);return q}function J(_,V,Z){if(!(!Z.qpro||V<21)){var q=_.read_shift(1);_.l+=17,_.l+=1,_.l+=2;var re=_.read_shift(V-21,"cstr");return[q,re]}}function H(_,V){for(var Z={},q=_.l+V;_.l<q;){var re=_.read_shift(2);if(re==14e3){for(Z[re]=[0,""],Z[re][0]=_.read_shift(2);_[_.l];)Z[re][1]+=String.fromCharCode(_[_.l]),_.l++;_.l++}}return Z}function N(_,V){var Z=Tn(5+_.length);Z.write_shift(2,14e3),Z.write_shift(2,V);for(var q=0;q<_.length;++q){var re=_.charCodeAt(q);Z[Z.l++]=re>127?95:re}return Z[Z.l++]=0,Z}var U={0:{n:"BOF",f:En},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:e},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:l},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:l},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:I},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:I},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:c,book_to_wk3:u,to_workbook:n}}();function fS(t){var n={},a=t.match(ir),c=0,u=!1;if(a)for(;c!=a.length;++c){var m=Ut(a[c]);switch(m[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!m.val)break;case"<shadow>":case"<shadow/>":n.shadow=1;break;case"</shadow>":break;case"<charset":if(m.val=="1")break;n.cp=Hp[parseInt(m.val,10)];break;case"<outline":if(!m.val)break;case"<outline>":case"<outline/>":n.outline=1;break;case"</outline>":break;case"<rFont":n.name=m.val;break;case"<sz":n.sz=m.val;break;case"<strike":if(!m.val)break;case"<strike>":case"<strike/>":n.strike=1;break;case"</strike>":break;case"<u":if(!m.val)break;switch(m.val){case"double":n.uval="double";break;case"singleAccounting":n.uval="single-accounting";break;case"doubleAccounting":n.uval="double-accounting";break}case"<u>":case"<u/>":n.u=1;break;case"</u>":break;case"<b":if(m.val=="0")break;case"<b>":case"<b/>":n.b=1;break;case"</b>":break;case"<i":if(m.val=="0")break;case"<i>":case"<i/>":n.i=1;break;case"</i>":break;case"<color":m.rgb&&(n.color=m.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":n.family=m.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":n.valign=m.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(m[0].charCodeAt(1)!==47&&!u)throw new Error("Unrecognized rich format "+m[0])}}return n}var dS=function(){var t=Zc("t"),n=Zc("rPr");function a(m){var h=m.match(t);if(!h)return{t:"s",v:""};var o={t:"s",v:Jt(h[1])},s=m.match(n);return s&&(o.s=fS(s[1])),o}var c=/<(?:\w+:)?r>/g,u=/<\/(?:\w+:)?r>/;return function(h){return h.replace(c,"").split(u).map(a).filter(function(o){return o.v})}}(),pS=function(){var n=/(\r\n|\n)/g;function a(u,m,h){var o=[];u.u&&o.push("text-decoration: underline;"),u.uval&&o.push("text-underline-style:"+u.uval+";"),u.sz&&o.push("font-size:"+u.sz+"pt;"),u.outline&&o.push("text-effect: outline;"),u.shadow&&o.push("text-shadow: auto;"),m.push('<span style="'+o.join("")+'">'),u.b&&(m.push("<b>"),h.push("</b>")),u.i&&(m.push("<i>"),h.push("</i>")),u.strike&&(m.push("<s>"),h.push("</s>"));var s=u.valign||"";return s=="superscript"||s=="super"?s="sup":s=="subscript"&&(s="sub"),s!=""&&(m.push("<"+s+">"),h.push("</"+s+">")),h.push("</span>"),u}function c(u){var m=[[],u.v,[]];return u.v?(u.s&&a(u.s,m[0],m[2]),m[0].join("")+m[1].replace(n,"<br/>")+m[2].join("")):""}return function(m){return m.map(c).join("")}}(),gS=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,mS=/<(?:\w+:)?r>/,xS=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ag(t,n){var a=n?n.cellHTML:!0,c={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(c.t=Jt(on(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),c.r=on(t),a&&(c.h=Kp(c.t))):t.match(mS)&&(c.r=on(t),c.t=Jt(on((t.replace(xS,"").match(gS)||[]).join("").replace(ir,""))),a&&(c.h=pS(dS(c.r)))),c):{t:""}}var bS=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,yS=/<(?:\w+:)?(?:si|sstItem)>/g,vS=/<\/(?:\w+:)?(?:si|sstItem)>/;function wS(t,n){var a=[],c="";if(!t)return a;var u=t.match(bS);if(u){c=u[2].replace(yS,"").split(vS);for(var m=0;m!=c.length;++m){var h=ag(c[m].trim(),n);h!=null&&(a[a.length]=h)}u=Ut(u[1]),a.Count=u.count,a.Unique=u.uniqueCount}return a}function AS(t){return[t.read_shift(4),t.read_shift(4)]}function SS(t,n){var a=[],c=!1;return ti(t,function(m,h,o){switch(o){case 159:a.Count=m[0],a.Unique=m[1];break;case 19:a.push(m);break;case 160:return!0;case 35:c=!0;break;case 36:c=!1;break;default:if(h.T,!c||n.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function Z3(t){for(var n=[],a=t.split(""),c=0;c<a.length;++c)n[c]=a[c].charCodeAt(0);return n}function Ga(t,n){var a={};return a.Major=t.read_shift(2),a.Minor=t.read_shift(2),n>=4&&(t.l+=n-4),a}function kS(t){var n={};return n.id=t.read_shift(0,"lpp4"),n.R=Ga(t,4),n.U=Ga(t,4),n.W=Ga(t,4),n}function ES(t){for(var n=t.read_shift(4),a=t.l+n-4,c={},u=t.read_shift(4),m=[];u-- >0;)m.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(c.name=t.read_shift(0,"lpp4"),c.comps=m,t.l!=a)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+a);return c}function CS(t){var n=[];t.l+=4;for(var a=t.read_shift(4);a-- >0;)n.push(ES(t));return n}function TS(t){var n=[];t.l+=4;for(var a=t.read_shift(4);a-- >0;)n.push(t.read_shift(0,"lpp4"));return n}function FS(t){var n={};return t.read_shift(4),t.l+=4,n.id=t.read_shift(0,"lpp4"),n.name=t.read_shift(0,"lpp4"),n.R=Ga(t,4),n.U=Ga(t,4),n.W=Ga(t,4),n}function IS(t){var n=FS(t);if(n.ename=t.read_shift(0,"8lpp4"),n.blksz=t.read_shift(4),n.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return n}function Q3(t,n){var a=t.l+n,c={};c.Flags=t.read_shift(4)&63,t.l+=4,c.AlgID=t.read_shift(4);var u=!1;switch(c.AlgID){case 26126:case 26127:case 26128:u=c.Flags==36;break;case 26625:u=c.Flags==4;break;case 0:u=c.Flags==16||c.Flags==4||c.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+c.AlgID}if(!u)throw new Error("Encryption Flags/AlgID mismatch");return c.AlgIDHash=t.read_shift(4),c.KeySize=t.read_shift(4),c.ProviderType=t.read_shift(4),t.l+=8,c.CSPName=t.read_shift(a-t.l>>1,"utf16le"),t.l=a,c}function q3(t,n){var a={},c=t.l+n;return t.l+=4,a.Salt=t.slice(t.l,t.l+16),t.l+=16,a.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),a.VerifierHash=t.slice(t.l,c),t.l=c,a}function OS(t){var n=Ga(t);switch(n.Minor){case 2:return[n.Minor,PS(t)];case 3:return[n.Minor,RS()];case 4:return[n.Minor,MS(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+n.Minor)}function PS(t){var n=t.read_shift(4);if((n&63)!=36)throw new Error("EncryptionInfo mismatch");var a=t.read_shift(4),c=Q3(t,a),u=q3(t,t.length-t.l);return{t:"Std",h:c,v:u}}function RS(){throw new Error("File is password-protected: ECMA-376 Extensible")}function MS(t){var n=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var a=t.read_shift(t.length-t.l,"utf8"),c={};return a.replace(ir,function(m){var h=Ut(m);switch(Ia(h[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":n.forEach(function(o){c[o]=h[o]});break;case"<dataIntegrity":c.encryptedHmacKey=h.encryptedHmacKey,c.encryptedHmacValue=h.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":c.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":c.uri=h.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":c.encs.push(h);break;default:throw h[0]}}),c}function DS(t,n){var a={},c=a.EncryptionVersionInfo=Ga(t,4);if(n-=4,c.Minor!=2)throw new Error("unrecognized minor version code: "+c.Minor);if(c.Major>4||c.Major<2)throw new Error("unrecognized major version code: "+c.Major);a.Flags=t.read_shift(4),n-=4;var u=t.read_shift(4);return n-=4,a.EncryptionHeader=Q3(t,u),n-=u,a.EncryptionVerifier=q3(t,n),a}function LS(t){var n={},a=n.EncryptionVersionInfo=Ga(t,4);if(a.Major!=1||a.Minor!=1)throw"unrecognized version code "+a.Major+" : "+a.Minor;return n.Salt=t.read_shift(16),n.EncryptedVerifier=t.read_shift(16),n.EncryptedVerifierHash=t.read_shift(16),n}function NS(t){var n=0,a,c=Z3(t),u=c.length+1,m,h,o,s,i;for(a=Pi(u),a[0]=c.length,m=1;m!=u;++m)a[m]=c[m-1];for(m=u-1;m>=0;--m)h=a[m],o=(n&16384)===0?0:1,s=n<<1&32767,i=o|s,n=i^h;return n^52811}var e9=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],n=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],c=function(h){return(h/2|h*128)&255},u=function(h,o){return c(h^o)},m=function(h){for(var o=n[h.length-1],s=104,i=h.length-1;i>=0;--i)for(var l=h[i],d=0;d!=7;++d)l&64&&(o^=a[s]),l*=2,--s;return o};return function(h){for(var o=Z3(h),s=m(o),i=o.length,l=Pi(16),d=0;d!=16;++d)l[d]=0;var e,r,p;for((i&1)===1&&(e=s>>8,l[i]=u(t[0],e),--i,e=s&255,r=o[o.length-1],l[i]=u(r,e));i>0;)--i,e=s>>8,l[i]=u(o[i],e),--i,e=s&255,l[i]=u(o[i],e);for(i=15,p=15-o.length;p>0;)e=s>>8,l[i]=u(t[p],e),--i,--p,e=s&255,l[i]=u(o[i],e),--i,--p;return l}}(),BS=function(t,n,a,c,u){u||(u=n),c||(c=e9(t));var m,h;for(m=0;m!=n.length;++m)h=n[m],h^=c[a],h=(h>>5|h<<3)&255,u[m]=h,++a;return[u,a,c]},$S=function(t){var n=0,a=e9(t);return function(c){var u=BS("",c,n,a);return n=u[1],u[0]}};function US(t,n,a,c){var u={key:En(t),verificationBytes:En(t)};return a.password&&(u.verifier=NS(a.password)),c.valid=u.verificationBytes===u.verifier,c.valid&&(c.insitu=$S(a.password)),u}function _S(t,n,a){var c=a||{};return c.Info=t.read_shift(2),t.l-=2,c.Info===1?c.Data=LS(t):c.Data=DS(t,n),c}function HS(t,n,a){var c={Type:a.biff>=8?t.read_shift(2):0};return c.Type?_S(t,n-2,c):US(t,a.biff>=8?n:n-2,a,c),c}var zS=function(){function t(u,m){switch(m.type){case"base64":return n(Mr(u),m);case"binary":return n(u,m);case"buffer":return n(Vt&&Buffer.isBuffer(u)?u.toString("binary"):ms(u),m);case"array":return n(us(u),m)}throw new Error("Unrecognized type "+m.type)}function n(u,m){var h=m||{},o=h.dense?[]:{},s=u.match(/\\trowd.*?\\row\b/g);if(!s.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:s.length-1}};return s.forEach(function(l,d){Array.isArray(o)&&(o[d]=[]);for(var e=/\\\w+\b/g,r=0,p,x=-1;p=e.exec(l);){switch(p[0]){case"\\cell":var y=l.slice(r,e.lastIndex-p[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var v={v:y,t:"s"};Array.isArray(o)?o[d][x]=v:o[Ht({r:d,c:x})]=v}break}r=e.lastIndex}x>i.e.c&&(i.e.c=x)}),o["!ref"]=Kt(i),o}function a(u,m){return Bi(t(u,m),m)}function c(u){for(var m=["{\\rtf1\\ansi"],h=yn(u["!ref"]),o,s=Array.isArray(u),i=h.s.r;i<=h.e.r;++i){m.push("\\trowd\\trautofit1");for(var l=h.s.c;l<=h.e.c;++l)m.push("\\cellx"+(l+1));for(m.push("\\pard\\intbl"),l=h.s.c;l<=h.e.c;++l){var d=Ht({r:i,c:l});o=s?(u[i]||[])[l]:u[d],!(!o||o.v==null&&(!o.f||o.F))&&(m.push(" "+(o.w||(Za(o),o.w))),m.push("\\cell"))}m.push("\\pard\\intbl\\row")}return m.join("")+"}"}return{to_workbook:a,to_sheet:t,from_sheet:c}}();function XS(t){var n=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(n.slice(0,2),16),parseInt(n.slice(2,4),16),parseInt(n.slice(4,6),16)]}function el(t){for(var n=0,a=1;n!=3;++n)a=a*256+(t[n]>255?255:t[n]<0?0:t[n]);return a.toString(16).toUpperCase().slice(1)}function WS(t){var n=t[0]/255,a=t[1]/255,c=t[2]/255,u=Math.max(n,a,c),m=Math.min(n,a,c),h=u-m;if(h===0)return[0,0,n];var o=0,s=0,i=u+m;switch(s=h/(i>1?2-i:i),u){case n:o=((a-c)/h+6)%6;break;case a:o=(c-n)/h+2;break;case c:o=(n-a)/h+4;break}return[o/6,s,i/2]}function GS(t){var n=t[0],a=t[1],c=t[2],u=a*2*(c<.5?c:1-c),m=c-u/2,h=[m,m,m],o=6*n,s;if(a!==0)switch(o|0){case 0:case 6:s=u*o,h[0]+=u,h[1]+=s;break;case 1:s=u*(2-o),h[0]+=s,h[1]+=u;break;case 2:s=u*(o-2),h[1]+=u,h[2]+=s;break;case 3:s=u*(4-o),h[1]+=s,h[2]+=u;break;case 4:s=u*(o-4),h[2]+=u,h[0]+=s;break;case 5:s=u*(6-o),h[2]+=s,h[0]+=u;break}for(var i=0;i!=3;++i)h[i]=Math.round(h[i]*255);return h}function Tu(t,n){if(n===0)return t;var a=WS(XS(t));return n<0?a[2]=a[2]*(1+n):a[2]=1-(1-a[2])*(1-n),el(GS(a))}var t9=6,VS=15,jS=1,hr=t9;function Fu(t){return Math.floor((t+Math.round(128/hr)/256)*hr)}function Iu(t){return Math.floor((t-5)/hr*100+.5)/100}function D1(t){return Math.round((t*hr+5)/hr*256)/256}function qh(t){return D1(Iu(Fu(t)))}function ig(t){var n=Math.abs(t-qh(t)),a=hr;if(n>.005)for(hr=jS;hr<VS;++hr)Math.abs(t-qh(t))<=n&&(n=Math.abs(t-qh(t)),a=hr);hr=a}function ko(t){t.width?(t.wpx=Fu(t.width),t.wch=Iu(t.wpx),t.MDW=hr):t.wpx?(t.wch=Iu(t.wpx),t.width=D1(t.wch),t.MDW=hr):typeof t.wch=="number"&&(t.width=D1(t.wch),t.wpx=Fu(t.width),t.MDW=hr),t.customWidth&&delete t.customWidth}var KS=96,n9=KS;function r9(t){return t*96/n9}function tl(t){return t*n9/96}var YS={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function JS(t,n,a,c){n.Borders=[];var u={},m=!1;(t[0].match(ir)||[]).forEach(function(h){var o=Ut(h);switch(Ia(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":u={},o.diagonalUp&&(u.diagonalUp=un(o.diagonalUp)),o.diagonalDown&&(u.diagonalDown=un(o.diagonalDown)),n.Borders.push(u);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":m=!0;break;case"</ext>":m=!1;break;default:if(c&&c.WTF&&!m)throw new Error("unrecognized "+o[0]+" in borders")}})}function ZS(t,n,a,c){n.Fills=[];var u={},m=!1;(t[0].match(ir)||[]).forEach(function(h){var o=Ut(h);switch(Ia(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":u={},n.Fills.push(u);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":n.Fills.push(u),u={};break;case"<patternFill":case"<patternFill>":o.patternType&&(u.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":u.bgColor||(u.bgColor={}),o.indexed&&(u.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(u.bgColor.theme=parseInt(o.theme,10)),o.tint&&(u.bgColor.tint=parseFloat(o.tint)),o.rgb&&(u.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":u.fgColor||(u.fgColor={}),o.theme&&(u.fgColor.theme=parseInt(o.theme,10)),o.tint&&(u.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(u.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":m=!0;break;case"</ext>":m=!1;break;default:if(c&&c.WTF&&!m)throw new Error("unrecognized "+o[0]+" in fills")}})}function QS(t,n,a,c){n.Fonts=[];var u={},m=!1;(t[0].match(ir)||[]).forEach(function(h){var o=Ut(h);switch(Ia(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":n.Fonts.push(u),u={};break;case"<name":o.val&&(u.name=on(o.val));break;case"<name/>":case"</name>":break;case"<b":u.bold=o.val?un(o.val):1;break;case"<b/>":u.bold=1;break;case"<i":u.italic=o.val?un(o.val):1;break;case"<i/>":u.italic=1;break;case"<u":switch(o.val){case"none":u.underline=0;break;case"single":u.underline=1;break;case"double":u.underline=2;break;case"singleAccounting":u.underline=33;break;case"doubleAccounting":u.underline=34;break}break;case"<u/>":u.underline=1;break;case"<strike":u.strike=o.val?un(o.val):1;break;case"<strike/>":u.strike=1;break;case"<outline":u.outline=o.val?un(o.val):1;break;case"<outline/>":u.outline=1;break;case"<shadow":u.shadow=o.val?un(o.val):1;break;case"<shadow/>":u.shadow=1;break;case"<condense":u.condense=o.val?un(o.val):1;break;case"<condense/>":u.condense=1;break;case"<extend":u.extend=o.val?un(o.val):1;break;case"<extend/>":u.extend=1;break;case"<sz":o.val&&(u.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(u.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(u.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(u.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Hp[parseInt(o.val,10)];break;case"<color":if(u.color||(u.color={}),o.auto&&(u.color.auto=un(o.auto)),o.rgb)u.color.rgb=o.rgb.slice(-6);else if(o.indexed){u.color.index=parseInt(o.indexed,10);var s=es[u.color.index];u.color.index==81&&(s=es[1]),s||(s=es[1]),u.color.rgb=s[0].toString(16)+s[1].toString(16)+s[2].toString(16)}else o.theme&&(u.color.theme=parseInt(o.theme,10),o.tint&&(u.color.tint=parseFloat(o.tint)),o.theme&&a.themeElements&&a.themeElements.clrScheme&&(u.color.rgb=Tu(a.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":m=!0;break;case"</AlternateContent>":m=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":m=!0;break;case"</ext>":m=!1;break;default:if(c&&c.WTF&&!m)throw new Error("unrecognized "+o[0]+" in fonts")}})}function qS(t,n,a){n.NumberFmt=[];for(var c=Fa(Xt),u=0;u<c.length;++u)n.NumberFmt[c[u]]=Xt[c[u]];var m=t[0].match(ir);if(!!m)for(u=0;u<m.length;++u){var h=Ut(m[u]);switch(Ia(h[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Jt(on(h.formatCode)),s=parseInt(h.numFmtId,10);if(n.NumberFmt[s]=o,s>0){if(s>392){for(s=392;s>60&&n.NumberFmt[s]!=null;--s);n.NumberFmt[s]=o}qi(o,s)}}break;case"</numFmt>":break;default:if(a.WTF)throw new Error("unrecognized "+h[0]+" in numFmts")}}}var jl=["numFmtId","fillId","fontId","borderId","xfId"],Kl=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function e7(t,n,a){n.CellXf=[];var c,u=!1;(t[0].match(ir)||[]).forEach(function(m){var h=Ut(m),o=0;switch(Ia(h[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(c=h,delete c[0],o=0;o<jl.length;++o)c[jl[o]]&&(c[jl[o]]=parseInt(c[jl[o]],10));for(o=0;o<Kl.length;++o)c[Kl[o]]&&(c[Kl[o]]=un(c[Kl[o]]));if(n.NumberFmt&&c.numFmtId>392){for(o=392;o>60;--o)if(n.NumberFmt[c.numFmtId]==n.NumberFmt[o]){c.numFmtId=o;break}}n.CellXf.push(c);break;case"</xf>":break;case"<alignment":case"<alignment/>":var s={};h.vertical&&(s.vertical=h.vertical),h.horizontal&&(s.horizontal=h.horizontal),h.textRotation!=null&&(s.textRotation=h.textRotation),h.indent&&(s.indent=h.indent),h.wrapText&&(s.wrapText=un(h.wrapText)),c.alignment=s;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":u=!0;break;case"</AlternateContent>":u=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(a&&a.WTF&&!u)throw new Error("unrecognized "+h[0]+" in cellXfs")}})}var t7=function(){var n=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,a=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,c=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,u=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,m=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,s,i){var l={};if(!o)return l;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(n))&&qS(d,l,i),(d=o.match(u))&&QS(d,l,s,i),(d=o.match(c))&&ZS(d,l,s,i),(d=o.match(m))&&JS(d,l,s,i),(d=o.match(a))&&e7(d,l,i),l}}();function n7(t,n){var a=t.read_shift(2),c=nr(t);return[a,c]}function r7(t,n,a){var c={};c.sz=t.read_shift(2)/20;var u=dw(t);u.fItalic&&(c.italic=1),u.fCondense&&(c.condense=1),u.fExtend&&(c.extend=1),u.fShadow&&(c.shadow=1),u.fOutline&&(c.outline=1),u.fStrikeout&&(c.strike=1);var m=t.read_shift(2);switch(m===700&&(c.bold=1),t.read_shift(2)){case 1:c.vertAlign="superscript";break;case 2:c.vertAlign="subscript";break}var h=t.read_shift(1);h!=0&&(c.underline=h);var o=t.read_shift(1);o>0&&(c.family=o);var s=t.read_shift(1);switch(s>0&&(c.charset=s),t.l++,c.color=fw(t),t.read_shift(1)){case 1:c.scheme="major";break;case 2:c.scheme="minor";break}return c.name=nr(t),c}var a7=ar;function i7(t,n){var a=t.l+n,c=t.read_shift(2),u=t.read_shift(2);return t.l=a,{ixfe:c,numFmtId:u}}var s7=ar;function o7(t,n,a){var c={};c.NumberFmt=[];for(var u in Xt)c.NumberFmt[u]=Xt[u];c.CellXf=[],c.Fonts=[];var m=[],h=!1;return ti(t,function(s,i,l){switch(l){case 44:c.NumberFmt[s[0]]=s[1],qi(s[1],s[0]);break;case 43:c.Fonts.push(s),s.color.theme!=null&&n&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=Tu(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:m[m.length-1]==617&&c.CellXf.push(s);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:h=!0;break;case 36:h=!1;break;case 37:m.push(l),h=!0;break;case 38:m.pop(),h=!1;break;default:if(i.T>0)m.push(l);else if(i.T<0)m.pop();else if(!h||a.WTF&&m[m.length-1]!=37)throw new Error("Unexpected record 0x"+l.toString(16))}}),c}var c7=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function l7(t,n,a){n.themeElements.clrScheme=[];var c={};(t[0].match(ir)||[]).forEach(function(u){var m=Ut(u);switch(m[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":c.rgb=m.val;break;case"<a:sysClr":c.rgb=m.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":m[0].charAt(1)==="/"?(n.themeElements.clrScheme[c7.indexOf(m[0])]=c,c={}):c.name=m[0].slice(3,m[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+m[0]+" in clrScheme")}})}function u7(){}function h7(){}var f7=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,d7=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,p7=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function g7(t,n,a){n.themeElements={};var c;[["clrScheme",f7,l7],["fontScheme",d7,u7],["fmtScheme",p7,h7]].forEach(function(u){if(!(c=t.match(u[1])))throw new Error(u[0]+" not found in themeElements");u[2](c,n,a)})}var m7=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function a9(t,n){(!t||t.length===0)&&(t=x7());var a,c={};if(!(a=t.match(m7)))throw new Error("themeElements not found in theme");return g7(a[0],c,n),c.raw=t,c}function x7(t,n){if(n&&n.themeXLSX)return n.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var a=[g3];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',a[a.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',a[a.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',a[a.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',a[a.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',a[a.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',a[a.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function b7(t,n,a){var c=t.l+n,u=t.read_shift(4);if(u!==124226){if(!a.cellStyles){t.l=c;return}var m=t.slice(t.l);t.l=c;var h;try{h=p3(m,{type:"array"})}catch{return}var o=Fr(h,"theme/theme/theme1.xml",!0);if(!!o)return a9(o,a)}}function y7(t){return t.read_shift(4)}function v7(t){var n={};switch(n.xclrType=t.read_shift(2),n.nTintShade=t.read_shift(2),n.xclrType){case 0:t.l+=4;break;case 1:n.xclrValue=w7(t,4);break;case 2:n.xclrValue=W3(t);break;case 3:n.xclrValue=y7(t);break;case 4:t.l+=4;break}return t.l+=8,n}function w7(t,n){return ar(t,n)}function A7(t,n){return ar(t,n)}function S7(t){var n=t.read_shift(2),a=t.read_shift(2)-4,c=[n];switch(n){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:c[1]=v7(t);break;case 6:c[1]=A7(t,a);break;case 14:case 15:c[1]=t.read_shift(a===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+n+" "+a)}return c}function k7(t,n){var a=t.l+n;t.l+=2;var c=t.read_shift(2);t.l+=2;for(var u=t.read_shift(2),m=[];u-- >0;)m.push(S7(t,a-t.l));return{ixfe:c,ext:m}}function E7(t,n){n.forEach(function(a){switch(a[0]){}})}function C7(t,n){return{flags:t.read_shift(4),version:t.read_shift(4),name:nr(t)}}function T7(t){for(var n=[],a=t.read_shift(4);a-- >0;)n.push([t.read_shift(4),t.read_shift(4)]);return n}function F7(t){return t.l+=4,t.read_shift(4)!=0}function I7(t,n,a){var c={Types:[],Cell:[],Value:[]},u=a||{},m=[],h=!1,o=2;return ti(t,function(s,i,l){switch(l){case 335:c.Types.push({name:s.name});break;case 51:s.forEach(function(d){o==1?c.Cell.push({type:c.Types[d[0]-1].name,index:d[1]}):o==0&&c.Value.push({type:c.Types[d[0]-1].name,index:d[1]})});break;case 337:o=s?1:0;break;case 338:o=2;break;case 35:m.push(l),h=!0;break;case 36:m.pop(),h=!1;break;default:if(!i.T){if(!h||u.WTF&&m[m.length-1]!=35)throw new Error("Unexpected record 0x"+l.toString(16))}}}),c}function O7(t,n,a){var c={Types:[],Cell:[],Value:[]};if(!t)return c;var u=!1,m=2,h;return t.replace(ir,function(o){var s=Ut(o);switch(Ia(s[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":c.Types.push({name:s.name});break;case"</metadataType>":break;case"<futureMetadata":for(var i=0;i<c.Types.length;++i)c.Types[i].name==s.name&&(h=c.Types[i]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":m==1?c.Cell.push({type:c.Types[s.t-1].name,index:+s.v}):m==0&&c.Value.push({type:c.Types[s.t-1].name,index:+s.v});break;case"</rc>":break;case"<cellMetadata":m=1;break;case"</cellMetadata>":m=2;break;case"<valueMetadata":m=0;break;case"</valueMetadata>":m=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":u=!0;break;case"</ext>":u=!1;break;case"<rvb":if(!h)break;h.offsets||(h.offsets=[]),h.offsets.push(+s.i);break;default:if(!u&&a.WTF)throw new Error("unrecognized "+s[0]+" in metadata")}return o}),c}function P7(t){var n=[];if(!t)return n;var a=1;return(t.match(ir)||[]).forEach(function(c){var u=Ut(c);switch(u[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete u[0],u.i?a=u.i:u.i=a,n.push(u);break}}),n}function R7(t){var n={};n.i=t.read_shift(4);var a={};a.r=t.read_shift(4),a.c=t.read_shift(4),n.r=Ht(a);var c=t.read_shift(1);return c&2&&(n.l="1"),c&8&&(n.a="1"),n}function M7(t,n,a){var c=[];return ti(t,function(m,h,o){switch(o){case 63:c.push(m);break;default:if(!h.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),c}function D7(t,n,a,c){if(!t)return t;var u=c||{},m=!1;ti(t,function(o,s,i){switch(i){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:m=!0;break;case 36:m=!1;break;default:if(!s.T){if(!m||u.WTF)throw new Error("Unexpected record 0x"+i.toString(16))}}},u)}function L7(t,n){if(!t)return"??";var a=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return n["!id"][a].Target}function Ax(t,n,a,c){var u=Array.isArray(t),m;n.forEach(function(h){var o=fr(h.ref);if(u?(t[o.r]||(t[o.r]=[]),m=t[o.r][o.c]):m=t[h.ref],!m){m={t:"z"},u?t[o.r][o.c]=m:t[h.ref]=m;var s=yn(t["!ref"]||"BDWGO1000001:A1");s.s.r>o.r&&(s.s.r=o.r),s.e.r<o.r&&(s.e.r=o.r),s.s.c>o.c&&(s.s.c=o.c),s.e.c<o.c&&(s.e.c=o.c);var i=Kt(s);i!==t["!ref"]&&(t["!ref"]=i)}m.c||(m.c=[]);var l={a:h.author,t:h.t,r:h.r,T:a};h.h&&(l.h=h.h);for(var d=m.c.length-1;d>=0;--d){if(!a&&m.c[d].T)return;a&&!m.c[d].T&&m.c.splice(d,1)}if(a&&c){for(d=0;d<c.length;++d)if(l.a==c[d].id){l.a=c[d].name||l.a;break}}m.c.push(l)})}function N7(t,n){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],c=[],u=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);u&&u[1]&&u[1].split(/<\/\w*:?author>/).forEach(function(h){if(!(h===""||h.trim()==="")){var o=h.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&a.push(o[1])}});var m=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return m&&m[1]&&m[1].split(/<\/\w*:?comment>/).forEach(function(h){if(!(h===""||h.trim()==="")){var o=h.match(/<(?:\w+:)?comment[^>]*>/);if(!!o){var s=Ut(o[0]),i={author:s.authorId&&a[s.authorId]||"sheetjsghost",ref:s.ref,guid:s.guid},l=fr(s.ref);if(!(n.sheetRows&&n.sheetRows<=l.r)){var d=h.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),e=!!d&&!!d[1]&&ag(d[1])||{r:"",t:"",h:""};i.r=e.r,e.r=="<t></t>"&&(e.t=e.h=""),i.t=(e.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.cellHTML&&(i.h=e.h),c.push(i)}}}}),c}function B7(t,n){var a=[],c=!1,u={},m=0;return t.replace(ir,function(o,s){var i=Ut(o);switch(Ia(i[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":u={author:i.personId,guid:i.id,ref:i.ref,T:1};break;case"</threadedComment>":u.t!=null&&a.push(u);break;case"<text>":case"<text":m=s+o.length;break;case"</text>":u.t=t.slice(m,s).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":c=!0;break;case"</mentions>":c=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":c=!0;break;case"</ext>":c=!1;break;default:if(!c&&n.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return o}),a}function $7(t,n){var a=[],c=!1;return t.replace(ir,function(m){var h=Ut(m);switch(Ia(h[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":a.push({name:h.displayname,id:h.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":c=!0;break;case"</ext>":c=!1;break;default:if(!c&&n.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return m}),a}function U7(t){var n={};n.iauthor=t.read_shift(4);var a=bs(t);return n.rfx=a.s,n.ref=Ht(a.s),t.l+=16,n}var _7=nr;function H7(t,n){var a=[],c=[],u={},m=!1;return ti(t,function(o,s,i){switch(i){case 632:c.push(o);break;case 635:u=o;break;case 637:u.t=o.t,u.h=o.h,u.r=o.r;break;case 636:if(u.author=c[u.iauthor],delete u.iauthor,n.sheetRows&&u.rfx&&n.sheetRows<=u.rfx.r)break;u.t||(u.t=""),delete u.rfx,a.push(u);break;case 3072:break;case 35:m=!0;break;case 36:m=!1;break;case 37:break;case 38:break;default:if(!s.T){if(!m||n.WTF)throw new Error("Unexpected record 0x"+i.toString(16))}}}),a}var z7="application/vnd.ms-office.vbaProject";function X7(t){var n=jt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(a,c){if(!(a.slice(-1)==="/"||!a.match(/_VBA_PROJECT_CUR/))){var u=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");jt.utils.cfb_add(n,u,t.FileIndex[c].content)}}),jt.write(n)}function W7(){return{"!type":"dialog"}}function G7(){return{"!type":"dialog"}}function V7(){return{"!type":"macro"}}function j7(){return{"!type":"macro"}}var fo=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,n={r:0,c:0};function a(c,u,m,h){var o=!1,s=!1;m.length==0?s=!0:m.charAt(0)=="["&&(s=!0,m=m.slice(1,-1)),h.length==0?o=!0:h.charAt(0)=="["&&(o=!0,h=h.slice(1,-1));var i=m.length>0?parseInt(m,10)|0:0,l=h.length>0?parseInt(h,10)|0:0;return o?l+=n.c:--l,s?i+=n.r:--i,u+(o?"":"$")+Pn(l)+(s?"":"$")+Vn(i)}return function(u,m){return n=m,u.replace(t,a)}}(),i9=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,K7=function(){return function(n,a){return n.replace(i9,function(c,u,m,h,o,s){var i=Qp(h)-(m?0:a.c),l=Zp(s)-(o?0:a.r),d=l==0?"":o?l+1:"["+l+"]",e=i==0?"":m?i+1:"["+i+"]";return u+"R"+d+"C"+e})}}();function s9(t,n){return t.replace(i9,function(a,c,u,m,h,o){return c+(u=="$"?u+m:Pn(Qp(m)+n.c))+(h=="$"?h+o:Vn(Zp(o)+n.r))})}function Y7(t,n,a){var c=Oo(n),u=c.s,m=fr(a),h={r:m.r-u.r,c:m.c-u.c};return s9(t,h)}function J7(t){return t.length!=1}function Sx(t){return t.replace(/_xlfn\./g,"")}function Sn(t){t.l+=1}function Ri(t,n){var a=t.read_shift(n==1?1:2);return[a&16383,a>>14&1,a>>15&1]}function o9(t,n,a){var c=2;if(a){if(a.biff>=2&&a.biff<=5)return c9(t);a.biff==12&&(c=4)}var u=t.read_shift(c),m=t.read_shift(c),h=Ri(t,2),o=Ri(t,2);return{s:{r:u,c:h[0],cRel:h[1],rRel:h[2]},e:{r:m,c:o[0],cRel:o[1],rRel:o[2]}}}function c9(t){var n=Ri(t,2),a=Ri(t,2),c=t.read_shift(1),u=t.read_shift(1);return{s:{r:n[0],c,cRel:n[1],rRel:n[2]},e:{r:a[0],c:u,cRel:a[1],rRel:a[2]}}}function Z7(t,n,a){if(a.biff<8)return c9(t);var c=t.read_shift(a.biff==12?4:2),u=t.read_shift(a.biff==12?4:2),m=Ri(t,2),h=Ri(t,2);return{s:{r:c,c:m[0],cRel:m[1],rRel:m[2]},e:{r:u,c:h[0],cRel:h[1],rRel:h[2]}}}function l9(t,n,a){if(a&&a.biff>=2&&a.biff<=5)return Q7(t);var c=t.read_shift(a&&a.biff==12?4:2),u=Ri(t,2);return{r:c,c:u[0],cRel:u[1],rRel:u[2]}}function Q7(t){var n=Ri(t,2),a=t.read_shift(1);return{r:n[0],c:a,cRel:n[1],rRel:n[2]}}function q7(t){var n=t.read_shift(2),a=t.read_shift(2);return{r:n,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function ek(t,n,a){var c=a&&a.biff?a.biff:8;if(c>=2&&c<=5)return tk(t);var u=t.read_shift(c>=12?4:2),m=t.read_shift(2),h=(m&16384)>>14,o=(m&32768)>>15;if(m&=16383,o==1)for(;u>524287;)u-=1048576;if(h==1)for(;m>8191;)m=m-16384;return{r:u,c:m,cRel:h,rRel:o}}function tk(t){var n=t.read_shift(2),a=t.read_shift(1),c=(n&32768)>>15,u=(n&16384)>>14;return n&=16383,c==1&&n>=8192&&(n=n-16384),u==1&&a>=128&&(a=a-256),{r:n,c:a,cRel:u,rRel:c}}function nk(t,n,a){var c=(t[t.l++]&96)>>5,u=o9(t,a.biff>=2&&a.biff<=5?6:8,a);return[c,u]}function rk(t,n,a){var c=(t[t.l++]&96)>>5,u=t.read_shift(2,"i"),m=8;if(a)switch(a.biff){case 5:t.l+=12,m=6;break;case 12:m=12;break}var h=o9(t,m,a);return[c,u,h]}function ak(t,n,a){var c=(t[t.l++]&96)>>5;return t.l+=a&&a.biff>8?12:a.biff<8?6:8,[c]}function ik(t,n,a){var c=(t[t.l++]&96)>>5,u=t.read_shift(2),m=8;if(a)switch(a.biff){case 5:t.l+=12,m=6;break;case 12:m=12;break}return t.l+=m,[c,u]}function sk(t,n,a){var c=(t[t.l++]&96)>>5,u=Z7(t,n-1,a);return[c,u]}function ok(t,n,a){var c=(t[t.l++]&96)>>5;return t.l+=a.biff==2?6:a.biff==12?14:7,[c]}function kx(t){var n=t[t.l+1]&1,a=1;return t.l+=4,[n,a]}function ck(t,n,a){t.l+=2;for(var c=t.read_shift(a&&a.biff==2?1:2),u=[],m=0;m<=c;++m)u.push(t.read_shift(a&&a.biff==2?1:2));return u}function lk(t,n,a){var c=t[t.l+1]&255?1:0;return t.l+=2,[c,t.read_shift(a&&a.biff==2?1:2)]}function uk(t,n,a){var c=t[t.l+1]&255?1:0;return t.l+=2,[c,t.read_shift(a&&a.biff==2?1:2)]}function hk(t){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(2)]}function fk(t,n,a){var c=t[t.l+1]&255?1:0;return t.l+=a&&a.biff==2?3:4,[c]}function u9(t){var n=t.read_shift(1),a=t.read_shift(1);return[n,a]}function dk(t){return t.read_shift(2),u9(t)}function pk(t){return t.read_shift(2),u9(t)}function gk(t,n,a){var c=(t[t.l]&96)>>5;t.l+=1;var u=l9(t,0,a);return[c,u]}function mk(t,n,a){var c=(t[t.l]&96)>>5;t.l+=1;var u=ek(t,0,a);return[c,u]}function xk(t,n,a){var c=(t[t.l]&96)>>5;t.l+=1;var u=t.read_shift(2);a&&a.biff==5&&(t.l+=12);var m=l9(t,0,a);return[c,u,m]}function bk(t,n,a){var c=(t[t.l]&96)>>5;t.l+=1;var u=t.read_shift(a&&a.biff<=3?1:2);return[yE[u],d9[u],c]}function yk(t,n,a){var c=t[t.l++],u=t.read_shift(1),m=a&&a.biff<=3?[c==88?-1:0,t.read_shift(1)]:vk(t);return[u,(m[0]===0?d9:bE)[m[1]]]}function vk(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function wk(t,n,a){t.l+=a&&a.biff==2?3:4}function Ak(t,n,a){if(t.l++,a&&a.biff==12)return[t.read_shift(4,"i"),0];var c=t.read_shift(2),u=t.read_shift(a&&a.biff==2?1:2);return[c,u]}function Sk(t){return t.l++,ys[t.read_shift(1)]}function kk(t){return t.l++,t.read_shift(2)}function Ek(t){return t.l++,t.read_shift(1)!==0}function Ck(t){return t.l++,er(t)}function Tk(t,n,a){return t.l++,hl(t,n-1,a)}function Fk(t,n){var a=[t.read_shift(1)];if(n==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=wn(t,1)?"TRUE":"FALSE",n!=12&&(t.l+=7);break;case 37:case 16:a[1]=ys[t[t.l]],t.l+=n==12?4:8;break;case 0:t.l+=8;break;case 1:a[1]=er(t);break;case 2:a[1]=vs(t,0,{biff:n>0&&n<8?2:n});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function Ik(t,n,a){for(var c=t.read_shift(a.biff==12?4:2),u=[],m=0;m!=c;++m)u.push((a.biff==12?bs:Zu)(t));return u}function Ok(t,n,a){var c=0,u=0;a.biff==12?(c=t.read_shift(4),u=t.read_shift(4)):(u=1+t.read_shift(1),c=1+t.read_shift(2)),a.biff>=2&&a.biff<8&&(--c,--u==0&&(u=256));for(var m=0,h=[];m!=c&&(h[m]=[]);++m)for(var o=0;o!=u;++o)h[m][o]=Fk(t,a.biff);return h}function Pk(t,n,a){var c=t.read_shift(1)>>>5&3,u=!a||a.biff>=8?4:2,m=t.read_shift(u);switch(a.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[c,0,m]}function Rk(t,n,a){if(a.biff==5)return Mk(t);var c=t.read_shift(1)>>>5&3,u=t.read_shift(2),m=t.read_shift(4);return[c,u,m]}function Mk(t){var n=t.read_shift(1)>>>5&3,a=t.read_shift(2,"i");t.l+=8;var c=t.read_shift(2);return t.l+=12,[n,a,c]}function Dk(t,n,a){var c=t.read_shift(1)>>>5&3;t.l+=a&&a.biff==2?3:4;var u=t.read_shift(a&&a.biff==2?1:2);return[c,u]}function Lk(t,n,a){var c=t.read_shift(1)>>>5&3,u=t.read_shift(a&&a.biff==2?1:2);return[c,u]}function Nk(t,n,a){var c=t.read_shift(1)>>>5&3;return t.l+=4,a.biff<8&&t.l--,a.biff==12&&(t.l+=2),[c]}function Bk(t,n,a){var c=(t[t.l++]&96)>>5,u=t.read_shift(2),m=4;if(a)switch(a.biff){case 5:m=15;break;case 12:m=6;break}return t.l+=m,[c,u]}var $k=ar,Uk=ar,_k=ar;function dl(t,n,a){return t.l+=2,[q7(t)]}function sg(t){return t.l+=6,[]}var Hk=dl,zk=sg,Xk=sg,Wk=dl;function h9(t){return t.l+=2,[En(t),t.read_shift(2)&1]}var Gk=dl,Vk=h9,jk=sg,Kk=dl,Yk=dl,Jk=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Zk(t){t.l+=2;var n=t.read_shift(2),a=t.read_shift(2),c=t.read_shift(4),u=t.read_shift(2),m=t.read_shift(2),h=Jk[a>>2&31];return{ixti:n,coltype:a&3,rt:h,idx:c,c:u,C:m}}function Qk(t){return t.l+=2,[t.read_shift(4)]}function qk(t,n,a){return t.l+=5,t.l+=2,t.l+=a.biff==2?1:4,["PTGSHEET"]}function eE(t,n,a){return t.l+=a.biff==2?4:5,["PTGENDSHEET"]}function tE(t){var n=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[n,a]}function nE(t){var n=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[n,a]}function rE(t){return t.l+=4,[0,0]}var Ex={1:{n:"PtgExp",f:Ak},2:{n:"PtgTbl",f:_k},3:{n:"PtgAdd",f:Sn},4:{n:"PtgSub",f:Sn},5:{n:"PtgMul",f:Sn},6:{n:"PtgDiv",f:Sn},7:{n:"PtgPower",f:Sn},8:{n:"PtgConcat",f:Sn},9:{n:"PtgLt",f:Sn},10:{n:"PtgLe",f:Sn},11:{n:"PtgEq",f:Sn},12:{n:"PtgGe",f:Sn},13:{n:"PtgGt",f:Sn},14:{n:"PtgNe",f:Sn},15:{n:"PtgIsect",f:Sn},16:{n:"PtgUnion",f:Sn},17:{n:"PtgRange",f:Sn},18:{n:"PtgUplus",f:Sn},19:{n:"PtgUminus",f:Sn},20:{n:"PtgPercent",f:Sn},21:{n:"PtgParen",f:Sn},22:{n:"PtgMissArg",f:Sn},23:{n:"PtgStr",f:Tk},26:{n:"PtgSheet",f:qk},27:{n:"PtgEndSheet",f:eE},28:{n:"PtgErr",f:Sk},29:{n:"PtgBool",f:Ek},30:{n:"PtgInt",f:kk},31:{n:"PtgNum",f:Ck},32:{n:"PtgArray",f:ok},33:{n:"PtgFunc",f:bk},34:{n:"PtgFuncVar",f:yk},35:{n:"PtgName",f:Pk},36:{n:"PtgRef",f:gk},37:{n:"PtgArea",f:nk},38:{n:"PtgMemArea",f:Dk},39:{n:"PtgMemErr",f:$k},40:{n:"PtgMemNoMem",f:Uk},41:{n:"PtgMemFunc",f:Lk},42:{n:"PtgRefErr",f:Nk},43:{n:"PtgAreaErr",f:ak},44:{n:"PtgRefN",f:mk},45:{n:"PtgAreaN",f:sk},46:{n:"PtgMemAreaN",f:tE},47:{n:"PtgMemNoMemN",f:nE},57:{n:"PtgNameX",f:Rk},58:{n:"PtgRef3d",f:xk},59:{n:"PtgArea3d",f:rk},60:{n:"PtgRefErr3d",f:Bk},61:{n:"PtgAreaErr3d",f:ik},255:{}},aE={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iE={1:{n:"PtgElfLel",f:h9},2:{n:"PtgElfRw",f:Kk},3:{n:"PtgElfCol",f:Hk},6:{n:"PtgElfRwV",f:Yk},7:{n:"PtgElfColV",f:Wk},10:{n:"PtgElfRadical",f:Gk},11:{n:"PtgElfRadicalS",f:jk},13:{n:"PtgElfColS",f:zk},15:{n:"PtgElfColSV",f:Xk},16:{n:"PtgElfRadicalLel",f:Vk},25:{n:"PtgList",f:Zk},29:{n:"PtgSxName",f:Qk},255:{}},sE={0:{n:"PtgAttrNoop",f:rE},1:{n:"PtgAttrSemi",f:fk},2:{n:"PtgAttrIf",f:uk},4:{n:"PtgAttrChoose",f:ck},8:{n:"PtgAttrGoto",f:lk},16:{n:"PtgAttrSum",f:wk},32:{n:"PtgAttrBaxcel",f:kx},33:{n:"PtgAttrBaxcel",f:kx},64:{n:"PtgAttrSpace",f:dk},65:{n:"PtgAttrSpaceSemi",f:pk},128:{n:"PtgAttrIfError",f:hk},255:{}};function pl(t,n,a,c){if(c.biff<8)return ar(t,n);for(var u=t.l+n,m=[],h=0;h!==a.length;++h)switch(a[h][0]){case"PtgArray":a[h][1]=Ok(t,0,c),m.push(a[h][1]);break;case"PtgMemArea":a[h][2]=Ik(t,a[h][1],c),m.push(a[h][2]);break;case"PtgExp":c&&c.biff==12&&(a[h][1][1]=t.read_shift(4),m.push(a[h][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[h][0]}return n=u-t.l,n!==0&&m.push(ar(t,n)),m}function gl(t,n,a){for(var c=t.l+n,u,m,h=[];c!=t.l;)n=c-t.l,m=t[t.l],u=Ex[m]||Ex[aE[m]],(m===24||m===25)&&(u=(m===24?iE:sE)[t[t.l+1]]),!u||!u.f?ar(t,n):h.push([u.n,u.f(t,n,a)]);return h}function oE(t){for(var n=[],a=0;a<t.length;++a){for(var c=t[a],u=[],m=0;m<c.length;++m){var h=c[m];if(h)switch(h[0]){case 2:u.push('"'+h[1].replace(/"/g,'""')+'"');break;default:u.push(h[1])}else u.push("")}n.push(u.join(","))}return n.join(";")}var cE={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function lE(t,n){if(!t&&!(n&&n.biff<=5&&n.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function f9(t,n,a){if(!t)return"SH33TJSERR0";if(a.biff>8&&(!t.XTI||!t.XTI[n]))return t.SheetNames[n];if(!t.XTI)return"SH33TJSERR6";var c=t.XTI[n];if(a.biff<8)return n>1e4&&(n-=65536),n<0&&(n=-n),n==0?"":t.XTI[n-1];if(!c)return"SH33TJSERR1";var u="";if(a.biff>8)switch(t[c[0]][0]){case 357:return u=c[1]==-1?"#REF":t.SheetNames[c[1]],c[1]==c[2]?u:u+":"+t.SheetNames[c[2]];case 358:return a.SID!=null?t.SheetNames[a.SID]:"SH33TJSSAME"+t[c[0]][0];case 355:default:return"SH33TJSSRC"+t[c[0]][0]}switch(t[c[0]][0][0]){case 1025:return u=c[1]==-1?"#REF":t.SheetNames[c[1]]||"SH33TJSERR3",c[1]==c[2]?u:u+":"+t.SheetNames[c[2]];case 14849:return t[c[0]].slice(1).map(function(m){return m.Name}).join(";;");default:return t[c[0]][0][3]?(u=c[1]==-1?"#REF":t[c[0]][0][3][c[1]]||"SH33TJSERR4",c[1]==c[2]?u:u+":"+t[c[0]][0][3][c[2]]):"SH33TJSERR2"}}function Cx(t,n,a){var c=f9(t,n,a);return c=="#REF"?c:lE(c,a)}function Zn(t,n,a,c,u){var m=u&&u.biff||8,h={s:{c:0,r:0},e:{c:0,r:0}},o=[],s,i,l,d=0,e=0,r,p="";if(!t[0]||!t[0][0])return"";for(var x=-1,y="",v=0,b=t[0].length;v<b;++v){var g=t[0][v];switch(g[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(s=o.pop(),i=o.pop(),x>=0){switch(t[0][x][1][0]){case 0:y=bn(" ",t[0][x][1][1]);break;case 1:y=bn("\r",t[0][x][1][1]);break;default:if(y="",u.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}i=i+y,x=-1}o.push(i+cE[g[0]]+s);break;case"PtgIsect":s=o.pop(),i=o.pop(),o.push(i+" "+s);break;case"PtgUnion":s=o.pop(),i=o.pop(),o.push(i+","+s);break;case"PtgRange":s=o.pop(),i=o.pop(),o.push(i+":"+s);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":l=Ec(g[1][1],h,u),o.push(Cc(l,m));break;case"PtgRefN":l=a?Ec(g[1][1],a,u):g[1][1],o.push(Cc(l,m));break;case"PtgRef3d":d=g[1][1],l=Ec(g[1][2],h,u),p=Cx(c,d,u),o.push(p+"!"+Cc(l,m));break;case"PtgFunc":case"PtgFuncVar":var w=g[1][0],f=g[1][1];w||(w=0),w&=127;var E=w==0?[]:o.slice(-w);o.length-=w,f==="User"&&(f=E.shift()),o.push(f+"("+E.join(",")+")");break;case"PtgBool":o.push(g[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(g[1]);break;case"PtgNum":o.push(String(g[1]));break;case"PtgStr":o.push('"'+g[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(g[1]);break;case"PtgAreaN":r=sx(g[1][1],a?{s:a}:h,u),o.push(Zh(r,u));break;case"PtgArea":r=sx(g[1][1],h,u),o.push(Zh(r,u));break;case"PtgArea3d":d=g[1][1],r=g[1][2],p=Cx(c,d,u),o.push(p+"!"+Zh(r,u));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":e=g[1][2];var A=(c.names||[])[e-1]||(c[0]||[])[e],O=A?A.Name:"SH33TJSNAME"+String(e);O&&O.slice(0,6)=="_xlfn."&&!u.xlfn&&(O=O.slice(6)),o.push(O);break;case"PtgNameX":var T=g[1][1];e=g[1][2];var D;if(u.biff<=5)T<0&&(T=-T),c[T]&&(D=c[T][e]);else{var F="";if(((c[T]||[])[0]||[])[0]==14849||(((c[T]||[])[0]||[])[0]==1025?c[T][e]&&c[T][e].itab>0&&(F=c.SheetNames[c[T][e].itab-1]+"!"):F=c.SheetNames[e-1]+"!"),c[T]&&c[T][e])F+=c[T][e].Name;else if(c[0]&&c[0][e])F+=c[0][e].Name;else{var C=(f9(c,T,u)||"").split(";;");C[e-1]?F=C[e-1]:F+="SH33TJSERRX"}o.push(F);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var B="(",M=")";if(x>=0){switch(y="",t[0][x][1][0]){case 2:B=bn(" ",t[0][x][1][1])+B;break;case 3:B=bn("\r",t[0][x][1][1])+B;break;case 4:M=bn(" ",t[0][x][1][1])+M;break;case 5:M=bn("\r",t[0][x][1][1])+M;break;default:if(u.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}x=-1}o.push(B+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":l={c:g[1][1],r:g[1][0]};var I={c:a.c,r:a.r};if(c.sharedf[Ht(l)]){var W=c.sharedf[Ht(l)];o.push(Zn(W,h,I,c,u))}else{var J=!1;for(s=0;s!=c.arrayf.length;++s)if(i=c.arrayf[s],!(l.c<i[0].s.c||l.c>i[0].e.c)&&!(l.r<i[0].s.r||l.r>i[0].e.r)){o.push(Zn(i[1],h,I,c,u)),J=!0;break}J||o.push(g[1])}break;case"PtgArray":o.push("{"+oE(g[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+g[1].idx+"[#"+g[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(g));default:throw new Error("Unrecognized Formula Token: "+String(g))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(u.biff!=3&&x>=0&&H.indexOf(t[0][v][0])==-1){g=t[0][x];var N=!0;switch(g[1][0]){case 4:N=!1;case 0:y=bn(" ",g[1][1]);break;case 5:N=!1;case 1:y=bn("\r",g[1][1]);break;default:if(y="",u.WTF)throw new Error("Unexpected PtgAttrSpaceType "+g[1][0])}o.push((N?y:"")+o.pop()+(N?"":y)),x=-1}}if(o.length>1&&u.WTF)throw new Error("bad formula stack");return o[0]}function uE(t,n,a){var c=t.l+n,u=a.biff==2?1:2,m,h=t.read_shift(u);if(h==65535)return[[],ar(t,n-2)];var o=gl(t,h,a);return n!==h+u&&(m=pl(t,n-h-u,o,a)),t.l=c,[o,m]}function hE(t,n,a){var c=t.l+n,u=a.biff==2?1:2,m,h=t.read_shift(u);if(h==65535)return[[],ar(t,n-2)];var o=gl(t,h,a);return n!==h+u&&(m=pl(t,n-h-u,o,a)),t.l=c,[o,m]}function fE(t,n,a,c){var u=t.l+n,m=gl(t,c,a),h;return u!==t.l&&(h=pl(t,u-t.l,m,a)),[m,h]}function dE(t,n,a){var c=t.l+n,u,m=t.read_shift(2),h=gl(t,m,a);return m==65535?[[],ar(t,n-2)]:(n!==m+2&&(u=pl(t,c-m-2,h,a)),[h,u])}function pE(t){var n;if(Ha(t,t.l+6)!==65535)return[er(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return n=t[t.l+2]===1,t.l+=8,[n,"b"];case 2:return n=t[t.l+2],t.l+=8,[n,"e"];case 3:return t.l+=8,["","s"]}return[]}function ef(t,n,a){var c=t.l+n,u=Oa(t);a.biff==2&&++t.l;var m=pE(t),h=t.read_shift(1);a.biff!=2&&(t.read_shift(1),a.biff>=5&&t.read_shift(4));var o=hE(t,c-t.l,a);return{cell:u,val:m[0],formula:o,shared:h>>3&1,tt:m[1]}}function Qu(t,n,a){var c=t.read_shift(4),u=gl(t,c,a),m=t.read_shift(4),h=m>0?pl(t,m,u,a):null;return[u,h]}var gE=Qu,qu=Qu,mE=Qu,xE=Qu,bE={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},d9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},yE={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Tx(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(n,a){return a.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function tf(t){var n=t.split(":"),a=n[0].split(".")[0];return[a,n[0].split(".")[1]+(n.length>1?":"+(n[1].split(".")[1]||n[1].split(".")[0]):"")]}var Oc={},po={};function Pc(t,n){if(!!t){var a=[.7,.7,.75,.75,.3,.3];n=="xlml"&&(a=[1,1,1,1,.5,.5]),t.left==null&&(t.left=a[0]),t.right==null&&(t.right=a[1]),t.top==null&&(t.top=a[2]),t.bottom==null&&(t.bottom=a[3]),t.header==null&&(t.header=a[4]),t.footer==null&&(t.footer=a[5])}}function p9(t,n,a,c,u,m){try{c.cellNF&&(t.z=Xt[n])}catch(o){if(c.WTF)throw o}if(!(t.t==="z"&&!c.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Nn(t.v)),(!c||c.cellText!==!1)&&t.t!=="z")try{if(Xt[n]==null&&qi(w6[n]||"General",n),t.t==="e")t.w=t.w||ys[t.v];else if(n===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Jc(t.v);else if(t.t==="d"){var h=gr(t.v);(h|0)===h?t.w=h.toString(10):t.w=Jc(h)}else{if(t.v===void 0)return"";t.w=ls(t.v,po)}else t.t==="d"?t.w=Qr(n,gr(t.v),po):t.w=Qr(n,t.v,po)}catch(o){if(c.WTF)throw o}if(!!c.cellStyles&&a!=null)try{t.s=m.Fills[a],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Tu(u.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),c.WTF&&(t.s.fgColor.raw_rgb=u.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Tu(u.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),c.WTF&&(t.s.bgColor.raw_rgb=u.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(c.WTF&&m.Fills)throw o}}}function vE(t,n){var a=yn(n);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(t["!ref"]=Kt(a))}var wE=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,AE=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,SE=/<(?:\w:)?hyperlink [^>]*>/mg,kE=/"(\w*:\w*)"/,EE=/<(?:\w:)?col\b[^>]*[\/]?>/g,CE=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,TE=/<(?:\w:)?pageMargins[^>]*\/>/g,g9=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,FE=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,IE=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function OE(t,n,a,c,u,m,h){if(!t)return t;c||(c={"!id":{}});var o=n.dense?[]:{},s={s:{r:2e6,c:2e6},e:{r:0,c:0}},i="",l="",d=t.match(AE);d?(i=t.slice(0,d.index),l=t.slice(d.index+d[0].length)):i=l=t;var e=i.match(g9);e?og(e[0],o,u,a):(e=i.match(FE))&&PE(e[0],e[1]||"",o,u,a);var r=(i.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(r>0){var p=i.slice(r,r+50).match(kE);p&&vE(o,p[1])}var x=i.match(IE);x&&x[1]&&BE(x[1],u);var y=[];if(n.cellStyles){var v=i.match(EE);v&&DE(y,v)}d&&$E(d[1],o,n,s,m,h);var b=l.match(CE);b&&(o["!autofilter"]=LE(b[0]));var g=[],w=l.match(wE);if(w)for(r=0;r!=w.length;++r)g[r]=yn(w[r].slice(w[r].indexOf('"')+1));var f=l.match(SE);f&&RE(o,f,c);var E=l.match(TE);if(E&&(o["!margins"]=ME(Ut(E[0]))),!o["!ref"]&&s.e.c>=s.s.c&&s.e.r>=s.s.r&&(o["!ref"]=Kt(s)),n.sheetRows>0&&o["!ref"]){var A=yn(o["!ref"]);n.sheetRows<=+A.e.r&&(A.e.r=n.sheetRows-1,A.e.r>s.e.r&&(A.e.r=s.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>s.e.c&&(A.e.c=s.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Kt(A))}return y.length>0&&(o["!cols"]=y),g.length>0&&(o["!merges"]=g),o}function og(t,n,a,c){var u=Ut(t);a.Sheets[c]||(a.Sheets[c]={}),u.codeName&&(a.Sheets[c].CodeName=Jt(on(u.codeName)))}function PE(t,n,a,c,u){og(t.slice(0,t.indexOf(">")),a,c,u)}function RE(t,n,a){for(var c=Array.isArray(t),u=0;u!=n.length;++u){var m=Ut(on(n[u]),!0);if(!m.ref)return;var h=((a||{})["!id"]||[])[m.id];h?(m.Target=h.Target,m.location&&(m.Target+="#"+Jt(m.location))):(m.Target="#"+Jt(m.location),h={Target:m.Target,TargetMode:"Internal"}),m.Rel=h,m.tooltip&&(m.Tooltip=m.tooltip,delete m.tooltip);for(var o=yn(m.ref),s=o.s.r;s<=o.e.r;++s)for(var i=o.s.c;i<=o.e.c;++i){var l=Ht({c:i,r:s});c?(t[s]||(t[s]=[]),t[s][i]||(t[s][i]={t:"z",v:void 0}),t[s][i].l=m):(t[l]||(t[l]={t:"z",v:void 0}),t[l].l=m)}}}function ME(t){var n={};return["left","right","top","bottom","header","footer"].forEach(function(a){t[a]&&(n[a]=parseFloat(t[a]))}),n}function DE(t,n){for(var a=!1,c=0;c!=n.length;++c){var u=Ut(n[c],!0);u.hidden&&(u.hidden=un(u.hidden));var m=parseInt(u.min,10)-1,h=parseInt(u.max,10)-1;for(u.outlineLevel&&(u.level=+u.outlineLevel||0),delete u.min,delete u.max,u.width=+u.width,!a&&u.width&&(a=!0,ig(u.width)),ko(u);m<=h;)t[m++]=Gn(u)}}function LE(t){var n={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return n}var NE=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function BE(t,n){n.Views||(n.Views=[{}]),(t.match(NE)||[]).forEach(function(a,c){var u=Ut(a);n.Views[c]||(n.Views[c]={}),+u.zoomScale&&(n.Views[c].zoom=+u.zoomScale),un(u.rightToLeft)&&(n.Views[c].RTL=!0)})}var $E=function(){var t=/<(?:\w+:)?c[ \/>]/,n=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,c=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,u=/ref=["']([^"']*)["']/,m=Zc("v"),h=Zc("f");return function(s,i,l,d,e,r){for(var p=0,x="",y=[],v=[],b=0,g=0,w=0,f="",E,A,O=0,T=0,D,F,C=0,B=0,M=Array.isArray(r.CellXf),I,W=[],J=[],H=Array.isArray(i),N=[],U={},Y=!1,_=!!l.sheetStubs,V=s.split(n),Z=0,q=V.length;Z!=q;++Z){x=V[Z].trim();var re=x.length;if(re===0)continue;var oe=0;e:for(p=0;p<re;++p)switch(x[p]){case">":if(x[p-1]!="/"){++p;break e}if(l&&l.cellStyles){if(A=Ut(x.slice(oe,p),!0),O=A.r!=null?parseInt(A.r,10):O+1,T=-1,l.sheetRows&&l.sheetRows<O)continue;U={},Y=!1,A.ht&&(Y=!0,U.hpt=parseFloat(A.ht),U.hpx=tl(U.hpt)),A.hidden=="1"&&(Y=!0,U.hidden=!0),A.outlineLevel!=null&&(Y=!0,U.level=+A.outlineLevel),Y&&(N[O-1]=U)}break;case"<":oe=p;break}if(oe>=p)break;if(A=Ut(x.slice(oe,p),!0),O=A.r!=null?parseInt(A.r,10):O+1,T=-1,!(l.sheetRows&&l.sheetRows<O)){d.s.r>O-1&&(d.s.r=O-1),d.e.r<O-1&&(d.e.r=O-1),l&&l.cellStyles&&(U={},Y=!1,A.ht&&(Y=!0,U.hpt=parseFloat(A.ht),U.hpx=tl(U.hpt)),A.hidden=="1"&&(Y=!0,U.hidden=!0),A.outlineLevel!=null&&(Y=!0,U.level=+A.outlineLevel),Y&&(N[O-1]=U)),y=x.slice(p).split(t);for(var ae=0;ae!=y.length&&y[ae].trim().charAt(0)=="<";++ae);for(y=y.slice(ae),p=0;p!=y.length;++p)if(x=y[p].trim(),x.length!==0){if(v=x.match(a),b=p,g=0,w=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,v!=null&&v.length===2){for(b=0,f=v[1],g=0;g!=f.length&&!((w=f.charCodeAt(g)-64)<1||w>26);++g)b=26*b+w;--b,T=b}else++T;for(g=0;g!=x.length&&x.charCodeAt(g)!==62;++g);if(++g,A=Ut(x.slice(0,g),!0),A.r||(A.r=Ht({r:O-1,c:T})),f=x.slice(g),E={t:""},(v=f.match(m))!=null&&v[1]!==""&&(E.v=Jt(v[1])),l.cellFormula){if((v=f.match(h))!=null&&v[1]!==""){if(E.f=Jt(on(v[1])).replace(/\r\n/g,`
`),l.xlfn||(E.f=Sx(E.f)),v[0].indexOf('t="array"')>-1)E.F=(f.match(u)||[])[1],E.F.indexOf(":")>-1&&W.push([yn(E.F),E.F]);else if(v[0].indexOf('t="shared"')>-1){F=Ut(v[0]);var R=Jt(on(v[1]));l.xlfn||(R=Sx(R)),J[parseInt(F.si,10)]=[F,R,A.r]}}else(v=f.match(/<f[^>]*\/>/))&&(F=Ut(v[0]),J[F.si]&&(E.f=Y7(J[F.si][1],J[F.si][2],A.r)));var S=fr(A.r);for(g=0;g<W.length;++g)S.r>=W[g][0].s.r&&S.r<=W[g][0].e.r&&S.c>=W[g][0].s.c&&S.c<=W[g][0].e.c&&(E.F=W[g][1])}if(A.t==null&&E.v===void 0)if(E.f||E.F)E.v=0,E.t="n";else if(_)E.t="z";else continue;else E.t=A.t||"n";switch(d.s.c>T&&(d.s.c=T),d.e.c<T&&(d.e.c=T),E.t){case"n":if(E.v==""||E.v==null){if(!_)continue;E.t="z"}else E.v=parseFloat(E.v);break;case"s":if(typeof E.v>"u"){if(!_)continue;E.t="z"}else D=Oc[parseInt(E.v,10)],E.v=D.t,E.r=D.r,l.cellHTML&&(E.h=D.h);break;case"str":E.t="s",E.v=E.v!=null?on(E.v):"",l.cellHTML&&(E.h=Kp(E.v));break;case"inlineStr":v=f.match(c),E.t="s",v!=null&&(D=ag(v[1]))?(E.v=D.t,l.cellHTML&&(E.h=D.h)):E.v="";break;case"b":E.v=un(E.v);break;case"d":l.cellDates?E.v=Nn(E.v,1):(E.v=gr(Nn(E.v,1)),E.t="n");break;case"e":(!l||l.cellText!==!1)&&(E.w=E.v),E.v=N3[E.v];break}if(C=B=0,I=null,M&&A.s!==void 0&&(I=r.CellXf[A.s],I!=null&&(I.numFmtId!=null&&(C=I.numFmtId),l.cellStyles&&I.fillId!=null&&(B=I.fillId))),p9(E,C,B,l,e,r),l.cellDates&&M&&E.t=="n"&&Io(Xt[C])&&(E.t="d",E.v=Ju(E.v)),A.cm&&l.xlmeta){var L=(l.xlmeta.Cell||[])[+A.cm-1];L&&L.type=="XLDAPR"&&(E.D=!0)}if(H){var k=fr(A.r);i[k.r]||(i[k.r]=[]),i[k.r][k.c]=E}else i[A.r]=E}}}N.length>0&&(i["!rows"]=N)}}();function UE(t,n){var a={},c=t.l+n;a.r=t.read_shift(4),t.l+=4;var u=t.read_shift(2);t.l+=1;var m=t.read_shift(1);return t.l=c,m&7&&(a.level=m&7),m&16&&(a.hidden=!0),m&32&&(a.hpt=u/20),a}var _E=bs;function HE(){}function zE(t,n){var a={},c=t[t.l];return++t.l,a.above=!(c&64),a.left=!(c&128),t.l+=18,a.name=uw(t),a}function XE(t){var n=ea(t);return[n]}function WE(t){var n=xs(t);return[n]}function GE(t){var n=ea(t),a=t.read_shift(1);return[n,a,"b"]}function VE(t){var n=xs(t),a=t.read_shift(1);return[n,a,"b"]}function jE(t){var n=ea(t),a=t.read_shift(1);return[n,a,"e"]}function KE(t){var n=xs(t),a=t.read_shift(1);return[n,a,"e"]}function YE(t){var n=ea(t),a=t.read_shift(4);return[n,a,"s"]}function JE(t){var n=xs(t),a=t.read_shift(4);return[n,a,"s"]}function ZE(t){var n=ea(t),a=er(t);return[n,a,"n"]}function m9(t){var n=xs(t),a=er(t);return[n,a,"n"]}function QE(t){var n=ea(t),a=tg(t);return[n,a,"n"]}function qE(t){var n=xs(t),a=tg(t);return[n,a,"n"]}function eC(t){var n=ea(t),a=qp(t);return[n,a,"is"]}function tC(t){var n=ea(t),a=nr(t);return[n,a,"str"]}function nC(t){var n=xs(t),a=nr(t);return[n,a,"str"]}function rC(t,n,a){var c=t.l+n,u=ea(t);u.r=a["!row"];var m=t.read_shift(1),h=[u,m,"b"];if(a.cellFormula){t.l+=2;var o=qu(t,c-t.l,a);h[3]=Zn(o,null,u,a.supbooks,a)}else t.l=c;return h}function aC(t,n,a){var c=t.l+n,u=ea(t);u.r=a["!row"];var m=t.read_shift(1),h=[u,m,"e"];if(a.cellFormula){t.l+=2;var o=qu(t,c-t.l,a);h[3]=Zn(o,null,u,a.supbooks,a)}else t.l=c;return h}function iC(t,n,a){var c=t.l+n,u=ea(t);u.r=a["!row"];var m=er(t),h=[u,m,"n"];if(a.cellFormula){t.l+=2;var o=qu(t,c-t.l,a);h[3]=Zn(o,null,u,a.supbooks,a)}else t.l=c;return h}function sC(t,n,a){var c=t.l+n,u=ea(t);u.r=a["!row"];var m=nr(t),h=[u,m,"str"];if(a.cellFormula){t.l+=2;var o=qu(t,c-t.l,a);h[3]=Zn(o,null,u,a.supbooks,a)}else t.l=c;return h}var oC=bs;function cC(t,n){var a=t.l+n,c=bs(t),u=eg(t),m=nr(t),h=nr(t),o=nr(t);t.l=a;var s={rfx:c,relId:u,loc:m,display:o};return h&&(s.Tooltip=h),s}function lC(){}function uC(t,n,a){var c=t.l+n,u=M3(t),m=t.read_shift(1),h=[u];if(h[2]=m,a.cellFormula){var o=gE(t,c-t.l,a);h[1]=o}else t.l=c;return h}function hC(t,n,a){var c=t.l+n,u=bs(t),m=[u];if(a.cellFormula){var h=xE(t,c-t.l,a);m[1]=h,t.l=c}else t.l=c;return m}var fC=["left","right","top","bottom","header","footer"];function dC(t){var n={};return fC.forEach(function(a){n[a]=er(t)}),n}function pC(t){var n=t.read_shift(2);return t.l+=28,{RTL:n&32}}function gC(){}function mC(){}function xC(t,n,a,c,u,m,h){if(!t)return t;var o=n||{};c||(c={"!id":{}});var s=o.dense?[]:{},i,l={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,e=!1,r,p,x,y,v,b,g,w,f,E=[];o.biff=12,o["!row"]=0;var A=0,O=!1,T=[],D={},F=o.supbooks||u.supbooks||[[]];if(F.sharedf=D,F.arrayf=T,F.SheetNames=u.SheetNames||u.Sheets.map(function(H){return H.name}),!o.supbooks&&(o.supbooks=F,u.Names))for(var C=0;C<u.Names.length;++C)F[0][C+1]=u.Names[C];var B=[],M=[],I=!1;Ou[16]={n:"BrtShortReal",f:m9};var W;if(ti(t,function(N,U,Y){if(!e)switch(Y){case 148:i=N;break;case 0:r=N,o.sheetRows&&o.sheetRows<=r.r&&(e=!0),w=Vn(y=r.r),o["!row"]=r.r,(N.hidden||N.hpt||N.level!=null)&&(N.hpt&&(N.hpx=tl(N.hpt)),M[N.r]=N);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:N[2]},N[2]){case"n":p.v=N[1];break;case"s":g=Oc[N[1]],p.v=g.t,p.r=g.r;break;case"b":p.v=!!N[1];break;case"e":p.v=N[1],o.cellText!==!1&&(p.w=ys[p.v]);break;case"str":p.t="s",p.v=N[1];break;case"is":p.t="s",p.v=N[1].t;break}if((x=h.CellXf[N[0].iStyleRef])&&p9(p,x.numFmtId,null,o,m,h),v=N[0].c==-1?v+1:N[0].c,o.dense?(s[y]||(s[y]=[]),s[y][v]=p):s[Pn(v)+w]=p,o.cellFormula){for(O=!1,A=0;A<T.length;++A){var _=T[A];r.r>=_[0].s.r&&r.r<=_[0].e.r&&v>=_[0].s.c&&v<=_[0].e.c&&(p.F=Kt(_[0]),O=!0)}!O&&N.length>3&&(p.f=N[3])}if(l.s.r>r.r&&(l.s.r=r.r),l.s.c>v&&(l.s.c=v),l.e.r<r.r&&(l.e.r=r.r),l.e.c<v&&(l.e.c=v),o.cellDates&&x&&p.t=="n"&&Io(Xt[x.numFmtId])){var V=Yi(p.v);V&&(p.t="d",p.v=new Date(V.y,V.m-1,V.d,V.H,V.M,V.S,V.u))}W&&(W.type=="XLDAPR"&&(p.D=!0),W=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;p={t:"z",v:void 0},v=N[0].c==-1?v+1:N[0].c,o.dense?(s[y]||(s[y]=[]),s[y][v]=p):s[Pn(v)+w]=p,l.s.r>r.r&&(l.s.r=r.r),l.s.c>v&&(l.s.c=v),l.e.r<r.r&&(l.e.r=r.r),l.e.c<v&&(l.e.c=v),W&&(W.type=="XLDAPR"&&(p.D=!0),W=void 0);break;case 176:E.push(N);break;case 49:W=((o.xlmeta||{}).Cell||[])[N-1];break;case 494:var Z=c["!id"][N.relId];for(Z?(N.Target=Z.Target,N.loc&&(N.Target+="#"+N.loc),N.Rel=Z):N.relId==""&&(N.Target="#"+N.loc),y=N.rfx.s.r;y<=N.rfx.e.r;++y)for(v=N.rfx.s.c;v<=N.rfx.e.c;++v)o.dense?(s[y]||(s[y]=[]),s[y][v]||(s[y][v]={t:"z",v:void 0}),s[y][v].l=N):(b=Ht({c:v,r:y}),s[b]||(s[b]={t:"z",v:void 0}),s[b].l=N);break;case 426:if(!o.cellFormula)break;T.push(N),f=o.dense?s[y][v]:s[Pn(v)+w],f.f=Zn(N[1],l,{r:r.r,c:v},F,o),f.F=Kt(N[0]);break;case 427:if(!o.cellFormula)break;D[Ht(N[0].s)]=N[1],f=o.dense?s[y][v]:s[Pn(v)+w],f.f=Zn(N[1],l,{r:r.r,c:v},F,o);break;case 60:if(!o.cellStyles)break;for(;N.e>=N.s;)B[N.e--]={width:N.w/256,hidden:!!(N.flags&1),level:N.level},I||(I=!0,ig(N.w/256)),ko(B[N.e+1]);break;case 161:s["!autofilter"]={ref:Kt(N)};break;case 476:s["!margins"]=N;break;case 147:u.Sheets[a]||(u.Sheets[a]={}),N.name&&(u.Sheets[a].CodeName=N.name),(N.above||N.left)&&(s["!outline"]={above:N.above,left:N.left});break;case 137:u.Views||(u.Views=[{}]),u.Views[0]||(u.Views[0]={}),N.RTL&&(u.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!U.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},o),delete o.supbooks,delete o["!row"],!s["!ref"]&&(l.s.r<2e6||i&&(i.e.r>0||i.e.c>0||i.s.r>0||i.s.c>0))&&(s["!ref"]=Kt(i||l)),o.sheetRows&&s["!ref"]){var J=yn(s["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>l.e.r&&(J.e.r=l.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>l.e.c&&(J.e.c=l.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),s["!fullref"]=s["!ref"],s["!ref"]=Kt(J))}return E.length>0&&(s["!merges"]=E),B.length>0&&(s["!cols"]=B),M.length>0&&(s["!rows"]=M),s}function bC(t){var n=[],a=t.match(/^<c:numCache>/),c;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(m){var h=m.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);!h||(n[+h[1]]=a?+h[2]:h[2])});var u=Jt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(m){c=m.replace(/<.*?>/g,"")}),[n,u,c]}function yC(t,n,a,c,u,m){var h=m||{"!type":"chart"};if(!t)return m;var o=0,s=0,i="A",l={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var e=bC(d);l.s.r=l.s.c=0,l.e.c=o,i=Pn(o),e[0].forEach(function(r,p){h[i+Vn(p)]={t:"n",v:r,z:e[1]},s=p}),l.e.r<s&&(l.e.r=s),++o}),o>0&&(h["!ref"]=Kt(l)),h}function vC(t,n,a,c,u){if(!t)return t;c||(c={"!id":{}});var m={"!type":"chart","!drawel":null,"!rel":""},h,o=t.match(g9);return o&&og(o[0],m,u,a),(h=t.match(/drawing r:id="(.*?)"/))&&(m["!rel"]=h[1]),c["!id"][m["!rel"]]&&(m["!drawel"]=c["!id"][m["!rel"]]),m}function wC(t,n){t.l+=10;var a=nr(t);return{name:a}}function AC(t,n,a,c,u){if(!t)return t;c||(c={"!id":{}});var m={"!type":"chart","!drawel":null,"!rel":""},h=!1;return ti(t,function(s,i,l){switch(l){case 550:m["!rel"]=s;break;case 651:u.Sheets[a]||(u.Sheets[a]={}),s.name&&(u.Sheets[a].CodeName=s.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:h=!0;break;case 36:h=!1;break;case 37:break;case 38:break;default:if(!(i.T>0)){if(!(i.T<0)){if(!h||n.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}},n),c["!id"][m["!rel"]]&&(m["!drawel"]=c["!id"][m["!rel"]]),m}var x9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],SC=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],kC=[],EC=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Fx(t,n){for(var a=0;a!=t.length;++a)for(var c=t[a],u=0;u!=n.length;++u){var m=n[u];if(c[m[0]]==null)c[m[0]]=m[1];else switch(m[2]){case"bool":typeof c[m[0]]=="string"&&(c[m[0]]=un(c[m[0]]));break;case"int":typeof c[m[0]]=="string"&&(c[m[0]]=parseInt(c[m[0]],10));break}}}function Ix(t,n){for(var a=0;a!=n.length;++a){var c=n[a];if(t[c[0]]==null)t[c[0]]=c[1];else switch(c[2]){case"bool":typeof t[c[0]]=="string"&&(t[c[0]]=un(t[c[0]]));break;case"int":typeof t[c[0]]=="string"&&(t[c[0]]=parseInt(t[c[0]],10));break}}}function b9(t){Ix(t.WBProps,x9),Ix(t.CalcPr,EC),Fx(t.WBView,SC),Fx(t.Sheets,kC),po.date1904=un(t.WBProps.date1904)}var CC="][*?/\\".split("");function TC(t,n){if(t.length>31){if(n)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var a=!0;return CC.forEach(function(c){if(t.indexOf(c)!=-1){if(!n)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");a=!1}}),a}var FC=/<\w+:workbook/;function IC(t,n){if(!t)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},c=!1,u="xmlns",m={},h=0;if(t.replace(ir,function(s,i){var l=Ut(s);switch(Ia(l[0])){case"<?xml":break;case"<workbook":s.match(FC)&&(u="xmlns"+s.match(/<(\w+):/)[1]),a.xmlns=l[u];break;case"</workbook>":break;case"<fileVersion":delete l[0],a.AppVersion=l;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":x9.forEach(function(d){if(l[d[0]]!=null)switch(d[2]){case"bool":a.WBProps[d[0]]=un(l[d[0]]);break;case"int":a.WBProps[d[0]]=parseInt(l[d[0]],10);break;default:a.WBProps[d[0]]=l[d[0]]}}),l.codeName&&(a.WBProps.CodeName=on(l.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete l[0],a.WBView.push(l);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(l.state){case"hidden":l.Hidden=1;break;case"veryHidden":l.Hidden=2;break;default:l.Hidden=0}delete l.state,l.name=Jt(on(l.name)),delete l[0],a.Sheets.push(l);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":c=!0;break;case"</definedNames>":c=!1;break;case"<definedName":m={},m.Name=on(l.name),l.comment&&(m.Comment=l.comment),l.localSheetId&&(m.Sheet=+l.localSheetId),un(l.hidden||"0")&&(m.Hidden=!0),h=i+s.length;break;case"</definedName>":m.Ref=Jt(on(t.slice(h,i))),a.Names.push(m);break;case"<definedName/>":break;case"<calcPr":delete l[0],a.CalcPr=l;break;case"<calcPr/>":delete l[0],a.CalcPr=l;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":c=!0;break;case"</ext>":c=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":c=!0;break;case"</AlternateContent>":c=!1;break;case"<revisionPtr":break;default:if(!c&&n.WTF)throw new Error("unrecognized "+l[0]+" in workbook")}return s}),j6.indexOf(a.xmlns)===-1)throw new Error("Unknown Namespace: "+a.xmlns);return b9(a),a}function OC(t,n){var a={};return a.Hidden=t.read_shift(4),a.iTabID=t.read_shift(4),a.strRelID=P1(t),a.name=nr(t),a}function PC(t,n){var a={},c=t.read_shift(4);a.defaultThemeVersion=t.read_shift(4);var u=n>8?nr(t):"";return u.length>0&&(a.CodeName=u),a.autoCompressPictures=!!(c&65536),a.backupFile=!!(c&64),a.checkCompatibility=!!(c&4096),a.date1904=!!(c&1),a.filterPrivacy=!!(c&8),a.hidePivotFieldList=!!(c&1024),a.promptedSolutions=!!(c&16),a.publishItems=!!(c&2048),a.refreshAllConnections=!!(c&262144),a.saveExternalLinkValues=!!(c&128),a.showBorderUnselectedTables=!!(c&4),a.showInkAnnotation=!!(c&32),a.showObjects=["all","placeholders","none"][c>>13&3],a.showPivotChartFilter=!!(c&32768),a.updateLinks=["userSet","never","always"][c>>8&3],a}function RC(t,n){var a={};return t.read_shift(4),a.ArchID=t.read_shift(4),t.l+=n-8,a}function MC(t,n,a){var c=t.l+n;t.l+=4,t.l+=1;var u=t.read_shift(4),m=hw(t),h=mE(t,0,a),o=eg(t);t.l=c;var s={Name:m,Ptg:h};return u<268435455&&(s.Sheet=u),o&&(s.Comment=o),s}function DC(t,n){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},c=[],u=!1;n||(n={}),n.biff=12;var m=[],h=[[]];return h.SheetNames=[],h.XTI=[],Ou[16]={n:"BrtFRTArchID$",f:RC},ti(t,function(s,i,l){switch(l){case 156:h.SheetNames.push(s.name),a.Sheets.push(s);break;case 153:a.WBProps=s;break;case 39:s.Sheet!=null&&(n.SID=s.Sheet),s.Ref=Zn(s.Ptg,null,null,h,n),delete n.SID,delete s.Ptg,m.push(s);break;case 1036:break;case 357:case 358:case 355:case 667:h[0].length?h.push([l,s]):h[0]=[l,s],h[h.length-1].XTI=[];break;case 362:h.length===0&&(h[0]=[],h[0].XTI=[]),h[h.length-1].XTI=h[h.length-1].XTI.concat(s),h.XTI=h.XTI.concat(s);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:c.push(l),u=!0;break;case 36:c.pop(),u=!1;break;case 37:c.push(l),u=!0;break;case 38:c.pop(),u=!1;break;case 16:break;default:if(!i.T){if(!u||n.WTF&&c[c.length-1]!=37&&c[c.length-1]!=35)throw new Error("Unexpected record 0x"+l.toString(16))}}},n),b9(a),a.Names=m,a.supbooks=h,a}function LC(t,n,a){return n.slice(-4)===".bin"?DC(t,a):IC(t,a)}function NC(t,n,a,c,u,m,h,o){return n.slice(-4)===".bin"?xC(t,c,a,u,m,h,o):OE(t,c,a,u,m,h,o)}function BC(t,n,a,c,u,m,h,o){return n.slice(-4)===".bin"?AC(t,c,a,u,m):vC(t,c,a,u,m)}function $C(t,n,a,c,u,m,h,o){return n.slice(-4)===".bin"?V7():j7()}function UC(t,n,a,c,u,m,h,o){return n.slice(-4)===".bin"?W7():G7()}function _C(t,n,a,c){return n.slice(-4)===".bin"?o7(t,a,c):t7(t,a,c)}function HC(t,n,a){return a9(t,a)}function zC(t,n,a){return n.slice(-4)===".bin"?SS(t,a):wS(t,a)}function XC(t,n,a){return n.slice(-4)===".bin"?H7(t,a):N7(t,a)}function WC(t,n,a){return n.slice(-4)===".bin"?M7(t):P7(t)}function GC(t,n,a,c){return a.slice(-4)===".bin"?D7(t,n,a,c):void 0}function VC(t,n,a){return n.slice(-4)===".bin"?I7(t,n,a):O7(t,n,a)}var y9=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,v9=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ra(t,n){var a=t.split(/\s+/),c=[];if(n||(c[0]=a[0]),a.length===1)return c;var u=t.match(y9),m,h,o,s;if(u)for(s=0;s!=u.length;++s)m=u[s].match(v9),(h=m[1].indexOf(":"))===-1?c[m[1]]=m[2].slice(1,m[2].length-1):(m[1].slice(0,6)==="xmlns:"?o="xmlns"+m[1].slice(6):o=m[1].slice(h+1),c[o]=m[2].slice(1,m[2].length-1));return c}function jC(t){var n=t.split(/\s+/),a={};if(n.length===1)return a;var c=t.match(y9),u,m,h,o;if(c)for(o=0;o!=c.length;++o)u=c[o].match(v9),(m=u[1].indexOf(":"))===-1?a[u[1]]=u[2].slice(1,u[2].length-1):(u[1].slice(0,6)==="xmlns:"?h="xmlns"+u[1].slice(6):h=u[1].slice(m+1),a[h]=u[2].slice(1,u[2].length-1));return a}var Rc;function KC(t,n){var a=Rc[t]||Jt(t);return a==="General"?ls(n):Qr(a,n)}function YC(t,n,a,c){var u=c;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":u=un(c);break;case"i2":case"int":u=parseInt(c,10);break;case"r4":case"float":u=parseFloat(c);break;case"date":case"dateTime.tz":u=Nn(c);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}t[Jt(n)]=u}function JC(t,n,a){if(t.t!=="z"){if(!a||a.cellText!==!1)try{t.t==="e"?t.w=t.w||ys[t.v]:n==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Jc(t.v):t.w=ls(t.v):t.w=KC(n||"General",t.v)}catch(m){if(a.WTF)throw m}try{var c=Rc[n]||n||"General";if(a.cellNF&&(t.z=c),a.cellDates&&t.t=="n"&&Io(c)){var u=Yi(t.v);u&&(t.t="d",t.v=new Date(u.y,u.m-1,u.d,u.H,u.M,u.S,u.u))}}catch(m){if(a.WTF)throw m}}}function ZC(t,n,a){if(a.cellStyles&&n.Interior){var c=n.Interior;c.Pattern&&(c.patternType=YS[c.Pattern]||c.Pattern)}t[n.ID]=n}function QC(t,n,a,c,u,m,h,o,s,i){var l="General",d=c.StyleID,e={};i=i||{};var r=[],p=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&h&&(d=h.StyleID);m[d]!==void 0&&(m[d].nf&&(l=m[d].nf),m[d].Interior&&r.push(m[d].Interior),!!m[d].Parent);)d=m[d].Parent;switch(a.Type){case"Boolean":c.t="b",c.v=un(t);break;case"String":c.t="s",c.r=Zm(Jt(t)),c.v=t.indexOf("<")>-1?Jt(n||t).replace(/<.*?>/g,""):c.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),c.v=(Nn(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),c.v!==c.v?c.v=Jt(t):c.v<60&&(c.v=c.v-1),(!l||l=="General")&&(l="yyyy-mm-dd");case"Number":c.v===void 0&&(c.v=+t),c.t||(c.t="n");break;case"Error":c.t="e",c.v=N3[t],i.cellText!==!1&&(c.w=t);break;default:t==""&&n==""?c.t="z":(c.t="s",c.v=Zm(n||t));break}if(JC(c,l,i),i.cellFormula!==!1)if(c.Formula){var x=Jt(c.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),c.f=fo(x,u),delete c.Formula,c.ArrayRange=="RC"?c.F=fo("RC:RC",u):c.ArrayRange&&(c.F=fo(c.ArrayRange,u),s.push([yn(c.F),c.F]))}else for(p=0;p<s.length;++p)u.r>=s[p][0].s.r&&u.r<=s[p][0].e.r&&u.c>=s[p][0].s.c&&u.c<=s[p][0].e.c&&(c.F=s[p][1]);i.cellStyles&&(r.forEach(function(y){!e.patternType&&y.patternType&&(e.patternType=y.patternType)}),c.s=e),c.StyleID!==void 0&&(c.ixfe=c.StyleID)}function qC(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function nf(t,n){var a=n||{};o3();var c=uc(Yp(t));(a.type=="binary"||a.type=="array"||a.type=="base64")&&(c=on(c));var u=c.slice(0,1024).toLowerCase(),m=!1;if(u=u.replace(/".*?"/g,""),(u.indexOf(">")&1023)>Math.min(u.indexOf(",")&1023,u.indexOf(";")&1023)){var h=Gn(a);return h.type="string",qc.to_workbook(c,h)}if(u.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ee){u.indexOf("<"+ee)>=0&&(m=!0)}),m)return cT(c,a);Rc={"General Number":"General","General Date":Xt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Xt[15],"Short Date":Xt[14],"Long Time":Xt[19],"Medium Time":Xt[18],"Short Time":Xt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Xt[2],Standard:Xt[4],Percent:Xt[10],Scientific:Xt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,s=[],i,l={},d=[],e=a.dense?[]:{},r="",p={},x={},y=ra('<Data ss:Type="String">'),v=0,b=0,g=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},f={},E={},A="",O=0,T=[],D={},F={},C=0,B=[],M=[],I={},W=[],J,H=!1,N=[],U=[],Y={},_=0,V=0,Z={Sheets:[],WBProps:{date1904:!1}},q={};Qc.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";o=Qc.exec(c);)switch(o[3]=(re=o[3]).toLowerCase()){case"data":if(re=="data"){if(o[1]==="/"){if((i=s.pop())[0]!==o[3])throw new Error("Bad state: "+i.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&s.push([o[3],!0]);break}if(s[s.length-1][1])break;o[1]==="/"?QC(c.slice(v,o.index),A,y,s[s.length-1][0]=="comment"?I:p,{c:b,r:g},f,W[b],x,N,a):(A="",y=ra(o[0]),v=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(p.c=M),(!a.sheetRows||a.sheetRows>g)&&p.v!==void 0&&(a.dense?(e[g]||(e[g]=[]),e[g][b]=p):e[Pn(b)+Vn(g)]=p),p.HRef&&(p.l={Target:Jt(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(_=b+(parseInt(p.MergeAcross,10)|0),V=g+(parseInt(p.MergeDown,10)|0),T.push({s:{c:b,r:g},e:{c:_,r:V}})),!a.sheetStubs)p.MergeAcross?b=_+1:++b;else if(p.MergeAcross||p.MergeDown){for(var oe=b;oe<=_;++oe)for(var ae=g;ae<=V;++ae)(oe>b||ae>g)&&(a.dense?(e[ae]||(e[ae]=[]),e[ae][oe]={t:"z"}):e[Pn(oe)+Vn(ae)]={t:"z"});b=_+1}else++b;else p=jC(o[0]),p.Index&&(b=+p.Index-1),b<w.s.c&&(w.s.c=b),b>w.e.c&&(w.e.c=b),o[0].slice(-2)==="/>"&&++b,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(g<w.s.r&&(w.s.r=g),g>w.e.r&&(w.e.r=g),o[0].slice(-2)==="/>"&&(x=ra(o[0]),x.Index&&(g=+x.Index-1)),b=0,++g):(x=ra(o[0]),x.Index&&(g=+x.Index-1),Y={},(x.AutoFitHeight=="0"||x.Height)&&(Y.hpx=parseInt(x.Height,10),Y.hpt=r9(Y.hpx),U[g]=Y),x.Hidden=="1"&&(Y.hidden=!0,U[g]=Y));break;case"worksheet":if(o[1]==="/"){if((i=s.pop())[0]!==o[3])throw new Error("Bad state: "+i.join("|"));d.push(r),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(e["!ref"]=Kt(w),a.sheetRows&&a.sheetRows<=w.e.r&&(e["!fullref"]=e["!ref"],w.e.r=a.sheetRows-1,e["!ref"]=Kt(w))),T.length&&(e["!merges"]=T),W.length>0&&(e["!cols"]=W),U.length>0&&(e["!rows"]=U),l[r]=e}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=b=0,s.push([o[3],!1]),i=ra(o[0]),r=Jt(i.Name),e=a.dense?[]:{},T=[],N=[],U=[],q={name:r,Hidden:0},Z.Sheets.push(q);break;case"table":if(o[1]==="/"){if((i=s.pop())[0]!==o[3])throw new Error("Bad state: "+i.join("|"))}else{if(o[0].slice(-2)=="/>")break;s.push([o[3],!1]),W=[],H=!1}break;case"style":o[1]==="/"?ZC(f,E,a):E=ra(o[0]);break;case"numberformat":E.nf=Jt(ra(o[0]).Format||"General"),Rc[E.nf]&&(E.nf=Rc[E.nf]);for(var R=0;R!=392&&Xt[R]!=E.nf;++R);if(R==392){for(R=57;R!=392;++R)if(Xt[R]==null){qi(E.nf,R);break}}break;case"column":if(s[s.length-1][0]!=="table")break;if(J=ra(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!H&&J.wpx>10){H=!0,hr=t9;for(var S=0;S<W.length;++S)W[S]&&ko(W[S])}H&&ko(J),W[J.Index-1||W.length]=J;for(var L=0;L<+J.Span;++L)W[W.length]=Gn(J);break;case"namedrange":if(o[1]==="/")break;Z.Names||(Z.Names=[]);var k=Ut(o[0]),z={Name:k.Name,Ref:fo(k.RefersTo.slice(1),{r:0,c:0})};Z.Sheets.length>0&&(z.Sheet=Z.Sheets.length-1),Z.Names.push(z);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?A+=c.slice(O,o.index):O=o.index+o[0].length;break;case"interior":if(!a.cellStyles)break;E.Interior=ra(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Nw(D,re,c.slice(C,o.index)):C=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((i=s.pop())[0]!==o[3])throw new Error("Bad state: "+i.join("|"))}else s.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((i=s.pop())[0]!==o[3])throw new Error("Bad state: "+i.join("|"));qC(I),M.push(I)}else s.push([o[3],!1]),i=ra(o[0]),I={a:i.Author};break;case"autofilter":if(o[1]==="/"){if((i=s.pop())[0]!==o[3])throw new Error("Bad state: "+i.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var P=ra(o[0]);e["!autofilter"]={ref:fo(P.Range).replace(/\$/g,"")},s.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((i=s.pop())[0]!==o[3])throw new Error("Bad state: "+i.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&s.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((i=s.pop())[0]!==o[3])throw new Error("Bad state: "+i.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&s.push([o[3],!0]);break;case"null":break;default:if(s.length==0&&o[3]=="document"||s.length==0&&o[3]=="uof")return Lx(c,a);var K=!0;switch(s[s.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:K=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:K=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:K=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:K=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(c.slice(C,o.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else C=o.index+o[0].length;break;case"header":e["!margins"]||Pc(e["!margins"]={},"xlml"),isNaN(+Ut(o[0]).Margin)||(e["!margins"].header=+Ut(o[0]).Margin);break;case"footer":e["!margins"]||Pc(e["!margins"]={},"xlml"),isNaN(+Ut(o[0]).Margin)||(e["!margins"].footer=+Ut(o[0]).Margin);break;case"pagemargins":var te=Ut(o[0]);e["!margins"]||Pc(e["!margins"]={},"xlml"),isNaN(+te.Top)||(e["!margins"].top=+te.Top),isNaN(+te.Left)||(e["!margins"].left=+te.Left),isNaN(+te.Right)||(e["!margins"].right=+te.Right),isNaN(+te.Bottom)||(e["!margins"].bottom=+te.Bottom);break;case"displayrighttoleft":Z.Views||(Z.Views=[]),Z.Views[0]||(Z.Views[0]={}),Z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":e["!outline"]||(e["!outline"]={}),e["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":e["!outline"]||(e["!outline"]={}),e["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:K=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:K=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:K=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:K=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:K=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:K=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:K=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:K=!1}break;case"smarttags":break;default:K=!1;break}if(K||o[3].match(/!\[CDATA/))break;if(!s[s.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+s.join("|");if(s[s.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?YC(F,re,B,c.slice(C,o.index)):(B=o,C=o.index+o[0].length);break}if(a.WTF)throw"Unrecognized tag: "+o[3]+"|"+s.join("|")}var X={};return!a.bookSheets&&!a.bookProps&&(X.Sheets=l),X.SheetNames=d,X.Workbook=Z,X.SSF=Gn(Xt),X.Props=D,X.Custprops=F,X}function L1(t,n){switch(ug(n=n||{}),n.type||"base64"){case"base64":return nf(Mr(t),n);case"binary":case"buffer":case"file":return nf(t,n);case"array":return nf(ms(t),n)}}function eT(t){var n={},a=t.content;if(a.l=28,n.AnsiUserType=a.read_shift(0,"lpstr-ansi"),n.AnsiClipboardFormat=pw(a),a.length-a.l<=4)return n;var c=a.read_shift(4);if(c==0||c>40||(a.l-=4,n.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4)||(c=a.read_shift(4),c!==1907505652)||(n.UnicodeClipboardFormat=gw(a),c=a.read_shift(4),c==0||c>40))return n;a.l-=4,n.Reserved2=a.read_shift(0,"lpwstr")}var tT=[60,1084,2066,2165,2175];function nT(t,n,a,c,u){var m=c,h=[],o=a.slice(a.l,a.l+m);if(u&&u.enc&&u.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:u.enc.insitu(o)}h.push(o),a.l+=m;for(var s=Ha(a,a.l),i=N1[s],l=0;i!=null&&tT.indexOf(s)>-1;)m=Ha(a,a.l+2),l=a.l+4,s==2066?l+=4:(s==2165||s==2175)&&(l+=12),o=a.slice(l,a.l+4+m),h.push(o),a.l+=4+m,i=N1[s=Ha(a,a.l)];var d=hi(h);zn(d,0);var e=0;d.lens=[];for(var r=0;r<h.length;++r)d.lens.push(e),e+=h[r].length;if(d.length<c)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+d.length+" < "+c;return n.f(d,d.length,u)}function va(t,n,a){if(t.t!=="z"&&!!t.XF){var c=0;try{c=t.z||t.XF.numFmtId||0,n.cellNF&&(t.z=Xt[c])}catch(m){if(n.WTF)throw m}if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||ys[t.v]:c===0||c=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Jc(t.v):t.w=ls(t.v):t.w=Qr(c,t.v,{date1904:!!a,dateNF:n&&n.dateNF})}catch(m){if(n.WTF)throw m}if(n.cellDates&&c&&t.t=="n"&&Io(Xt[c]||String(c))){var u=Yi(t.v);u&&(t.t="d",t.v=new Date(u.y,u.m-1,u.d,u.H,u.M,u.S,u.u))}}}function Yl(t,n,a){return{v:t,ixfe:n,t:a}}function rT(t,n){var a={opts:{}},c={},u=n.dense?[]:{},m={},h={},o=null,s=[],i="",l={},d,e="",r,p,x,y,v={},b=[],g,w,f=[],E=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},O={},T=function(ue){return ue<8?es[ue]:ue<64&&E[ue-8]||es[ue]},D=function(ue,ve,Ee){var Me=ve.XF.data;if(!(!Me||!Me.patternType||!Ee||!Ee.cellStyles)){ve.s={},ve.s.patternType=Me.patternType;var _e;(_e=el(T(Me.icvFore)))&&(ve.s.fgColor={rgb:_e}),(_e=el(T(Me.icvBack)))&&(ve.s.bgColor={rgb:_e})}},F=function(ue,ve,Ee){if(!(Y>1)&&!(Ee.sheetRows&&ue.r>=Ee.sheetRows)){if(Ee.cellStyles&&ve.XF&&ve.XF.data&&D(ue,ve,Ee),delete ve.ixfe,delete ve.XF,d=ue,e=Ht(ue),(!h||!h.s||!h.e)&&(h={s:{r:0,c:0},e:{r:0,c:0}}),ue.r<h.s.r&&(h.s.r=ue.r),ue.c<h.s.c&&(h.s.c=ue.c),ue.r+1>h.e.r&&(h.e.r=ue.r+1),ue.c+1>h.e.c&&(h.e.c=ue.c+1),Ee.cellFormula&&ve.f){for(var Me=0;Me<b.length;++Me)if(!(b[Me][0].s.c>ue.c||b[Me][0].s.r>ue.r)&&!(b[Me][0].e.c<ue.c||b[Me][0].e.r<ue.r)){ve.F=Kt(b[Me][0]),(b[Me][0].s.c!=ue.c||b[Me][0].s.r!=ue.r)&&delete ve.f,ve.f&&(ve.f=""+Zn(b[Me][1],h,ue,N,C));break}}Ee.dense?(u[ue.r]||(u[ue.r]=[]),u[ue.r][ue.c]=ve):u[e]=ve}},C={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!n&&!!n.cellStyles,WTF:!!n&&!!n.wtf};n.password&&(C.password=n.password);var B,M=[],I=[],W=[],J=[],H=!1,N=[];N.SheetNames=C.snames,N.sharedf=C.sharedf,N.arrayf=C.arrayf,N.names=[],N.XTI=[];var U=0,Y=0,_=0,V=[],Z=[],q;C.codepage=1200,fa(1200);for(var re=!1;t.l<t.length-1;){var oe=t.l,ae=t.read_shift(2);if(ae===0&&U===10)break;var R=t.l===t.length?0:t.read_shift(2),S=N1[ae];if(S&&S.f){if(n.bookSheets&&U===133&&ae!==133)break;if(U=ae,S.r===2||S.r==12){var L=t.read_shift(2);if(R-=2,!C.enc&&L!==ae&&((L&255)<<8|L>>8)!==ae)throw new Error("rt mismatch: "+L+"!="+ae);S.r==12&&(t.l+=10,R-=10)}var k={};if(ae===10?k=S.f(t,R,C):k=nT(ae,S,t,R,C),Y==0&&[9,521,1033,2057].indexOf(U)===-1)continue;switch(ae){case 34:a.opts.Date1904=A.WBProps.date1904=k;break;case 134:a.opts.WriteProtect=!0;break;case 47:if(C.enc||(t.l=0),C.enc=k,!n.password)throw new Error("File is password-protected");if(k.valid==null)throw new Error("Encryption scheme unsupported");if(!k.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=k;break;case 66:var z=Number(k);switch(z){case 21010:z=1200;break;case 32768:z=1e4;break;case 32769:z=1252;break}fa(C.codepage=z),re=!0;break;case 317:C.rrtabid=k;break;case 25:C.winlocked=k;break;case 439:a.opts.RefreshAll=k;break;case 12:a.opts.CalcCount=k;break;case 16:a.opts.CalcDelta=k;break;case 17:a.opts.CalcIter=k;break;case 13:a.opts.CalcMode=k;break;case 14:a.opts.CalcPrecision=k;break;case 95:a.opts.CalcSaveRecalc=k;break;case 15:C.CalcRefMode=k;break;case 2211:a.opts.FullCalc=k;break;case 129:k.fDialog&&(u["!type"]="dialog"),k.fBelow||((u["!outline"]||(u["!outline"]={})).above=!0),k.fRight||((u["!outline"]||(u["!outline"]={})).left=!0);break;case 224:f.push(k);break;case 430:N.push([k]),N[N.length-1].XTI=[];break;case 35:case 547:N[N.length-1].push(k);break;case 24:case 536:q={Name:k.Name,Ref:Zn(k.rgce,h,null,N,C)},k.itab>0&&(q.Sheet=k.itab-1),N.names.push(q),N[0]||(N[0]=[],N[0].XTI=[]),N[N.length-1].push(k),k.Name=="_xlnm._FilterDatabase"&&k.itab>0&&k.rgce&&k.rgce[0]&&k.rgce[0][0]&&k.rgce[0][0][0]=="PtgArea3d"&&(Z[k.itab-1]={ref:Kt(k.rgce[0][0][1][2])});break;case 22:C.ExternCount=k;break;case 23:N.length==0&&(N[0]=[],N[0].XTI=[]),N[N.length-1].XTI=N[N.length-1].XTI.concat(k),N.XTI=N.XTI.concat(k);break;case 2196:if(C.biff<8)break;q!=null&&(q.Comment=k[1]);break;case 18:u["!protect"]=k;break;case 19:k!==0&&C.WTF&&console.error("Password verifier: "+k);break;case 133:m[k.pos]=k,C.snames.push(k.name);break;case 10:{if(--Y)break;if(h.e){if(h.e.r>0&&h.e.c>0){if(h.e.r--,h.e.c--,u["!ref"]=Kt(h),n.sheetRows&&n.sheetRows<=h.e.r){var P=h.e.r;h.e.r=n.sheetRows-1,u["!fullref"]=u["!ref"],u["!ref"]=Kt(h),h.e.r=P}h.e.r++,h.e.c++}M.length>0&&(u["!merges"]=M),I.length>0&&(u["!objects"]=I),W.length>0&&(u["!cols"]=W),J.length>0&&(u["!rows"]=J),A.Sheets.push(O)}i===""?l=u:c[i]=u,u=n.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[ae]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[k.BIFFVer]||8),C.biffguess=k.BIFFVer==0,k.BIFFVer==0&&k.dt==4096&&(C.biff=5,re=!0,fa(C.codepage=28591)),C.biff==8&&k.BIFFVer==0&&k.dt==16&&(C.biff=2),Y++)break;if(u=n.dense?[]:{},C.biff<8&&!re&&(re=!0,fa(C.codepage=n.codepage||1252)),C.biff<5||k.BIFFVer==0&&k.dt==4096){i===""&&(i="Sheet1"),h={s:{r:0,c:0},e:{r:0,c:0}};var K={pos:t.l-R,name:i};m[K.pos]=K,C.snames.push(i)}else i=(m[oe]||{name:""}).name;k.dt==32&&(u["!type"]="chart"),k.dt==64&&(u["!type"]="macro"),M=[],I=[],C.arrayf=b=[],W=[],J=[],H=!1,O={Hidden:(m[oe]||{hs:0}).hs,name:i}}break;case 515:case 3:case 2:u["!type"]=="chart"&&(n.dense?(u[k.r]||[])[k.c]:u[Ht({c:k.c,r:k.r})])&&++k.c,g={ixfe:k.ixfe,XF:f[k.ixfe]||{},v:k.val,t:"n"},_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F({c:k.c,r:k.r},g,n);break;case 5:case 517:g={ixfe:k.ixfe,XF:f[k.ixfe],v:k.val,t:k.t},_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F({c:k.c,r:k.r},g,n);break;case 638:g={ixfe:k.ixfe,XF:f[k.ixfe],v:k.rknum,t:"n"},_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F({c:k.c,r:k.r},g,n);break;case 189:for(var te=k.c;te<=k.C;++te){var X=k.rkrec[te-k.c][0];g={ixfe:X,XF:f[X],v:k.rkrec[te-k.c][1],t:"n"},_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F({c:te,r:k.r},g,n)}break;case 6:case 518:case 1030:{if(k.val=="String"){o=k;break}if(g=Yl(k.val,k.cell.ixfe,k.tt),g.XF=f[g.ixfe],n.cellFormula){var ee=k.formula;if(ee&&ee[0]&&ee[0][0]&&ee[0][0][0]=="PtgExp"){var G=ee[0][0][1][0],ne=ee[0][0][1][1],se=Ht({r:G,c:ne});v[se]?g.f=""+Zn(k.formula,h,k.cell,N,C):g.F=((n.dense?(u[G]||[])[ne]:u[se])||{}).F}else g.f=""+Zn(k.formula,h,k.cell,N,C)}_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F(k.cell,g,n),o=k}break;case 7:case 519:if(o)o.val=k,g=Yl(k,o.cell.ixfe,"s"),g.XF=f[g.ixfe],n.cellFormula&&(g.f=""+Zn(o.formula,h,o.cell,N,C)),_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F(o.cell,g,n),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(k);var le=Ht(k[0].s);if(r=n.dense?(u[k[0].s.r]||[])[k[0].s.c]:u[le],n.cellFormula&&r){if(!o||!le||!r)break;r.f=""+Zn(k[1],h,k[0],N,C),r.F=Kt(k[0])}}break;case 1212:{if(!n.cellFormula)break;if(e){if(!o)break;v[Ht(o.cell)]=k[0],r=n.dense?(u[o.cell.r]||[])[o.cell.c]:u[Ht(o.cell)],(r||{}).f=""+Zn(k[0],h,d,N,C)}}break;case 253:g=Yl(s[k.isst].t,k.ixfe,"s"),s[k.isst].h&&(g.h=s[k.isst].h),g.XF=f[g.ixfe],_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F({c:k.c,r:k.r},g,n);break;case 513:n.sheetStubs&&(g={ixfe:k.ixfe,XF:f[k.ixfe],t:"z"},_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F({c:k.c,r:k.r},g,n));break;case 190:if(n.sheetStubs)for(var he=k.c;he<=k.C;++he){var be=k.ixfe[he-k.c];g={ixfe:be,XF:f[be],t:"z"},_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F({c:he,r:k.r},g,n)}break;case 214:case 516:case 4:g=Yl(k.val,k.ixfe,"s"),g.XF=f[g.ixfe],_>0&&(g.z=V[g.ixfe>>8&63]),va(g,n,a.opts.Date1904),F({c:k.c,r:k.r},g,n);break;case 0:case 512:Y===1&&(h=k);break;case 252:s=k;break;case 1054:if(C.biff==4){V[_++]=k[1];for(var ye=0;ye<_+163&&Xt[ye]!=k[1];++ye);ye>=163&&qi(k[1],_+163)}else qi(k[1],k[0]);break;case 30:{V[_++]=k;for(var de=0;de<_+163&&Xt[de]!=k;++de);de>=163&&qi(k,_+163)}break;case 229:M=M.concat(k);break;case 93:I[k.cmo[0]]=C.lastobj=k;break;case 438:C.lastobj.TxO=k;break;case 127:C.lastobj.ImData=k;break;case 440:for(y=k[0].s.r;y<=k[0].e.r;++y)for(x=k[0].s.c;x<=k[0].e.c;++x)r=n.dense?(u[y]||[])[x]:u[Ht({c:x,r:y})],r&&(r.l=k[1]);break;case 2048:for(y=k[0].s.r;y<=k[0].e.r;++y)for(x=k[0].s.c;x<=k[0].e.c;++x)r=n.dense?(u[y]||[])[x]:u[Ht({c:x,r:y})],r&&r.l&&(r.l.Tooltip=k[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;r=n.dense?(u[k[0].r]||[])[k[0].c]:u[Ht(k[0])];var xe=I[k[2]];r||(n.dense?(u[k[0].r]||(u[k[0].r]=[]),r=u[k[0].r][k[0].c]={t:"z"}):r=u[Ht(k[0])]={t:"z"},h.e.r=Math.max(h.e.r,k[0].r),h.s.r=Math.min(h.s.r,k[0].r),h.e.c=Math.max(h.e.c,k[0].c),h.s.c=Math.min(h.s.c,k[0].c)),r.c||(r.c=[]),p={a:k[1],t:xe.TxO.t},r.c.push(p)}break;case 2173:E7(f[k.ixfe],k.ext);break;case 125:{if(!C.cellStyles)break;for(;k.e>=k.s;)W[k.e--]={width:k.w/256,level:k.level||0,hidden:!!(k.flags&1)},H||(H=!0,ig(k.w/256)),ko(W[k.e+1])}break;case 520:{var fe={};k.level!=null&&(J[k.r]=fe,fe.level=k.level),k.hidden&&(J[k.r]=fe,fe.hidden=!0),k.hpt&&(J[k.r]=fe,fe.hpt=k.hpt,fe.hpx=tl(k.hpt))}break;case 38:case 39:case 40:case 41:u["!margins"]||Pc(u["!margins"]={}),u["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ae]]=k;break;case 161:u["!margins"]||Pc(u["!margins"]={}),u["!margins"].header=k.header,u["!margins"].footer=k.footer;break;case 574:k.RTL&&(A.Views[0].RTL=!0);break;case 146:E=k;break;case 2198:B=k;break;case 140:w=k;break;case 442:i?O.CodeName=k||O.name:A.WBProps.CodeName=k||"ThisWorkbook";break}}else S||console.error("Missing Info for XLS Record 0x"+ae.toString(16)),t.l+=R}return a.SheetNames=Fa(m).sort(function(ce,ue){return Number(ce)-Number(ue)}).map(function(ce){return m[ce].name}),n.bookSheets||(a.Sheets=c),!a.SheetNames.length&&l["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets.Sheet1=l)):a.Preamble=l,a.Sheets&&Z.forEach(function(ce,ue){a.Sheets[a.SheetNames[ue]]["!autofilter"]=ce}),a.Strings=s,a.SSF=Gn(Xt),C.enc&&(a.Encryption=C.enc),B&&(a.Themes=B),a.Metadata={},w!==void 0&&(a.Metadata.Country=w),N.names.length>0&&(A.Names=N.names),a.Workbook=A,a}var Ox={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function aT(t,n,a){var c=jt.find(t,"/!DocumentSummaryInformation");if(c&&c.size>0)try{var u=dx(c,ww,Ox.DSI);for(var m in u)n[m]=u[m]}catch(i){if(a.WTF)throw i}var h=jt.find(t,"/!SummaryInformation");if(h&&h.size>0)try{var o=dx(h,Aw,Ox.SI);for(var s in o)n[s]==null&&(n[s]=o[s])}catch(i){if(a.WTF)throw i}n.HeadingPairs&&n.TitlesOfParts&&($3(n.HeadingPairs,n.TitlesOfParts,n,a),delete n.HeadingPairs,delete n.TitlesOfParts)}function w9(t,n){n||(n={}),ug(n),Yv(),n.codepage&&zp(n.codepage);var a,c;if(t.FullPaths){if(jt.find(t,"/encryption"))throw new Error("File is password-protected");a=jt.find(t,"!CompObj"),c=jt.find(t,"/Workbook")||jt.find(t,"/Book")}else{switch(n.type){case"base64":t=ha(Mr(t));break;case"binary":t=ha(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}zn(t,0),c={content:t}}var u,m;if(a&&eT(a),n.bookProps&&!n.bookSheets)u={};else{var h=Vt?"buffer":"array";if(c&&c.content)u=rT(c.content,n);else if((m=jt.find(t,"PerfectOffice_MAIN"))&&m.content)u=Ic.to_workbook(m.content,(n.type=h,n));else if((m=jt.find(t,"NativeContent_MAIN"))&&m.content)u=Ic.to_workbook(m.content,(n.type=h,n));else throw(m=jt.find(t,"MN0"))&&m.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");n.bookVBA&&t.FullPaths&&jt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(u.vbaraw=X7(t))}var o={};return t.FullPaths&&aT(t,o,n),u.Props=u.Custprops=o,n.bookFiles&&(u.cfb=t),u}var Ou={0:{f:UE},1:{f:XE},2:{f:QE},3:{f:jE},4:{f:GE},5:{f:ZE},6:{f:tC},7:{f:YE},8:{f:sC},9:{f:iC},10:{f:rC},11:{f:aC},12:{f:WE},13:{f:qE},14:{f:KE},15:{f:VE},16:{f:m9},17:{f:nC},18:{f:JE},19:{f:qp},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:MC},40:{},42:{},43:{f:r7},44:{f:n7},45:{f:a7},46:{f:s7},47:{f:i7},48:{},49:{f:ow},50:{},51:{f:T7},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:J3},62:{f:eC},63:{f:R7},64:{f:gC},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ar,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:pC},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:zE},148:{f:_E,p:16},151:{f:lC},152:{},153:{f:PC},154:{},155:{},156:{f:OC},157:{},158:{},159:{T:1,f:AS},160:{T:-1},161:{T:1,f:bs},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:oC},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:C7},336:{T:-1},337:{f:F7,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:P1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Y3},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:uC},427:{f:hC},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:dC},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:HE},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:cC},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:P1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_7},633:{T:1},634:{T:-1},635:{T:1,f:U7},636:{T:-1},637:{f:lw},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:wC},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:mC},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},N1={6:{f:ef},10:{f:ai},12:{f:En},13:{f:En},14:{f:wn},15:{f:wn},16:{f:er},17:{f:wn},18:{f:wn},19:{f:En},20:{f:xx},21:{f:xx},23:{f:Y3},24:{f:yx},25:{f:wn},26:{},27:{},28:{f:BA},29:{},34:{f:wn},35:{f:bx},38:{f:er},39:{f:er},40:{f:er},41:{f:er},42:{f:wn},43:{f:wn},47:{f:HS},49:{f:bA},51:{f:En},60:{},61:{f:gA},64:{f:wn},65:{f:xA},66:{f:En},77:{},80:{},81:{},82:{},85:{f:En},89:{},90:{},91:{},92:{f:oA},93:{f:UA},94:{},95:{f:wn},96:{},97:{},99:{f:wn},125:{f:J3},128:{f:FA},129:{f:cA},130:{f:En},131:{f:wn},132:{f:wn},133:{f:lA},134:{},140:{f:GA},141:{f:En},144:{},146:{f:jA},151:{},152:{},153:{},154:{},155:{},156:{f:En},157:{},158:{},160:{f:QA},161:{f:YA},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:kA},190:{f:EA},193:{f:ai},197:{},198:{},199:{},200:{},201:{},202:{f:wn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:En},220:{},221:{f:wn},222:{},224:{f:TA},225:{f:sA},226:{f:ai},227:{},229:{f:$A},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:uA},253:{f:yA},255:{f:hA},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:X3},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:wn},353:{f:ai},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:OA},431:{f:wn},432:{},433:{},434:{},437:{},438:{f:zA},439:{f:wn},440:{f:XA},441:{},442:{f:fl},443:{},444:{f:En},445:{},446:{},448:{f:ai},449:{f:pA,r:2},450:{f:ai},512:{f:gx},513:{f:ZA},515:{f:IA},516:{f:vA},517:{f:mx},519:{f:qA},520:{f:fA},523:{},545:{f:vx},549:{f:px},566:{},574:{f:mA},638:{f:SA},659:{},1048:{},1054:{f:wA},1084:{},1212:{f:DA},2048:{f:WA},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Vl},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ai},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:KA,r:12},2173:{f:k7,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:wn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:MA,r:12},2197:{},2198:{f:b7,r:12},2199:{},2200:{},2201:{},2202:{f:LA,r:12},2203:{f:ai},2204:{},2205:{},2206:{},2207:{},2211:{f:dA},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:En},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:JA},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:VA},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:gx},1:{},2:{f:rS},3:{f:nS},4:{f:tS},5:{f:mx},7:{f:aS},8:{},9:{f:Vl},11:{},22:{f:En},30:{f:AA},31:{},32:{},33:{f:vx},36:{},37:{f:px},50:{f:iS},62:{},52:{},67:{},68:{f:En},69:{},86:{},126:{},127:{f:eS},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:sS},223:{},234:{},354:{},421:{},518:{f:ef},521:{f:Vl},536:{f:yx},547:{f:bx},561:{},579:{},1030:{f:ef},1033:{f:Vl},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function aa(t,n,a,c){var u=n;if(!isNaN(u)){var m=c||(a||[]).length||0,h=t.next(4);h.write_shift(2,u),h.write_shift(2,m),m>0&&O3(a)&&t.push(a)}}function Px(t,n){var a=n||{},c=a.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var u=t.match(/<table/i);if(!u)throw new Error("Invalid HTML: could not find <table>");var m=t.match(/<\/table/i),h=u.index,o=m&&m.index||t.length,s=O6(t.slice(h,o),/(:?<tr[^>]*>)/i,"<tr>"),i=-1,l=0,d=0,e=0,r={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(h=0;h<s.length;++h){var x=s[h].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++i,a.sheetRows&&a.sheetRows<=i){--i;break}l=0;continue}if(!(y!="<td"&&y!="<th")){var v=x.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var b=v[o].trim();if(!!b.match(/<t[dh]/i)){for(var g=b,w=0;g.charAt(0)=="<"&&(w=g.indexOf(">"))>-1;)g=g.slice(w+1);for(var f=0;f<p.length;++f){var E=p[f];E.s.c==l&&E.s.r<i&&i<=E.e.r&&(l=E.e.c+1,f=-1)}var A=Ut(b.slice(0,b.indexOf(">")));e=A.colspan?+A.colspan:1,((d=+A.rowspan)>1||e>1)&&p.push({s:{r:i,c:l},e:{r:i+(d||1)-1,c:l+e-1}});var O=A.t||A["data-t"]||"";if(!g.length){l+=e;continue}if(g=x3(g),r.s.r>i&&(r.s.r=i),r.e.r<i&&(r.e.r=i),r.s.c>l&&(r.s.c=l),r.e.c<l&&(r.e.c=l),!g.length){l+=e;continue}var T={t:"s",v:g};a.raw||!g.trim().length||O=="s"||(g==="TRUE"?T={t:"b",v:!0}:g==="FALSE"?T={t:"b",v:!1}:isNaN(ma(g))?isNaN(So(g).getDate())||(T={t:"d",v:Nn(g)},a.cellDates||(T={t:"n",v:gr(T.v)}),T.z=a.dateNF||Xt[14]):T={t:"n",v:ma(g)}),a.dense?(c[i]||(c[i]=[]),c[i][l]=T):c[Ht({r:i,c:l})]=T,l+=e}}}}return c["!ref"]=Kt(r),p.length&&(c["!merges"]=p),c}function iT(t,n,a,c){for(var u=t["!merges"]||[],m=[],h=n.s.c;h<=n.e.c;++h){for(var o=0,s=0,i=0;i<u.length;++i)if(!(u[i].s.r>a||u[i].s.c>h)&&!(u[i].e.r<a||u[i].e.c<h)){if(u[i].s.r<a||u[i].s.c<h){o=-1;break}o=u[i].e.r-u[i].s.r+1,s=u[i].e.c-u[i].s.c+1;break}if(!(o<0)){var l=Ht({r:a,c:h}),d=c.dense?(t[a]||[])[h]:t[l],e=d&&d.v!=null&&(d.h||Kp(d.w||(Za(d),d.w)||""))||"",r={};o>1&&(r.rowspan=o),s>1&&(r.colspan=s),c.editable?e='<span contenteditable="true">'+e+"</span>":d&&(r["data-t"]=d&&d.t||"z",d.v!=null&&(r["data-v"]=d.v),d.z!=null&&(r["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(e='<a href="'+d.l.Target+'">'+e+"</a>")),r.id=(c.id||"sjs")+"-"+l,m.push(G6("td",e,r))}}var p="<tr>";return p+m.join("")+"</tr>"}var sT='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',oT="</body></html>";function cT(t,n){var a=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!a||a.length==0)throw new Error("Invalid HTML: could not find <table>");if(a.length==1)return Bi(Px(a[0],n),n);var c=fg();return a.forEach(function(u,m){dg(c,Px(u,n),"Sheet"+(m+1))}),c}function lT(t,n,a){var c=[];return c.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function uT(t,n){var a=n||{},c=a.header!=null?a.header:sT,u=a.footer!=null?a.footer:oT,m=[c],h=Oo(t["!ref"]);a.dense=Array.isArray(t),m.push(lT(t,h,a));for(var o=h.s.r;o<=h.e.r;++o)m.push(iT(t,h,o,a));return m.push("</table>"+u),m.join("")}function A9(t,n,a){var c=a||{},u=0,m=0;if(c.origin!=null)if(typeof c.origin=="number")u=c.origin;else{var h=typeof c.origin=="string"?fr(c.origin):c.origin;u=h.r,m=h.c}var o=n.getElementsByTagName("tr"),s=Math.min(c.sheetRows||1e7,o.length),i={s:{r:0,c:0},e:{r:u,c:m}};if(t["!ref"]){var l=Oo(t["!ref"]);i.s.r=Math.min(i.s.r,l.s.r),i.s.c=Math.min(i.s.c,l.s.c),i.e.r=Math.max(i.e.r,l.e.r),i.e.c=Math.max(i.e.c,l.e.c),u==-1&&(i.e.r=u=l.e.r+1)}var d=[],e=0,r=t["!rows"]||(t["!rows"]=[]),p=0,x=0,y=0,v=0,b=0,g=0;for(t["!cols"]||(t["!cols"]=[]);p<o.length&&x<s;++p){var w=o[p];if(Rx(w)){if(c.display)continue;r[x]={hidden:!0}}var f=w.children;for(y=v=0;y<f.length;++y){var E=f[y];if(!(c.display&&Rx(E))){var A=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):x3(E.innerHTML),O=E.getAttribute("data-z")||E.getAttribute("z");for(e=0;e<d.length;++e){var T=d[e];T.s.c==v+m&&T.s.r<x+u&&x+u<=T.e.r&&(v=T.e.c+1-m,e=-1)}g=+E.getAttribute("colspan")||1,((b=+E.getAttribute("rowspan")||1)>1||g>1)&&d.push({s:{r:x+u,c:v+m},e:{r:x+u+(b||1)-1,c:v+m+(g||1)-1}});var D={t:"s",v:A},F=E.getAttribute("data-t")||E.getAttribute("t")||"";A!=null&&(A.length==0?D.t=F||"z":c.raw||A.trim().length==0||F=="s"||(A==="TRUE"?D={t:"b",v:!0}:A==="FALSE"?D={t:"b",v:!1}:isNaN(ma(A))?isNaN(So(A).getDate())||(D={t:"d",v:Nn(A)},c.cellDates||(D={t:"n",v:gr(D.v)}),D.z=c.dateNF||Xt[14]):D={t:"n",v:ma(A)})),D.z===void 0&&O!=null&&(D.z=O);var C="",B=E.getElementsByTagName("A");if(B&&B.length)for(var M=0;M<B.length&&!(B[M].hasAttribute("href")&&(C=B[M].getAttribute("href"),C.charAt(0)!="#"));++M);C&&C.charAt(0)!="#"&&(D.l={Target:C}),c.dense?(t[x+u]||(t[x+u]=[]),t[x+u][v+m]=D):t[Ht({c:v+m,r:x+u})]=D,i.e.c<v+m&&(i.e.c=v+m),v+=g}}++x}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),i.e.r=Math.max(i.e.r,x-1+u),t["!ref"]=Kt(i),x>=s&&(t["!fullref"]=Kt((i.e.r=o.length-p+x-1+u,i))),t}function S9(t,n){var a=n||{},c=a.dense?[]:{};return A9(c,t,n)}function hT(t,n){return Bi(S9(t,n),n)}function Rx(t){var n="",a=fT(t);return a&&(n=a(t).getPropertyValue("display")),n||(n=t.style&&t.style.display),n==="none"}function fT(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function dT(t){var n=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(c,u){return Array(parseInt(u,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),a=Jt(n.replace(/<[^>]*>/g,""));return[a]}var Mx={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function k9(t,n){var a=n||{},c=Yp(t),u=[],m,h,o={name:""},s="",i=0,l,d,e={},r=[],p=a.dense?[]:{},x,y,v={value:""},b="",g=0,w=[],f=-1,E=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},O=0,T={},D=[],F={},C=0,B=0,M=[],I=1,W=1,J=[],H={Names:[]},N={},U=["",""],Y=[],_={},V="",Z=0,q=!1,re=!1,oe=0;for(Qc.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Qc.exec(c);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":x[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?p["!ref"]=Kt(A):p["!ref"]="A1:A1",a.sheetRows>0&&a.sheetRows<=A.e.r&&(p["!fullref"]=p["!ref"],A.e.r=a.sheetRows-1,p["!ref"]=Kt(A)),D.length&&(p["!merges"]=D),M.length&&(p["!rows"]=M),l.name=l.\u540D\u79F0||l.name,typeof JSON<"u"&&JSON.stringify(l),r.push(l.name),e[l.name]=p,re=!1):x[0].charAt(x[0].length-2)!=="/"&&(l=Ut(x[0],!1),f=E=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,p=a.dense?[]:{},D=[],M=[],re=!0);break;case"table-row-group":x[1]==="/"?--O:++O;break;case"table-row":case"\u884C":if(x[1]==="/"){f+=I,I=1;break}if(d=Ut(x[0],!1),d.\u884C\u53F7?f=d.\u884C\u53F7-1:f==-1&&(f=0),I=+d["number-rows-repeated"]||1,I<10)for(oe=0;oe<I;++oe)O>0&&(M[f+oe]={level:O});E=-1;break;case"covered-table-cell":x[1]!=="/"&&++E,a.sheetStubs&&(a.dense?(p[f]||(p[f]=[]),p[f][E]={t:"z"}):p[Ht({r:f,c:E})]={t:"z"}),b="",w=[];break;case"table-cell":case"\u6570\u636E":if(x[0].charAt(x[0].length-2)==="/")++E,v=Ut(x[0],!1),W=parseInt(v["number-columns-repeated"]||"1",10),y={t:"z",v:null},v.formula&&a.cellFormula!=!1&&(y.f=Tx(Jt(v.formula))),(v.\u6570\u636E\u7C7B\u578B||v["value-type"])=="string"&&(y.t="s",y.v=Jt(v["string-value"]||""),a.dense?(p[f]||(p[f]=[]),p[f][E]=y):p[Ht({r:f,c:E})]=y),E+=W-1;else if(x[1]!=="/"){++E,b="",g=0,w=[],W=1;var ae=I?f+I-1:f;if(E>A.e.c&&(A.e.c=E),E<A.s.c&&(A.s.c=E),f<A.s.r&&(A.s.r=f),ae>A.e.r&&(A.e.r=ae),v=Ut(x[0],!1),Y=[],_={},y={t:v.\u6570\u636E\u7C7B\u578B||v["value-type"],v:null},a.cellFormula)if(v.formula&&(v.formula=Jt(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(C=parseInt(v["number-matrix-rows-spanned"],10)||0,B=parseInt(v["number-matrix-columns-spanned"],10)||0,F={s:{r:f,c:E},e:{r:f+C-1,c:E+B-1}},y.F=Kt(F),J.push([F,y.F])),v.formula)y.f=Tx(v.formula);else for(oe=0;oe<J.length;++oe)f>=J[oe][0].s.r&&f<=J[oe][0].e.r&&E>=J[oe][0].s.c&&E<=J[oe][0].e.c&&(y.F=J[oe][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(C=parseInt(v["number-rows-spanned"],10)||0,B=parseInt(v["number-columns-spanned"],10)||0,F={s:{r:f,c:E},e:{r:f+C-1,c:E+B-1}},D.push(F)),v["number-columns-repeated"]&&(W=parseInt(v["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=un(v["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(v.value);break;case"percentage":y.t="n",y.v=parseFloat(v.value);break;case"currency":y.t="n",y.v=parseFloat(v.value);break;case"date":y.t="d",y.v=Nn(v["date-value"]),a.cellDates||(y.t="n",y.v=gr(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=T6(v["time-value"])/86400,a.cellDates&&(y.t="d",y.v=Ju(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(v.\u6570\u636E\u6570\u503C);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",v["string-value"]!=null&&(b=Jt(v["string-value"]),w=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(q=!1,y.t==="s"&&(y.v=b||"",w.length&&(y.R=w),q=g==0),N.Target&&(y.l=N),Y.length>0&&(y.c=Y,Y=[]),b&&a.cellText!==!1&&(y.w=b),q&&(y.t="z",delete y.v),(!q||a.sheetStubs)&&!(a.sheetRows&&a.sheetRows<=f))for(var R=0;R<I;++R){if(W=parseInt(v["number-columns-repeated"]||"1",10),a.dense)for(p[f+R]||(p[f+R]=[]),p[f+R][E]=R==0?y:Gn(y);--W>0;)p[f+R][E+W]=Gn(y);else for(p[Ht({r:f+R,c:E})]=y;--W>0;)p[Ht({r:f+R,c:E+W})]=Gn(y);A.e.c<=E&&(A.e.c=E)}W=parseInt(v["number-columns-repeated"]||"1",10),E+=W-1,W=0,y={},b="",w=[]}N={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((m=u.pop())[0]!==x[3])throw"Bad state: "+m}else x[0].charAt(x[0].length-2)!=="/"&&u.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((m=u.pop())[0]!==x[3])throw"Bad state: "+m;_.t=b,w.length&&(_.R=w),_.a=V,Y.push(_)}else x[0].charAt(x[0].length-2)!=="/"&&u.push([x[3],!1]);V="",Z=0,b="",g=0,w=[];break;case"creator":x[1]==="/"?V=c.slice(Z,x.index):Z=x.index+x[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((m=u.pop())[0]!==x[3])throw"Bad state: "+m}else x[0].charAt(x[0].length-2)!=="/"&&u.push([x[3],!1]);b="",g=0,w=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(T[o.name]=s,(m=u.pop())[0]!==x[3])throw"Bad state: "+m}else x[0].charAt(x[0].length-2)!=="/"&&(s="",o=Ut(x[0],!1),u.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(u[u.length-1][0]){case"time-style":case"date-style":h=Ut(x[0],!1),s+=Mx[x[3]][h.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(u[u.length-1][0]){case"time-style":case"date-style":h=Ut(x[0],!1),s+=Mx[x[3]][h.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(u[u.length-1][0]){case"number-style":case"date-style":case"time-style":s+=c.slice(i,x.index);break}else i=x.index+x[0].length;break;case"named-range":h=Ut(x[0],!1),U=tf(h["cell-range-address"]);var S={Name:h.name,Ref:U[0]+"!"+U[1]};re&&(S.Sheet=r.length),H.Names.push(S);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(u[u.length-1][0])>-1)break;if(x[1]==="/"&&(!v||!v["string-value"])){var L=dT(c.slice(g,x.index));b=(b.length>0?b+`
`:"")+L[0]}else Ut(x[0],!1),g=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{U=tf(Ut(x[0])["target-range-address"]),e[U[0]]["!autofilter"]={ref:U[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(N=Ut(x[0],!1),!N.href)break;N.Target=Jt(N.href),delete N.href,N.Target.charAt(0)=="#"&&N.Target.indexOf(".")>-1?(U=tf(N.Target.slice(1)),N.Target="#"+U[0]+"!"+U[1]):N.Target.match(/^\.\.[\\\/]/)&&(N.Target=N.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(a.WTF)throw new Error(x)}}var k={Sheets:e,SheetNames:r,Workbook:H};return a.bookSheets&&delete k.Sheets,k}function Dx(t,n){n=n||{},Wr(t,"META-INF/manifest.xml")&&Iw(kn(t,"META-INF/manifest.xml"),n);var a=Fr(t,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var c=k9(on(a),n);return Wr(t,"meta.xml")&&(c.Props=B3(kn(t,"meta.xml"))),c}function Lx(t,n){return k9(t,n)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function cg(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function B1(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):on(ms(t))}function $1(t){var n=t.reduce(function(u,m){return u+m.length},0),a=new Uint8Array(n),c=0;return t.forEach(function(u){a.set(u,c),c+=u.length}),a}function Nx(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function pT(t,n){for(var a=(t[n+15]&127)<<7|t[n+14]>>1,c=t[n+14]&1,u=n+13;u>=n;--u)c=c*256+t[u];return(t[n+15]&128?-c:c)*Math.pow(10,a-6176)}function nl(t,n){var a=n?n[0]:0,c=t[a]&127;e:if(t[a++]>=128&&(c|=(t[a]&127)<<7,t[a++]<128||(c|=(t[a]&127)<<14,t[a++]<128)||(c|=(t[a]&127)<<21,t[a++]<128)||(c+=(t[a]&127)*Math.pow(2,28),++a,t[a++]<128)||(c+=(t[a]&127)*Math.pow(2,35),++a,t[a++]<128)||(c+=(t[a]&127)*Math.pow(2,42),++a,t[a++]<128)))break e;return n&&(n[0]=a),c}function Rn(t){var n=0,a=t[n]&127;e:if(t[n++]>=128){if(a|=(t[n]&127)<<7,t[n++]<128||(a|=(t[n]&127)<<14,t[n++]<128)||(a|=(t[n]&127)<<21,t[n++]<128))break e;a|=(t[n]&127)<<28}return a}function tr(t){for(var n=[],a=[0];a[0]<t.length;){var c=a[0],u=nl(t,a),m=u&7;u=Math.floor(u/8);var h=0,o;if(u==0)break;switch(m){case 0:{for(var s=a[0];t[a[0]++]>=128;);o=t.slice(s,a[0])}break;case 5:h=4,o=t.slice(a[0],a[0]+h),a[0]+=h;break;case 1:h=8,o=t.slice(a[0],a[0]+h),a[0]+=h;break;case 2:h=nl(t,a),o=t.slice(a[0],a[0]+h),a[0]+=h;break;case 3:case 4:default:throw new Error("PB Type ".concat(m," for Field ").concat(u," at offset ").concat(c))}var i={data:o,type:m};n[u]==null?n[u]=[i]:n[u].push(i)}return n}function lg(t,n){return(t==null?void 0:t.map(function(a){return n(a.data)}))||[]}function gT(t){for(var n,a=[],c=[0];c[0]<t.length;){var u=nl(t,c),m=tr(t.slice(c[0],c[0]+u));c[0]+=u;var h={id:Rn(m[1][0].data),messages:[]};m[2].forEach(function(o){var s=tr(o.data),i=Rn(s[3][0].data);h.messages.push({meta:s,data:t.slice(c[0],c[0]+i)}),c[0]+=i}),(n=m[3])!=null&&n[0]&&(h.merge=Rn(m[3][0].data)>>>0>0),a.push(h)}return a}function mT(t,n){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var a=[0],c=nl(n,a),u=[];a[0]<n.length;){var m=n[a[0]]&3;if(m==0){var h=n[a[0]++]>>2;if(h<60)++h;else{var o=h-59;h=n[a[0]],o>1&&(h|=n[a[0]+1]<<8),o>2&&(h|=n[a[0]+2]<<16),o>3&&(h|=n[a[0]+3]<<24),h>>>=0,h++,a[0]+=o}u.push(n.slice(a[0],a[0]+h)),a[0]+=h;continue}else{var s=0,i=0;if(m==1?(i=(n[a[0]]>>2&7)+4,s=(n[a[0]++]&224)<<3,s|=n[a[0]++]):(i=(n[a[0]++]>>2)+1,m==2?(s=n[a[0]]|n[a[0]+1]<<8,a[0]+=2):(s=(n[a[0]]|n[a[0]+1]<<8|n[a[0]+2]<<16|n[a[0]+3]<<24)>>>0,a[0]+=4)),u=[$1(u)],s==0)throw new Error("Invalid offset 0");if(s>u[0].length)throw new Error("Invalid offset beyond length");if(i>=s)for(u.push(u[0].slice(-s)),i-=s;i>=u[u.length-1].length;)u.push(u[u.length-1]),i-=u[u.length-1].length;u.push(u[0].slice(-s,-s+i))}}var l=$1(u);if(l.length!=c)throw new Error("Unexpected length: ".concat(l.length," != ").concat(c));return l}function xT(t){for(var n=[],a=0;a<t.length;){var c=t[a++],u=t[a]|t[a+1]<<8|t[a+2]<<16;a+=3,n.push(mT(c,t.slice(a,a+u))),a+=u}if(a!==t.length)throw new Error("data is not a valid framed stream!");return $1(n)}function bT(t,n,a,c){var u=cg(t),m=u.getUint32(4,!0),h=(c>1?12:8)+Nx(m&(c>1?3470:398))*4,o=-1,s=-1,i=NaN,l=new Date(2001,0,1);m&512&&(o=u.getUint32(h,!0),h+=4),h+=Nx(m&(c>1?12288:4096))*4,m&16&&(s=u.getUint32(h,!0),h+=4),m&32&&(i=u.getFloat64(h,!0),h+=8),m&64&&(l.setTime(l.getTime()+u.getFloat64(h,!0)*1e3),h+=8);var d;switch(t[2]){case 0:break;case 2:d={t:"n",v:i};break;case 3:d={t:"s",v:n[s]};break;case 5:d={t:"d",v:l};break;case 6:d={t:"b",v:i>0};break;case 7:d={t:"n",v:i/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:a[o]};else if(s>-1)d={t:"s",v:n[s]};else if(!isNaN(i))d={t:"n",v:i};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return d}function yT(t,n,a){var c=cg(t),u=c.getUint32(8,!0),m=12,h=-1,o=-1,s=NaN,i=NaN,l=new Date(2001,0,1);u&1&&(s=pT(t,m),m+=16),u&2&&(i=c.getFloat64(m,!0),m+=8),u&4&&(l.setTime(l.getTime()+c.getFloat64(m,!0)*1e3),m+=8),u&8&&(o=c.getUint32(m,!0),m+=4),u&16&&(h=c.getUint32(m,!0),m+=4);var d;switch(t[1]){case 0:break;case 2:d={t:"n",v:s};break;case 3:d={t:"s",v:n[o]};break;case 5:d={t:"d",v:l};break;case 6:d={t:"b",v:i>0};break;case 7:d={t:"n",v:i/86400};break;case 8:d={t:"e",v:0};break;case 9:if(h>-1)d={t:"s",v:a[h]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(u&31," : ").concat(t.slice(0,4)));break;case 10:d={t:"n",v:s};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(u&31," : ").concat(t.slice(0,4)))}return d}function vT(t,n,a){switch(t[0]){case 0:case 1:case 2:case 3:return bT(t,n,a,t[0]);case 5:return yT(t,n,a);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Fi(t){var n=tr(t);return nl(n[1][0].data)}function Bx(t,n){var a=tr(n.data),c=Rn(a[1][0].data),u=a[3],m=[];return(u||[]).forEach(function(h){var o=tr(h.data),s=Rn(o[1][0].data)>>>0;switch(c){case 1:m[s]=B1(o[3][0].data);break;case 8:{var i=t[Fi(o[9][0].data)][0],l=tr(i.data),d=t[Fi(l[1][0].data)][0],e=Rn(d.meta[1][0].data);if(e!=2001)throw new Error("2000 unexpected reference to ".concat(e));var r=tr(d.data);m[s]=r[3].map(function(p){return B1(p.data)}).join("")}break}}),m}function wT(t,n){var a,c,u,m,h,o,s,i,l,d,e,r,p,x,y=tr(t),v=Rn(y[1][0].data)>>>0,b=Rn(y[2][0].data)>>>0,g=((c=(a=y[8])==null?void 0:a[0])==null?void 0:c.data)&&Rn(y[8][0].data)>0||!1,w,f;if(((m=(u=y[7])==null?void 0:u[0])==null?void 0:m.data)&&n!=0)w=(o=(h=y[7])==null?void 0:h[0])==null?void 0:o.data,f=(i=(s=y[6])==null?void 0:s[0])==null?void 0:i.data;else if(((d=(l=y[4])==null?void 0:l[0])==null?void 0:d.data)&&n!=1)w=(r=(e=y[4])==null?void 0:e[0])==null?void 0:r.data,f=(x=(p=y[3])==null?void 0:p[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(n," cell storage");for(var E=g?4:1,A=cg(w),O=[],T=0;T<w.length/2;++T){var D=A.getUint16(T*2,!0);D<65535&&O.push([T,D])}if(O.length!=b)throw"Expected ".concat(b," cells, found ").concat(O.length);var F=[];for(T=0;T<O.length-1;++T)F[O[T][0]]=f.subarray(O[T][1]*E,O[T+1][1]*E);return O.length>=1&&(F[O[O.length-1][0]]=f.subarray(O[O.length-1][1]*E)),{R:v,cells:F}}function AT(t,n){var a,c=tr(n.data),u=(a=c==null?void 0:c[7])!=null&&a[0]?Rn(c[7][0].data)>>>0>0?1:0:-1,m=lg(c[5],function(h){return wT(h,u)});return{nrows:Rn(c[4][0].data)>>>0,data:m.reduce(function(h,o){return h[o.R]||(h[o.R]=[]),o.cells.forEach(function(s,i){if(h[o.R][i])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(i));h[o.R][i]=s}),h},[])}}function ST(t,n,a){var c,u=tr(n.data),m={s:{r:0,c:0},e:{r:0,c:0}};if(m.e.r=(Rn(u[6][0].data)>>>0)-1,m.e.r<0)throw new Error("Invalid row varint ".concat(u[6][0].data));if(m.e.c=(Rn(u[7][0].data)>>>0)-1,m.e.c<0)throw new Error("Invalid col varint ".concat(u[7][0].data));a["!ref"]=Kt(m);var h=tr(u[4][0].data),o=Bx(t,t[Fi(h[4][0].data)][0]),s=(c=h[17])!=null&&c[0]?Bx(t,t[Fi(h[17][0].data)][0]):[],i=tr(h[3][0].data),l=0;i[1].forEach(function(d){var e=tr(d.data),r=t[Fi(e[2][0].data)][0],p=Rn(r.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var x=AT(t,r);x.data.forEach(function(y,v){y.forEach(function(b,g){var w=Ht({r:l+v,c:g}),f=vT(b,o,s);f&&(a[w]=f)})}),l+=x.nrows})}function kT(t,n){var a=tr(n.data),c={"!ref":"A1"},u=t[Fi(a[2][0].data)],m=Rn(u[0].meta[1][0].data);if(m!=6001)throw new Error("6000 unexpected reference to ".concat(m));return ST(t,u[0],c),c}function ET(t,n){var a,c=tr(n.data),u={name:(a=c[1])!=null&&a[0]?B1(c[1][0].data):"",sheets:[]},m=lg(c[2],Fi);return m.forEach(function(h){t[h].forEach(function(o){var s=Rn(o.meta[1][0].data);s==6e3&&u.sheets.push(kT(t,o))})}),u}function CT(t,n){var a=fg(),c=tr(n.data),u=lg(c[1],Fi);if(u.forEach(function(m){t[m].forEach(function(h){var o=Rn(h.meta[1][0].data);if(o==2){var s=ET(t,h);s.sheets.forEach(function(i,l){dg(a,i,l==0?s.name:s.name+"_"+l,!0)})}})}),a.SheetNames.length==0)throw new Error("Empty NUMBERS file");return a}function rf(t){var n,a,c,u,m={},h=[];if(t.FullPaths.forEach(function(s){if(s.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(s){if(!!s.name.match(/\.iwa$/)){var i;try{i=xT(s.content)}catch(d){return console.log("?? "+s.content.length+" "+(d.message||d))}var l;try{l=gT(i)}catch(d){return console.log("## "+(d.message||d))}l.forEach(function(d){m[d.id]=d.messages,h.push(d.id)})}}),!h.length)throw new Error("File has no messages");var o=((u=(c=(a=(n=m==null?void 0:m[1])==null?void 0:n[0])==null?void 0:a.meta)==null?void 0:c[1])==null?void 0:u[0].data)&&Rn(m[1][0].meta[1][0].data)==1&&m[1][0];if(o||h.forEach(function(s){m[s].forEach(function(i){var l=Rn(i.meta[1][0].data)>>>0;if(l==1)if(!o)o=i;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return CT(m,o)}function TT(t){return function(a){for(var c=0;c!=t.length;++c){var u=t[c];a[u[0]]===void 0&&(a[u[0]]=u[1]),u[2]==="n"&&(a[u[0]]=Number(a[u[0]]))}}}function ug(t){TT([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function FT(t){return no.WS.indexOf(t)>-1?"sheet":t==no.CS?"chart":t==no.DS?"dialog":t==no.MS?"macro":t&&t.length?t:"sheet"}function IT(t,n){if(!t)return 0;try{t=n.map(function(c){return c.id||(c.id=c.strRelID),[c.name,t["!id"][c.id].Target,FT(t["!id"][c.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function OT(t,n,a,c,u,m,h,o,s,i,l,d){try{m[c]=Tc(Fr(t,a,!0),n);var e=kn(t,n),r;switch(o){case"sheet":r=NC(e,n,u,s,m[c],i,l,d);break;case"chart":if(r=BC(e,n,u,s,m[c],i,l,d),!r||!r["!drawel"])break;var p=fc(r["!drawel"].Target,n),x=R1(p),y=L7(Fr(t,p,!0),Tc(Fr(t,x,!0),p)),v=fc(y,p),b=R1(v);r=yC(Fr(t,v,!0),v,s,Tc(Fr(t,b,!0),v),i,r);break;case"macro":r=$C(e,n,u,s,m[c],i,l,d);break;case"dialog":r=UC(e,n,u,s,m[c],i,l,d);break;default:throw new Error("Unrecognized sheet type "+o)}h[c]=r;var g=[];m&&m[c]&&Fa(m[c]).forEach(function(w){var f="";if(m[c][w].Type==no.CMNT){f=fc(m[c][w].Target,n);var E=XC(kn(t,f,!0),f,s);if(!E||!E.length)return;Ax(r,E,!1)}m[c][w].Type==no.TCMNT&&(f=fc(m[c][w].Target,n),g=g.concat(B7(kn(t,f,!0),s)))}),g&&g.length&&Ax(r,g,!0,s.people||[])}catch(w){if(s.WTF)throw w}}function Br(t){return t.charAt(0)=="/"?t.slice(1):t}function PT(t,n){if(o3(),n=n||{},ug(n),Wr(t,"META-INF/manifest.xml")||Wr(t,"objectdata.xml"))return Dx(t,n);if(Wr(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof rf<"u"){if(t.FileIndex)return rf(t);var a=jt.utils.cfb_new();return Ym(t).forEach(function(M){R6(a,M,d3(t,M))}),rf(a)}throw new Error("Unsupported NUMBERS file")}if(!Wr(t,"[Content_Types].xml"))throw Wr(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Wr(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var c=Ym(t),u=Tw(Fr(t,"[Content_Types].xml")),m=!1,h,o;if(u.workbooks.length===0&&(o="xl/workbook.xml",kn(t,o,!0)&&u.workbooks.push(o)),u.workbooks.length===0){if(o="xl/workbook.bin",!kn(t,o,!0))throw new Error("Could not find workbook");u.workbooks.push(o),m=!0}u.workbooks[0].slice(-3)=="bin"&&(m=!0);var s={},i={};if(!n.bookSheets&&!n.bookProps){if(Oc=[],u.sst)try{Oc=zC(kn(t,Br(u.sst)),u.sst,n)}catch(M){if(n.WTF)throw M}n.cellStyles&&u.themes.length&&(s=HC(Fr(t,u.themes[0].replace(/^\//,""),!0)||"",u.themes[0],n)),u.style&&(i=_C(kn(t,Br(u.style)),u.style,s,n))}u.links.map(function(M){try{var I=Tc(Fr(t,R1(Br(M))),M);return GC(kn(t,Br(M)),I,M,n)}catch{}});var l=LC(kn(t,Br(u.workbooks[0])),u.workbooks[0],n),d={},e="";u.coreprops.length&&(e=kn(t,Br(u.coreprops[0]),!0),e&&(d=B3(e)),u.extprops.length!==0&&(e=kn(t,Br(u.extprops[0]),!0),e&&Rw(e,d,n)));var r={};(!n.bookSheets||n.bookProps)&&u.custprops.length!==0&&(e=Fr(t,Br(u.custprops[0]),!0),e&&(r=Dw(e,n)));var p={};if((n.bookSheets||n.bookProps)&&(l.Sheets?h=l.Sheets.map(function(I){return I.name}):d.Worksheets&&d.SheetNames.length>0&&(h=d.SheetNames),n.bookProps&&(p.Props=d,p.Custprops=r),n.bookSheets&&typeof h<"u"&&(p.SheetNames=h),n.bookSheets?p.SheetNames:n.bookProps))return p;h={};var x={};n.bookDeps&&u.calcchain&&(x=WC(kn(t,Br(u.calcchain)),u.calcchain));var y=0,v={},b,g;{var w=l.Sheets;d.Worksheets=w.length,d.SheetNames=[];for(var f=0;f!=w.length;++f)d.SheetNames[f]=w[f].name}var E=m?"bin":"xml",A=u.workbooks[0].lastIndexOf("/"),O=(u.workbooks[0].slice(0,A+1)+"_rels/"+u.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");Wr(t,O)||(O="xl/_rels/workbook."+E+".rels");var T=Tc(Fr(t,O,!0),O.replace(/_rels.*/,"s5s"));(u.metadata||[]).length>=1&&(n.xlmeta=VC(kn(t,Br(u.metadata[0])),u.metadata[0],n)),(u.people||[]).length>=1&&(n.people=$7(kn(t,Br(u.people[0])),n)),T&&(T=IT(T,l.Sheets));var D=kn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=d.Worksheets;++y){var F="sheet";if(T&&T[y]?(b="xl/"+T[y][1].replace(/[\/]?xl\//,""),Wr(t,b)||(b=T[y][1]),Wr(t,b)||(b=O.replace(/_rels\/.*$/,"")+T[y][1]),F=T[y][2]):(b="xl/worksheets/sheet"+(y+1-D)+"."+E,b=b.replace(/sheet0\./,"sheet.")),g=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),n&&n.sheets!=null)switch(typeof n.sheets){case"number":if(y!=n.sheets)continue e;break;case"string":if(d.SheetNames[y].toLowerCase()!=n.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(n.sheets)){for(var C=!1,B=0;B!=n.sheets.length;++B)typeof n.sheets[B]=="number"&&n.sheets[B]==y&&(C=1),typeof n.sheets[B]=="string"&&n.sheets[B].toLowerCase()==d.SheetNames[y].toLowerCase()&&(C=1);if(!C)continue e}}OT(t,b,g,d.SheetNames[y],y,v,h,F,n,l,s,i)}return p={Directory:u,Workbook:l,Props:d,Custprops:r,Deps:x,Sheets:h,SheetNames:d.SheetNames,Strings:Oc,Styles:i,Themes:s,SSF:Gn(Xt)},n&&n.bookFiles&&(t.files?(p.keys=c,p.files=t.files):(p.keys=[],p.files={},t.FullPaths.forEach(function(M,I){M=M.replace(/^Root Entry[\/]/,""),p.keys.push(M),p.files[M]=t.FileIndex[I]}))),n&&n.bookVBA&&(u.vba.length>0?p.vbaraw=kn(t,Br(u.vba[0]),!0):u.defaults&&u.defaults.bin===z7&&(p.vbaraw=kn(t,"xl/vbaProject.bin",!0))),p}function RT(t,n){var a=n||{},c="Workbook",u=jt.find(t,c);try{if(c="/!DataSpaces/Version",u=jt.find(t,c),!u||!u.content)throw new Error("ECMA-376 Encrypted file missing "+c);if(kS(u.content),c="/!DataSpaces/DataSpaceMap",u=jt.find(t,c),!u||!u.content)throw new Error("ECMA-376 Encrypted file missing "+c);var m=CS(u.content);if(m.length!==1||m[0].comps.length!==1||m[0].comps[0].t!==0||m[0].name!=="StrongEncryptionDataSpace"||m[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+c);if(c="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",u=jt.find(t,c),!u||!u.content)throw new Error("ECMA-376 Encrypted file missing "+c);var h=TS(u.content);if(h.length!=1||h[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+c);if(c="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",u=jt.find(t,c),!u||!u.content)throw new Error("ECMA-376 Encrypted file missing "+c);IS(u.content)}catch{}if(c="/EncryptionInfo",u=jt.find(t,c),!u||!u.content)throw new Error("ECMA-376 Encrypted file missing "+c);var o=OS(u.content);if(c="/EncryptedPackage",u=jt.find(t,c),!u||!u.content)throw new Error("ECMA-376 Encrypted file missing "+c);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],u.content,a.password||"",a);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],u.content,a.password||"",a);throw new Error("File is password-protected")}function hg(t,n){var a="";switch((n||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":a=Mr(t.slice(0,12));break;case"binary":a=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(n&&n.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function MT(t,n){return jt.find(t,"EncryptedPackage")?RT(t,n):w9(t,n)}function DT(t,n){var a,c=t,u=n||{};return u.type||(u.type=Vt&&Buffer.isBuffer(t)?"buffer":"base64"),a=p3(c,u),PT(a,u)}function E9(t,n){var a=0;e:for(;a<t.length;)switch(t.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return L1(t.slice(a),n);default:break e}return qc.to_workbook(t,n)}function LT(t,n){var a="",c=hg(t,n);switch(n.type){case"base64":a=Mr(t);break;case"binary":a=t;break;case"buffer":a=t.toString("binary");break;case"array":a=us(t);break;default:throw new Error("Unrecognized type "+n.type)}return c[0]==239&&c[1]==187&&c[2]==191&&(a=on(a)),n.type="binary",E9(a,n)}function NT(t,n){var a=t;return n.type=="base64"&&(a=Mr(a)),a=ui.utils.decode(1200,a.slice(2),"str"),n.type="binary",E9(a,n)}function BT(t){return t.match(/[^\x00-\x7F]/)?dc(t):t}function af(t,n,a,c){return c?(a.type="string",qc.to_workbook(t,a)):qc.to_workbook(n,a)}function U1(t,n){Yv();var a=n||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return U1(new Uint8Array(t),(a=Gn(a),a.type="array",a));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!a.type&&(a.type=typeof Deno<"u"?"buffer":"array");var c=t,u=[0,0,0,0],m=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),po={},a.dateNF&&(po.dateNF=a.dateNF),a.type||(a.type=Vt&&Buffer.isBuffer(t)?"buffer":"base64"),a.type=="file"&&(a.type=Vt?"buffer":"binary",c=E6(t),typeof Uint8Array<"u"&&!Vt&&(a.type="array")),a.type=="string"&&(m=!0,a.type="binary",a.codepage=65001,c=BT(t)),a.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var h=new ArrayBuffer(3),o=new Uint8Array(h);if(o.foo="bar",!o.foo)return a=Gn(a),a.type="array",U1(Xp(c),a)}switch((u=hg(c,a))[0]){case 208:if(u[1]===207&&u[2]===17&&u[3]===224&&u[4]===161&&u[5]===177&&u[6]===26&&u[7]===225)return MT(jt.read(c,a),a);break;case 9:if(u[1]<=8)return w9(c,a);break;case 60:return L1(c,a);case 73:if(u[1]===73&&u[2]===42&&u[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(u[1]===68)return hS(c,a);break;case 84:if(u[1]===65&&u[2]===66&&u[3]===76)return lS.to_workbook(c,a);break;case 80:return u[1]===75&&u[2]<9&&u[3]<9?DT(c,a):af(t,c,a,m);case 239:return u[3]===60?L1(c,a):af(t,c,a,m);case 255:if(u[1]===254)return NT(c,a);if(u[1]===0&&u[2]===2&&u[3]===0)return Ic.to_workbook(c,a);break;case 0:if(u[1]===0&&(u[2]>=2&&u[3]===0||u[2]===0&&(u[3]===8||u[3]===9)))return Ic.to_workbook(c,a);break;case 3:case 131:case 139:case 140:return wx.to_workbook(c,a);case 123:if(u[1]===92&&u[2]===114&&u[3]===116)return zS.to_workbook(c,a);break;case 10:case 13:case 32:return LT(c,a);case 137:if(u[1]===80&&u[2]===78&&u[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return oS.indexOf(u[0])>-1&&u[2]<=12&&u[3]<=31?wx.to_workbook(c,a):af(t,c,a,m)}function $T(t,n,a,c,u,m,h,o){var s=Vn(a),i=o.defval,l=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,e=u===1?[]:{};if(u!==1)if(Object.defineProperty)try{Object.defineProperty(e,"__rowNum__",{value:a,enumerable:!1})}catch{e.__rowNum__=a}else e.__rowNum__=a;if(!h||t[a])for(var r=n.s.c;r<=n.e.c;++r){var p=h?t[a][r]:t[c[r]+s];if(p===void 0||p.t===void 0){if(i===void 0)continue;m[r]!=null&&(e[m[r]]=i);continue}var x=p.v;switch(p.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(m[r]!=null){if(x==null)if(p.t=="e"&&x===null)e[m[r]]=null;else if(i!==void 0)e[m[r]]=i;else if(l&&x===null)e[m[r]]=null;else continue;else e[m[r]]=l&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?x:Za(p,x,o);x!=null&&(d=!1)}}return{row:e,isempty:d}}function _1(t,n){if(t==null||t["!ref"]==null)return[];var a={t:"n",v:0},c=0,u=1,m=[],h=0,o="",s={s:{r:0,c:0},e:{r:0,c:0}},i=n||{},l=i.range!=null?i.range:t["!ref"];switch(i.header===1?c=1:i.header==="A"?c=2:Array.isArray(i.header)?c=3:i.header==null&&(c=0),typeof l){case"string":s=yn(l);break;case"number":s=yn(t["!ref"]),s.s.r=l;break;default:s=l}c>0&&(u=0);var d=Vn(s.s.r),e=[],r=[],p=0,x=0,y=Array.isArray(t),v=s.s.r,b=0,g={};y&&!t[v]&&(t[v]=[]);var w=i.skipHidden&&t["!cols"]||[],f=i.skipHidden&&t["!rows"]||[];for(b=s.s.c;b<=s.e.c;++b)if(!(w[b]||{}).hidden)switch(e[b]=Pn(b),a=y?t[v][b]:t[e[b]+d],c){case 1:m[b]=b-s.s.c;break;case 2:m[b]=e[b];break;case 3:m[b]=i.header[b-s.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),o=h=Za(a,null,i),x=g[h]||0,!x)g[h]=1;else{do o=h+"_"+x++;while(g[o]);g[h]=x,g[o]=1}m[b]=o}for(v=s.s.r+u;v<=s.e.r;++v)if(!(f[v]||{}).hidden){var E=$T(t,s,v,e,c,m,y,i);(E.isempty===!1||(c===1?i.blankrows!==!1:!!i.blankrows))&&(r[p++]=E.row)}return r.length=p,r}var $x=/"/g;function UT(t,n,a,c,u,m,h,o){for(var s=!0,i=[],l="",d=Vn(a),e=n.s.c;e<=n.e.c;++e)if(!!c[e]){var r=o.dense?(t[a]||[])[e]:t[c[e]+d];if(r==null)l="";else if(r.v!=null){s=!1,l=""+(o.rawNumbers&&r.t=="n"?r.v:Za(r,null,o));for(var p=0,x=0;p!==l.length;++p)if((x=l.charCodeAt(p))===u||x===m||x===34||o.forceQuotes){l='"'+l.replace($x,'""')+'"';break}l=="ID"&&(l='"ID"')}else r.f!=null&&!r.F?(s=!1,l="="+r.f,l.indexOf(",")>=0&&(l='"'+l.replace($x,'""')+'"')):l="";i.push(l)}return o.blankrows===!1&&s?null:i.join(h)}function C9(t,n){var a=[],c=n==null?{}:n;if(t==null||t["!ref"]==null)return"";var u=yn(t["!ref"]),m=c.FS!==void 0?c.FS:",",h=m.charCodeAt(0),o=c.RS!==void 0?c.RS:`
`,s=o.charCodeAt(0),i=new RegExp((m=="|"?"\\|":m)+"+$"),l="",d=[];c.dense=Array.isArray(t);for(var e=c.skipHidden&&t["!cols"]||[],r=c.skipHidden&&t["!rows"]||[],p=u.s.c;p<=u.e.c;++p)(e[p]||{}).hidden||(d[p]=Pn(p));for(var x=0,y=u.s.r;y<=u.e.r;++y)(r[y]||{}).hidden||(l=UT(t,u,y,d,h,s,m,c),l!=null&&(c.strip&&(l=l.replace(i,"")),(l||c.blankrows!==!1)&&a.push((x++?o:"")+l)));return delete c.dense,a.join("")}function _T(t,n){n||(n={}),n.FS="	",n.RS=`
`;var a=C9(t,n);return a}function HT(t){var n="",a,c="";if(t==null||t["!ref"]==null)return[];var u=yn(t["!ref"]),m="",h=[],o,s=[],i=Array.isArray(t);for(o=u.s.c;o<=u.e.c;++o)h[o]=Pn(o);for(var l=u.s.r;l<=u.e.r;++l)for(m=Vn(l),o=u.s.c;o<=u.e.c;++o)if(n=h[o]+m,a=i?(t[l]||[])[o]:t[n],c="",a!==void 0){if(a.F!=null){if(n=a.F,!a.f)continue;c=a.f,n.indexOf(":")==-1&&(n=n+":"+n)}if(a.f!=null)c=a.f;else{if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)c=""+a.v;else if(a.t=="b")c=a.v?"TRUE":"FALSE";else if(a.w!==void 0)c="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?c="'"+a.v:c=""+a.v}}s[s.length]=n+"="+c}return s}function T9(t,n,a){var c=a||{},u=+!c.skipHeader,m=t||{},h=0,o=0;if(m&&c.origin!=null)if(typeof c.origin=="number")h=c.origin;else{var s=typeof c.origin=="string"?fr(c.origin):c.origin;h=s.r,o=s.c}var i,l={s:{c:0,r:0},e:{c:o,r:h+n.length-1+u}};if(m["!ref"]){var d=yn(m["!ref"]);l.e.c=Math.max(l.e.c,d.e.c),l.e.r=Math.max(l.e.r,d.e.r),h==-1&&(h=d.e.r+1,l.e.r=h+n.length-1+u)}else h==-1&&(h=0,l.e.r=n.length-1+u);var e=c.header||[],r=0;n.forEach(function(x,y){Fa(x).forEach(function(v){(r=e.indexOf(v))==-1&&(e[r=e.length]=v);var b=x[v],g="z",w="",f=Ht({c:o+r,r:h+y+u});i=rl(m,f),b&&typeof b=="object"&&!(b instanceof Date)?m[f]=b:(typeof b=="number"?g="n":typeof b=="boolean"?g="b":typeof b=="string"?g="s":b instanceof Date?(g="d",c.cellDates||(g="n",b=gr(b)),w=c.dateNF||Xt[14]):b===null&&c.nullError&&(g="e",b=0),i?(i.t=g,i.v=b,delete i.w,delete i.R,w&&(i.z=w)):m[f]=i={t:g,v:b},w&&(i.z=w))})}),l.e.c=Math.max(l.e.c,o+e.length-1);var p=Vn(h);if(u)for(r=0;r<e.length;++r)m[Pn(r+o)+p]={t:"s",v:e[r]};return m["!ref"]=Kt(l),m}function zT(t,n){return T9(null,t,n)}function rl(t,n,a){if(typeof n=="string"){if(Array.isArray(t)){var c=fr(n);return t[c.r]||(t[c.r]=[]),t[c.r][c.c]||(t[c.r][c.c]={t:"z"})}return t[n]||(t[n]={t:"z"})}return typeof n!="number"?rl(t,Ht(n)):rl(t,Ht({r:n,c:a||0}))}function XT(t,n){if(typeof n=="number"){if(n>=0&&t.SheetNames.length>n)return n;throw new Error("Cannot find sheet # "+n)}else if(typeof n=="string"){var a=t.SheetNames.indexOf(n);if(a>-1)return a;throw new Error("Cannot find sheet name |"+n+"|")}else throw new Error("Cannot find sheet |"+n+"|")}function fg(){return{SheetNames:[],Sheets:{}}}function dg(t,n,a,c){var u=1;if(!a)for(;u<=65535&&t.SheetNames.indexOf(a="Sheet"+u)!=-1;++u,a=void 0);if(!a||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(c&&t.SheetNames.indexOf(a)>=0){var m=a.match(/(^.*?)(\d+)$/);u=m&&+m[2]||0;var h=m&&m[1]||a;for(++u;u<=65535&&t.SheetNames.indexOf(a=h+u)!=-1;++u);}if(TC(a),t.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return t.SheetNames.push(a),t.Sheets[a]=n,a}function WT(t,n,a){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var c=XT(t,n);switch(t.Workbook.Sheets[c]||(t.Workbook.Sheets[c]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}t.Workbook.Sheets[c].Hidden=a}function GT(t,n){return t.z=n,t}function F9(t,n,a){return n?(t.l={Target:n},a&&(t.l.Tooltip=a)):delete t.l,t}function VT(t,n,a){return F9(t,"#"+n,a)}function jT(t,n,a){t.c||(t.c=[]),t.c.push({t:n,a:a||"SheetJS"})}function KT(t,n,a,c){for(var u=typeof n!="string"?n:yn(n),m=typeof n=="string"?n:Kt(n),h=u.s.r;h<=u.e.r;++h)for(var o=u.s.c;o<=u.e.c;++o){var s=rl(t,h,o);s.t="n",s.F=m,delete s.v,h==u.s.r&&o==u.s.c&&(s.f=a,c&&(s.D=!0))}return t}var YT={encode_col:Pn,encode_row:Vn,encode_cell:Ht,encode_range:Kt,decode_col:Qp,decode_row:Zp,split_cell:sw,decode_cell:fr,decode_range:Oo,format_cell:Za,sheet_add_aoa:R3,sheet_add_json:T9,sheet_add_dom:A9,aoa_to_sheet:Po,json_to_sheet:zT,table_to_sheet:S9,table_to_book:hT,sheet_to_csv:C9,sheet_to_txt:_T,sheet_to_json:_1,sheet_to_html:uT,sheet_to_formulae:HT,sheet_to_row_object_array:_1,sheet_get_cell:rl,book_new:fg,book_append_sheet:dg,book_set_sheet_visibility:WT,cell_set_number_format:GT,cell_set_hyperlink:F9,cell_set_internal_link:VT,cell_add_comment:jT,sheet_set_array_formula:KT,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};xy.exports.GlobalWorkerOptions.workerSrc=K4;function I9(t){return new Promise((n,a)=>{const c=new FileReader;c.onload=async u=>{var s,i;const m=(s=u.target)==null?void 0:s.result,o=await((i=(await fv.loadAsync(m)).file("word/document.xml"))==null?void 0:i.async("text"));if(o){const l=QT(o);n(l)}else a("Failed to read Word file content")},c.onerror=u=>{var m;a((m=u.target)==null?void 0:m.error)},c.readAsArrayBuffer(t)})}const JT=t=>new Promise((n,a)=>{const c=new FileReader;c.onload=u=>{var h;const m=(h=u.target)==null?void 0:h.result;n(m)},c.onerror=u=>{var m;a((m=u.target)==null?void 0:m.error)},c.readAsArrayBuffer(t)}),ZT=async(t,n,a)=>{const c=new Map,u=await JT(t),m=await fv.loadAsync(u);await Promise.allSettled(Object.values(m.files).map(async o=>{var l;const s=o.name,i="."+((l=s.split(".").pop())==null?void 0:l.toLowerCase())||"";if(!o.dir&&!s.startsWith("__MACOSX/")&&!n.includes(s)&&!a.includes(i)){let d="";const e=await o.async("arraybuffer"),r=new Blob([e]);i===".pdf"?d=await P9(r):i===".docx"?d=await I9(r):i===".xlsx"?d=await O9(r):d=await o.async("string"),c.set(o.name,d)}}));let h="";for(const[o,s]of c.entries())h+=`
File: ${o}/
`,h+=`${s}

`;return h};function QT(t){try{const c=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("w:t");let u="";for(let m=0;m<c.length;m++)u+=c[m].textContent+` 
`;return u}catch(n){return console.error(n),""}}function O9(t){return new Promise((n,a)=>{const c=new FileReader;c.onload=async u=>{var d;const m=(d=u.target)==null?void 0:d.result,h=new Uint8Array(m),o=U1(h,{type:"array"}),s=o.SheetNames,i=[];for(const e of s){i.push("Sheet: "+e+`
`);const r=o.Sheets[e],p=YT.sheet_to_json(r,{header:1}),x=qT(p);i.push(x)}const l=i.join(`
`);n(l)},c.onerror=u=>{var m;a((m=u.target)==null?void 0:m.error)},c.readAsArrayBuffer(t)})}function qT(t){let n="";for(const a of t){for(const c of a)c&&typeof c=="string"&&(n+=c+" ");n+=`
`}return n}const P9=async t=>new Promise((n,a)=>{const c=new FileReader;c.onload=async u=>{var m;if((m=u.target)!=null&&m.result)try{const h=await dv.exports.getDocument({data:u.target.result}).promise;let o="";for(let s=1;s<=h.numPages;s++)try{const l=await(await h.getPage(s)).getTextContent();o+=l.items.map(d=>d.str).join(" ")}catch(i){console.log(`Error occurred while reading page ${s}: ${i}`);continue}h.destroy(),n(o)}catch(h){a(`Error occurred while reading PDF file: ${h}`)}else a("No result found")},c.onerror=()=>{a(`Error occurred while reading file: ${c.error}`)},c.readAsArrayBuffer(t)}),eF="https://www.google-analytics.com/mp/collect",tF="https://www.google-analytics.com/debug/mp/collect",nF="YOUR_MEASUREMENT_ID_HERE",rF="YOUR_API_SECRET_HERE",aF=100,iF=30;class sF{constructor(n=!1){this.debug=n}async getOrCreateClientId(){const n=await Xr("clientId");if(!n){const a=self.crypto.randomUUID();return await zr("clientId",a),a}return n}async getOrCreateSessionId(){let n=await Xr("sessionData");const a=Date.now();if(n&&n.timestamp&&((a-parseInt(n.timestamp))/6e4>iF?n=void 0:(n.timestamp=a.toString(),await zr("sessionData",n))),!n){const c={session_id:a.toString(),timestamp:a.toString()};return await zr("sessionData",c),c.session_id}return n.session_id}async fireEvent(n,a={}){a.session_id||(a.session_id=await this.getOrCreateSessionId()),a.engagement_time_msec||(a.engagement_time_msec=aF);try{const c=await fetch(`${this.debug?tF:eF}?measurement_id=${nF}&api_secret=${rF}`,{method:"POST",body:JSON.stringify({client_id:await this.getOrCreateClientId(),events:[{name:n,params:{...a}}]})});this.debug&&console.log(await c.text())}catch(c){console.error("Google Analytics request failed with an exception",c)}}async firePageViewEvent(n,a,c={}){return this.fireEvent("page_view",{page_title:n,page_location:a,...c})}}const Ux=new sF,pg=()=>{const t=xt.exports.useCallback(async(a,c)=>{try{Ux.fireEvent(a,c)}catch(u){console.error(u)}},[]),n=xt.exports.useCallback(async(a,c)=>{try{Ux.firePageViewEvent(a,c)}catch(u){console.error(u)}},[]);return{fireEvent:t,firePageViewEvent:n}};class R9{constructor(n){var a;Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=n.pageContent?n.pageContent.toString():this.pageContent,this.metadata=(a=n.metadata)!=null?a:{}}}var oF=Object.defineProperty,cF=(t,n,a)=>n in t?oF(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,lF=(t,n,a)=>(cF(t,typeof n!="symbol"?n+"":n,a),a),eh={};eh.byteLength=fF;eh.toByteArray=pF;eh.fromByteArray=xF;var ka=[],Gr=[],uF=typeof Uint8Array<"u"?Uint8Array:Array,sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ts=0,hF=sf.length;Ts<hF;++Ts)ka[Ts]=sf[Ts],Gr[sf.charCodeAt(Ts)]=Ts;Gr["-".charCodeAt(0)]=62;Gr["_".charCodeAt(0)]=63;function M9(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.indexOf("=");a===-1&&(a=n);var c=a===n?0:4-a%4;return[a,c]}function fF(t){var n=M9(t),a=n[0],c=n[1];return(a+c)*3/4-c}function dF(t,n,a){return(n+a)*3/4-a}function pF(t){var n,a=M9(t),c=a[0],u=a[1],m=new uF(dF(t,c,u)),h=0,o=u>0?c-4:c,s;for(s=0;s<o;s+=4)n=Gr[t.charCodeAt(s)]<<18|Gr[t.charCodeAt(s+1)]<<12|Gr[t.charCodeAt(s+2)]<<6|Gr[t.charCodeAt(s+3)],m[h++]=n>>16&255,m[h++]=n>>8&255,m[h++]=n&255;return u===2&&(n=Gr[t.charCodeAt(s)]<<2|Gr[t.charCodeAt(s+1)]>>4,m[h++]=n&255),u===1&&(n=Gr[t.charCodeAt(s)]<<10|Gr[t.charCodeAt(s+1)]<<4|Gr[t.charCodeAt(s+2)]>>2,m[h++]=n>>8&255,m[h++]=n&255),m}function gF(t){return ka[t>>18&63]+ka[t>>12&63]+ka[t>>6&63]+ka[t&63]}function mF(t,n,a){for(var c,u=[],m=n;m<a;m+=3)c=(t[m]<<16&16711680)+(t[m+1]<<8&65280)+(t[m+2]&255),u.push(gF(c));return u.join("")}function xF(t){for(var n,a=t.length,c=a%3,u=[],m=16383,h=0,o=a-c;h<o;h+=m)u.push(mF(t,h,h+m>o?o:h+m));return c===1?(n=t[a-1],u.push(ka[n>>2]+ka[n<<4&63]+"==")):c===2&&(n=(t[a-2]<<8)+t[a-1],u.push(ka[n>>10]+ka[n>>4&63]+ka[n<<2&63]+"=")),u.join("")}function bF(t,n){let a=Array.from({length:t.length},(c,u)=>({start:u,end:u+1}));for(;a.length>1;){let c=null;for(let u=0;u<a.length-1;u++){const m=t.slice(a[u].start,a[u+1].end),h=n.get(m.join(","));h!=null&&(c==null||h<c[0])&&(c=[h,u])}if(c!=null){const u=c[1];a[u]={start:a[u].start,end:a[u+1].end},a.splice(u+1,1)}else break}return a}function yF(t,n){return t.length===1?[n.get(t.join(","))]:bF(t,n).map(a=>n.get(t.slice(a.start,a.end).join(","))).filter(a=>a!=null)}function vF(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var H1=class{constructor(t,n){Ct(this,"specialTokens");Ct(this,"inverseSpecialTokens");Ct(this,"patStr");Ct(this,"textEncoder",new TextEncoder);Ct(this,"textDecoder",new TextDecoder("utf-8"));Ct(this,"rankMap",new Map);Ct(this,"textMap",new Map);this.patStr=t.pat_str;const a=t.bpe_ranks.split(`
`).filter(Boolean).reduce((c,u)=>{const[m,h,...o]=u.split(" "),s=Number.parseInt(h,10);return o.forEach((i,l)=>c[i]=s+l),c},{});for(const[c,u]of Object.entries(a)){const m=eh.toByteArray(c);this.rankMap.set(m.join(","),u),this.textMap.set(u,m)}this.specialTokens={...t.special_tokens,...n},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((c,[u,m])=>(c[m]=this.textEncoder.encode(u),c),{})}encode(t,n=[],a="all"){var i;const c=new RegExp(this.patStr,"ug"),u=H1.specialTokenRegex(Object.keys(this.specialTokens)),m=[],h=new Set(n==="all"?Object.keys(this.specialTokens):n),o=new Set(a==="all"?Object.keys(this.specialTokens).filter(l=>!h.has(l)):a);if(o.size>0){const l=H1.specialTokenRegex([...o]),d=t.match(l);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let s=0;for(;;){let l=null,d=s;for(;u.lastIndex=d,l=u.exec(t),!(l==null||h.has(l[0]));)d=l.index+1;const e=(i=l==null?void 0:l.index)!=null?i:t.length;for(const p of t.substring(s,e).matchAll(c)){const x=this.textEncoder.encode(p[0]),y=this.rankMap.get(x.join(","));if(y!=null){m.push(y);continue}m.push(...yF(x,this.rankMap))}if(l==null)break;let r=this.specialTokens[l[0]];m.push(r),s=l.index+l[0].length}return m}decode(t){var m;const n=[];let a=0;for(let h=0;h<t.length;++h){const o=t[h],s=(m=this.textMap.get(o))!=null?m:this.inverseSpecialTokens[o];s!=null&&(n.push(s),a+=s.length)}const c=new Uint8Array(a);let u=0;for(const h of n)c.set(h,u),u+=h.length;return this.textDecoder.decode(c)}},wF=H1;lF(wF,"specialTokenRegex",t=>new RegExp(t.map(n=>vF(n)).join("|"),"g"));var fs={exports:{}},D9={exports:{}},L9={};function qr(t,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var AF=qr;qr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};qr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};qr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var n=new Date().getTime();if(t&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var a=this._timeouts.shift();if(a===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),a=this._cachedTimeouts.slice(-1);else return!1;var c=this;return this._timer=setTimeout(function(){c._attempts++,c._operationTimeoutCb&&(c._timeout=setTimeout(function(){c._operationTimeoutCb(c._attempts)},c._operationTimeout),c._options.unref&&c._timeout.unref()),c._fn(c._attempts)},a),this._options.unref&&this._timer.unref(),!0};qr.prototype.attempt=function(t,n){this._fn=t,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var a=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){a._operationTimeoutCb()},a._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};qr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};qr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};qr.prototype.start=qr.prototype.try;qr.prototype.errors=function(){return this._errors};qr.prototype.attempts=function(){return this._attempts};qr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},n=null,a=0,c=0;c<this._errors.length;c++){var u=this._errors[c],m=u.message,h=(t[m]||0)+1;t[m]=h,h>=a&&(n=u,a=h)}return n};(function(t){var n=AF;t.operation=function(a){var c=t.timeouts(a);return new n(c,{forever:a&&(a.forever||a.retries===1/0),unref:a&&a.unref,maxRetryTime:a&&a.maxRetryTime})},t.timeouts=function(a){if(a instanceof Array)return[].concat(a);var c={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var u in a)c[u]=a[u];if(c.minTimeout>c.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var m=[],h=0;h<c.retries;h++)m.push(this.createTimeout(h,c));return a&&a.forever&&!m.length&&m.push(this.createTimeout(h,c)),m.sort(function(o,s){return o-s}),m},t.createTimeout=function(a,c){var u=c.randomize?Math.random()+1:1,m=Math.round(u*Math.max(c.minTimeout,1)*Math.pow(c.factor,a));return m=Math.min(m,c.maxTimeout),m},t.wrap=function(a,c,u){if(c instanceof Array&&(u=c,c=null),!u){u=[];for(var m in a)typeof a[m]=="function"&&u.push(m)}for(var h=0;h<u.length;h++){var o=u[h],s=a[o];a[o]=function(l){var d=t.operation(c),e=Array.prototype.slice.call(arguments,1),r=e.pop();e.push(function(p){d.retry(p)||(p&&(arguments[0]=d.mainError()),r.apply(this,arguments))}),d.attempt(function(){l.apply(a,e)})}.bind(a,s),a[o].options=c}}})(L9);(function(t){t.exports=L9})(D9);const SF=D9.exports,kF=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class N9 extends Error{constructor(n){super(),n instanceof Error?(this.originalError=n,{message:n}=n):(this.originalError=new Error(n),this.originalError.stack=this.stack),this.name="AbortError",this.message=n}}const EF=(t,n,a)=>{const c=a.retries-(n-1);return t.attemptNumber=n,t.retriesLeft=c,t},CF=t=>kF.includes(t),B9=(t,n)=>new Promise((a,c)=>{n={onFailedAttempt:()=>{},retries:10,...n};const u=SF.operation(n);u.attempt(async m=>{try{a(await t(m))}catch(h){if(!(h instanceof Error)){c(new TypeError(`Non-error was thrown: "${h}". You should only throw errors.`));return}if(h instanceof N9)u.stop(),c(h.originalError);else if(h instanceof TypeError&&!CF(h.message))u.stop(),c(h);else{EF(h,m,n);try{await n.onFailedAttempt(h)}catch(o){c(o);return}u.retry(h)||c(u.mainError())}}})});fs.exports=B9;fs.exports.default=B9;fs.exports.AbortError=N9;var $9={},U9={exports:{}};(function(t){var n=Object.prototype.hasOwnProperty,a="~";function c(){}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(a=!1));function u(s,i,l){this.fn=s,this.context=i,this.once=l||!1}function m(s,i,l,d,e){if(typeof l!="function")throw new TypeError("The listener must be a function");var r=new u(l,d||s,e),p=a?a+i:i;return s._events[p]?s._events[p].fn?s._events[p]=[s._events[p],r]:s._events[p].push(r):(s._events[p]=r,s._eventsCount++),s}function h(s,i){--s._eventsCount===0?s._events=new c:delete s._events[i]}function o(){this._events=new c,this._eventsCount=0}o.prototype.eventNames=function(){var i=[],l,d;if(this._eventsCount===0)return i;for(d in l=this._events)n.call(l,d)&&i.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(l)):i},o.prototype.listeners=function(i){var l=a?a+i:i,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,r=d.length,p=new Array(r);e<r;e++)p[e]=d[e].fn;return p},o.prototype.listenerCount=function(i){var l=a?a+i:i,d=this._events[l];return d?d.fn?1:d.length:0},o.prototype.emit=function(i,l,d,e,r,p){var x=a?a+i:i;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,b,g;if(y.fn){switch(y.once&&this.removeListener(i,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,l),!0;case 3:return y.fn.call(y.context,l,d),!0;case 4:return y.fn.call(y.context,l,d,e),!0;case 5:return y.fn.call(y.context,l,d,e,r),!0;case 6:return y.fn.call(y.context,l,d,e,r,p),!0}for(g=1,b=new Array(v-1);g<v;g++)b[g-1]=arguments[g];y.fn.apply(y.context,b)}else{var w=y.length,f;for(g=0;g<w;g++)switch(y[g].once&&this.removeListener(i,y[g].fn,void 0,!0),v){case 1:y[g].fn.call(y[g].context);break;case 2:y[g].fn.call(y[g].context,l);break;case 3:y[g].fn.call(y[g].context,l,d);break;case 4:y[g].fn.call(y[g].context,l,d,e);break;default:if(!b)for(f=1,b=new Array(v-1);f<v;f++)b[f-1]=arguments[f];y[g].fn.apply(y[g].context,b)}}return!0},o.prototype.on=function(i,l,d){return m(this,i,l,d,!1)},o.prototype.once=function(i,l,d){return m(this,i,l,d,!0)},o.prototype.removeListener=function(i,l,d,e){var r=a?a+i:i;if(!this._events[r])return this;if(!l)return h(this,r),this;var p=this._events[r];if(p.fn)p.fn===l&&(!e||p.once)&&(!d||p.context===d)&&h(this,r);else{for(var x=0,y=[],v=p.length;x<v;x++)(p[x].fn!==l||e&&!p[x].once||d&&p[x].context!==d)&&y.push(p[x]);y.length?this._events[r]=y.length===1?y[0]:y:h(this,r)}return this},o.prototype.removeAllListeners=function(i){var l;return i?(l=a?a+i:i,this._events[l]&&h(this,l)):(this._events=new c,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,t.exports=o})(U9);var th={exports:{}},TF=(t,n)=>(n=n||(()=>{}),t.then(a=>new Promise(c=>{c(n())}).then(()=>a),a=>new Promise(c=>{c(n())}).then(()=>{throw a})));const FF=TF;class _9 extends Error{constructor(n){super(n),this.name="TimeoutError"}}const H9=(t,n,a)=>new Promise((c,u)=>{if(typeof n!="number"||n<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(n===1/0){c(t);return}const m=setTimeout(()=>{if(typeof a=="function"){try{c(a())}catch(s){u(s)}return}const h=typeof a=="string"?a:`Promise timed out after ${n} milliseconds`,o=a instanceof Error?a:new _9(h);typeof t.cancel=="function"&&t.cancel(),u(o)},n);FF(t.then(c,u),()=>{clearTimeout(m)})});th.exports=H9;th.exports.default=H9;th.exports.TimeoutError=_9;var gg={},mg={};Object.defineProperty(mg,"__esModule",{value:!0});function IF(t,n,a){let c=0,u=t.length;for(;u>0;){const m=u/2|0;let h=c+m;a(t[h],n)<=0?(c=++h,u-=m+1):u=m}return c}mg.default=IF;Object.defineProperty(gg,"__esModule",{value:!0});const OF=mg;class PF{constructor(){this._queue=[]}enqueue(n,a){a=Object.assign({priority:0},a);const c={priority:a.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=a.priority){this._queue.push(c);return}const u=OF.default(this._queue,c,(m,h)=>h.priority-m.priority);this._queue.splice(u,0,c)}dequeue(){const n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(a=>a.priority===n.priority).map(a=>a.run)}get size(){return this._queue.length}}gg.default=PF;Object.defineProperty($9,"__esModule",{value:!0});const RF=U9.exports,z9=th.exports,MF=gg,Jl=()=>{},DF=new z9.TimeoutError;class LF extends RF{constructor(n){var a,c,u,m;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Jl,this._resolveIdle=Jl,n=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:MF.default},n),!(typeof n.intervalCap=="number"&&n.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(c=(a=n.intervalCap)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""}\` (${typeof n.intervalCap})`);if(n.interval===void 0||!(Number.isFinite(n.interval)&&n.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(m=(u=n.interval)===null||u===void 0?void 0:u.toString())!==null&&m!==void 0?m:""}\` (${typeof n.interval})`);this._carryoverConcurrencyCount=n.carryoverConcurrencyCount,this._isIntervalIgnored=n.intervalCap===1/0||n.interval===0,this._intervalCap=n.intervalCap,this._interval=n.interval,this._queue=new n.queueClass,this._queueClass=n.queueClass,this.concurrency=n.concurrency,this._timeout=n.timeout,this._throwOnTimeout=n.throwOnTimeout===!0,this._isPaused=n.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Jl,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Jl,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const n=Date.now();if(this._intervalId===void 0){const a=this._intervalEnd-n;if(a<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},a)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const n=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const a=this._queue.dequeue();return a?(this.emit("active"),a(),n&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(n){if(!(typeof n=="number"&&n>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${n}\` (${typeof n})`);this._concurrency=n,this._processQueue()}async add(n,a={}){return new Promise((c,u)=>{const m=async()=>{this._pendingCount++,this._intervalCount++;try{const h=this._timeout===void 0&&a.timeout===void 0?n():z9.default(Promise.resolve(n()),a.timeout===void 0?this._timeout:a.timeout,()=>{(a.throwOnTimeout===void 0?this._throwOnTimeout:a.throwOnTimeout)&&u(DF)});c(await h)}catch(h){u(h)}this._next()};this._queue.enqueue(m,a),this._tryToStartAnother(),this.emit("add")})}async addAll(n,a){return Promise.all(n.map(async c=>this.add(c,a)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(n=>{const a=this._resolveEmpty;this._resolveEmpty=()=>{a(),n()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(n=>{const a=this._resolveIdle;this._resolveIdle=()=>{a(),n()}})}get size(){return this._queue.size}sizeBy(n){return this._queue.filter(n).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(n){this._timeout=n}}var Va=$9.default=LF;const NF=[400,401,402,403,404,405,406,407,408,409],BF=t=>{var a,c,u;if(t.message.startsWith("Cancel")||t.message.startsWith("TimeoutError")||t.name==="TimeoutError"||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const n=(c=(a=t==null?void 0:t.response)==null?void 0:a.status)!=null?c:t==null?void 0:t.status;if(n&&NF.includes(+n))throw t;if(((u=t==null?void 0:t.error)==null?void 0:u.code)==="insufficient_quota"){const m=new Error(t==null?void 0:t.message);throw m.name="InsufficientQuotaError",m}};class $F{constructor(n){var c,u,m;Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=(c=n.maxConcurrency)!=null?c:1/0,this.maxRetries=(u=n.maxRetries)!=null?u:6,this.onFailedAttempt=(m=n.onFailedAttempt)!=null?m:BF;const a="default"in Va?Va.default:Va;this.queue=new a({concurrency:this.maxConcurrency})}call(n,...a){return this.queue.add(()=>fs.exports(()=>n(...a).catch(c=>{throw c instanceof Error?c:new Error(c)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(n,a,...c){return n.signal?Promise.race([this.call(a,...c),new Promise((u,m)=>{var h;(h=n.signal)==null||h.addEventListener("abort",()=>{m(new Error("AbortError"))})})]):this.call(a,...c)}fetch(...n){return this.call(()=>fetch(...n).then(a=>a.ok?a:Promise.reject(a)))}}let Zl;const UF=new Uint8Array(16);function _F(){if(!Zl&&(Zl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zl(UF)}const _n=[];for(let t=0;t<256;++t)_n.push((t+256).toString(16).slice(1));function HF(t,n=0){return _n[t[n+0]]+_n[t[n+1]]+_n[t[n+2]]+_n[t[n+3]]+"-"+_n[t[n+4]]+_n[t[n+5]]+"-"+_n[t[n+6]]+_n[t[n+7]]+"-"+_n[t[n+8]]+_n[t[n+9]]+"-"+_n[t[n+10]]+_n[t[n+11]]+_n[t[n+12]]+_n[t[n+13]]+_n[t[n+14]]+_n[t[n+15]]}const zF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_x={randomUUID:zF};function Ba(t,n,a){if(_x.randomUUID&&!n&&!t)return _x.randomUUID();t=t||{};const c=t.random||(t.rng||_F)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,n){a=a||0;for(let u=0;u<16;++u)n[a+u]=c[u];return n}return HF(c)}var XF=function(t,n){if(typeof t!="string")throw new TypeError("Expected a string");return n=typeof n>"u"?"_":n,t.replace(/([a-z\d])([A-Z])/g,"$1"+n+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+n+"$2").toLowerCase()},X9={exports:{}};const WF=/[\p{Lu}]/u,GF=/[\p{Ll}]/u,Hx=/^[\p{Lu}](?![\p{Lu}])/gu,W9=/([\p{Alpha}\p{N}_]|$)/u,G9=/[_.\- ]+/,VF=new RegExp("^"+G9.source),zx=new RegExp(G9.source+W9.source,"gu"),Xx=new RegExp("\\d+"+W9.source,"gu"),jF=(t,n,a)=>{let c=!1,u=!1,m=!1;for(let h=0;h<t.length;h++){const o=t[h];c&&WF.test(o)?(t=t.slice(0,h)+"-"+t.slice(h),c=!1,m=u,u=!0,h++):u&&m&&GF.test(o)?(t=t.slice(0,h-1)+"-"+t.slice(h-1),m=u,u=!1,c=!0):(c=n(o)===o&&a(o)!==o,m=u,u=a(o)===o&&n(o)!==o)}return t},KF=(t,n)=>(Hx.lastIndex=0,t.replace(Hx,a=>n(a))),YF=(t,n)=>(zx.lastIndex=0,Xx.lastIndex=0,t.replace(zx,(a,c)=>n(c)).replace(Xx,a=>n(a))),V9=(t,n)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(n={pascalCase:!1,preserveConsecutiveUppercase:!1,...n},Array.isArray(t)?t=t.map(m=>m.trim()).filter(m=>m.length).join("-"):t=t.trim(),t.length===0)return"";const a=n.locale===!1?m=>m.toLowerCase():m=>m.toLocaleLowerCase(n.locale),c=n.locale===!1?m=>m.toUpperCase():m=>m.toLocaleUpperCase(n.locale);return t.length===1?n.pascalCase?c(t):a(t):(t!==a(t)&&(t=jF(t,a,c)),t=t.replace(VF,""),n.preserveConsecutiveUppercase?t=KF(t,a):t=a(t),n.pascalCase&&(t=c(t.charAt(0))+t.slice(1)),YF(t,c))};X9.exports=V9;X9.exports.default=V9;function JF(t,n){return(n==null?void 0:n[t])||XF(t)}function ZF(t,n,a){const c={};for(const u in t)Object.hasOwn(t,u)&&(c[n(u,a)]=t[u]);return c}function Wx(t){return Array.isArray(t)?[...t]:{...t}}function QF(t,n){const a=Wx(t);for(const[c,u]of Object.entries(n)){const[m,...h]=c.split(".").reverse();let o=a;for(const s of h.reverse()){if(o[s]===void 0)break;o[s]=Wx(o[s]),o=o[s]}o[m]!==void 0&&(o[m]={lc:1,type:"secret",id:[u]})}return a}function j9(t){const n=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof n.lc_name!="function"||t.lc_name()!==n.lc_name())?t.lc_name():t.name}class al{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,j9(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(n,...a){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=n||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof al||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const n={},a={},c=Object.keys(this.lc_kwargs).reduce((u,m)=>(u[m]=m in this?this[m]:this.lc_kwargs[m],u),{});for(let u=Object.getPrototypeOf(this);u;u=Object.getPrototypeOf(u))Object.assign(n,Reflect.get(u,"lc_aliases",this)),Object.assign(a,Reflect.get(u,"lc_secrets",this)),Object.assign(c,Reflect.get(u,"lc_attributes",this));return Object.keys(a).forEach(u=>{let m=this,h=c;const[o,...s]=u.split(".").reverse();for(const i of s.reverse()){if(!(i in m)||m[i]===void 0)return;(!(i in h)||h[i]===void 0)&&(typeof m[i]=="object"&&m[i]!=null?h[i]={}:Array.isArray(m[i])&&(h[i]=[])),m=m[i],h=h[i]}o in m&&m[o]!==void 0&&(h[o]=h[o]||m[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:ZF(Object.keys(a).length?QF(c,a):c,JF,n)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}class qF{}class ml extends qF{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,j9(this.constructor)]}constructor(n){var a,c,u,m,h;super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:typeof process<"u"?((a=process.env)==null?void 0:a.LANGCHAIN_CALLBACKS_BACKGROUND)!=="true":!0}),this.lc_kwargs=n||{},n&&(this.ignoreLLM=(c=n.ignoreLLM)!=null?c:this.ignoreLLM,this.ignoreChain=(u=n.ignoreChain)!=null?u:this.ignoreChain,this.ignoreAgent=(m=n.ignoreAgent)!=null?m:this.ignoreAgent,this.ignoreRetriever=(h=n.ignoreRetriever)!=null?h:this.ignoreRetriever)}copy(){return new this.constructor(this)}toJSON(){return al.prototype.toJSON.call(this)}toJSONNotImplemented(){return al.prototype.toJSONNotImplemented.call(this)}static fromMethods(n){class a extends ml{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Ba()}),Object.assign(this,n)}}return new a}}var K9={exports:{}};(function(t){const a=(m=0)=>h=>`\x1B[${38+m};5;${h}m`,c=(m=0)=>(h,o,s)=>`\x1B[${38+m};2;${h};${o};${s}m`;function u(){const m=new Map,h={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};h.color.gray=h.color.blackBright,h.bgColor.bgGray=h.bgColor.bgBlackBright,h.color.grey=h.color.blackBright,h.bgColor.bgGrey=h.bgColor.bgBlackBright;for(const[o,s]of Object.entries(h)){for(const[i,l]of Object.entries(s))h[i]={open:`\x1B[${l[0]}m`,close:`\x1B[${l[1]}m`},s[i]=h[i],m.set(l[0],l[1]);Object.defineProperty(h,o,{value:s,enumerable:!1})}return Object.defineProperty(h,"codes",{value:m,enumerable:!1}),h.color.close="\x1B[39m",h.bgColor.close="\x1B[49m",h.color.ansi256=a(),h.color.ansi16m=c(),h.bgColor.ansi256=a(10),h.bgColor.ansi16m=c(10),Object.defineProperties(h,{rgbToAnsi256:{value:(o,s,i)=>o===s&&s===i?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(s/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:o=>{const s=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!s)return[0,0,0];let{colorString:i}=s.groups;i.length===3&&(i=i.split("").map(d=>d+d).join(""));const l=Number.parseInt(i,16);return[l>>16&255,l>>8&255,l&255]},enumerable:!1},hexToAnsi256:{value:o=>h.rgbToAnsi256(...h.hexToRgb(o)),enumerable:!1}}),h}Object.defineProperty(t,"exports",{enumerable:!0,get:u})})(K9);const Y9=K9.exports;function of(t,n){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[n]:t}}class xg extends ml{constructor(n){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(n,a){n.child_runs.push(a)}_startTrace(n){if(n.parent_run_id!==void 0){const a=this.runMap.get(n.parent_run_id);a&&(this._addChildRun(a,n),a.child_execution_order=Math.max(a.child_execution_order,n.child_execution_order))}this.runMap.set(n.id,n)}async _endTrace(n){const a=n.parent_run_id!==void 0&&this.runMap.get(n.parent_run_id);a?a.child_execution_order=Math.max(a.child_execution_order,n.child_execution_order):await this.persistRun(n),this.runMap.delete(n.id)}_getExecutionOrder(n){const a=n!==void 0&&this.runMap.get(n);return a?a.child_execution_order+1:1}async handleLLMStart(n,a,c,u,m,h,o){var e;const s=this._getExecutionOrder(u),i=Date.now(),l=o?{...m,metadata:o}:m,d={id:c,name:n.id[n.id.length-1],parent_run_id:u,start_time:i,serialized:n,events:[{name:"start",time:new Date(i).toISOString()}],inputs:{prompts:a},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:l!=null?l:{},tags:h||[]};this._startTrace(d),await((e=this.onLLMStart)==null?void 0:e.call(this,d))}async handleChatModelStart(n,a,c,u,m,h,o){var e;const s=this._getExecutionOrder(u),i=Date.now(),l=o?{...m,metadata:o}:m,d={id:c,name:n.id[n.id.length-1],parent_run_id:u,start_time:i,serialized:n,events:[{name:"start",time:new Date(i).toISOString()}],inputs:{messages:a},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:l!=null?l:{},tags:h||[]};this._startTrace(d),await((e=this.onLLMStart)==null?void 0:e.call(this,d))}async handleLLMEnd(n,a){var u;const c=this.runMap.get(a);if(!c||(c==null?void 0:c.run_type)!=="llm")throw new Error("No LLM run to end.");c.end_time=Date.now(),c.outputs=n,c.events.push({name:"end",time:new Date(c.end_time).toISOString()}),await((u=this.onLLMEnd)==null?void 0:u.call(this,c)),await this._endTrace(c)}async handleLLMError(n,a){var u;const c=this.runMap.get(a);if(!c||(c==null?void 0:c.run_type)!=="llm")throw new Error("No LLM run to end.");c.end_time=Date.now(),c.error=n.message,c.events.push({name:"error",time:new Date(c.end_time).toISOString()}),await((u=this.onLLMError)==null?void 0:u.call(this,c)),await this._endTrace(c)}async handleChainStart(n,a,c,u,m,h,o){var d;const s=this._getExecutionOrder(u),i=Date.now(),l={id:c,name:n.id[n.id.length-1],parent_run_id:u,start_time:i,serialized:n,events:[{name:"start",time:new Date(i).toISOString()}],inputs:a,execution_order:s,child_execution_order:s,run_type:o!=null?o:"chain",child_runs:[],extra:h?{metadata:h}:{},tags:m||[]};this._startTrace(l),await((d=this.onChainStart)==null?void 0:d.call(this,l))}async handleChainEnd(n,a,c,u,m){var o;const h=this.runMap.get(a);if(!h)throw new Error("No chain run to end.");h.end_time=Date.now(),h.outputs=of(n,"output"),h.events.push({name:"end",time:new Date(h.end_time).toISOString()}),(m==null?void 0:m.inputs)!==void 0&&(h.inputs=of(m.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,h)),await this._endTrace(h)}async handleChainError(n,a,c,u,m){var o;const h=this.runMap.get(a);if(!h)throw new Error("No chain run to end.");h.end_time=Date.now(),h.error=n.message,h.events.push({name:"error",time:new Date(h.end_time).toISOString()}),(m==null?void 0:m.inputs)!==void 0&&(h.inputs=of(m.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,h)),await this._endTrace(h)}async handleToolStart(n,a,c,u,m,h){var l;const o=this._getExecutionOrder(u),s=Date.now(),i={id:c,name:n.id[n.id.length-1],parent_run_id:u,start_time:s,serialized:n,events:[{name:"start",time:new Date(s).toISOString()}],inputs:{input:a},execution_order:o,child_execution_order:o,run_type:"tool",child_runs:[],extra:h?{metadata:h}:{},tags:m||[]};this._startTrace(i),await((l=this.onToolStart)==null?void 0:l.call(this,i))}async handleToolEnd(n,a){var u;const c=this.runMap.get(a);if(!c||(c==null?void 0:c.run_type)!=="tool")throw new Error("No tool run to end");c.end_time=Date.now(),c.outputs={output:n},c.events.push({name:"end",time:new Date(c.end_time).toISOString()}),await((u=this.onToolEnd)==null?void 0:u.call(this,c)),await this._endTrace(c)}async handleToolError(n,a){var u;const c=this.runMap.get(a);if(!c||(c==null?void 0:c.run_type)!=="tool")throw new Error("No tool run to end");c.end_time=Date.now(),c.error=n.message,c.events.push({name:"error",time:new Date(c.end_time).toISOString()}),await((u=this.onToolError)==null?void 0:u.call(this,c)),await this._endTrace(c)}async handleAgentAction(n,a){var m;const c=this.runMap.get(a);if(!c||(c==null?void 0:c.run_type)!=="chain")return;const u=c;u.actions=u.actions||[],u.actions.push(n),u.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:n}}),await((m=this.onAgentAction)==null?void 0:m.call(this,c))}async handleAgentEnd(n,a){var u;const c=this.runMap.get(a);!c||(c==null?void 0:c.run_type)!=="chain"||(c.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:n}}),await((u=this.onAgentEnd)==null?void 0:u.call(this,c)))}async handleRetrieverStart(n,a,c,u,m,h){var l;const o=this._getExecutionOrder(u),s=Date.now(),i={id:c,name:n.id[n.id.length-1],parent_run_id:u,start_time:s,serialized:n,events:[{name:"start",time:new Date(s).toISOString()}],inputs:{query:a},execution_order:o,child_execution_order:o,run_type:"retriever",child_runs:[],extra:h?{metadata:h}:{},tags:m||[]};this._startTrace(i),await((l=this.onRetrieverStart)==null?void 0:l.call(this,i))}async handleRetrieverEnd(n,a){var u;const c=this.runMap.get(a);if(!c||(c==null?void 0:c.run_type)!=="retriever")throw new Error("No retriever run to end");c.end_time=Date.now(),c.outputs={documents:n},c.events.push({name:"end",time:new Date(c.end_time).toISOString()}),await((u=this.onRetrieverEnd)==null?void 0:u.call(this,c)),await this._endTrace(c)}async handleRetrieverError(n,a){var u;const c=this.runMap.get(a);if(!c||(c==null?void 0:c.run_type)!=="retriever")throw new Error("No retriever run to end");c.end_time=Date.now(),c.error=n.message,c.events.push({name:"error",time:new Date(c.end_time).toISOString()}),await((u=this.onRetrieverError)==null?void 0:u.call(this,c)),await this._endTrace(c)}async handleText(n,a){var u;const c=this.runMap.get(a);!c||(c==null?void 0:c.run_type)!=="chain"||(c.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:n}}),await((u=this.onText)==null?void 0:u.call(this,c)))}async handleLLMNewToken(n,a,c,u,m,h){var s;const o=this.runMap.get(c);!o||(o==null?void 0:o.run_type)!=="llm"||(o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:n,idx:a,chunk:h==null?void 0:h.chunk}}),await((s=this.onLLMNewToken)==null?void 0:s.call(this,o)))}}function or(t,n){return`${t.open}${n}${t.close}`}function ia(t,n){try{return JSON.stringify(t,null,2)}catch{return n}}function ii(t){if(!t.end_time)return"";const n=t.end_time-t.start_time;return n<1e3?`${n}ms`:`${(n/1e3).toFixed(2)}s`}const{color:br}=Y9;class Gx extends xg{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(n){return Promise.resolve()}getParents(n){const a=[];let c=n;for(;c.parent_run_id;){const u=this.runMap.get(c.parent_run_id);if(u)a.push(u),c=u;else break}return a}getBreadcrumbs(n){const c=[...this.getParents(n).reverse(),n].map((u,m,h)=>{const o=`${u.execution_order}:${u.run_type}:${u.name}`;return m===h.length-1?or(Y9.bold,o):o}).join(" > ");return or(br.grey,c)}onChainStart(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.green,"[chain/start]")} [${a}] Entering Chain run with input: ${ia(n.inputs,"[inputs]")}`)}onChainEnd(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.cyan,"[chain/end]")} [${a}] [${ii(n)}] Exiting Chain run with output: ${ia(n.outputs,"[outputs]")}`)}onChainError(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.red,"[chain/error]")} [${a}] [${ii(n)}] Chain run errored with error: ${ia(n.error,"[error]")}`)}onLLMStart(n){const a=this.getBreadcrumbs(n),c="prompts"in n.inputs?{prompts:n.inputs.prompts.map(u=>u.trim())}:n.inputs;console.log(`${or(br.green,"[llm/start]")} [${a}] Entering LLM run with input: ${ia(c,"[inputs]")}`)}onLLMEnd(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.cyan,"[llm/end]")} [${a}] [${ii(n)}] Exiting LLM run with output: ${ia(n.outputs,"[response]")}`)}onLLMError(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.red,"[llm/error]")} [${a}] [${ii(n)}] LLM run errored with error: ${ia(n.error,"[error]")}`)}onToolStart(n){var c;const a=this.getBreadcrumbs(n);console.log(`${or(br.green,"[tool/start]")} [${a}] Entering Tool run with input: "${(c=n.inputs.input)==null?void 0:c.trim()}"`)}onToolEnd(n){var c,u;const a=this.getBreadcrumbs(n);console.log(`${or(br.cyan,"[tool/end]")} [${a}] [${ii(n)}] Exiting Tool run with output: "${(u=(c=n.outputs)==null?void 0:c.output)==null?void 0:u.trim()}"`)}onToolError(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.red,"[tool/error]")} [${a}] [${ii(n)}] Tool run errored with error: ${ia(n.error,"[error]")}`)}onRetrieverStart(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.green,"[retriever/start]")} [${a}] Entering Retriever run with input: ${ia(n.inputs,"[inputs]")}`)}onRetrieverEnd(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.cyan,"[retriever/end]")} [${a}] [${ii(n)}] Exiting Retriever run with output: ${ia(n.outputs,"[outputs]")}`)}onRetrieverError(n){const a=this.getBreadcrumbs(n);console.log(`${or(br.red,"[retriever/error]")} [${a}] [${ii(n)}] Retriever run errored with error: ${ia(n.error,"[error]")}`)}onAgentAction(n){const a=n,c=this.getBreadcrumbs(n);console.log(`${or(br.blue,"[agent/action]")} [${c}] Agent selected action: ${ia(a.actions[a.actions.length-1],"[action]")}`)}}const eI=[400,401,403,404,405,406,407,408,409];class tI{constructor(n){var c,u;Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=(c=n.maxConcurrency)!=null?c:1/0,this.maxRetries=(u=n.maxRetries)!=null?u:6;const a="default"in Va?Va.default:Va;this.queue=new a({concurrency:this.maxConcurrency})}call(n,...a){return this.queue.add(()=>fs.exports(()=>n(...a).catch(c=>{throw c instanceof Error?c:new Error(c)}),{onFailedAttempt(c){var m;if(c.message.startsWith("Cancel")||c.message.startsWith("TimeoutError")||c.message.startsWith("AbortError")||(c==null?void 0:c.code)==="ECONNABORTED")throw c;const u=(m=c==null?void 0:c.response)==null?void 0:m.status;if(u&&eI.includes(+u))throw c},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(n,a,...c){return n.signal?Promise.race([this.call(a,...c),new Promise((u,m)=>{var h;(h=n.signal)==null||h.addEventListener("abort",()=>{m(new Error("AbortError"))})})]):this.call(a,...c)}fetch(...n){return this.call(()=>fetch(...n).then(a=>a.ok?a:Promise.reject(a)))}}function Vx(t){return typeof(t==null?void 0:t._getType)=="function"}function jx(t){const n={type:t._getType(),data:{content:t.content}};return(t==null?void 0:t.additional_kwargs)&&Object.keys(t.additional_kwargs).length>0&&(n.data.additional_kwargs={...t.additional_kwargs}),n}const nI=()=>typeof window<"u"&&typeof window.document<"u",rI=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",aI=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),J9=()=>typeof Deno<"u",iI=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!J9(),sI=()=>{let t;return nI()?t="browser":iI()?t="node":rI()?t="webworker":aI()?t="jsdom":J9()?t="deno":t="other",t};let cf;async function oI(){if(cf===void 0){const t=sI(),n=cI();cf={library:"langsmith",runtime:t,...n}}return cf}function go(t){var n;try{return typeof process<"u"?(n=process.env)==null?void 0:n[t]:void 0}catch{return}}let lf;function cI(){if(lf!==void 0)return lf;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],n={};for(const a of t){const c=go(a);c!==void 0&&(n[a]=c)}return lf=n,n}const Kx=t=>{const a=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return a==="localhost"||a==="127.0.0.1"||a==="::1"},Fs=async(t,n)=>{const a=await t.text();if(!t.ok)throw new Error(`Failed to ${n}: ${t.status} ${t.statusText} ${a}`)};async function lI(t){const n=[];for await(const a of t)n.push(a);return n}function uf(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function Yx(t){return go("LANGCHAIN_HIDE_INPUTS")==="true"?{}:t}function Jx(t){return go("LANGCHAIN_HIDE_OUTPUTS")==="true"?{}:t}class bg{constructor(n={}){var c,u,m,h,o,s;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null});const a=bg.getDefaultClientConfig();this.apiUrl=(u=uf((c=n.apiUrl)!=null?c:a.apiUrl))!=null?u:"",this.apiKey=uf((m=n.apiKey)!=null?m:a.apiKey),this.webUrl=uf((h=n.webUrl)!=null?h:a.webUrl),this.validateApiKeyIfHosted(),this.timeout_ms=(o=n.timeout_ms)!=null?o:4e3,this.caller=new tI((s=n.callerOptions)!=null?s:{})}static getDefaultClientConfig(){var c;const n=go("LANGCHAIN_API_KEY");return{apiUrl:(c=go("LANGCHAIN_ENDPOINT"))!=null?c:n?"https://api.smith.langchain.com":"http://localhost:1984",apiKey:n,webUrl:void 0}}validateApiKeyIfHosted(){if(!Kx(this.apiUrl)&&!this.apiKey)throw new Error("API key must be provided when using hosted LangSmith API")}getHostUrl(){return this.webUrl?this.webUrl:Kx(this.apiUrl)?(this.webUrl="http://localhost","http://localhost"):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com","https://dev.smith.langchain.com"):(this.webUrl="https://smith.langchain.com","https://smith.langchain.com")}get headers(){const n={};return this.apiKey&&(n["x-api-key"]=`${this.apiKey}`),n}async _get(n,a){var h;const c=(h=a==null?void 0:a.toString())!=null?h:"",u=`${this.apiUrl}${n}?${c}`,m=await this.caller.call(fetch,u,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!m.ok)throw new Error(`Failed to fetch ${n}: ${m.status} ${m.statusText}`);return m.json()}async*_getPaginated(n,a=new URLSearchParams){let c=Number(a.get("offset"))||0;const u=Number(a.get("limit"))||100;for(;;){a.set("offset",String(c)),a.set("limit",String(u));const m=`${this.apiUrl}${n}?${a}`,h=await this.caller.call(fetch,m,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!h.ok)throw new Error(`Failed to fetch ${n}: ${h.status} ${h.statusText}`);const o=await h.json();if(o.length===0||(yield o,o.length<u))break;c+=o.length}}async createRun(n){var s;const a={...this.headers,"Content-Type":"application/json"},c=(s=n.extra)!=null?s:{},u=await oI(),m=n.project_name;delete n.project_name;const h={session_name:m,...n,extra:{...n.extra,runtime:{...u,...c.runtime}}};h.inputs=Yx(h.inputs),h.outputs&&(h.outputs=Jx(h.outputs));const o=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:a,body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms)});await Fs(o,"create run")}async updateRun(n,a){a.inputs&&(a.inputs=Yx(a.inputs)),a.outputs&&(a.outputs=Jx(a.outputs));const c={...this.headers,"Content-Type":"application/json"},u=await this.caller.call(fetch,`${this.apiUrl}/runs/${n}`,{method:"PATCH",headers:c,body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});await Fs(u,"update run")}async readRun(n,{loadChildRuns:a}={loadChildRuns:!1}){let c=await this._get(`/runs/${n}`);return a&&c.child_run_ids&&(c=await this._loadChildRuns(c)),c}async getRunUrl({runId:n,run:a,projectOpts:c}){if(a!==void 0){let u;a.session_id?u=a.session_id:c!=null&&c.projectName?u=(await this.readProject({projectName:c==null?void 0:c.projectName})).id:c!=null&&c.projectId?u=c==null?void 0:c.projectId:u=(await this.readProject({projectName:go("LANGCHAIN_PROJECT")||"default"})).id;const m=await this._getTenantId();return`${this.getHostUrl()}/o/${m}/projects/p/${u}/r/${a.id}?poll=true`}else if(n!==void 0){const u=await this.readRun(n);if(!u.app_path)throw new Error(`Run ${n} has no app_path`);return`${this.getHostUrl()}${u.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(n){const a=await lI(this.listRuns({id:n.child_run_ids})),c={},u={};a.sort((m,h)=>{var o,s;return((o=m==null?void 0:m.dotted_order)!=null?o:"").localeCompare((s=h==null?void 0:h.dotted_order)!=null?s:"")});for(const m of a){if(m.parent_run_id===null||m.parent_run_id===void 0)throw new Error(`Child run ${m.id} has no parent`);m.parent_run_id in c||(c[m.parent_run_id]=[]),c[m.parent_run_id].push(m),u[m.id]=m}n.child_runs=c[n.id]||[];for(const m in c)m!==n.id&&(u[m].child_runs=c[m]);return n}async*listRuns({projectId:n,projectName:a,parentRunId:c,referenceExampleId:u,startTime:m,executionOrder:h,runType:o,error:s,id:i,limit:l,offset:d,query:e,filter:r}){const p=new URLSearchParams;let x=n;if(a){if(n)throw new Error("Only one of projectId or projectName may be given");x=(await this.readProject({projectName:a})).id}if(x&&p.append("session",x),c&&p.append("parent_run",c),u&&p.append("reference_example",u),m&&p.append("start_time",m.toISOString()),h&&p.append("execution_order",h.toString()),o&&p.append("run_type",o),s!==void 0&&p.append("error",s.toString()),i!==void 0)for(const y of i)p.append("id",y);l!==void 0&&p.append("limit",l.toString()),d!==void 0&&p.append("offset",d.toString()),e!==void 0&&p.append("query",e),r!==void 0&&p.append("filter",r);for await(const y of this._getPaginated("/runs",p))yield*y}async shareRun(n,{shareId:a}={}){const c={run_id:n,share_token:a||Ba()},m=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${n}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms)})).json();if(m===null||!("share_token"in m))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${m.share_token}/r`}async unshareRun(n){const a=await this.caller.call(fetch,`${this.apiUrl}/runs/${n}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Fs(a,"unshare run")}async readRunSharedLink(n){const c=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${n}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json();if(!(c===null||!("share_token"in c)))return`${this.getHostUrl()}/public/${c.share_token}/r`}async createProject({projectName:n,projectExtra:a,upsert:c,referenceDatasetId:u}){const m=c?"?upsert=true":"",h=`${this.apiUrl}/sessions${m}`,o={name:n};a!==void 0&&(o.extra=a),u!==void 0&&(o.reference_dataset_id=u);const s=await this.caller.call(fetch,h,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms)}),i=await s.json();if(!s.ok)throw new Error(`Failed to create session ${n}: ${s.status} ${s.statusText}`);return i}async readProject({projectId:n,projectName:a}){let c="/sessions";const u=new URLSearchParams;if(n!==void 0&&a!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(n!==void 0)c+=`/${n}`;else if(a!==void 0)u.append("name",a);else throw new Error("Must provide projectName or projectId");const m=await this._get(c,u);let h;if(Array.isArray(m)){if(m.length===0)throw new Error(`Project[id=${n}, name=${a}] not found`);h=m[0]}else h=m;return h}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const n=new URLSearchParams({limit:"1"});for await(const a of this._getPaginated("/sessions",n))return this._tenantId=a[0].tenant_id,a[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:n,name:a,nameContains:c,referenceDatasetId:u,referenceDatasetName:m,referenceFree:h}={}){const o=new URLSearchParams;if(n!==void 0)for(const s of n)o.append("id",s);if(a!==void 0&&o.append("name",a),c!==void 0&&o.append("name_contains",c),u!==void 0)o.append("reference_dataset",u);else if(m!==void 0){const s=await this.readDataset({datasetName:m});o.append("reference_dataset",s.id)}h!==void 0&&o.append("reference_free",h.toString());for await(const s of this._getPaginated("/sessions",o))yield*s}async deleteProject({projectId:n,projectName:a}){let c;if(n===void 0&&a===void 0)throw new Error("Must provide projectName or projectId");if(n!==void 0&&a!==void 0)throw new Error("Must provide either projectName or projectId, not both");n===void 0?c=(await this.readProject({projectName:a})).id:c=n;const u=await this.caller.call(fetch,`${this.apiUrl}/sessions/${c}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Fs(u,`delete session ${c} (${a})`)}async uploadCsv({csvFile:n,fileName:a,inputKeys:c,outputKeys:u,description:m,dataType:h,name:o}){const s=`${this.apiUrl}/datasets/upload`,i=new FormData;i.append("file",n,a),c.forEach(e=>{i.append("input_keys",e)}),u.forEach(e=>{i.append("output_keys",e)}),m&&i.append("description",m),h&&i.append("data_type",h),o&&i.append("name",o);const l=await this.caller.call(fetch,s,{method:"POST",headers:this.headers,body:i,signal:AbortSignal.timeout(this.timeout_ms)});if(!l.ok){const e=await l.json();throw e.detail&&e.detail.includes("already exists")?new Error(`Dataset ${a} already exists`):new Error(`Failed to upload CSV: ${l.status} ${l.statusText}`)}return await l.json()}async createDataset(n,{description:a,dataType:c}={}){const u={name:n,description:a};c&&(u.data_type=c);const m=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms)});if(!m.ok){const o=await m.json();throw o.detail&&o.detail.includes("already exists")?new Error(`Dataset ${n} already exists`):new Error(`Failed to create dataset ${m.status} ${m.statusText}`)}return await m.json()}async readDataset({datasetId:n,datasetName:a}){let c="/datasets";const u=new URLSearchParams({limit:"1"});if(n!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0)c+=`/${n}`;else if(a!==void 0)u.append("name",a);else throw new Error("Must provide datasetName or datasetId");const m=await this._get(c,u);let h;if(Array.isArray(m)){if(m.length===0)throw new Error(`Dataset[id=${n}, name=${a}] not found`);h=m[0]}else h=m;return h}async*listDatasets({limit:n=100,offset:a=0,datasetIds:c,datasetName:u,datasetNameContains:m}={}){const h="/datasets",o=new URLSearchParams({limit:n.toString(),offset:a.toString()});if(c!==void 0)for(const s of c)o.append("id",s);u!==void 0&&o.append("name",u),m!==void 0&&o.append("name_contains",m);for await(const s of this._getPaginated(h,o))yield*s}async deleteDataset({datasetId:n,datasetName:a}){let c="/datasets",u=n;if(n!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(a!==void 0&&(u=(await this.readDataset({datasetName:a})).id),u!==void 0)c+=`/${u}`;else throw new Error("Must provide datasetName or datasetId");const m=await this.caller.call(fetch,this.apiUrl+c,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!m.ok)throw new Error(`Failed to delete ${c}: ${m.status} ${m.statusText}`);await m.json()}async createExample(n,a,{datasetId:c,datasetName:u,createdAt:m,exampleId:h}){let o=c;if(o===void 0&&u===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&u!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:u})).id);const s=m||new Date,i={dataset_id:o,inputs:n,outputs:a,created_at:s.toISOString(),id:h},l=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms)});if(!l.ok)throw new Error(`Failed to create example: ${l.status} ${l.statusText}`);return await l.json()}async createLLMExample(n,a,c){return this.createExample({input:n},{output:a},c)}async createChatExample(n,a,c){const u=n.map(h=>Vx(h)?jx(h):h),m=Vx(a)?jx(a):a;return this.createExample({input:u},{output:m},c)}async readExample(n){const a=`/examples/${n}`;return await this._get(a)}async*listExamples({datasetId:n,datasetName:a,exampleIds:c}={}){let u;if(n!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0)u=n;else if(a!==void 0)u=(await this.readDataset({datasetName:a})).id;else throw new Error("Must provide a datasetName or datasetId");const m=new URLSearchParams({dataset:u});if(c!==void 0)for(const h of c)m.append("id",h);for await(const h of this._getPaginated("/examples",m))yield*h}async deleteExample(n){const a=`/examples/${n}`,c=await this.caller.call(fetch,this.apiUrl+a,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!c.ok)throw new Error(`Failed to delete ${a}: ${c.status} ${c.statusText}`);await c.json()}async updateExample(n,a){const c=await this.caller.call(fetch,`${this.apiUrl}/examples/${n}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});if(!c.ok)throw new Error(`Failed to update example ${n}: ${c.status} ${c.statusText}`);return await c.json()}async evaluateRun(n,a,{sourceInfo:c,loadChildRuns:u}={loadChildRuns:!1}){let m;if(typeof n=="string")m=await this.readRun(n,{loadChildRuns:u});else if(typeof n=="object"&&"id"in n)m=n;else throw new Error(`Invalid run type: ${typeof n}`);let h;m.reference_example_id!==null&&m.reference_example_id!==void 0&&(h=await this.readExample(m.reference_example_id));const o=await a.evaluateRun(m,h);let s=c!=null?c:{};return o.evaluatorInfo&&(s={...s,...o.evaluatorInfo}),await this.createFeedback(m.id,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:s,feedbackSourceType:"model"})}async createFeedback(n,a,{score:c,value:u,correction:m,comment:h,sourceInfo:o,feedbackSourceType:s="api",sourceRunId:i,feedbackId:l}){const d={type:s!=null?s:"api",metadata:o!=null?o:{}};i!==void 0&&(d==null?void 0:d.metadata)!==void 0&&!d.metadata.__run&&(d.metadata.__run={run_id:i});const e={id:l!=null?l:Ba(),run_id:n,key:a,score:c,value:u,correction:m,comment:h,feedback_source:d},r=await this.caller.call(fetch,`${this.apiUrl}/feedback`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(e),signal:AbortSignal.timeout(this.timeout_ms)});return await Fs(r,"create feedback"),e}async updateFeedback(n,{score:a,value:c,correction:u,comment:m}){const h={};a!=null&&(h.score=a),c!=null&&(h.value=c),u!=null&&(h.correction=u),m!=null&&(h.comment=m);const o=await this.caller.call(fetch,`${this.apiUrl}/feedback/${n}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms)});await Fs(o,"update feedback")}async readFeedback(n){const a=`/feedback/${n}`;return await this._get(a)}async deleteFeedback(n){const a=`/feedback/${n}`,c=await this.caller.call(fetch,this.apiUrl+a,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!c.ok)throw new Error(`Failed to delete ${a}: ${c.status} ${c.statusText}`);await c.json()}async*listFeedback({runIds:n,feedbackKeys:a,feedbackSourceTypes:c}={}){const u=new URLSearchParams;if(n&&u.append("run",n.join(",")),a)for(const m of a)u.append("key",m);if(c)for(const m of c)u.append("source",m);for await(const m of this._getPaginated("/feedback",u))yield*m}}const uI=()=>typeof window<"u"&&typeof window.document<"u",hI=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",fI=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Z9=()=>typeof Deno<"u",dI=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Z9(),pI=()=>{let t;return uI()?t="browser":dI()?t="node":hI()?t="webworker":fI()?t="jsdom":Z9()?t="deno":t="other",t};let hf;async function gI(){return hf===void 0&&(hf={library:"langchain-js",runtime:pI()}),hf}function $a(t){var n;try{return typeof process<"u"?(n=process.env)==null?void 0:n[t]:void 0}catch{return}}class mI extends xg{constructor(n={}){var m;super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:a,projectName:c,client:u}=n;this.projectName=(m=c!=null?c:$a("LANGCHAIN_PROJECT"))!=null?m:$a("LANGCHAIN_SESSION"),this.exampleId=a,this.client=u!=null?u:new bg({})}async _convertToCreate(n,a=void 0){return{...n,extra:{...n.extra,runtime:await gI()},child_runs:void 0,session_name:this.projectName,reference_example_id:n.parent_run_id?void 0:a}}async persistRun(n){}async _persistRunSingle(n){const a=await this._convertToCreate(n,this.exampleId);await this.client.createRun(a)}async _updateRunSingle(n){const a={end_time:n.end_time,error:n.error,outputs:n.outputs,events:n.events,inputs:n.inputs};await this.client.updateRun(n.id,a)}async onRetrieverStart(n){await this._persistRunSingle(n)}async onRetrieverEnd(n){await this._updateRunSingle(n)}async onRetrieverError(n){await this._updateRunSingle(n)}async onLLMStart(n){await this._persistRunSingle(n)}async onLLMEnd(n){await this._updateRunSingle(n)}async onLLMError(n){await this._updateRunSingle(n)}async onChainStart(n){await this._persistRunSingle(n)}async onChainEnd(n){await this._updateRunSingle(n)}async onChainError(n){await this._updateRunSingle(n)}async onToolStart(n){await this._persistRunSingle(n)}async onToolEnd(n){await this._updateRunSingle(n)}async onToolError(n){await this._updateRunSingle(n)}}function Q9(t,n="Human",a="AI"){const c=[];for(const u of t){let m;if(u._getType()==="human")m=n;else if(u._getType()==="ai")m=a;else if(u._getType()==="system")m="System";else if(u._getType()==="function")m="Function";else if(u._getType()==="generic")m=u.role;else throw new Error(`Got unsupported message type: ${u}`);const h=u.name?`${u.name}, `:"";c.push(`${m}: ${h}${u.content}`)}return c.join(`
`)}class xI extends xg{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:$a("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=$a("LANGCHAIN_API_KEY");n&&(this.headers["x-api-key"]=n)}async newSession(n){const a={start_time:Date.now(),name:n},c=await this.persistSession(a);return this.session=c,c}async loadSession(n){const a=`${this.endpoint}/sessions?name=${n}`;return this._handleSessionResponse(a)}async loadDefaultSession(){const n=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(n)}async convertV2RunToRun(n){var m,h;const a=(m=this.session)!=null?m:await this.loadDefaultSession(),c=n.serialized;let u;if(n.run_type==="llm"){const o=n.inputs.prompts?n.inputs.prompts:n.inputs.messages.map(i=>Q9(i));u={uuid:n.id,start_time:n.start_time,end_time:n.end_time,execution_order:n.execution_order,child_execution_order:n.child_execution_order,serialized:c,type:n.run_type,session_id:a.id,prompts:o,response:n.outputs}}else if(n.run_type==="chain"){const o=await Promise.all(n.child_runs.map(i=>this.convertV2RunToRun(i)));u={uuid:n.id,start_time:n.start_time,end_time:n.end_time,execution_order:n.execution_order,child_execution_order:n.child_execution_order,serialized:c,type:n.run_type,session_id:a.id,inputs:n.inputs,outputs:n.outputs,child_llm_runs:o.filter(i=>i.type==="llm"),child_chain_runs:o.filter(i=>i.type==="chain"),child_tool_runs:o.filter(i=>i.type==="tool")}}else if(n.run_type==="tool"){const o=await Promise.all(n.child_runs.map(i=>this.convertV2RunToRun(i)));u={uuid:n.id,start_time:n.start_time,end_time:n.end_time,execution_order:n.execution_order,child_execution_order:n.child_execution_order,serialized:c,type:n.run_type,session_id:a.id,tool_input:n.inputs.input,output:(h=n.outputs)==null?void 0:h.output,action:JSON.stringify(c),child_llm_runs:o.filter(i=>i.type==="llm"),child_chain_runs:o.filter(i=>i.type==="chain"),child_tool_runs:o.filter(i=>i.type==="tool")}}else throw new Error(`Unknown run type: ${n.run_type}`);return u}async persistRun(n){let a,c;n.run_type!==void 0?c=await this.convertV2RunToRun(n):c=n,c.type==="llm"?a=`${this.endpoint}/llm-runs`:c.type==="chain"?a=`${this.endpoint}/chain-runs`:a=`${this.endpoint}/tool-runs`;const u=await fetch(a,{method:"POST",headers:this.headers,body:JSON.stringify(c)});u.ok||console.error(`Failed to persist run: ${u.status} ${u.statusText}`)}async persistSession(n){const a=`${this.endpoint}/sessions`,c=await fetch(a,{method:"POST",headers:this.headers,body:JSON.stringify(n)});return c.ok?{id:(await c.json()).id,...n}:(console.error(`Failed to persist session: ${c.status} ${c.statusText}, using default session.`),{id:1,...n})}async _handleSessionResponse(n){const a=await fetch(n,{method:"GET",headers:this.headers});let c;if(!a.ok)return console.error(`Failed to load session: ${a.status} ${a.statusText}`),c={id:1,start_time:Date.now()},this.session=c,c;const u=await a.json();return u.length===0?(c={id:1,start_time:Date.now()},this.session=c,c):([c]=u,this.session=c,c)}}async function bI(t){const n=new xI;return t?await n.loadSession(t):await n.loadDefaultSession(),n}async function yI(){return new mI}let ff;function vI(){const t="default"in Va?Va.default:Va;return new t({autoStart:!0,concurrency:1})}async function Xn(t,n){n===!0?await t():(typeof ff>"u"&&(ff=vI()),ff.add(t))}class wI{setHandler(n){return this.setHandlers([n])}}class nh{constructor(n,a,c,u,m,h,o,s){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:m}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:s})}async handleText(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;try{await((c=a.handleText)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleText: ${u}`)}},a.awaitHandlers)))}}class AI extends nh{getChild(n){const a=new Ta(this.runId);return a.setHandlers(this.inheritableHandlers),a.addTags(this.inheritableTags),a.addMetadata(this.inheritableMetadata),n&&a.addTags([n],!1),a}async handleRetrieverEnd(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;if(!a.ignoreRetriever)try{await((c=a.handleRetrieverEnd)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch{console.error(`Error in handler ${a.constructor.name}, handleRetriever`)}},a.awaitHandlers)))}async handleRetrieverError(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;if(!a.ignoreRetriever)try{await((c=a.handleRetrieverError)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleRetrieverError: ${u}`)}},a.awaitHandlers)))}}class Zx extends nh{async handleLLMNewToken(n,a,c,u,m,h){await Promise.all(this.handlers.map(o=>Xn(async()=>{var s;if(!o.ignoreLLM)try{await((s=o.handleLLMNewToken)==null?void 0:s.call(o,n,a!=null?a:{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,h))}catch(i){console.error(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${i}`)}},o.awaitHandlers)))}async handleLLMError(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;if(!a.ignoreLLM)try{await((c=a.handleLLMError)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleLLMError: ${u}`)}},a.awaitHandlers)))}async handleLLMEnd(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;if(!a.ignoreLLM)try{await((c=a.handleLLMEnd)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleLLMEnd: ${u}`)}},a.awaitHandlers)))}}class SI extends nh{getChild(n){const a=new Ta(this.runId);return a.setHandlers(this.inheritableHandlers),a.addTags(this.inheritableTags),a.addMetadata(this.inheritableMetadata),n&&a.addTags([n],!1),a}async handleChainError(n,a,c,u,m){await Promise.all(this.handlers.map(h=>Xn(async()=>{var o;if(!h.ignoreChain)try{await((o=h.handleChainError)==null?void 0:o.call(h,n,this.runId,this._parentRunId,this.tags,m))}catch(s){console.error(`Error in handler ${h.constructor.name}, handleChainError: ${s}`)}},h.awaitHandlers)))}async handleChainEnd(n,a,c,u,m){await Promise.all(this.handlers.map(h=>Xn(async()=>{var o;if(!h.ignoreChain)try{await((o=h.handleChainEnd)==null?void 0:o.call(h,n,this.runId,this._parentRunId,this.tags,m))}catch(s){console.error(`Error in handler ${h.constructor.name}, handleChainEnd: ${s}`)}},h.awaitHandlers)))}async handleAgentAction(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;if(!a.ignoreAgent)try{await((c=a.handleAgentAction)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleAgentAction: ${u}`)}},a.awaitHandlers)))}async handleAgentEnd(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;if(!a.ignoreAgent)try{await((c=a.handleAgentEnd)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleAgentEnd: ${u}`)}},a.awaitHandlers)))}}class kI extends nh{getChild(n){const a=new Ta(this.runId);return a.setHandlers(this.inheritableHandlers),a.addTags(this.inheritableTags),a.addMetadata(this.inheritableMetadata),n&&a.addTags([n],!1),a}async handleToolError(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;if(!a.ignoreAgent)try{await((c=a.handleToolError)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleToolError: ${u}`)}},a.awaitHandlers)))}async handleToolEnd(n){await Promise.all(this.handlers.map(a=>Xn(async()=>{var c;if(!a.ignoreAgent)try{await((c=a.handleToolEnd)==null?void 0:c.call(a,n,this.runId,this._parentRunId,this.tags))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleToolEnd: ${u}`)}},a.awaitHandlers)))}}class Ta extends wI{constructor(n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=n}async handleLLMStart(n,a,c=void 0,u=void 0,m=void 0){return Promise.all(a.map(async h=>{const o=Ba();return await Promise.all(this.handlers.map(s=>Xn(async()=>{var i;if(!s.ignoreLLM)try{await((i=s.handleLLMStart)==null?void 0:i.call(s,n,[h],o,this._parentRunId,m,this.tags,this.metadata))}catch(l){console.error(`Error in handler ${s.constructor.name}, handleLLMStart: ${l}`)}},s.awaitHandlers))),new Zx(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,a,c=void 0,u=void 0,m=void 0){return Promise.all(a.map(async h=>{const o=Ba();return await Promise.all(this.handlers.map(s=>Xn(async()=>{var i,l;if(!s.ignoreLLM)try{if(s.handleChatModelStart)await((i=s.handleChatModelStart)==null?void 0:i.call(s,n,[h],o,this._parentRunId,m,this.tags,this.metadata));else if(s.handleLLMStart){const d=Q9(h);await((l=s.handleLLMStart)==null?void 0:l.call(s,n,[d],o,this._parentRunId,m,this.tags,this.metadata))}}catch(d){console.error(`Error in handler ${s.constructor.name}, handleLLMStart: ${d}`)}},s.awaitHandlers))),new Zx(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,a,c=Ba(),u=void 0){return await Promise.all(this.handlers.map(m=>Xn(async()=>{var h;if(!m.ignoreChain)try{await((h=m.handleChainStart)==null?void 0:h.call(m,n,a,c,this._parentRunId,this.tags,this.metadata,u))}catch(o){console.error(`Error in handler ${m.constructor.name}, handleChainStart: ${o}`)}},m.awaitHandlers))),new SI(c,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,a,c=Ba()){return await Promise.all(this.handlers.map(u=>Xn(async()=>{var m;if(!u.ignoreAgent)try{await((m=u.handleToolStart)==null?void 0:m.call(u,n,a,c,this._parentRunId,this.tags,this.metadata))}catch(h){console.error(`Error in handler ${u.constructor.name}, handleToolStart: ${h}`)}},u.awaitHandlers))),new kI(c,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,a,c=Ba(),u=void 0){return await Promise.all(this.handlers.map(m=>Xn(async()=>{var h;if(!m.ignoreRetriever)try{await((h=m.handleRetrieverStart)==null?void 0:h.call(m,n,a,c,this._parentRunId,this.tags,this.metadata))}catch(o){console.error(`Error in handler ${m.constructor.name}, handleRetrieverStart: ${o}`)}},m.awaitHandlers))),new AI(c,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(n,a=!0){this.handlers.push(n),a&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(a=>a!==n),this.inheritableHandlers=this.inheritableHandlers.filter(a=>a!==n)}setHandlers(n,a=!0){this.handlers=[],this.inheritableHandlers=[];for(const c of n)this.addHandler(c,a)}addTags(n,a=!0){this.removeTags(n),this.tags.push(...n),a&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(a=>!n.includes(a)),this.inheritableTags=this.inheritableTags.filter(a=>!n.includes(a))}addMetadata(n,a=!0){this.metadata={...this.metadata,...n},a&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const a of Object.keys(n))delete this.metadata[a],delete this.inheritableMetadata[a]}copy(n=[],a=!0){const c=new Ta(this._parentRunId);for(const u of this.handlers){const m=this.inheritableHandlers.includes(u);c.addHandler(u,m)}for(const u of this.tags){const m=this.inheritableTags.includes(u);c.addTags([u],m)}for(const u of Object.keys(this.metadata)){const m=Object.keys(this.inheritableMetadata).includes(u);c.addMetadata({[u]:this.metadata[u]},m)}for(const u of n)c.handlers.filter(m=>m.name==="console_callback_handler").some(m=>m.name===u.name)||c.addHandler(u,a);return c}static fromHandlers(n){class a extends ml{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Ba()}),Object.assign(this,n)}}const c=new this;return c.addHandler(new a),c}static async configure(n,a,c,u,m,h,o){var e,r;let s;(n||a)&&(Array.isArray(n)||!n?(s=new Ta,s.setHandlers((e=n==null?void 0:n.map(Qx))!=null?e:[],!0)):s=n,s=s.copy(Array.isArray(a)?a.map(Qx):a==null?void 0:a.handlers,!1));const i=$a("LANGCHAIN_VERBOSE")||(o==null?void 0:o.verbose),l=$a("LANGCHAIN_TRACING_V2")==="true",d=l||((r=$a("LANGCHAIN_TRACING"))!=null?r:!1);if(i||d){if(s||(s=new Ta),i&&!s.handlers.some(p=>p.name===Gx.prototype.name)){const p=new Gx;s.addHandler(p,!0)}if(d&&!s.handlers.some(p=>p.name==="langchain_tracer"))if(l)s.addHandler(await yI(),!0);else{const p=$a("LANGCHAIN_PROJECT")&&$a("LANGCHAIN_SESSION");s.addHandler(await bI(p),!0)}}return(c||u)&&s&&(s.addTags(c!=null?c:[]),s.addTags(u!=null?u:[],!1)),(m||h)&&s&&(s.addMetadata(m!=null?m:{}),s.addMetadata(h!=null?h:{},!1)),s}}function Qx(t){return"name"in t?t:ml.fromMethods(t)}class Pu extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done&&this.reader.releaseLock(),n}catch(n){throw this.reader.releaseLock(),n}}async return(){this.ensureReader();const n=this.reader.cancel();return this.reader.releaseLock(),await n,{done:!0,value:void 0}}[Symbol.asyncIterator](){return this}static fromReadableStream(n){const a=n.getReader();return new Pu({start(c){return u();function u(){return a.read().then(({done:m,value:h})=>{if(m){c.close();return}return c.enqueue(h),u()})}}})}static fromAsyncGenerator(n){return new Pu({async pull(a){const{value:c,done:u}=await n.next();u?a.close():c&&a.enqueue(c)}})}}async function ts(t){return Ta.configure(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function qn(t,n){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[n]:t}}class Or extends al{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}bind(n){return new Ru({bound:this,kwargs:n,config:{}})}map(){return new yg({bound:this})}withRetry(n){return new EI({bound:this,kwargs:{},config:{},maxAttemptNumber:n==null?void 0:n.stopAfterAttempt,...n})}withConfig(n){return new Ru({bound:this,config:n,kwargs:{}})}withFallbacks(n){return new FI({runnable:this,fallbacks:n.fallbacks})}_getOptionsList(n,a=0){if(Array.isArray(n)){if(n.length!==a)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${n.length} options for ${a} inputs`);return n}return Array.from({length:a},()=>n)}async batch(n,a,c){const u=this._getOptionsList(a!=null?a:{},n.length),m=new $F({maxConcurrency:c==null?void 0:c.maxConcurrency,onFailedAttempt:o=>{throw o}}),h=n.map((o,s)=>m.call(async()=>{try{return await this.invoke(o,u[s])}catch(i){if(c!=null&&c.returnExceptions)return i;throw i}}));return Promise.all(h)}async*_streamIterator(n,a){yield this.invoke(n,a)}async stream(n,a){return Pu.fromAsyncGenerator(this._streamIterator(n,a))}_separateRunnableConfigFromCallOptions(n={}){const a={callbacks:n.callbacks,tags:n.tags,metadata:n.metadata},c={...n};return delete c.callbacks,delete c.tags,delete c.metadata,[a,c]}async _callWithConfig(n,a,c){const u=await ts(c),m=await(u==null?void 0:u.handleChainStart(this.toJSON(),qn(a,"input"),void 0,c==null?void 0:c.runType));let h;try{h=await n.bind(this)(a,c,m)}catch(o){throw await(m==null?void 0:m.handleChainError(o)),o}return await(m==null?void 0:m.handleChainEnd(qn(h,"output"))),h}async _batchWithConfig(n,a,c,u){const m=this._getOptionsList(c!=null?c:{},a.length),h=await Promise.all(m.map(ts)),o=await Promise.all(h.map((i,l)=>i==null?void 0:i.handleChainStart(this.toJSON(),qn(a[l],"input"))));let s;try{s=await n(a,m,o,u)}catch(i){throw await Promise.all(o.map(l=>l==null?void 0:l.handleChainError(i))),i}return await Promise.all(o.map(i=>i==null?void 0:i.handleChainEnd(qn(s,"output")))),s}async*_transformStreamWithConfig(n,a,c){let u,m=!0,h,o=!0;const s=await ts(c);let i;const l=this.toJSON();async function*d(){for await(const r of n){if(i||(i=await(s==null?void 0:s.handleChainStart(l,{input:""},void 0,c==null?void 0:c.runType))),m)if(u===void 0)u=r;else try{u=u.concat(r)}catch{u=void 0,m=!1}yield r}}const e=d();try{const r=a(e,i,c);for await(const p of r)if(yield p,o)if(h===void 0)h=p;else try{h=h.concat(p)}catch{h=void 0,o=!1}}catch(r){throw await(i==null?void 0:i.handleChainError(r,void 0,void 0,void 0,{inputs:qn(u,"input")})),r}await(i==null?void 0:i.handleChainEnd(h!=null?h:{},void 0,void 0,void 0,{inputs:qn(u,"input")}))}_patchConfig(n={},a=void 0){return{...n,callbacks:a}}pipe(n){return new ro({first:this,last:Ji(n)})}async*transform(n,a){let c;for await(const u of n)c?c=c.concat(u):c=u;yield*this._streamIterator(c,a)}static isRunnable(n){return n.lc_runnable}}class Ru extends Or{static lc_name(){return"RunnableBinding"}constructor(n){super(n),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config}_mergeConfig(n){var c,u,m;const a={...this.config};if(n)for(const h of Object.keys(n))h==="metadata"?a[h]={...a[h],...n[h]}:h==="tags"?a[h]=((c=a[h])!=null?c:[]).concat((u=n[h])!=null?u:[]):a[h]=(m=n[h])!=null?m:a[h];return a}bind(n){return this.constructor({bound:this.bound,kwargs:{...this.kwargs,...n},config:this.config})}withConfig(n){return this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return this.constructor({bound:this.bound.withRetry(n),kwargs:this.kwargs,config:this.config})}async invoke(n,a){return this.bound.invoke(n,this._mergeConfig({...a,...this.kwargs}))}async batch(n,a,c){const u=Array.isArray(a)?a.map(m=>this._mergeConfig({...m,...this.kwargs})):this._mergeConfig({...a,...this.kwargs});return this.bound.batch(n,u,c)}async*_streamIterator(n,a){yield*this.bound._streamIterator(n,this._mergeConfig({...a,...this.kwargs}))}async stream(n,a){return this.bound.stream(n,this._mergeConfig({...a,...this.kwargs}))}async*transform(n,a){yield*this.bound.transform(n,this._mergeConfig({...a,...this.kwargs}))}static isRunnableBinding(n){return n.bound&&Or.isRunnable(n.bound)}}class yg extends Or{static lc_name(){return"RunnableEach"}constructor(n){super(n),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=n.bound}bind(n){return new yg({bound:this.bound.bind(n)})}async invoke(n,a){return this._callWithConfig(this._invoke,n,a)}async _invoke(n,a,c){return this.bound.batch(n,this._patchConfig(a,c==null?void 0:c.getChild()))}}class EI extends Ru{static lc_name(){return"RunnableRetry"}constructor(n){var a,c;super(n),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=(a=n.maxAttemptNumber)!=null?a:this.maxAttemptNumber,this.onFailedAttempt=(c=n.onFailedAttempt)!=null?c:this.onFailedAttempt}_patchConfigForRetry(n,a,c){const u=n>1?`retry:attempt:${n}`:void 0;return this._patchConfig(a,c==null?void 0:c.getChild(u))}async _invoke(n,a,c){return fs.exports(u=>super.invoke(n,this._patchConfigForRetry(u,a,c)),{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(n,a){return this._callWithConfig(this._invoke,n,a)}async _batch(n,a,c,u){const m={};try{await fs.exports(async h=>{const o=n.map((e,r)=>r).filter(e=>m[e.toString()]===void 0||m[e.toString()]instanceof Error),s=o.map(e=>n[e]),i=o.map(e=>this._patchConfigForRetry(h,a==null?void 0:a[e],c==null?void 0:c[e])),l=await super.batch(s,i,{...u,returnExceptions:!0});let d;for(let e=0;e<l.length;e+=1){const r=l[e],p=o[e];r instanceof Error&&d===void 0&&(d=r),m[p.toString()]=r}if(d)throw d;return l},{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(h){if((u==null?void 0:u.returnExceptions)!==!0)throw h}return Object.keys(m).sort((h,o)=>parseInt(h,10)-parseInt(o,10)).map(h=>m[parseInt(h,10)])}async batch(n,a,c){return this._batchWithConfig(this._batch.bind(this),n,a,c)}}class ro extends Or{static lc_name(){return"RunnableSequence"}constructor(n){var a;super(n),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),this.first=n.first,this.middle=(a=n.middle)!=null?a:this.middle,this.last=n.last}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,a){const c=await ts(a),u=await(c==null?void 0:c.handleChainStart(this.toJSON(),qn(n,"input")));let m=n,h;try{const o=[this.first,...this.middle];for(let s=0;s<o.length;s+=1)m=await o[s].invoke(m,this._patchConfig(a,u==null?void 0:u.getChild(`seq:step:${s+1}`)));h=await this.last.invoke(m,this._patchConfig(a,u==null?void 0:u.getChild(`seq:step:${this.steps.length}`)))}catch(o){throw await(u==null?void 0:u.handleChainError(o)),o}return await(u==null?void 0:u.handleChainEnd(qn(h,"output"))),h}async batch(n,a,c){const u=this._getOptionsList(a!=null?a:{},n.length),m=await Promise.all(u.map(ts)),h=await Promise.all(m.map((i,l)=>i==null?void 0:i.handleChainStart(this.toJSON(),qn(n[l],"input"))));let o=n,s;try{const i=[this.first,...this.middle];for(let l=0;l<i.length;l+=1)o=await i[l].batch(o,h.map((e,r)=>this._patchConfig(u[r],e==null?void 0:e.getChild(`seq:step:${l+1}`))),c);s=await this.last.batch(o,h.map(l=>this._patchConfig(u[this.steps.length-1],l==null?void 0:l.getChild(`seq:step:${this.steps.length}`))),c)}catch(i){throw await Promise.all(h.map(l=>l==null?void 0:l.handleChainError(i))),i}return await Promise.all(h.map((i,l)=>i==null?void 0:i.handleChainEnd(qn(s[l],"output")))),s}async*_streamIterator(n,a){const c=await ts(a),u=await(c==null?void 0:c.handleChainStart(this.toJSON(),qn(n,"input")));let m=n;const h=[this.first,...this.middle,this.last],o=Math.min(h.length-1,h.length-[...h].reverse().findIndex(l=>{var r;const d=l.transform===Or.prototype.transform,e=Ru.isRunnableBinding(l)&&((r=l.bound)==null?void 0:r.transform)===Or.prototype.transform;return d||e})-1);try{const l=h.slice(0,o);for(let d=0;d<l.length;d+=1)m=await l[d].invoke(m,this._patchConfig(a,u==null?void 0:u.getChild(`seq:step:${d+1}`)))}catch(l){throw await(u==null?void 0:u.handleChainError(l)),l}let s=!0,i;try{let l=await h[o]._streamIterator(m,this._patchConfig(a,u==null?void 0:u.getChild(`seq:step:${o+1}`)));const d=h.slice(o+1);for(let e=0;e<d.length;e+=1)l=await d[e].transform(l,this._patchConfig(a,u==null?void 0:u.getChild(`seq:step:${o+e+2}`)));for await(const e of l)if(yield e,s)if(i===void 0)i=e;else try{i=i.concat(e)}catch{i=void 0,s=!1}}catch(l){throw await(u==null?void 0:u.handleChainError(l)),l}await(u==null?void 0:u.handleChainEnd(qn(i,"output")))}pipe(n){return ro.isRunnableSequence(n)?new ro({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last}):new ro({first:this.first,middle:[...this.middle,this.last],last:Ji(n)})}static isRunnableSequence(n){return Array.isArray(n.middle)&&Or.isRunnable(n)}static from([n,...a]){return new ro({first:Ji(n),middle:a.slice(0,-1).map(Ji),last:Ji(a[a.length-1])})}}class CI extends Or{static lc_name(){return"RunnableMap"}constructor(n){super(n),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[a,c]of Object.entries(n.steps))this.steps[a]=Ji(c)}async invoke(n,a){const c=await ts(a),u=await(c==null?void 0:c.handleChainStart(this.toJSON(),{input:n})),m={};try{for(const[h,o]of Object.entries(this.steps)){const s=await o.invoke(n,this._patchConfig(a,u==null?void 0:u.getChild()));m[h]=s}}catch(h){throw await(u==null?void 0:u.handleChainError(h)),h}return await(u==null?void 0:u.handleChainEnd(m)),m}}class TI extends Or{static lc_name(){return"RunnableLambda"}constructor(n){super(n),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=n.func}async _invoke(n,a,c){let u=await this.func(n);return u&&Or.isRunnable(u)&&(u=await u.invoke(n,this._patchConfig(a,c==null?void 0:c.getChild()))),u}async invoke(n,a){return this._callWithConfig(this._invoke,n,a)}}class FI extends Or{static lc_name(){return"RunnableWithFallbacks"}constructor(n){super(n),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=n.runnable,this.fallbacks=n.fallbacks}*runnables(){yield this.runnable;for(const n of this.fallbacks)yield n}async invoke(n,a){const c=await Ta.configure(a==null?void 0:a.callbacks,void 0,a==null?void 0:a.tags,void 0,a==null?void 0:a.metadata),u=await(c==null?void 0:c.handleChainStart(this.toJSON(),qn(n,"input")));let m;for(const h of this.runnables())try{const o=await h.invoke(n,this._patchConfig(a,u==null?void 0:u.getChild()));return await(u==null?void 0:u.handleChainEnd(qn(o,"output"))),o}catch(o){m===void 0&&(m=o)}throw m===void 0?new Error("No error stored at end of fallback."):(await(u==null?void 0:u.handleChainError(m)),m)}async batch(n,a,c){if(c!=null&&c.returnExceptions)throw new Error("Not implemented.");const u=this._getOptionsList(a!=null?a:{},n.length),m=await Promise.all(u.map(s=>Ta.configure(s==null?void 0:s.callbacks,void 0,s==null?void 0:s.tags,void 0,s==null?void 0:s.metadata))),h=await Promise.all(m.map((s,i)=>s==null?void 0:s.handleChainStart(this.toJSON(),qn(n[i],"input"))));let o;for(const s of this.runnables())try{const i=await s.batch(n,h.map((l,d)=>this._patchConfig(u[d],l==null?void 0:l.getChild())),c);return await Promise.all(h.map((l,d)=>l==null?void 0:l.handleChainEnd(qn(i[d],"output")))),i}catch(i){o===void 0&&(o=i)}throw o?(await Promise.all(h.map(s=>s==null?void 0:s.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}}function Ji(t){if(typeof t=="function")return new TI({func:t});if(Or.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const n={};for(const[a,c]of Object.entries(t))n[a]=Ji(c);return new CI({steps:n})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class II extends Or{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","document_transformers"]})}invoke(n,a){return this.transformDocuments(n)}}class OI extends II{constructor(n){var a,c,u,m;if(super(n),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","document_transformers","text_splitters"]}),Object.defineProperty(this,"chunkSize",{enumerable:!0,configurable:!0,writable:!0,value:1e3}),Object.defineProperty(this,"chunkOverlap",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"keepSeparator",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lengthFunction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chunkSize=(a=n==null?void 0:n.chunkSize)!=null?a:this.chunkSize,this.chunkOverlap=(c=n==null?void 0:n.chunkOverlap)!=null?c:this.chunkOverlap,this.keepSeparator=(u=n==null?void 0:n.keepSeparator)!=null?u:this.keepSeparator,this.lengthFunction=(m=n==null?void 0:n.lengthFunction)!=null?m:h=>h.length,this.chunkOverlap>=this.chunkSize)throw new Error("Cannot have chunkOverlap >= chunkSize")}async transformDocuments(n,a={}){return this.splitDocuments(n,a)}splitOnSeparator(n,a){let c;if(a)if(this.keepSeparator){const u=a.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");c=n.split(new RegExp(`(?=${u})`))}else c=n.split(a);else c=n.split("");return c.filter(u=>u!=="")}async createDocuments(n,a=[],c={}){const u=a.length>0?a:new Array(n.length).fill({}),{chunkHeader:m="",chunkOverlapHeader:h="(cont'd) ",appendChunkOverlapHeader:o=!1}=c,s=new Array;for(let i=0;i<n.length;i+=1){const l=n[i];let d=1,e=null;for(const r of await this.splitText(l)){let p=m,x=0;if(e){const g=l.indexOf(r),w=l.indexOf(e)+await this.lengthFunction(e);x=(l.slice(w,g).match(/\n/g)||[]).length,o&&(p+=h)}d+=x;const y=(r.match(/\n/g)||[]).length,v=u[i].loc&&typeof u[i].loc=="object"?{...u[i].loc}:{};v.lines={from:d,to:d+y};const b={...u[i],loc:v};p+=r,s.push(new R9({pageContent:p,metadata:b})),d+=y,e=r}}return s}async splitDocuments(n,a={}){const c=n.filter(h=>h.pageContent!==void 0),u=c.map(h=>h.pageContent),m=c.map(h=>h.metadata);return this.createDocuments(u,m,a)}joinDocs(n,a){const c=n.join(a).trim();return c===""?null:c}async mergeSplits(n,a){const c=[],u=[];let m=0;for(const o of n){const s=await this.lengthFunction(o);if(m+s+(u.length>0?a.length:0)>this.chunkSize&&(m>this.chunkSize&&console.warn(`Created a chunk of size ${m}, +
which is longer than the specified ${this.chunkSize}`),u.length>0)){const i=this.joinDocs(u,a);for(i!==null&&c.push(i);m>this.chunkOverlap||m+s>this.chunkSize&&m>0;)m-=await this.lengthFunction(u[0]),u.shift()}u.push(o),m+=s}const h=this.joinDocs(u,a);return h!==null&&c.push(h),c}}class Mu extends OI{static lc_name(){return"RecursiveCharacterTextSplitter"}constructor(n){var a,c;super(n),Object.defineProperty(this,"separators",{enumerable:!0,configurable:!0,writable:!0,value:[`

`,`
`," ",""]}),this.separators=(a=n==null?void 0:n.separators)!=null?a:this.separators,this.keepSeparator=(c=n==null?void 0:n.keepSeparator)!=null?c:!0}async _splitText(n,a){const c=[];let u=a[a.length-1],m;for(let i=0;i<a.length;i+=1){const l=a[i];if(l===""){u=l;break}if(n.includes(l)){u=l,m=a.slice(i+1);break}}const h=this.splitOnSeparator(n,u);let o=[];const s=this.keepSeparator?"":u;for(const i of h)if(await this.lengthFunction(i)<this.chunkSize)o.push(i);else{if(o.length){const l=await this.mergeSplits(o,s);c.push(...l),o=[]}if(!m)c.push(i);else{const l=await this._splitText(i,m);c.push(...l)}}if(o.length){const i=await this.mergeSplits(o,s);c.push(...i)}return c}async splitText(n){return this._splitText(n,this.separators)}static fromLanguage(n,a){return new Mu({...a,separators:Mu.getSeparatorsForLanguage(n)})}static getSeparatorsForLanguage(n){if(n==="cpp")return[`
class `,`
void `,`
int `,`
float `,`
double `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(n==="go")return[`
func `,`
var `,`
const `,`
type `,`
if `,`
for `,`
switch `,`
case `,`

`,`
`," ",""];if(n==="java")return[`
class `,`
public `,`
protected `,`
private `,`
static `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(n==="js")return[`
function `,`
const `,`
let `,`
var `,`
class `,`
if `,`
for `,`
while `,`
switch `,`
case `,`
default `,`

`,`
`," ",""];if(n==="php")return[`
function `,`
class `,`
if `,`
foreach `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(n==="proto")return[`
message `,`
service `,`
enum `,`
option `,`
import `,`
syntax `,`

`,`
`," ",""];if(n==="python")return[`
class `,`
def `,`
	def `,`

`,`
`," ",""];if(n==="rst")return[`
===
`,`
---
`,`
***
`,`
.. `,`

`,`
`," ",""];if(n==="ruby")return[`
def `,`
class `,`
if `,`
unless `,`
while `,`
for `,`
do `,`
begin `,`
rescue `,`

`,`
`," ",""];if(n==="rust")return[`
fn `,`
const `,`
let `,`
if `,`
while `,`
for `,`
loop `,`
match `,`
const `,`

`,`
`," ",""];if(n==="scala")return[`
class `,`
object `,`
def `,`
val `,`
var `,`
if `,`
for `,`
while `,`
match `,`
case `,`

`,`
`," ",""];if(n==="swift")return[`
func `,`
class `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(n==="markdown")return[`
## `,`
### `,`
#### `,`
##### `,`
###### `,"```\n\n",`

***

`,`

---

`,`

___

`,`

`,`
`," ",""];if(n==="latex")return[`
\\chapter{`,`
\\section{`,`
\\subsection{`,`
\\subsubsection{`,`
\\begin{enumerate}`,`
\\begin{itemize}`,`
\\begin{description}`,`
\\begin{list}`,`
\\begin{quote}`,`
\\begin{quotation}`,`
\\begin{verse}`,`
\\begin{verbatim}`,`
\\begin{align}`,"$$","$",`

`,`
`," ",""];if(n==="html")return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];if(n==="sol")return[`
pragma `,`
using `,`
contract `,`
interface `,`
library `,`
constructor `,`
type `,`
function `,`
event `,`
modifier `,`
error `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do while `,`
assembly `,`

`,`
`," ",""];throw new Error(`Language ${n} is not supported.`)}}let PI={data:""},RI=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||PI,MI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DI=/\/\*[^]*?\*\/|  +/g,qx=/\n+/g,fi=(t,n)=>{let a="",c="",u="";for(let m in t){let h=t[m];m[0]=="@"?m[1]=="i"?a=m+" "+h+";":c+=m[1]=="f"?fi(h,m):m+"{"+fi(h,m[1]=="k"?"":n)+"}":typeof h=="object"?c+=fi(h,n?n.replace(/([^,])+/g,o=>m.replace(/(^:.*)|([^,])+/g,s=>/&/.test(s)?s.replace(/&/g,o):o?o+" "+s:s)):m):h!=null&&(m=/^--/.test(m)?m:m.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=fi.p?fi.p(m,h):m+":"+h+";")}return a+(n&&u?n+"{"+u+"}":u)+c},Ra={},q9=t=>{if(typeof t=="object"){let n="";for(let a in t)n+=a+q9(t[a]);return n}return t},LI=(t,n,a,c,u)=>{let m=q9(t),h=Ra[m]||(Ra[m]=(s=>{let i=0,l=11;for(;i<s.length;)l=101*l+s.charCodeAt(i++)>>>0;return"go"+l})(m));if(!Ra[h]){let s=m!==t?t:(i=>{let l,d,e=[{}];for(;l=MI.exec(i.replace(DI,""));)l[4]?e.shift():l[3]?(d=l[3].replace(qx," ").trim(),e.unshift(e[0][d]=e[0][d]||{})):e[0][l[1]]=l[2].replace(qx," ").trim();return e[0]})(t);Ra[h]=fi(u?{["@keyframes "+h]:s}:s,a?"":"."+h)}let o=a&&Ra.g?Ra.g:null;return a&&(Ra.g=Ra[h]),((s,i,l,d)=>{d?i.data=i.data.replace(d,s):i.data.indexOf(s)===-1&&(i.data=l?s+i.data:i.data+s)})(Ra[h],n,c,o),h},NI=(t,n,a)=>t.reduce((c,u,m)=>{let h=n[m];if(h&&h.call){let o=h(a),s=o&&o.props&&o.props.className||/^go/.test(o)&&o;h=s?"."+s:o&&typeof o=="object"?o.props?"":fi(o,""):o===!1?"":o}return c+u+(h==null?"":h)},"");function rh(t){let n=this||{},a=t.call?t(n.p):t;return LI(a.unshift?a.raw?NI(a,[].slice.call(arguments,1),n.p):a.reduce((c,u)=>Object.assign(c,u&&u.call?u(n.p):u),{}):a,RI(n.target),n.g,n.o,n.k)}let e8,z1,X1;rh.bind({g:1});let Qa=rh.bind({k:1});function BI(t,n,a,c){fi.p=n,e8=t,z1=a,X1=c}function $i(t,n){let a=this||{};return function(){let c=arguments;function u(m,h){let o=Object.assign({},m),s=o.className||u.className;a.p=Object.assign({theme:z1&&z1()},o),a.o=/ *go\d+/.test(s),o.className=rh.apply(a,c)+(s?" "+s:""),n&&(o.ref=h);let i=t;return t[0]&&(i=o.as||t,delete o.as),X1&&i[0]&&X1(o),e8(i,o)}return n?n(u):u}}var $I=t=>typeof t=="function",Du=(t,n)=>$I(t)?t(n):t,UI=(()=>{let t=0;return()=>(++t).toString()})(),t8=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");t=!n||n.matches}return t}})(),_I=20,V0=new Map,HI=1e3,e2=t=>{if(V0.has(t))return;let n=setTimeout(()=>{V0.delete(t),ws({type:4,toastId:t})},HI);V0.set(t,n)},zI=t=>{let n=V0.get(t);n&&clearTimeout(n)},W1=(t,n)=>{switch(n.type){case 0:return{...t,toasts:[n.toast,...t.toasts].slice(0,_I)};case 1:return n.toast.id&&zI(n.toast.id),{...t,toasts:t.toasts.map(m=>m.id===n.toast.id?{...m,...n.toast}:m)};case 2:let{toast:a}=n;return t.toasts.find(m=>m.id===a.id)?W1(t,{type:1,toast:a}):W1(t,{type:0,toast:a});case 3:let{toastId:c}=n;return c?e2(c):t.toasts.forEach(m=>{e2(m.id)}),{...t,toasts:t.toasts.map(m=>m.id===c||c===void 0?{...m,visible:!1}:m)};case 4:return n.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(m=>m.id!==n.toastId)};case 5:return{...t,pausedAt:n.time};case 6:let u=n.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(m=>({...m,pauseDuration:m.pauseDuration+u}))}}},j0=[],K0={toasts:[],pausedAt:void 0},ws=t=>{K0=W1(K0,t),j0.forEach(n=>{n(K0)})},XI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WI=(t={})=>{let[n,a]=xt.exports.useState(K0);xt.exports.useEffect(()=>(j0.push(a),()=>{let u=j0.indexOf(a);u>-1&&j0.splice(u,1)}),[n]);let c=n.toasts.map(u=>{var m,h;return{...t,...t[u.type],...u,duration:u.duration||((m=t[u.type])==null?void 0:m.duration)||(t==null?void 0:t.duration)||XI[u.type],style:{...t.style,...(h=t[u.type])==null?void 0:h.style,...u.style}}});return{...n,toasts:c}},GI=(t,n="blank",a)=>({createdAt:Date.now(),visible:!0,type:n,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||UI()}),xl=t=>(n,a)=>{let c=GI(n,t,a);return ws({type:2,toast:c}),c.id},In=(t,n)=>xl("blank")(t,n);In.error=xl("error");In.success=xl("success");In.loading=xl("loading");In.custom=xl("custom");In.dismiss=t=>{ws({type:3,toastId:t})};In.remove=t=>ws({type:4,toastId:t});In.promise=(t,n,a)=>{let c=In.loading(n.loading,{...a,...a==null?void 0:a.loading});return t.then(u=>(In.success(Du(n.success,u),{id:c,...a,...a==null?void 0:a.success}),u)).catch(u=>{In.error(Du(n.error,u),{id:c,...a,...a==null?void 0:a.error})}),t};var VI=(t,n)=>{ws({type:1,toast:{id:t,height:n}})},jI=()=>{ws({type:5,time:Date.now()})},KI=t=>{let{toasts:n,pausedAt:a}=WI(t);xt.exports.useEffect(()=>{if(a)return;let m=Date.now(),h=n.map(o=>{if(o.duration===1/0)return;let s=(o.duration||0)+o.pauseDuration-(m-o.createdAt);if(s<0){o.visible&&In.dismiss(o.id);return}return setTimeout(()=>In.dismiss(o.id),s)});return()=>{h.forEach(o=>o&&clearTimeout(o))}},[n,a]);let c=xt.exports.useCallback(()=>{a&&ws({type:6,time:Date.now()})},[a]),u=xt.exports.useCallback((m,h)=>{let{reverseOrder:o=!1,gutter:s=8,defaultPosition:i}=h||{},l=n.filter(r=>(r.position||i)===(m.position||i)&&r.height),d=l.findIndex(r=>r.id===m.id),e=l.filter((r,p)=>p<d&&r.visible).length;return l.filter(r=>r.visible).slice(...o?[e+1]:[0,e]).reduce((r,p)=>r+(p.height||0)+s,0)},[n]);return{toasts:n,handlers:{updateHeight:VI,startPause:jI,endPause:c,calculateOffset:u}}},YI=Qa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,JI=Qa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZI=Qa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,QI=$i("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${JI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ZI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qI=Qa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eO=$i("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${qI} 1s linear infinite;
`,tO=Qa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nO=Qa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rO=$i("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,aO=$i("div")`
  position: absolute;
`,iO=$i("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sO=Qa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oO=$i("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cO=({toast:t})=>{let{icon:n,type:a,iconTheme:c}=t;return n!==void 0?typeof n=="string"?xt.exports.createElement(oO,null,n):n:a==="blank"?null:xt.exports.createElement(iO,null,xt.exports.createElement(eO,{...c}),a!=="loading"&&xt.exports.createElement(aO,null,a==="error"?xt.exports.createElement(QI,{...c}):xt.exports.createElement(rO,{...c})))},lO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,hO="0%{opacity:0;} 100%{opacity:1;}",fO="0%{opacity:1;} 100%{opacity:0;}",dO=$i("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pO=$i("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gO=(t,n)=>{let a=t.includes("top")?1:-1,[c,u]=t8()?[hO,fO]:[lO(a),uO(a)];return{animation:n?`${Qa(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qa(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mO=xt.exports.memo(({toast:t,position:n,style:a,children:c})=>{let u=t.height?gO(t.position||n||"top-center",t.visible):{opacity:0},m=xt.exports.createElement(cO,{toast:t}),h=xt.exports.createElement(pO,{...t.ariaProps},Du(t.message,t));return xt.exports.createElement(dO,{className:t.className,style:{...u,...a,...t.style}},typeof c=="function"?c({icon:m,message:h}):xt.exports.createElement(xt.exports.Fragment,null,m,h))});BI(xt.exports.createElement);var xO=({id:t,className:n,style:a,onHeightUpdate:c,children:u})=>{let m=xt.exports.useCallback(h=>{if(h){let o=()=>{let s=h.getBoundingClientRect().height;c(t,s)};o(),new MutationObserver(o).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[t,c]);return xt.exports.createElement("div",{ref:m,className:n,style:a},u)},bO=(t,n)=>{let a=t.includes("top"),c=a?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:t8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(a?1:-1)}px)`,...c,...u}},yO=rh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ql=16,vO=({reverseOrder:t,position:n="top-center",toastOptions:a,gutter:c,children:u,containerStyle:m,containerClassName:h})=>{let{toasts:o,handlers:s}=KI(a);return xt.exports.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ql,left:Ql,right:Ql,bottom:Ql,pointerEvents:"none",...m},className:h,onMouseEnter:s.startPause,onMouseLeave:s.endPause},o.map(i=>{let l=i.position||n,d=s.calculateOffset(i,{reverseOrder:t,gutter:c,defaultPosition:n}),e=bO(l,d);return xt.exports.createElement(xO,{id:i.id,key:i.id,onHeightUpdate:s.updateHeight,className:i.visible?yO:"",style:e},i.type==="custom"?Du(i.message,i):u?u(i):xt.exports.createElement(mO,{toast:i,position:l}))}))};const wO=()=>{const[t,n]=xt.exports.useState(null),[a,c]=xt.exports.useState(""),u=xt.exports.useRef(null),[m,h]=xt.exports.useState(_l),[o,s]=xt.exports.useState(!1),[i,l]=xt.exports.useState(0),[d,e]=xt.exports.useState(0),[r,p]=xt.exports.useState(null),[x,y]=xt.exports.useState(my),[v,b]=xt.exports.useState(N4),[g,w]=xt.exports.useState($4),[f,E]=xt.exports.useState(U4),[A,O]=xt.exports.useState(B4),[T,D]=xt.exports.useState(_4),[F,C]=xt.exports.useState(H4),B=xt.exports.useRef(!1),[M,I]=xt.exports.useState(!1),[W,J]=xt.exports.useState(Kh),{fireEvent:H}=pg(),N=async()=>{const te=await Xr("chunkSize"),X=await Xr("overlapSize"),ee=await Xr("basePrompt"),G=await Xr("singleFilePrompt"),ne=await Xr("multipleFilesPrompt"),se=await Xr("lastPartPrompt"),le=await Xr("multipleFilesUpPrompt"),he=await Xr("blacklist"),be=await Xr("ignoreExtensions");he&&D(he.split(",")),be&&C(be.split(",")),te&&h(parseInt(te)),ee&&y(ee),G&&b(G),ne&&w(ne),se&&O(se),le&&E(le),X&&J(X)},U=async()=>{await zr("basePrompt",x),await zr("singleFilePrompt",v),await zr("multipleFilesPrompt",g),await zr("lastPartPrompt",A),await zr("multipleFilesUpPrompt",f)},Y=async()=>{await zr("blacklist",T.join(",")),await zr("ignoreExtensions",F.join(","))};async function _(te){await N(),s(!0),I(!1),e(0),l(0);let X="";try{if(te.type==="application/pdf")X=await P9(te);else if(te.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")X=await I9(te);else if(te.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")X=await O9(te);else if(te.type==="application/zip")X=await ZT(te,T,F);else if(z4.exec(te.type)){X="",In.error("Image files are not supported anymore."),ae();return}else te.type==="text/plain"?X=await S(te):X=await S(te)}catch(ee){console.error(ee);const G=`Error occurred while reading file: ${ee}`;p(G),H("file_select_error",{error_message:G,file_type:te.type}),ae();return}if(X.length===0||X===""){const ee="File content is empty. Aborting...";In.error(ee),p(ee),H("file_select_error",{error_message:ee,file_type:te.type}),ae();return}try{await oe(X)}catch(ee){console.error(ee);const G=`Error occurred while submitting file: ${ee}`;p(G),H("file_upload_failed",{error_message:G,file_type:te.type}),ae();return}}const V=(te,X)=>{var se,le;const ee=(se=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:se.set,G=Object.getPrototypeOf(te),ne=(le=Object.getOwnPropertyDescriptor(G,"value"))==null?void 0:le.set;ee&&ee!==ne?ne==null||ne.call(te,X):ee==null||ee.call(te,X),te.dispatchEvent(new Event("input",{bubbles:!0}))},Z=async te=>{const X=document.getElementById("prompt-textarea");if(!X){p("Could not find the prompt textarea");return}V(X,te);const ee=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",which:13,keyCode:13,bubbles:!0});await new Promise(G=>setTimeout(G,400)),X.dispatchEvent(ee)};async function q(te,X,ee,G){const ne=`${X===1?x:""}
    ${X===1?g:f}`,se=G===1?v:ee?A:ne,le=`Filename: ${a||"Unknown"}`,he=`Part ${X} of ${G}:`,be=`
${se}

${le} 
${he}

${te}`;await Z(be.trim())}const re=async(te,X)=>(await new Mu({chunkSize:X!=null?X:_l,chunkOverlap:W!=null?W:Kh}).splitDocuments([new R9({pageContent:te})])).map(ne=>ne.pageContent),oe=async te=>{const X=Math.ceil(te.length/m);e(X);const ee=20,G=await re(te,m);async function ne(se){if(se<X&&!B.current){const le=G[se],he=se+1;await q(le,he,se===X-1,X),await R(),l(he);let be=!1,ye=0;for(;!be&&!B.current;)if(await R(),be=!document.querySelector(".text-2xl > span:not(.invisible)"),ye+=1,B.current){H("file_upload_cancelled",{stopped_at_part:he.toString()});break}if(ye>=ee){console.error("Max tries exceeded. Exiting..."),p("Max tries exceeded. Exiting..."),ae();return}B.current||ne(se+1)}else ae()}ne(0)},ae=()=>{s(!1),n(null),c(""),e(0),l(0)},R=te=>new Promise(X=>setTimeout(X,te!=null?te:D4)),S=async te=>new Promise((X,ee)=>{const G=new FileReader;G.onload=ne=>{var se;(se=ne.target)!=null&&se.result?X(ne.target.result):ee("No result found")},G.onerror=()=>{ee(`Error occurred while reading file: ${G.error}`)},G.readAsText(te)}),L=te=>{if(!o&&te.length>0){const X=te[0];c(X.name),n(X)}},k=async te=>{te.target.files&&L(te.target.files),te.target.value=""},z=()=>{var te;o||((te=u.current)==null||te.click(),H("upload_button_clicked",{}))};async function P(te){try{let X=parseInt(te);if(isNaN(X))return;X<1&&(X=1),X>99999&&(X=99999),await zr("chunkSize",X),h(X)}catch{h(_l)}}async function K(te){try{let X=parseInt(te);if(isNaN(X))return;X<1&&(X=1),X>99999&&(X=99999),await zr("overlapSize",X),J(X)}catch{J(Kh)}}return xt.exports.useEffect(()=>{B.current=M,M&&(s(!1),n(null),c(""))},[M]),xt.exports.useEffect(()=>{t&&_(t)},[t]),xt.exports.useEffect(()=>{N()},[]),xt.exports.useEffect(()=>{m<1&&h(_l)},[m]),xt.exports.useEffect(()=>{if(r){const te={file_type:(t==null?void 0:t.type)||"",file_name:a};H("file_upload_failed",{error_message:r,...te})}},[r]),{file:t,fileName:a,isSubmitting:o,onFileChange:k,onUploadButtonClick:z,fileInputRef:u,currentPart:i,totalParts:d,chunkSize:m,onChunkSizeChange:P,basePrompt:x,singleFilePrompt:v,multipleFilesPrompt:g,lastPartPrompt:A,setSingleFilePrompt:b,setMultipleFilesPrompt:w,setLastPartPrompt:O,setBasePrompt:y,updateLocalStorageSettings:U,blacklist:T,ignoreExtensions:F,setIgnoreExtensions:C,setBlacklist:D,updateBlackListAndIgnoreExtensions:Y,setIsStopRequested:I,handleFileInput:L,multipleFilesUpPrompt:f,setMultipleFilesUpPrompt:E,overlapSize:W,onOverlapSizeChange:K}};var ah={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO=xt.exports,SO=Symbol.for("react.element"),kO=Symbol.for("react.fragment"),EO=Object.prototype.hasOwnProperty,CO=AO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TO={key:!0,ref:!0,__self:!0,__source:!0};function n8(t,n,a){var c,u={},m=null,h=null;a!==void 0&&(m=""+a),n.key!==void 0&&(m=""+n.key),n.ref!==void 0&&(h=n.ref);for(c in n)EO.call(n,c)&&!TO.hasOwnProperty(c)&&(u[c]=n[c]);if(t&&t.defaultProps)for(c in n=t.defaultProps,n)u[c]===void 0&&(u[c]=n[c]);return{$$typeof:SO,type:t,key:m,ref:h,props:u,_owner:CO.current}}ih.Fragment=kO;ih.jsx=n8;ih.jsxs=n8;(function(t){t.exports=ih})(ah);const vg=ah.exports.Fragment,mt=ah.exports.jsx,qt=ah.exports.jsxs,FO=()=>mt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:mt("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),IO=()=>mt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:mt("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15m0-3l-3-3m0 0l-3 3m3-3V15"})}),OO=({completed:t,total:n})=>{const a={height:16,width:"100%",backgroundColor:"#e0e0de",borderRadius:50},c={height:"100%",width:`${t/n*100}%`,backgroundColor:"#008000",borderRadius:"inherit",transition:"width 1s ease-in-out",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"};return mt("div",{style:a,children:mt("div",{style:c,children:`${Math.round(t/n*100)}%`})})};var PO=Object.defineProperty,RO=(t,n,a)=>n in t?PO(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,df=(t,n,a)=>(RO(t,typeof n!="symbol"?n+"":n,a),a);class MO{constructor(){df(this,"current",this.detect()),df(this,"handoffState","pending"),df(this,"currentId",0)}set(n){this.current!==n&&(this.handoffState="pending",this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}}let ns=new MO,qa=(t,n)=>{ns.isServer?xt.exports.useEffect(t,n):xt.exports.useLayoutEffect(t,n)};function Y0(t){let n=xt.exports.useRef(t);return qa(()=>{n.current=t},[t]),n}function DO(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(n=>setTimeout(()=>{throw n}))}let yi=function(t){let n=Y0(t);return za.useCallback((...a)=>n.current(...a),[n])};function LO(){let t=typeof document>"u";return"useSyncExternalStore"in Tg?(n=>n.useSyncExternalStore)(Tg)(()=>()=>{},()=>!1,()=>!t):!1}function NO(){let t=LO(),[n,a]=xt.exports.useState(ns.isHandoffComplete);return n&&ns.isHandoffComplete===!1&&a(!1),xt.exports.useEffect(()=>{n!==!0&&a(!0)},[n]),xt.exports.useEffect(()=>ns.handoff(),[]),t?!1:n}var t2;let r8=(t2=za.useId)!=null?t2:function(){let t=NO(),[n,a]=za.useState(t?()=>ns.nextId():null);return qa(()=>{n===null&&a(ns.nextId())},[n]),n!=null?""+n:void 0};function rs(t,n,...a){if(t in n){let u=n[t];return typeof u=="function"?u(...a):u}let c=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(u=>`"${u}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,rs),c}function BO(t){return ns.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let $O=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var sa=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(sa||{}),pc=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(pc||{}),UO=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(UO||{});function _O(t=document.body){return t==null?[]:Array.from(t.querySelectorAll($O)).sort((n,a)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}var HO=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(HO||{}),zO=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(zO||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let XO=["textarea","input"].join(",");function WO(t){var n,a;return(a=(n=t==null?void 0:t.matches)==null?void 0:n.call(t,XO))!=null?a:!1}function ao(t,n=a=>a){return t.slice().sort((a,c)=>{let u=n(a),m=n(c);if(u===null||m===null)return 0;let h=u.compareDocumentPosition(m);return h&Node.DOCUMENT_POSITION_FOLLOWING?-1:h&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Is(t,n,{sorted:a=!0,relativeTo:c=null,skipElements:u=[]}={}){let m=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,h=Array.isArray(t)?a?ao(t):t:_O(t);u.length>0&&h.length>1&&(h=h.filter(r=>!u.includes(r))),c=c!=null?c:m.activeElement;let o=(()=>{if(n&5)return 1;if(n&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(n&1)return 0;if(n&2)return Math.max(0,h.indexOf(c))-1;if(n&4)return Math.max(0,h.indexOf(c))+1;if(n&8)return h.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=n&32?{preventScroll:!0}:{},l=0,d=h.length,e;do{if(l>=d||l+d<=0)return 0;let r=s+l;if(n&16)r=(r+d)%d;else{if(r<0)return 3;if(r>=d)return 1}e=h[r],e==null||e.focus(i),l+=o}while(e!==m.activeElement);return n&6&&WO(e)&&e.select(),2}function n2(t){var n;if(t.type)return t.type;let a=(n=t.as)!=null?n:"button";if(typeof a=="string"&&a.toLowerCase()==="button")return"button"}function GO(t,n){let[a,c]=xt.exports.useState(()=>n2(t));return qa(()=>{c(n2(t))},[t.type,t.as]),qa(()=>{a||n.current&&n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&c("button")},[a,n]),a}let VO=Symbol();function bl(...t){let n=xt.exports.useRef(t);xt.exports.useEffect(()=>{n.current=t},[t]);let a=yi(c=>{for(let u of n.current)u!=null&&(typeof u=="function"?u(c):u.current=c)});return t.every(c=>c==null||(c==null?void 0:c[VO]))?void 0:a}function r2(...t){return Array.from(new Set(t.flatMap(n=>typeof n=="string"?n.split(" "):[]))).filter(Boolean).join(" ")}var G1=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(G1||{}),jO=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(jO||{});function Ro({ourProps:t,theirProps:n,slot:a,defaultTag:c,features:u,visible:m=!0,name:h}){let o=a8(n,t);if(m)return ql(o,a,c,h);let s=u!=null?u:0;if(s&2){let{static:i=!1,...l}=o;if(i)return ql(l,a,c,h)}if(s&1){let{unmount:i=!0,...l}=o;return rs(i?0:1,{[0](){return null},[1](){return ql({...l,hidden:!0,style:{display:"none"}},a,c,h)}})}return ql(o,a,c,h)}function ql(t,n={},a,c){let{as:u=a,children:m,refName:h="ref",...o}=pf(t,["unmount","static"]),s=t.ref!==void 0?{[h]:t.ref}:{},i=typeof m=="function"?m(n):m;"className"in o&&o.className&&typeof o.className=="function"&&(o.className=o.className(n));let l={};if(n){let d=!1,e=[];for(let[r,p]of Object.entries(n))typeof p=="boolean"&&(d=!0),p===!0&&e.push(r);d&&(l["data-headlessui-state"]=e.join(" "))}if(u===xt.exports.Fragment&&Object.keys(a2(o)).length>0){if(!xt.exports.isValidElement(i)||Array.isArray(i)&&i.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${c} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(o).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let d=i.props,e=typeof(d==null?void 0:d.className)=="function"?(...p)=>r2(d==null?void 0:d.className(...p),o.className):r2(d==null?void 0:d.className,o.className),r=e?{className:e}:{};return xt.exports.cloneElement(i,Object.assign({},a8(i.props,a2(pf(o,["ref"]))),l,s,KO(i.ref,s.ref),r))}return xt.exports.createElement(u,Object.assign({},pf(o,["ref"]),u!==xt.exports.Fragment&&s,u!==xt.exports.Fragment&&l),i)}function KO(...t){return{ref:t.every(n=>n==null)?void 0:n=>{for(let a of t)a!=null&&(typeof a=="function"?a(n):a.current=n)}}}function a8(...t){if(t.length===0)return{};if(t.length===1)return t[0];let n={},a={};for(let c of t)for(let u in c)u.startsWith("on")&&typeof c[u]=="function"?(a[u]!=null||(a[u]=[]),a[u].push(c[u])):n[u]=c[u];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(a).map(c=>[c,void 0])));for(let c in a)Object.assign(n,{[c](u,...m){let h=a[c];for(let o of h){if((u instanceof Event||(u==null?void 0:u.nativeEvent)instanceof Event)&&u.defaultPrevented)return;o(u,...m)}}});return n}function Mo(t){var n;return Object.assign(xt.exports.forwardRef(t),{displayName:(n=t.displayName)!=null?n:t.name})}function a2(t){let n=Object.assign({},t);for(let a in n)n[a]===void 0&&delete n[a];return n}function pf(t,n=[]){let a=Object.assign({},t);for(let c of n)c in a&&delete a[c];return a}let YO="div";var i8=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(i8||{});function JO(t,n){let{features:a=1,...c}=t,u={ref:n,"aria-hidden":(a&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return Ro({ourProps:u,theirProps:c,slot:{},defaultTag:YO,name:"Hidden"})}let s8=Mo(JO);var oa=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(oa||{});function ZO(){let t=xt.exports.useRef(!1);return qa(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function QO({onFocus:t}){let[n,a]=xt.exports.useState(!0),c=ZO();return n?za.createElement(s8,{as:"button",type:"button",features:i8.Focusable,onFocus:u=>{u.preventDefault();let m,h=50;function o(){if(h--<=0){m&&cancelAnimationFrame(m);return}if(t()){if(cancelAnimationFrame(m),!c.current)return;a(!1);return}m=requestAnimationFrame(o)}m=requestAnimationFrame(o)}}):null}const o8=xt.exports.createContext(null);function qO(){return{groups:new Map,get(t,n){var a;let c=this.groups.get(t);c||(c=new Map,this.groups.set(t,c));let u=(a=c.get(n))!=null?a:0;c.set(n,u+1);let m=Array.from(c.keys()).indexOf(n);function h(){let o=c.get(n);o>1?c.set(n,o-1):c.delete(n)}return[m,h]}}}function eP({children:t}){let n=xt.exports.useRef(qO());return xt.exports.createElement(o8.Provider,{value:n},t)}function c8(t){let n=xt.exports.useContext(o8);if(!n)throw new Error("You must wrap your component in a <StableCollection>");let a=tP(),[c,u]=n.current.get(t,a);return xt.exports.useEffect(()=>u,[]),c}function tP(){var t,n,a;let c=(a=(n=(t=xt.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:t.ReactCurrentOwner)==null?void 0:n.current)!=null?a:null;if(!c)return Symbol();let u=[],m=c;for(;m;)u.push(m.index),m=m.return;return"$."+u.join(".")}var nP=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(nP||{}),rP=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(rP||{}),aP=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(aP||{});let iP={[0](t,n){var a;let c=ao(t.tabs,l=>l.current),u=ao(t.panels,l=>l.current),m=c.filter(l=>{var d;return!((d=l.current)!=null&&d.hasAttribute("disabled"))}),h={...t,tabs:c,panels:u};if(n.index<0||n.index>c.length-1){let l=rs(Math.sign(n.index-t.selectedIndex),{[-1]:()=>1,[0]:()=>rs(Math.sign(n.index),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});if(m.length===0)return h;let d=rs(l,{[0]:()=>c.indexOf(m[0]),[1]:()=>c.indexOf(m[m.length-1])});return{...h,selectedIndex:d===-1?t.selectedIndex:d}}let o=c.slice(0,n.index),s=[...c.slice(n.index),...o].find(l=>m.includes(l));if(!s)return h;let i=(a=c.indexOf(s))!=null?a:t.selectedIndex;return i===-1&&(i=t.selectedIndex),{...h,selectedIndex:i}},[1](t,n){var a;if(t.tabs.includes(n.tab))return t;let c=t.tabs[t.selectedIndex],u=ao([...t.tabs,n.tab],h=>h.current),m=(a=u.indexOf(c))!=null?a:t.selectedIndex;return m===-1&&(m=t.selectedIndex),{...t,tabs:u,selectedIndex:m}},[2](t,n){return{...t,tabs:t.tabs.filter(a=>a!==n.tab)}},[3](t,n){return t.panels.includes(n.panel)?t:{...t,panels:ao([...t.panels,n.panel],a=>a.current)}},[4](t,n){return{...t,panels:t.panels.filter(a=>a!==n.panel)}}},wg=xt.exports.createContext(null);wg.displayName="TabsDataContext";function Eo(t){let n=xt.exports.useContext(wg);if(n===null){let a=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Eo),a}return n}let Ag=xt.exports.createContext(null);Ag.displayName="TabsActionsContext";function Sg(t){let n=xt.exports.useContext(Ag);if(n===null){let a=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Sg),a}return n}function sP(t,n){return rs(n.type,iP,t,n)}let oP=xt.exports.Fragment;function cP(t,n){let{defaultIndex:a=0,vertical:c=!1,manual:u=!1,onChange:m,selectedIndex:h=null,...o}=t;const s=c?"vertical":"horizontal",i=u?"manual":"auto";let l=h!==null,d=bl(n),[e,r]=xt.exports.useReducer(sP,{selectedIndex:h!=null?h:a,tabs:[],panels:[]}),p=xt.exports.useMemo(()=>({selectedIndex:e.selectedIndex}),[e.selectedIndex]),x=Y0(m||(()=>{})),y=Y0(e.tabs),v=xt.exports.useMemo(()=>({orientation:s,activation:i,...e}),[s,i,e]),b=yi(O=>(r({type:1,tab:O}),()=>r({type:2,tab:O}))),g=yi(O=>(r({type:3,panel:O}),()=>r({type:4,panel:O}))),w=yi(O=>{f.current!==O&&x.current(O),l||r({type:0,index:O})}),f=Y0(l?t.selectedIndex:e.selectedIndex),E=xt.exports.useMemo(()=>({registerTab:b,registerPanel:g,change:w}),[]);qa(()=>{r({type:0,index:h!=null?h:a})},[h]),qa(()=>{if(f.current===void 0||e.tabs.length<=0)return;let O=ao(e.tabs,T=>T.current);O.some((T,D)=>e.tabs[D]!==T)&&w(O.indexOf(e.tabs[f.current]))});let A={ref:d};return za.createElement(eP,null,za.createElement(Ag.Provider,{value:E},qt(wg.Provider,{value:v,children:[v.tabs.length<=0&&za.createElement(QO,{onFocus:()=>{var O,T;for(let D of y.current)if(((O=D.current)==null?void 0:O.tabIndex)===0)return(T=D.current)==null||T.focus(),!0;return!1}}),Ro({ourProps:A,theirProps:o,slot:p,defaultTag:oP,name:"Tabs"})]})))}let lP="div";function uP(t,n){let{orientation:a,selectedIndex:c}=Eo("Tab.List"),u=bl(n);return Ro({ourProps:{ref:u,role:"tablist","aria-orientation":a},theirProps:t,slot:{selectedIndex:c},defaultTag:lP,name:"Tabs.List"})}let hP="button";function fP(t,n){var a,c;let u=r8(),{id:m=`headlessui-tabs-tab-${u}`,...h}=t,{orientation:o,activation:s,selectedIndex:i,tabs:l,panels:d}=Eo("Tab"),e=Sg("Tab"),r=Eo("Tab"),p=xt.exports.useRef(null),x=bl(p,n);qa(()=>e.registerTab(p),[e,p]);let y=c8("tabs"),v=l.indexOf(p);v===-1&&(v=y);let b=v===i,g=yi(D=>{var F;let C=D();if(C===pc.Success&&s==="auto"){let B=(F=BO(p))==null?void 0:F.activeElement,M=r.tabs.findIndex(I=>I.current===B);M!==-1&&e.change(M)}return C}),w=yi(D=>{let F=l.map(C=>C.current).filter(Boolean);if(D.key===oa.Space||D.key===oa.Enter){D.preventDefault(),D.stopPropagation(),e.change(v);return}switch(D.key){case oa.Home:case oa.PageUp:return D.preventDefault(),D.stopPropagation(),g(()=>Is(F,sa.First));case oa.End:case oa.PageDown:return D.preventDefault(),D.stopPropagation(),g(()=>Is(F,sa.Last))}if(g(()=>rs(o,{vertical(){return D.key===oa.ArrowUp?Is(F,sa.Previous|sa.WrapAround):D.key===oa.ArrowDown?Is(F,sa.Next|sa.WrapAround):pc.Error},horizontal(){return D.key===oa.ArrowLeft?Is(F,sa.Previous|sa.WrapAround):D.key===oa.ArrowRight?Is(F,sa.Next|sa.WrapAround):pc.Error}}))===pc.Success)return D.preventDefault()}),f=xt.exports.useRef(!1),E=yi(()=>{var D;f.current||(f.current=!0,(D=p.current)==null||D.focus({preventScroll:!0}),e.change(v),DO(()=>{f.current=!1}))}),A=yi(D=>{D.preventDefault()}),O=xt.exports.useMemo(()=>({selected:b}),[b]),T={ref:x,onKeyDown:w,onMouseDown:A,onClick:E,id:m,role:"tab",type:GO(t,p),"aria-controls":(c=(a=d[v])==null?void 0:a.current)==null?void 0:c.id,"aria-selected":b,tabIndex:b?0:-1};return Ro({ourProps:T,theirProps:h,slot:O,defaultTag:hP,name:"Tabs.Tab"})}let dP="div";function pP(t,n){let{selectedIndex:a}=Eo("Tab.Panels"),c=bl(n),u=xt.exports.useMemo(()=>({selectedIndex:a}),[a]);return Ro({ourProps:{ref:c},theirProps:t,slot:u,defaultTag:dP,name:"Tabs.Panels"})}let gP="div",mP=G1.RenderStrategy|G1.Static;function xP(t,n){var a,c,u,m;let h=r8(),{id:o=`headlessui-tabs-panel-${h}`,tabIndex:s=0,...i}=t,{selectedIndex:l,tabs:d,panels:e}=Eo("Tab.Panel"),r=Sg("Tab.Panel"),p=xt.exports.useRef(null),x=bl(p,n);qa(()=>r.registerPanel(p),[r,p]);let y=c8("panels"),v=e.indexOf(p);v===-1&&(v=y);let b=v===l,g=xt.exports.useMemo(()=>({selected:b}),[b]),w={ref:x,id:o,role:"tabpanel","aria-labelledby":(c=(a=d[v])==null?void 0:a.current)==null?void 0:c.id,tabIndex:b?s:-1};return!b&&((u=i.unmount)==null||u)&&!((m=i.static)!=null&&m)?za.createElement(s8,{as:"span",...w}):Ro({ourProps:w,theirProps:i,slot:g,defaultTag:gP,features:mP,visible:b,name:"Tabs.Panel"})}let bP=Mo(fP),yP=Mo(cP),vP=Mo(uP),wP=Mo(pP),AP=Mo(xP),$r=Object.assign(bP,{Group:yP,List:vP,Panels:wP,Panel:AP});var l8={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function a(){for(var c=[],u=0;u<arguments.length;u++){var m=arguments[u];if(!!m){var h=typeof m;if(h==="string"||h==="number")c.push(m);else if(Array.isArray(m)){if(m.length){var o=a.apply(null,m);o&&c.push(o)}}else if(h==="object"){if(m.toString!==Object.prototype.toString&&!m.toString.toString().includes("[native code]")){c.push(m.toString());continue}for(var s in m)n.call(m,s)&&m[s]&&c.push(s)}}}return c.join(" ")}t.exports?(a.default=a,t.exports=a):window.classNames=a})()})(l8);const e0=l8.exports,SP=()=>qt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[mt("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),mt("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),kP=()=>mt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:mt("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),EP=({title:t,children:n,openModal:a,setOpenModal:c})=>(xt.exports.useEffect(()=>{const u=m=>{m.key==="Escape"&&c(!1)};return window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}},[c]),mt(vg,{children:a&&mt("div",{className:"fixed inset-0 overflow-y-auto",style:{zIndex:9999},children:qt("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[mt("div",{className:"fixed inset-0 bg-gray-500/90 dark:bg-gray-800/90 transition-opacity","aria-hidden":"true",onClick:()=>c(!1)}),mt("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200B"}),qt("div",{className:"relative col-auto col-start-2 row-auto row-start-2 w-full rounded-lg text-left shadow-xl transition-all left-1/2 -translate-x-1/2 bg-white dark:bg-gray-900",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",style:{maxWidth:"80vw",height:"90vh",top:"6vh"},children:[qt("div",{className:"gap-2 px-4 pb-4 pt-5 sm:p-6 flex items-center justify-between border-b border-black/10 dark:border-white/10 ",children:[mt("h3",{className:"text-lg leading-6 font-medium text-gray-600 dark:text-gray-300",children:t}),mt("div",{className:"flex flex-col items-start justify-start gap-2",style:{position:"absolute",left:"50%",transform:"translateX(-50%)"}}),mt("button",{className:"text-gray-500 hover:opacity-80 transition-all",onClick:()=>c(!1),children:mt(kP,{})})]}),mt("div",{className:"relative mt-2 w-full h-full p-4 overflow-y-scroll",children:n})]})]})})})),CP=()=>{const[t,n]=xt.exports.useState(!1),[a,c]=xt.exports.useState(!1),u=async h=>{h.preventDefault();const o=new FormData(h.currentTarget);if(!o.get("name")){In.error("Please enter your name");return}if(!o.get("email")){In.error("Please enter your email");return}if(!W4(o.get("email"))){In.error("Please enter a valid email");return}if(!o.get("message")){In.error("Please enter your message");return}const s=await Xr("sessionData"),i={name:o.get("name"),email:o.get("email"),message:o.get("message"),extensionName:_p,extensionVersion:gy,sessionId:s==null?void 0:s.session_id};In.promise(m(i),{loading:"Sending...",success:"Message sent",error:"Message could not be sent"})},m=async h=>new Promise(async(o,s)=>{try{c(!0),(await fetch(L4,{method:"POST",headers:{"Access-Control-Allow-Origin":"*","no-cors":"true","Content-Type":"application/json","session-id":h.sessionId||""},body:JSON.stringify(h)})).ok?(n(!0),c(!1),o(!0)):(c(!1),s(!1))}catch{c(!1),s(!1)}});return t?mt("div",{className:"flex flex-col items-center justify-center gap-4 w-full py-6 px-2",children:mt("span",{className:"text-gray-700 dark:text-gray-200 text-sm text-center",children:"Thank you for your message. I will get back to you as soon as possible."})}):qt("div",{className:"flex flex-col items-center justify-center gap-6 w-full py-6 px-2",children:[mt("span",{className:"text-gray-700 dark:text-gray-200 text-center",children:"If you are having any issues or suggestions, you can contact me."}),qt("form",{className:"flex flex-col items-start justify-start gap-4",style:{width:"60%"},onSubmit:u,children:[mt(cr,{label:"Name",children:mt("input",{maxLength:50,name:"name",type:"text",className:"m-0 w-full resize-none border-0 bg-transparent py-1 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent",placeholder:"Your name"})}),mt(cr,{label:"Email",children:mt("input",{maxLength:100,name:"email",type:"email",className:"m-0 w-full resize-none border-0 bg-transparent py-1 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent",placeholder:"Your email"})}),mt(cr,{label:"Message",children:mt("textarea",{maxLength:500,name:"message",rows:4,className:"m-0 w-full resize-none border-0 bg-transparent py-1 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent",placeholder:"Message"})}),mt("button",{type:"submit",disabled:a,className:"bg-green-500 text-white rounded-md hover:opacity-80 transition-all w-full disabled:opacity-40",style:{height:"40px",padding:"0 20px"},children:"Send"})]})]})},TP=({chunkSize:t,onChunkSizeChange:n,basePrompt:a,singleFilePrompt:c,multipleFilesPrompt:u,lastPartPrompt:m,setSingleFilePrompt:h,setMultipleFilesPrompt:o,setLastPartPrompt:s,setBasePrompt:i,updateLocalStorageSettings:l,ignoreExtensions:d,blacklist:e,setIgnoreExtensions:r,setBlacklist:p,updateBlackListAndIgnoreExtensions:x,multipleFilesUpPrompt:y,setMultipleFilesUpPrompt:v,onOverlapSizeChange:b,overlapSize:g})=>{const[w,f]=xt.exports.useState(!1),[E,A]=xt.exports.useState(""),[O,T]=xt.exports.useState(""),{fireEvent:D}=pg();return xt.exports.useEffect(()=>{w&&D("settings_shown",{})},[]),qt(vg,{children:[mt("button",{className:"text-green-500 hover:opacity-80",onClick:()=>f(!0),children:mt(SP,{})}),mt(EP,{title:"ChatGPT File Uploader Settings",openModal:w,setOpenModal:f,children:mt("div",{className:"w-full h-full",children:qt($r.Group,{children:[qt($r.List,{className:"flex gap-2",children:[mt($r,{as:xt.exports.Fragment,children:({selected:F})=>mt("button",{className:e0("py-2 px-4 rounded-md bg-gray-100 dark:bg-gray-800",F?"text-green-500":"text-gray-500"),children:"General Settings"})}),mt($r,{as:xt.exports.Fragment,children:({selected:F})=>mt("button",{className:e0("py-2 px-4 rounded-md bg-gray-100 dark:bg-gray-800",F?"text-green-500":"text-gray-500"),children:"Prompts"})}),mt($r,{as:xt.exports.Fragment,children:({selected:F})=>mt("button",{className:e0("py-2 px-4 rounded-md bg-gray-100 dark:bg-gray-800",F?"text-green-500":"text-gray-500"),children:"ZIP File Settings"})}),mt($r,{as:xt.exports.Fragment,children:({selected:F})=>mt("button",{className:e0("py-2 px-4 rounded-md bg-gray-100 dark:bg-gray-800",F?"text-green-500":"text-gray-500"),children:"About"})})]}),qt($r.Panels,{children:[mt($r.Panel,{children:qt("div",{className:"flex flex-col items-start justify-center gap-4 w-full py-6 px-2",children:[mt(cr,{label:"Chunk Size",description:"The character count of each part. If your document is too long, you can split it into multiple parts.",children:mt("input",{className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Enter number of chunk size",value:t,onChange:F=>n(F.target.value)})}),mt(cr,{isNewFeature:!0,label:"Overlap Size",description:"The character count of the overlap between each part. It is used to make the generated text more coherent.",children:mt("input",{className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Enter number of overlap size",value:g,onChange:F=>b(F.target.value)})}),mt(_i,{}),qt(cr,{label:"File Types",children:[mt("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"All the supported extensions are listed below."}),mt("div",{className:"flex flex-wrap gap-2 mt-2",children:X4.map((F,C)=>mt("span",{className:"text-green-500 text-xs",children:F},C))})]}),mt(_i,{}),mt("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"If the file type is not supported, it will be ignored. Unless if the file is a plain text file, you can select it to be uploaded, it will automatically read the whole text of the file."})]})}),qt($r.Panel,{children:[qt("div",{className:"grid grid-cols-2 items-start justify-center gap-4 w-full py-6 px-2",children:[mt(cr,{label:"Base Prompt",description:"This prompt will be used for the first part.",children:mt("textarea",{rows:3,className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Enter the base prompt",value:a,onChange:F=>i(F.target.value)})}),mt(cr,{label:"Single Part Prompt",description:"This prompt will be used for the only single part documents.",children:mt("textarea",{rows:3,className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Enter the single file prompt",value:c,onChange:F=>h(F.target.value)})}),mt(cr,{label:"Multi Part First Prompt",description:"This prompt will be used for the first part of the multi part documents.",children:mt("textarea",{rows:3,className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Enter the multi file prompt",value:u,onChange:F=>o(F.target.value)})}),mt(cr,{label:"Multi Part Consecutive Prompts",description:"This prompt will be used for the each parts of the multi part documents.",children:mt("textarea",{rows:3,className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Enter the multi file prompt",value:y,onChange:F=>v(F.target.value)})}),mt(cr,{label:"Last Part Prompt",description:"This prompt will be used for the last part of the multi part documents.",children:mt("textarea",{rows:3,className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Enter the multi file prompt",value:m,onChange:F=>s(F.target.value)})})]}),mt(_i,{}),qt("div",{className:"flex flex-row items-center justify-end gap-4 w-full p-2",children:[mt("span",{className:"m-0 text-gray-500 dark:text-gray-400 text-sm",children:"Note: Dont forget the Save the settings"}),mt("button",{className:"bg-green-500 text-white rounded-md w-fit hover:opacity-80 transition-all self-end",style:{height:"40px",padding:"0 20px"},onClick:()=>{l()},children:"Save"})]})]}),qt($r.Panel,{children:[qt("div",{className:"flex flex-col items-start justify-center gap-4 w-full py-6 px-2",children:[mt(cr,{label:"Ignore File extensions in the ZIP File",children:mt("input",{type:"text",className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Add file extensions to ignore",value:E,onChange:F=>{A(F.target.value)},onKeyDown:F=>{F.key==="Enter"&&(r([...d,E]),A(""))}})}),mt("div",{className:"flex flex-wrap gap-2",children:d.map(F=>mt("div",{className:"py-1 px-2 text-xs bg-gray-100 dark:bg-gray-800 flex rounded-full",children:mt("button",{className:"hover:opacity-80 transition-all",onClick:()=>{r(d.filter(C=>C!==F))},children:mt("span",{className:"m-0 text-gray-500 dark:text-gray-400",children:F})})},F))}),mt(_i,{}),mt(cr,{label:"Ignore Specific Files in the ZIP File",children:mt("input",{type:"text",className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",placeholder:"Add file extensions to ignore",value:O,onChange:F=>{T(F.target.value)},onKeyDown:F=>{F.key==="Enter"&&(p([...e,O]),T(""))}})}),mt("div",{className:"flex flex-wrap gap-2",children:e.map(F=>mt("div",{className:"py-1 px-2 text-xs bg-gray-100 dark:bg-gray-800 flex rounded-full",children:mt("button",{className:"hover:opacity-80 transition-all",onClick:()=>{p(e.filter(C=>C!==F))},children:mt("span",{className:"m-0 text-gray-500 dark:text-gray-400",children:F})})},F))})]}),mt(_i,{}),qt("div",{className:"flex flex-row items-center justify-end gap-4 w-full p-2",children:[mt("span",{className:"m-0 text-gray-500 dark:text-gray-400 text-sm",children:"Note: Dont forget the Save the settings"}),mt("button",{className:"bg-green-500 text-white rounded-md w-fit hover:opacity-80 transition-all self-end",style:{height:"40px",padding:"0 20px"},onClick:()=>{x()},children:"Save"})]})]}),mt($r.Panel,{children:qt("div",{className:"flex flex-col items-start justify-center gap-4 w-full py-6 px-2",children:[mt(cr,{label:"Version",children:mt("p",{className:"m-0 text-gray-500 dark:text-gray-400",children:gy})}),mt(_i,{}),mt(cr,{label:"Website",children:mt("a",{href:"https://chatgptextension.ai/",target:"_blank",rel:"noreferrer",className:"m-0 text-gray-500 dark:text-gray-400 hover:opacity-80 transition-all",children:"chatgptextension.ai"})}),mt(_i,{})]})}),mt($r.Panel,{children:mt(CP,{})})]})]})})})]})},_i=()=>mt("div",{className:"w-full border-b border-black/10 dark:border-white/10"}),cr=({label:t,children:n,description:a,isNewFeature:c})=>qt("div",{className:"col-span-1 flex flex-col gap-2 items-start justify-start w-full",children:[qt("div",{className:"flex flex-col items-start lg:flex-row lg:items-center justify-start gap-2",children:[qt("div",{className:"flex flex-row items-center justify-start gap-2",children:[mt("label",{className:"text-gray-600 dark:text-gray-300 text-sm text-left",children:t}),c&&mt("span",{className:"px-1 bg-green-500 text-gray-800 rounded-full text-xs",children:"New"})]}),a&&mt("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:a})]}),mt("div",{className:"flex flex-col w-full py-2 flex-grow md:py-3 md:pl-4 relative border border-black/10 bg-white dark:border-gray-900/50 dark:text-white dark:bg-gray-700 rounded-md shadow-[0_0_10px_rgba(0,0,0,0.10)] dark:shadow-[0_0_15px_rgba(0,0,0,0.10)]",children:n})]});function FP(){const{isSubmitting:t,onFileChange:n,onUploadButtonClick:a,fileInputRef:c,currentPart:u,totalParts:m,chunkSize:h,onChunkSizeChange:o,basePrompt:s,singleFilePrompt:i,multipleFilesPrompt:l,lastPartPrompt:d,setSingleFilePrompt:e,setMultipleFilesPrompt:r,setLastPartPrompt:p,setBasePrompt:x,updateLocalStorageSettings:y,blacklist:v,ignoreExtensions:b,setBlacklist:g,setIgnoreExtensions:w,updateBlackListAndIgnoreExtensions:f,setIsStopRequested:E,handleFileInput:A,multipleFilesUpPrompt:O,setMultipleFilesUpPrompt:T,overlapSize:D,onOverlapSizeChange:F}=wO(),{firePageViewEvent:C}=pg();return xt.exports.useEffect(()=>{C(document.title,document.location.href)},[]),qt(vg,{children:[mt(vO,{containerStyle:{zIndex:99999}}),qt("div",{className:"flex flex-col items-center justify-center w-full h-full",style:{marginLeft:4},children:[qt("div",{className:"py-2 flex flex-col md:flex-row items-center gap-2 w-full",style:{justifyContent:"end"},children:[mt("input",{type:"file",ref:c,style:{display:"none"},onChange:n,accept:"*"}),qt("div",{className:"flex flex-row items-center justify-start gap-1",children:[mt(TP,{onChunkSizeChange:o,chunkSize:h,overlapSize:D,onOverlapSizeChange:F,basePrompt:s,singleFilePrompt:i,multipleFilesPrompt:l,lastPartPrompt:d,setSingleFilePrompt:e,setMultipleFilesPrompt:r,multipleFilesUpPrompt:O,setMultipleFilesUpPrompt:T,setLastPartPrompt:p,setBasePrompt:x,updateLocalStorageSettings:y,blacklist:v,ignoreExtensions:b,setBlacklist:g,setIgnoreExtensions:w,updateBlackListAndIgnoreExtensions:f}),mt("button",{className:`text-white rounded-md w-fit hover:opacity-80 transition-all ${t?"cursor-not-allowed bg-gray-900":"bg-green-500"}`,onClick:a,disabled:t,style:{height:"36px",padding:"0 8px"},onDragOver:B=>B.preventDefault(),onDragLeave:B=>B.preventDefault(),onDrop:B=>{B.preventDefault(),A(B.dataTransfer.files)},children:mt(IO,{})}),t&&mt("button",{className:"text-white rounded-md w-fit hover:opacity-80 transition-all bg-red-500",onClick:()=>E(!0),style:{height:"36px",padding:"0 8px"},children:mt(FO,{})})]})]}),qt("span",{className:"text-gray-600 dark:text-gray-300 text-xs",children:[h," chars"]}),t&&m>0&&qt("div",{className:"progressbar-container flex flex-col items-center justify-center gap-2",children:[mt(OO,{completed:u,total:m}),qt("span",{className:"text-gray-600 dark:text-gray-300 text-xs",children:[u," of ",m," parts uploaded"]})]})]})]})}const Mi=document.createElement("div");Mi.id="chatGPT-file-uploader-root";Mi.classList.add("flex");Mi.classList.add("flex-row");Mi.classList.add("justify-end");Mi.classList.add("items-center");const u8=()=>{var a;const t=document.querySelector("#prompt-textarea"),n=(a=t==null?void 0:t.parentElement)==null?void 0:a.parentElement;n&&(n.append(Mi),py(Mi).render(mt(FP,{})))};u8();const IP=new MutationObserver((t,n)=>{for(const a of t)a.addedNodes.length&&(document.getElementById(Mi.id)||u8())});IP.observe(document,{childList:!0,subtree:!0});
